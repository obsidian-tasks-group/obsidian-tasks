/*
THIS IS A GENERATED/BUNDLED FILE BY ESBUILD
if you want to view the source visit the plugins github repository
*/

/*
License obsidian-tasks:
MIT License

Copyright (c) 2021 Martin Schenck and Clare Macrae

Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the "Software"), to deal
in the Software without restriction, including without limitation the rights
to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the Software is
furnished to do so, subject to the following conditions:

The above copyright notice and this permission notice shall be included in all
copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
SOFTWARE.
*/

/*
License rrule (included library):
rrule.js: Library for working with recurrence rules for calendar dates.
=======================================================================

Copyright 2010, Jakub Roztocil <jakub@roztocil.name> and Lars Schöning

Redistribution and use in source and binary forms, with or without
modification, are permitted provided that the following conditions are met:

    1. Redistributions of source code must retain the above copyright notice,
       this list of conditions and the following disclaimer.

    2. Redistributions in binary form must reproduce the above copyright
       notice, this list of conditions and the following disclaimer in the
       documentation and/or other materials provided with the distribution.

    3. Neither the name of The author nor the names of its contributors may
       be used to endorse or promote products derived from this software
       without specific prior written permission.

THIS SOFTWARE IS PROVIDED BY THE AUTHOR AND CONTRIBUTORS "AS IS" AND
ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED
WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE
DISCLAIMED. IN NO EVENT SHALL THE AUTHOR AND CONTRIBUTORS BE LIABLE FOR
ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES
(INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;
LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON
ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT
(INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.



./rrule.js and ./test/tests.js is based on python-dateutil. LICENCE:

python-dateutil - Extensions to the standard Python datetime module.
====================================================================

Copyright (c) 2003-2011 - Gustavo Niemeyer <gustavo@niemeyer.net>
Copyright (c) 2012 - Tomi Pieviläinen <tomi.pievilainen@iki.fi>

All rights reserved.

Redistribution and use in source and binary forms, with or without
modification, are permitted provided that the following conditions are met:

    * Redistributions of source code must retain the above copyright notice,
      this list of conditions and the following disclaimer.
    * Redistributions in binary form must reproduce the above copyright notice,
      this list of conditions and the following disclaimer in the documentation
      and/or other materials provided with the distribution.
    * Neither the name of the copyright holder nor the names of its
      contributors may be used to endorse or promote products derived from
      this software without specific prior written permission.

THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS
"AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT
LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR
A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR
CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/

/*
License chrono-node (included library):
The MIT License

Copyright (c) 2014, Wanasit Tanakitrungruang

Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the "Software"), to deal
in the Software without restriction, including without limitation the rights
to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the Software is
furnished to do so, subject to the following conditions:

The above copyright notice and this permission notice shall be included in
all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
THE SOFTWARE.
*/

"use strict";var Ak=Object.create;var Gi=Object.defineProperty,Pk=Object.defineProperties,Nk=Object.getOwnPropertyDescriptor,Ck=Object.getOwnPropertyDescriptors,Ik=Object.getOwnPropertyNames,am=Object.getOwnPropertySymbols,Fk=Object.getPrototypeOf,um=Object.prototype.hasOwnProperty,Lk=Object.prototype.propertyIsEnumerable;var om=(r,e,t)=>e in r?Gi(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,Pe=(r,e)=>{for(var t in e||(e={}))um.call(e,t)&&om(r,t,e[t]);if(am)for(var t of am(e))Lk.call(e,t)&&om(r,t,e[t]);return r},tr=(r,e)=>Pk(r,Ck(e));var S=(r,e)=>()=>(e||r((e={exports:{}}).exports,e),e.exports),Yk=(r,e)=>{for(var t in e)Gi(r,t,{get:e[t],enumerable:!0})},lm=(r,e,t,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let s of Ik(e))!um.call(r,s)&&s!==t&&Gi(r,s,{get:()=>e[s],enumerable:!(n=Nk(e,s))||n.enumerable});return r};var In=(r,e,t)=>(t=r!=null?Ak(Fk(r)):{},lm(e||!r||!r.__esModule?Gi(t,"default",{value:r,enumerable:!0}):t,r)),Uk=r=>lm(Gi({},"__esModule",{value:!0}),r);var Q=(r,e,t)=>new Promise((n,s)=>{var a=c=>{try{l(t.next(c))}catch(f){s(f)}},o=c=>{try{l(t.throw(c))}catch(f){s(f)}},l=c=>c.done?n(c.value):Promise.resolve(c.value).then(a,o);l((t=t.apply(r,e)).next())});var Fe=S(Fn=>{"use strict";Object.defineProperty(Fn,"__esModule",{value:!0});Fn.matchAnyPattern=Fn.extractTerms=Fn.repeatedTimeunitPattern=void 0;function Gk(r,e){let t=e.replace(/\((?!\?)/g,"(?:");return`${r}${t}\\s{0,5}(?:,?\\s{0,5}${t}){0,10}`}Fn.repeatedTimeunitPattern=Gk;function cm(r){let e;return r instanceof Array?e=[...r]:r instanceof Map?e=Array.from(r.keys()):e=Object.keys(r),e}Fn.extractTerms=cm;function $k(r){return`(?:${cm(r).sort((t,n)=>n.length-t.length).join("|").replace(/\./g,"\\.")})`}Fn.matchAnyPattern=$k});var Re=S((Wl,ql)=>{(function(r,e){typeof Wl=="object"&&typeof ql!="undefined"?ql.exports=e():typeof define=="function"&&define.amd?define(e):(r=typeof globalThis!="undefined"?globalThis:r||self).dayjs=e()})(Wl,function(){"use strict";var r=1e3,e=6e4,t=36e5,n="millisecond",s="second",a="minute",o="hour",l="day",c="week",f="month",p="quarter",_="year",T="date",O="Invalid Date",b=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,x=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,I={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_")},G=function(V,q,A){var J=String(V);return!J||J.length>=q?V:""+Array(q+1-J.length).join(A)+V},H={s:G,z:function(V){var q=-V.utcOffset(),A=Math.abs(q),J=Math.floor(A/60),Y=A%60;return(q<=0?"+":"-")+G(J,2,"0")+":"+G(Y,2,"0")},m:function V(q,A){if(q.date()<A.date())return-V(A,q);var J=12*(A.year()-q.year())+(A.month()-q.month()),Y=q.clone().add(J,f),ue=A-Y<0,y=q.clone().add(J+(ue?-1:1),f);return+(-(J+(A-Y)/(ue?Y-y:y-Y))||0)},a:function(V){return V<0?Math.ceil(V)||0:Math.floor(V)},p:function(V){return{M:f,y:_,w:c,d:l,D:T,h:o,m:a,s,ms:n,Q:p}[V]||String(V||"").toLowerCase().replace(/s$/,"")},u:function(V){return V===void 0}},W="en",ke={};ke[W]=I;var Te=function(V){return V instanceof Ft},be=function(V,q,A){var J;if(!V)return W;if(typeof V=="string")ke[V]&&(J=V),q&&(ke[V]=q,J=V);else{var Y=V.name;ke[Y]=V,J=Y}return!A&&J&&(W=J),J||!A&&W},ee=function(V,q){if(Te(V))return V.clone();var A=typeof q=="object"?q:{};return A.date=V,A.args=arguments,new Ft(A)},ne=H;ne.l=be,ne.i=Te,ne.w=function(V,q){return ee(V,{locale:q.$L,utc:q.$u,x:q.$x,$offset:q.$offset})};var Ft=function(){function V(A){this.$L=be(A.locale,null,!0),this.parse(A)}var q=V.prototype;return q.parse=function(A){this.$d=function(J){var Y=J.date,ue=J.utc;if(Y===null)return new Date(NaN);if(ne.u(Y))return new Date;if(Y instanceof Date)return new Date(Y);if(typeof Y=="string"&&!/Z$/i.test(Y)){var y=Y.match(b);if(y){var g=y[2]-1||0,w=(y[7]||"0").substring(0,3);return ue?new Date(Date.UTC(y[1],g,y[3]||1,y[4]||0,y[5]||0,y[6]||0,w)):new Date(y[1],g,y[3]||1,y[4]||0,y[5]||0,y[6]||0,w)}}return new Date(Y)}(A),this.$x=A.x||{},this.init()},q.init=function(){var A=this.$d;this.$y=A.getFullYear(),this.$M=A.getMonth(),this.$D=A.getDate(),this.$W=A.getDay(),this.$H=A.getHours(),this.$m=A.getMinutes(),this.$s=A.getSeconds(),this.$ms=A.getMilliseconds()},q.$utils=function(){return ne},q.isValid=function(){return this.$d.toString()!==O},q.isSame=function(A,J){var Y=ee(A);return this.startOf(J)<=Y&&Y<=this.endOf(J)},q.isAfter=function(A,J){return ee(A)<this.startOf(J)},q.isBefore=function(A,J){return this.endOf(J)<ee(A)},q.$g=function(A,J,Y){return ne.u(A)?this[J]:this.set(Y,A)},q.unix=function(){return Math.floor(this.valueOf()/1e3)},q.valueOf=function(){return this.$d.getTime()},q.startOf=function(A,J){var Y=this,ue=!!ne.u(J)||J,y=ne.p(A),g=function(N,j){var Ee=ne.w(Y.$u?Date.UTC(Y.$y,j,N):new Date(Y.$y,j,N),Y);return ue?Ee:Ee.endOf(l)},w=function(N,j){return ne.w(Y.toDate()[N].apply(Y.toDate("s"),(ue?[0,0,0,0]:[23,59,59,999]).slice(j)),Y)},k=this.$W,D=this.$M,M=this.$D,E="set"+(this.$u?"UTC":"");switch(y){case _:return ue?g(1,0):g(31,11);case f:return ue?g(1,D):g(0,D+1);case c:var C=this.$locale().weekStart||0,P=(k<C?k+7:k)-C;return g(ue?M-P:M+(6-P),D);case l:case T:return w(E+"Hours",0);case o:return w(E+"Minutes",1);case a:return w(E+"Seconds",2);case s:return w(E+"Milliseconds",3);default:return this.clone()}},q.endOf=function(A){return this.startOf(A,!1)},q.$set=function(A,J){var Y,ue=ne.p(A),y="set"+(this.$u?"UTC":""),g=(Y={},Y[l]=y+"Date",Y[T]=y+"Date",Y[f]=y+"Month",Y[_]=y+"FullYear",Y[o]=y+"Hours",Y[a]=y+"Minutes",Y[s]=y+"Seconds",Y[n]=y+"Milliseconds",Y)[ue],w=ue===l?this.$D+(J-this.$W):J;if(ue===f||ue===_){var k=this.clone().set(T,1);k.$d[g](w),k.init(),this.$d=k.set(T,Math.min(this.$D,k.daysInMonth())).$d}else g&&this.$d[g](w);return this.init(),this},q.set=function(A,J){return this.clone().$set(A,J)},q.get=function(A){return this[ne.p(A)]()},q.add=function(A,J){var Y,ue=this;A=Number(A);var y=ne.p(J),g=function(D){var M=ee(ue);return ne.w(M.date(M.date()+Math.round(D*A)),ue)};if(y===f)return this.set(f,this.$M+A);if(y===_)return this.set(_,this.$y+A);if(y===l)return g(1);if(y===c)return g(7);var w=(Y={},Y[a]=e,Y[o]=t,Y[s]=r,Y)[y]||1,k=this.$d.getTime()+A*w;return ne.w(k,this)},q.subtract=function(A,J){return this.add(-1*A,J)},q.format=function(A){var J=this,Y=this.$locale();if(!this.isValid())return Y.invalidDate||O;var ue=A||"YYYY-MM-DDTHH:mm:ssZ",y=ne.z(this),g=this.$H,w=this.$m,k=this.$M,D=Y.weekdays,M=Y.months,E=function(j,Ee,pe,ce){return j&&(j[Ee]||j(J,ue))||pe[Ee].substr(0,ce)},C=function(j){return ne.s(g%12||12,j,"0")},P=Y.meridiem||function(j,Ee,pe){var ce=j<12?"AM":"PM";return pe?ce.toLowerCase():ce},N={YY:String(this.$y).slice(-2),YYYY:this.$y,M:k+1,MM:ne.s(k+1,2,"0"),MMM:E(Y.monthsShort,k,M,3),MMMM:E(M,k),D:this.$D,DD:ne.s(this.$D,2,"0"),d:String(this.$W),dd:E(Y.weekdaysMin,this.$W,D,2),ddd:E(Y.weekdaysShort,this.$W,D,3),dddd:D[this.$W],H:String(g),HH:ne.s(g,2,"0"),h:C(1),hh:C(2),a:P(g,w,!0),A:P(g,w,!1),m:String(w),mm:ne.s(w,2,"0"),s:String(this.$s),ss:ne.s(this.$s,2,"0"),SSS:ne.s(this.$ms,3,"0"),Z:y};return ue.replace(x,function(j,Ee){return Ee||N[j]||y.replace(":","")})},q.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},q.diff=function(A,J,Y){var ue,y=ne.p(J),g=ee(A),w=(g.utcOffset()-this.utcOffset())*e,k=this-g,D=ne.m(this,g);return D=(ue={},ue[_]=D/12,ue[f]=D,ue[p]=D/3,ue[c]=(k-w)/6048e5,ue[l]=(k-w)/864e5,ue[o]=k/t,ue[a]=k/e,ue[s]=k/r,ue)[y]||k,Y?D:ne.a(D)},q.daysInMonth=function(){return this.endOf(f).$D},q.$locale=function(){return ke[this.$L]},q.locale=function(A,J){if(!A)return this.$L;var Y=this.clone(),ue=be(A,J,!0);return ue&&(Y.$L=ue),Y},q.clone=function(){return ne.w(this.$d,this)},q.toDate=function(){return new Date(this.valueOf())},q.toJSON=function(){return this.isValid()?this.toISOString():null},q.toISOString=function(){return this.$d.toISOString()},q.toString=function(){return this.$d.toUTCString()},V}(),_t=Ft.prototype;return ee.prototype=_t,[["$ms",n],["$s",s],["$m",a],["$H",o],["$W",l],["$M",f],["$y",_],["$D",T]].forEach(function(V){_t[V[1]]=function(q){return this.$g(q,V[0],V[1])}}),ee.extend=function(V,q){return V.$i||(V(q,Ft,ee),V.$i=!0),ee},ee.locale=be,ee.isDayjs=Te,ee.unix=function(V){return ee(1e3*V)},ee.en=ke[W],ee.Ls=ke,ee.p={},ee})});var At=S(Ln=>{"use strict";var Hk=Ln&&Ln.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Ln,"__esModule",{value:!0});Ln.findYearClosestToRef=Ln.findMostLikelyADYear=void 0;var Bk=Hk(Re());function zk(r){return r<100&&(r>50?r=r+1900:r=r+2e3),r}Ln.findMostLikelyADYear=zk;function Vk(r,e,t){let n=Bk.default(r),s=n;s=s.month(t-1),s=s.date(e),s=s.year(n.year());let a=s.add(1,"y"),o=s.add(-1,"y");return Math.abs(a.diff(n))<Math.abs(s.diff(n))?s=a:Math.abs(o.diff(n))<Math.abs(s.diff(n))&&(s=o),s.year()}Ln.findYearClosestToRef=Vk});var Pt=S(ye=>{"use strict";Object.defineProperty(ye,"__esModule",{value:!0});ye.parseTimeUnits=ye.TIME_UNITS_PATTERN=ye.parseYear=ye.YEAR_PATTERN=ye.parseOrdinalNumberPattern=ye.ORDINAL_NUMBER_PATTERN=ye.parseNumberPattern=ye.NUMBER_PATTERN=ye.TIME_UNIT_DICTIONARY=ye.ORDINAL_WORD_DICTIONARY=ye.INTEGER_WORD_DICTIONARY=ye.MONTH_DICTIONARY=ye.FULL_MONTH_NAME_DICTIONARY=ye.WEEKDAY_DICTIONARY=void 0;var xo=Fe(),Kk=At();ye.WEEKDAY_DICTIONARY={sunday:0,sun:0,"sun.":0,monday:1,mon:1,"mon.":1,tuesday:2,tue:2,"tue.":2,wednesday:3,wed:3,"wed.":3,thursday:4,thurs:4,"thurs.":4,thur:4,"thur.":4,thu:4,"thu.":4,friday:5,fri:5,"fri.":5,saturday:6,sat:6,"sat.":6};ye.FULL_MONTH_NAME_DICTIONARY={january:1,february:2,march:3,april:4,may:5,june:6,july:7,august:8,september:9,october:10,november:11,december:12};ye.MONTH_DICTIONARY=Object.assign(Object.assign({},ye.FULL_MONTH_NAME_DICTIONARY),{jan:1,"jan.":1,feb:2,"feb.":2,mar:3,"mar.":3,apr:4,"apr.":4,jun:6,"jun.":6,jul:7,"jul.":7,aug:8,"aug.":8,sep:9,"sep.":9,sept:9,"sept.":9,oct:10,"oct.":10,nov:11,"nov.":11,dec:12,"dec.":12});ye.INTEGER_WORD_DICTIONARY={one:1,two:2,three:3,four:4,five:5,six:6,seven:7,eight:8,nine:9,ten:10,eleven:11,twelve:12};ye.ORDINAL_WORD_DICTIONARY={first:1,second:2,third:3,fourth:4,fifth:5,sixth:6,seventh:7,eighth:8,ninth:9,tenth:10,eleventh:11,twelfth:12,thirteenth:13,fourteenth:14,fifteenth:15,sixteenth:16,seventeenth:17,eighteenth:18,nineteenth:19,twentieth:20,"twenty first":21,"twenty-first":21,"twenty second":22,"twenty-second":22,"twenty third":23,"twenty-third":23,"twenty fourth":24,"twenty-fourth":24,"twenty fifth":25,"twenty-fifth":25,"twenty sixth":26,"twenty-sixth":26,"twenty seventh":27,"twenty-seventh":27,"twenty eighth":28,"twenty-eighth":28,"twenty ninth":29,"twenty-ninth":29,thirtieth:30,"thirty first":31,"thirty-first":31};ye.TIME_UNIT_DICTIONARY={sec:"second",second:"second",seconds:"second",min:"minute",mins:"minute",minute:"minute",minutes:"minute",h:"hour",hr:"hour",hrs:"hour",hour:"hour",hours:"hour",day:"d",days:"d",week:"week",weeks:"week",month:"month",months:"month",qtr:"quarter",quarter:"quarter",quarters:"quarter",y:"year",yr:"year",year:"year",years:"year"};ye.NUMBER_PATTERN=`(?:${xo.matchAnyPattern(ye.INTEGER_WORD_DICTIONARY)}|[0-9]+|[0-9]+\\.[0-9]+|half(?:\\s{0,2}an?)?|an?\\b(?:\\s{0,2}few)?|few|several|a?\\s{0,2}couple\\s{0,2}(?:of)?)`;function fm(r){let e=r.toLowerCase();return ye.INTEGER_WORD_DICTIONARY[e]!==void 0?ye.INTEGER_WORD_DICTIONARY[e]:e==="a"||e==="an"?1:e.match(/few/)?3:e.match(/half/)?.5:e.match(/couple/)?2:e.match(/several/)?7:parseFloat(e)}ye.parseNumberPattern=fm;ye.ORDINAL_NUMBER_PATTERN=`(?:${xo.matchAnyPattern(ye.ORDINAL_WORD_DICTIONARY)}|[0-9]{1,2}(?:st|nd|rd|th)?)`;function Zk(r){let e=r.toLowerCase();return ye.ORDINAL_WORD_DICTIONARY[e]!==void 0?ye.ORDINAL_WORD_DICTIONARY[e]:(e=e.replace(/(?:st|nd|rd|th)$/i,""),parseInt(e))}ye.parseOrdinalNumberPattern=Zk;ye.YEAR_PATTERN="(?:[1-9][0-9]{0,3}\\s{0,2}(?:BE|AD|BC|BCE|CE)|[1-2][0-9]{3}|[5-9][0-9])";function Qk(r){if(/BE/i.test(r))return r=r.replace(/BE/i,""),parseInt(r)-543;if(/BCE?/i.test(r))return r=r.replace(/BCE?/i,""),-parseInt(r);if(/(AD|CE)/i.test(r))return r=r.replace(/(AD|CE)/i,""),parseInt(r);let e=parseInt(r);return Kk.findMostLikelyADYear(e)}ye.parseYear=Qk;var hm=`(${ye.NUMBER_PATTERN})\\s{0,3}(${xo.matchAnyPattern(ye.TIME_UNIT_DICTIONARY)})`,dm=new RegExp(hm,"i");ye.TIME_UNITS_PATTERN=xo.repeatedTimeunitPattern("(?:(?:about|around)\\s{0,3})?",hm);function Xk(r){let e={},t=r,n=dm.exec(t);for(;n;)Jk(e,n),t=t.substring(n[0].length).trim(),n=dm.exec(t);return e}ye.parseTimeUnits=Xk;function Jk(r,e){let t=fm(e[1]),n=ye.TIME_UNIT_DICTIONARY[e[2].toLowerCase()];r[n]=t}});var pm=S((jl,Gl)=>{(function(r,e){typeof jl=="object"&&typeof Gl!="undefined"?Gl.exports=e():typeof define=="function"&&define.amd?define(e):(r=typeof globalThis!="undefined"?globalThis:r||self).dayjs_plugin_quarterOfYear=e()})(jl,function(){"use strict";var r="month",e="quarter";return function(t,n){var s=n.prototype;s.quarter=function(l){return this.$utils().u(l)?Math.ceil((this.month()+1)/3):this.month(this.month()%3+3*(l-1))};var a=s.add;s.add=function(l,c){return l=Number(l),this.$utils().p(c)===e?this.add(3*l,r):a.bind(this)(l,c)};var o=s.startOf;s.startOf=function(l,c){var f=this.$utils(),p=!!f.u(c)||c;if(f.p(l)===e){var _=this.quarter()-1;return p?this.month(3*_).startOf(r).startOf("day"):this.month(3*_+2).endOf(r).endOf("day")}return o.bind(this)(l,c)}}})});var yr=S(Wr=>{"use strict";Object.defineProperty(Wr,"__esModule",{value:!0});Wr.implySimilarTime=Wr.assignSimilarTime=Wr.assignSimilarDate=Wr.assignTheNextDay=void 0;var mm=yt();function eE(r,e){e=e.add(1,"day"),ym(r,e),gm(r,e)}Wr.assignTheNextDay=eE;function ym(r,e){r.assign("day",e.date()),r.assign("month",e.month()+1),r.assign("year",e.year())}Wr.assignSimilarDate=ym;function tE(r,e){r.assign("hour",e.hour()),r.assign("minute",e.minute()),r.assign("second",e.second()),r.assign("millisecond",e.millisecond()),r.get("hour")<12?r.assign("meridiem",mm.Meridiem.AM):r.assign("meridiem",mm.Meridiem.PM)}Wr.assignSimilarTime=tE;function gm(r,e){r.imply("hour",e.hour()),r.imply("minute",e.minute()),r.imply("second",e.second()),r.imply("millisecond",e.millisecond())}Wr.implySimilarTime=gm});var _m=S(ls=>{"use strict";Object.defineProperty(ls,"__esModule",{value:!0});ls.toTimezoneOffset=ls.TIMEZONE_ABBR_MAP=void 0;ls.TIMEZONE_ABBR_MAP={ACDT:630,ACST:570,ADT:-180,AEDT:660,AEST:600,AFT:270,AKDT:-480,AKST:-540,ALMT:360,AMST:-180,AMT:-240,ANAST:720,ANAT:720,AQTT:300,ART:-180,AST:-240,AWDT:540,AWST:480,AZOST:0,AZOT:-60,AZST:300,AZT:240,BNT:480,BOT:-240,BRST:-120,BRT:-180,BST:60,BTT:360,CAST:480,CAT:120,CCT:390,CDT:-300,CEST:120,CET:60,CHADT:825,CHAST:765,CKT:-600,CLST:-180,CLT:-240,COT:-300,CST:-360,CVT:-60,CXT:420,ChST:600,DAVT:420,EASST:-300,EAST:-360,EAT:180,ECT:-300,EDT:-240,EEST:180,EET:120,EGST:0,EGT:-60,EST:-300,ET:-300,FJST:780,FJT:720,FKST:-180,FKT:-240,FNT:-120,GALT:-360,GAMT:-540,GET:240,GFT:-180,GILT:720,GMT:0,GST:240,GYT:-240,HAA:-180,HAC:-300,HADT:-540,HAE:-240,HAP:-420,HAR:-360,HAST:-600,HAT:-90,HAY:-480,HKT:480,HLV:-210,HNA:-240,HNC:-360,HNE:-300,HNP:-480,HNR:-420,HNT:-150,HNY:-540,HOVT:420,ICT:420,IDT:180,IOT:360,IRDT:270,IRKST:540,IRKT:540,IRST:210,IST:330,JST:540,KGT:360,KRAST:480,KRAT:480,KST:540,KUYT:240,LHDT:660,LHST:630,LINT:840,MAGST:720,MAGT:720,MART:-510,MAWT:300,MDT:-360,MESZ:120,MEZ:60,MHT:720,MMT:390,MSD:240,MSK:180,MST:-420,MUT:240,MVT:300,MYT:480,NCT:660,NDT:-90,NFT:690,NOVST:420,NOVT:360,NPT:345,NST:-150,NUT:-660,NZDT:780,NZST:720,OMSST:420,OMST:420,PDT:-420,PET:-300,PETST:720,PETT:720,PGT:600,PHOT:780,PHT:480,PKT:300,PMDT:-120,PMST:-180,PONT:660,PST:-480,PT:-480,PWT:540,PYST:-180,PYT:-240,RET:240,SAMT:240,SAST:120,SBT:660,SCT:240,SGT:480,SRT:-180,SST:-660,TAHT:-600,TFT:300,TJT:300,TKT:780,TLT:540,TMT:300,TVT:720,ULAT:480,UTC:0,UYST:-120,UYT:-180,UZT:300,VET:-210,VLAST:660,VLAT:660,VUT:660,WAST:120,WAT:60,WEST:60,WESZ:60,WET:0,WEZ:0,WFT:720,WGST:-120,WGT:-180,WIB:420,WIT:540,WITA:480,WST:780,WT:0,YAKST:600,YAKT:600,YAPT:600,YEKST:360,YEKT:360};function rE(r){var e;return r==null?null:typeof r=="number"?r:(e=ls.TIMEZONE_ABBR_MAP[r])!==null&&e!==void 0?e:null}ls.toTimezoneOffset=rE});var rt=S(qr=>{"use strict";var Tm=qr&&qr.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(qr,"__esModule",{value:!0});qr.ParsingResult=qr.ParsingComponents=qr.ReferenceWithTimezone=void 0;var nE=Tm(pm()),Ao=Tm(Re()),$l=yr(),sE=_m();Ao.default.extend(nE.default);var Hl=class{constructor(e){var t;e=e!=null?e:new Date,e instanceof Date?this.instant=e:(this.instant=(t=e.instant)!==null&&t!==void 0?t:new Date,this.timezoneOffset=sE.toTimezoneOffset(e.timezone))}};qr.ReferenceWithTimezone=Hl;var cs=class{constructor(e,t){if(this.reference=e,this.knownValues={},this.impliedValues={},t)for(let s in t)this.knownValues[s]=t[s];let n=Ao.default(e.instant);this.imply("day",n.date()),this.imply("month",n.month()+1),this.imply("year",n.year()),this.imply("hour",12),this.imply("minute",0),this.imply("second",0),this.imply("millisecond",0)}get(e){return e in this.knownValues?this.knownValues[e]:e in this.impliedValues?this.impliedValues[e]:null}isCertain(e){return e in this.knownValues}getCertainComponents(){return Object.keys(this.knownValues)}imply(e,t){return e in this.knownValues?this:(this.impliedValues[e]=t,this)}assign(e,t){return this.knownValues[e]=t,delete this.impliedValues[e],this}delete(e){delete this.knownValues[e],delete this.impliedValues[e]}clone(){let e=new cs(this.reference);e.knownValues={},e.impliedValues={};for(let t in this.knownValues)e.knownValues[t]=this.knownValues[t];for(let t in this.impliedValues)e.impliedValues[t]=this.impliedValues[t];return e}isOnlyDate(){return!this.isCertain("hour")&&!this.isCertain("minute")&&!this.isCertain("second")}isOnlyTime(){return!this.isCertain("weekday")&&!this.isCertain("day")&&!this.isCertain("month")}isOnlyWeekdayComponent(){return this.isCertain("weekday")&&!this.isCertain("day")&&!this.isCertain("month")}isOnlyDayMonthComponent(){return this.isCertain("day")&&this.isCertain("month")&&!this.isCertain("year")}isValidDate(){let e=this.dateWithoutTimezoneAdjustment();return!(e.getFullYear()!==this.get("year")||e.getMonth()!==this.get("month")-1||e.getDate()!==this.get("day")||this.get("hour")!=null&&e.getHours()!=this.get("hour")||this.get("minute")!=null&&e.getMinutes()!=this.get("minute"))}toString(){return`[ParsingComponents {knownValues: ${JSON.stringify(this.knownValues)}, impliedValues: ${JSON.stringify(this.impliedValues)}}, reference: ${JSON.stringify(this.reference)}]`}dayjs(){return Ao.default(this.date())}date(){let e=this.dateWithoutTimezoneAdjustment();return new Date(e.getTime()+this.getSystemTimezoneAdjustmentMinute(e)*6e4)}dateWithoutTimezoneAdjustment(){let e=new Date(this.get("year"),this.get("month")-1,this.get("day"),this.get("hour"),this.get("minute"),this.get("second"),this.get("millisecond"));return e.setFullYear(this.get("year")),e}getSystemTimezoneAdjustmentMinute(e){var t,n;(!e||e.getTime()<0)&&(e=new Date);let s=-e.getTimezoneOffset(),a=(n=(t=this.get("timezoneOffset"))!==null&&t!==void 0?t:this.reference.timezoneOffset)!==null&&n!==void 0?n:s;return s-a}static createRelativeFromReference(e,t){let n=Ao.default(e.instant);for(let a in t)n=n.add(t[a],a);let s=new cs(e);return t.hour||t.minute||t.second?($l.assignSimilarTime(s,n),$l.assignSimilarDate(s,n),e.timezoneOffset!==null&&s.assign("timezoneOffset",-e.instant.getTimezoneOffset())):($l.implySimilarTime(s,n),e.timezoneOffset!==null&&s.imply("timezoneOffset",-e.instant.getTimezoneOffset()),t.d?(s.assign("day",n.date()),s.assign("month",n.month()+1),s.assign("year",n.year())):(t.week&&s.imply("weekday",n.day()),s.imply("day",n.date()),t.month?(s.assign("month",n.month()+1),s.assign("year",n.year())):(s.imply("month",n.month()+1),t.year?s.assign("year",n.year()):s.imply("year",n.year())))),s}};qr.ParsingComponents=cs;var $i=class{constructor(e,t,n,s,a){this.reference=e,this.refDate=e.instant,this.index=t,this.text=n,this.start=s||new cs(e),this.end=a}clone(){let e=new $i(this.reference,this.index,this.text);return e.start=this.start?this.start.clone():null,e.end=this.end?this.end.clone():null,e}date(){return this.start.date()}toString(){return`[ParsingResult {index: ${this.index}, text: '${this.text}', ...}]`}};qr.ParsingResult=$i});var Z=S(Po=>{"use strict";Object.defineProperty(Po,"__esModule",{value:!0});Po.AbstractParserWithWordBoundaryChecking=void 0;var Bl=class{constructor(){this.cachedInnerPattern=null,this.cachedPattern=null}patternLeftBoundary(){return"(\\W|^)"}pattern(e){let t=this.innerPattern(e);return t==this.cachedInnerPattern?this.cachedPattern:(this.cachedPattern=new RegExp(`${this.patternLeftBoundary()}${t.source}`,t.flags),this.cachedInnerPattern=t,this.cachedPattern)}extract(e,t){var n;let s=(n=t[1])!==null&&n!==void 0?n:"";t.index=t.index+s.length,t[0]=t[0].substring(s.length);for(let a=2;a<t.length;a++)t[a-1]=t[a];return this.innerExtract(e,t)}};Po.AbstractParserWithWordBoundaryChecking=Bl});var bm=S(Kl=>{"use strict";Object.defineProperty(Kl,"__esModule",{value:!0});var Vl=Pt(),iE=rt(),aE=Z(),oE=new RegExp(`(?:within|in|for)\\s*(?:(?:about|around|roughly|approximately|just)\\s*(?:~\\s*)?)?(${Vl.TIME_UNITS_PATTERN})(?=\\W|$)`,"i"),uE=new RegExp(`(?:(?:about|around|roughly|approximately|just)\\s*(?:~\\s*)?)?(${Vl.TIME_UNITS_PATTERN})(?=\\W|$)`,"i"),zl=class extends aE.AbstractParserWithWordBoundaryChecking{innerPattern(e){return e.option.forwardDate?uE:oE}innerExtract(e,t){let n=Vl.parseTimeUnits(t[1]);return iE.ParsingComponents.createRelativeFromReference(e.reference,n)}};Kl.default=zl});var Sm=S(Ql=>{"use strict";Object.defineProperty(Ql,"__esModule",{value:!0});var lE=At(),Em=Pt(),Dm=Pt(),No=Pt(),cE=Fe(),dE=Z(),fE=new RegExp(`(?:on\\s{0,3})?(${No.ORDINAL_NUMBER_PATTERN})(?:\\s{0,3}(?:to|\\-|\\\u2013|until|through|till)?\\s{0,3}(${No.ORDINAL_NUMBER_PATTERN}))?(?:-|/|\\s{0,3}(?:of)?\\s{0,3})(${cE.matchAnyPattern(Em.MONTH_DICTIONARY)})(?:(?:-|/|,?\\s{0,3})(${Dm.YEAR_PATTERN}(?![^\\s]\\d)))?(?=\\W|$)`,"i"),vm=1,wm=2,hE=3,km=4,Zl=class extends dE.AbstractParserWithWordBoundaryChecking{innerPattern(){return fE}innerExtract(e,t){let n=e.createParsingResult(t.index,t[0]),s=Em.MONTH_DICTIONARY[t[hE].toLowerCase()],a=No.parseOrdinalNumberPattern(t[vm]);if(a>31)return t.index=t.index+t[vm].length,null;if(n.start.assign("month",s),n.start.assign("day",a),t[km]){let o=Dm.parseYear(t[km]);n.start.assign("year",o)}else{let o=lE.findYearClosestToRef(e.refDate,a,s);n.start.imply("year",o)}if(t[wm]){let o=No.parseOrdinalNumberPattern(t[wm]);n.end=n.start.clone(),n.end.assign("day",o)}return n}};Ql.default=Zl});var Am=S(Jl=>{"use strict";Object.defineProperty(Jl,"__esModule",{value:!0});var pE=At(),Rm=Pt(),Co=Pt(),xm=Pt(),mE=Fe(),yE=Z(),gE=new RegExp(`(${mE.matchAnyPattern(Rm.MONTH_DICTIONARY)})(?:-|/|\\s*,?\\s*)(${Co.ORDINAL_NUMBER_PATTERN})(?!\\s*(?:am|pm))\\s*(?:(?:to|\\-)\\s*(${Co.ORDINAL_NUMBER_PATTERN})\\s*)?(?:(?:-|/|\\s*,?\\s*)(${xm.YEAR_PATTERN}))?(?=\\W|$)(?!\\:\\d)`,"i"),_E=1,TE=2,Om=3,Mm=4,Xl=class extends yE.AbstractParserWithWordBoundaryChecking{innerPattern(){return gE}innerExtract(e,t){let n=Rm.MONTH_DICTIONARY[t[_E].toLowerCase()],s=Co.parseOrdinalNumberPattern(t[TE]);if(s>31)return null;let a=e.createParsingComponents({day:s,month:n});if(t[Mm]){let c=xm.parseYear(t[Mm]);a.assign("year",c)}else{let c=pE.findYearClosestToRef(e.refDate,s,n);a.imply("year",c)}if(!t[Om])return a;let o=Co.parseOrdinalNumberPattern(t[Om]),l=e.createParsingResult(t.index,t[0]);return l.start=a,l.end=a.clone(),l.end.assign("day",o),l}};Jl.default=Xl});var Cm=S(rc=>{"use strict";Object.defineProperty(rc,"__esModule",{value:!0});var ec=Pt(),bE=At(),vE=Fe(),Nm=Pt(),wE=Z(),kE=new RegExp(`((?:in)\\s*)?(${vE.matchAnyPattern(ec.MONTH_DICTIONARY)})\\s*(?:[,-]?\\s*(${Nm.YEAR_PATTERN})?)?(?=[^\\s\\w]|\\s+[^0-9]|\\s+$|$)`,"i"),EE=1,DE=2,Pm=3,tc=class extends wE.AbstractParserWithWordBoundaryChecking{innerPattern(){return kE}innerExtract(e,t){let n=t[DE].toLowerCase();if(t[0].length<=3&&!ec.FULL_MONTH_NAME_DICTIONARY[n])return null;let s=e.createParsingResult(t.index+(t[EE]||"").length,t.index+t[0].length);s.start.imply("day",1);let a=ec.MONTH_DICTIONARY[n];if(s.start.assign("month",a),t[Pm]){let o=Nm.parseYear(t[Pm]);s.start.assign("year",o)}else{let o=bE.findYearClosestToRef(e.refDate,1,a);s.start.imply("year",o)}return s}};rc.default=tc});var Lm=S(sc=>{"use strict";Object.defineProperty(sc,"__esModule",{value:!0});var Fm=Pt(),SE=Fe(),OE=Z(),ME=new RegExp(`([0-9]{4})[\\.\\/\\s](?:(${SE.matchAnyPattern(Fm.MONTH_DICTIONARY)})|([0-9]{1,2}))[\\.\\/\\s]([0-9]{1,2})(?=\\W|$)`,"i"),RE=1,xE=2,Im=3,AE=4,nc=class extends OE.AbstractParserWithWordBoundaryChecking{innerPattern(){return ME}innerExtract(e,t){let n=t[Im]?parseInt(t[Im]):Fm.MONTH_DICTIONARY[t[xE].toLowerCase()];if(n<1||n>12)return null;let s=parseInt(t[RE]);return{day:parseInt(t[AE]),month:n,year:s}}};sc.default=nc});var Ym=S(ac=>{"use strict";Object.defineProperty(ac,"__esModule",{value:!0});var PE=Z(),NE=new RegExp("([0-9]|0[1-9]|1[012])/([0-9]{4})","i"),CE=1,IE=2,ic=class extends PE.AbstractParserWithWordBoundaryChecking{innerPattern(){return NE}innerExtract(e,t){let n=parseInt(t[IE]),s=parseInt(t[CE]);return e.createParsingComponents().imply("day",1).assign("month",s).assign("year",n)}};ac.default=ic});var ds=S(Lo=>{"use strict";Object.defineProperty(Lo,"__esModule",{value:!0});Lo.AbstractTimeExpressionParser=void 0;var $t=yt();function FE(r,e,t,n){return new RegExp(`${r}${e}(\\d{1,4})(?:(?:\\.|:|\uFF1A)(\\d{1,2})(?:(?::|\uFF1A)(\\d{2})(?:\\.(\\d{1,6}))?)?)?(?:\\s*(a\\.m\\.|p\\.m\\.|am?|pm?))?${t}`,n)}function LE(r,e){return new RegExp(`^(${r})(\\d{1,4})(?:(?:\\.|\\:|\\\uFF1A)(\\d{1,2})(?:(?:\\.|\\:|\\\uFF1A)(\\d{1,2})(?:\\.(\\d{1,6}))?)?)?(?:\\s*(a\\.m\\.|p\\.m\\.|am?|pm?))?${e}`,"i")}var Um=2,Vs=3,Io=4,Fo=5,Hi=6,oc=class{constructor(e=!1){this.cachedPrimaryPrefix=null,this.cachedPrimarySuffix=null,this.cachedPrimaryTimePattern=null,this.cachedFollowingPhase=null,this.cachedFollowingSuffix=null,this.cachedFollowingTimePatten=null,this.strictMode=e}patternFlags(){return"i"}primaryPatternLeftBoundary(){return"(^|\\s|T|\\b)"}primarySuffix(){return"(?=\\W|$)"}followingSuffix(){return"(?=\\W|$)"}pattern(e){return this.getPrimaryTimePatternThroughCache()}extract(e,t){let n=this.extractPrimaryTimeComponents(e,t);if(!n)return t.index+=t[0].length,null;let s=t.index+t[1].length,a=t[0].substring(t[1].length),o=e.createParsingResult(s,a,n);t.index+=t[0].length;let l=e.text.substring(t.index),f=this.getFollowingTimePatternThroughCache().exec(l);return a.match(/^\d{3,4}/)&&f&&f[0].match(/^\s*([+-])\s*\d{2,4}$/)?null:!f||f[0].match(/^\s*([+-])\s*\d{3,4}$/)?this.checkAndReturnWithoutFollowingPattern(o):(o.end=this.extractFollowingTimeComponents(e,f,o),o.end&&(o.text+=f[0]),this.checkAndReturnWithFollowingPattern(o))}extractPrimaryTimeComponents(e,t,n=!1){let s=e.createParsingComponents(),a=0,o=null,l=parseInt(t[Um]);if(l>100){if(this.strictMode||t[Vs]!=null)return null;a=l%100,l=Math.floor(l/100)}if(l>24)return null;if(t[Vs]!=null){if(t[Vs].length==1&&!t[Hi])return null;a=parseInt(t[Vs])}if(a>=60)return null;if(l>12&&(o=$t.Meridiem.PM),t[Hi]!=null){if(l>12)return null;let c=t[Hi][0].toLowerCase();c=="a"&&(o=$t.Meridiem.AM,l==12&&(l=0)),c=="p"&&(o=$t.Meridiem.PM,l!=12&&(l+=12))}if(s.assign("hour",l),s.assign("minute",a),o!==null?s.assign("meridiem",o):l<12?s.imply("meridiem",$t.Meridiem.AM):s.imply("meridiem",$t.Meridiem.PM),t[Fo]!=null){let c=parseInt(t[Fo].substring(0,3));if(c>=1e3)return null;s.assign("millisecond",c)}if(t[Io]!=null){let c=parseInt(t[Io]);if(c>=60)return null;s.assign("second",c)}return s}extractFollowingTimeComponents(e,t,n){let s=e.createParsingComponents();if(t[Fo]!=null){let c=parseInt(t[Fo].substring(0,3));if(c>=1e3)return null;s.assign("millisecond",c)}if(t[Io]!=null){let c=parseInt(t[Io]);if(c>=60)return null;s.assign("second",c)}let a=parseInt(t[Um]),o=0,l=-1;if(t[Vs]!=null?o=parseInt(t[Vs]):a>100&&(o=a%100,a=Math.floor(a/100)),o>=60||a>24)return null;if(a>=12&&(l=$t.Meridiem.PM),t[Hi]!=null){if(a>12)return null;let c=t[Hi][0].toLowerCase();c=="a"&&(l=$t.Meridiem.AM,a==12&&(a=0,s.isCertain("day")||s.imply("day",s.get("day")+1))),c=="p"&&(l=$t.Meridiem.PM,a!=12&&(a+=12)),n.start.isCertain("meridiem")||(l==$t.Meridiem.AM?(n.start.imply("meridiem",$t.Meridiem.AM),n.start.get("hour")==12&&n.start.assign("hour",0)):(n.start.imply("meridiem",$t.Meridiem.PM),n.start.get("hour")!=12&&n.start.assign("hour",n.start.get("hour")+12)))}return s.assign("hour",a),s.assign("minute",o),l>=0?s.assign("meridiem",l):n.start.isCertain("meridiem")&&n.start.get("hour")>12?n.start.get("hour")-12>a?s.imply("meridiem",$t.Meridiem.AM):a<=12&&(s.assign("hour",a+12),s.assign("meridiem",$t.Meridiem.PM)):a>12?s.imply("meridiem",$t.Meridiem.PM):a<=12&&s.imply("meridiem",$t.Meridiem.AM),s.date().getTime()<n.start.date().getTime()&&s.imply("day",s.get("day")+1),s}checkAndReturnWithoutFollowingPattern(e){if(e.text.match(/^\d$/)||e.text.match(/^\d\d\d+$/)||e.text.match(/\d[apAP]$/))return null;let t=e.text.match(/[^\d:.](\d[\d.]+)$/);if(t){let n=t[1];if(this.strictMode||n.includes(".")&&!n.match(/\d(\.\d{2})+$/)||parseInt(n)>24)return null}return e}checkAndReturnWithFollowingPattern(e){if(e.text.match(/^\d+-\d+$/))return null;let t=e.text.match(/[^\d:.](\d[\d.]+)\s*-\s*(\d[\d.]+)$/);if(t){if(this.strictMode)return null;let n=t[1],s=t[2];if(s.includes(".")&&!s.match(/\d(\.\d{2})+$/))return null;let a=parseInt(s),o=parseInt(n);if(a>24||o>24)return null}return e}getPrimaryTimePatternThroughCache(){let e=this.primaryPrefix(),t=this.primarySuffix();return this.cachedPrimaryPrefix===e&&this.cachedPrimarySuffix===t?this.cachedPrimaryTimePattern:(this.cachedPrimaryTimePattern=FE(this.primaryPatternLeftBoundary(),e,t,this.patternFlags()),this.cachedPrimaryPrefix=e,this.cachedPrimarySuffix=t,this.cachedPrimaryTimePattern)}getFollowingTimePatternThroughCache(){let e=this.followingPhase(),t=this.followingSuffix();return this.cachedFollowingPhase===e&&this.cachedFollowingSuffix===t?this.cachedFollowingTimePatten:(this.cachedFollowingTimePatten=LE(e,t),this.cachedFollowingPhase=e,this.cachedFollowingSuffix=t,this.cachedFollowingTimePatten)}};Lo.AbstractTimeExpressionParser=oc});var Wm=S(lc=>{"use strict";Object.defineProperty(lc,"__esModule",{value:!0});var Yo=yt(),YE=ds(),uc=class extends YE.AbstractTimeExpressionParser{constructor(e){super(e)}followingPhase(){return"\\s*(?:\\-|\\\u2013|\\~|\\\u301C|to|\\?)\\s*"}primaryPrefix(){return"(?:(?:at|from)\\s*)??"}primarySuffix(){return"(?:\\s*(?:o\\W*clock|at\\s*night|in\\s*the\\s*(?:morning|afternoon)))?(?!/)(?=\\W|$)"}extractPrimaryTimeComponents(e,t){let n=super.extractPrimaryTimeComponents(e,t);if(n){if(t[0].endsWith("night")){let s=n.get("hour");s>=6&&s<12?(n.assign("hour",n.get("hour")+12),n.assign("meridiem",Yo.Meridiem.PM)):s<6&&n.assign("meridiem",Yo.Meridiem.AM)}if(t[0].endsWith("afternoon")){n.assign("meridiem",Yo.Meridiem.PM);let s=n.get("hour");s>=0&&s<=6&&n.assign("hour",n.get("hour")+12)}t[0].endsWith("morning")&&(n.assign("meridiem",Yo.Meridiem.AM),n.get("hour")<12&&n.assign("hour",n.get("hour")))}return n}};lc.default=uc});var gr=S(Ks=>{"use strict";Object.defineProperty(Ks,"__esModule",{value:!0});Ks.addImpliedTimeUnits=Ks.reverseTimeUnits=void 0;function UE(r){let e={};for(let t in r)e[t]=-r[t];return e}Ks.reverseTimeUnits=UE;function WE(r,e){let t=r.clone(),n=r.dayjs();for(let s in e)n=n.add(e[s],s);return("day"in e||"d"in e||"week"in e||"month"in e||"year"in e)&&(t.imply("day",n.date()),t.imply("month",n.month()+1),t.imply("year",n.year())),("second"in e||"minute"in e||"hour"in e)&&(t.imply("second",n.second()),t.imply("minute",n.minute()),t.imply("hour",n.hour())),t}Ks.addImpliedTimeUnits=WE});var qm=S(fc=>{"use strict";Object.defineProperty(fc,"__esModule",{value:!0});var dc=Pt(),qE=rt(),jE=Z(),GE=gr(),$E=new RegExp(`(${dc.TIME_UNITS_PATTERN})\\s{0,5}(?:ago|before|earlier)(?=(?:\\W|$))`,"i"),HE=new RegExp(`(${dc.TIME_UNITS_PATTERN})\\s{0,5}ago(?=(?:\\W|$))`,"i"),cc=class extends jE.AbstractParserWithWordBoundaryChecking{constructor(e){super(),this.strictMode=e}innerPattern(){return this.strictMode?HE:$E}innerExtract(e,t){let n=dc.parseTimeUnits(t[1]),s=GE.reverseTimeUnits(n);return qE.ParsingComponents.createRelativeFromReference(e.reference,s)}};fc.default=cc});var jm=S(mc=>{"use strict";Object.defineProperty(mc,"__esModule",{value:!0});var pc=Pt(),BE=rt(),zE=Z(),VE=new RegExp(`(${pc.TIME_UNITS_PATTERN})\\s{0,5}(?:later|after|from now|henceforth|forward|out)(?=(?:\\W|$))`,"i"),KE=new RegExp("("+pc.TIME_UNITS_PATTERN+")(later|from now)(?=(?:\\W|$))","i"),ZE=1,hc=class extends zE.AbstractParserWithWordBoundaryChecking{constructor(e){super(),this.strictMode=e}innerPattern(){return this.strictMode?KE:VE}innerExtract(e,t){let n=pc.parseTimeUnits(t[ZE]);return BE.ParsingComponents.createRelativeFromReference(e.reference,n)}};mc.default=hc});var Qs=S(Zs=>{"use strict";Object.defineProperty(Zs,"__esModule",{value:!0});Zs.MergingRefiner=Zs.Filter=void 0;var yc=class{refine(e,t){return t.filter(n=>this.isValid(e,n))}};Zs.Filter=yc;var gc=class{refine(e,t){if(t.length<2)return t;let n=[],s=t[0],a=null;for(let o=1;o<t.length;o++){a=t[o];let l=e.text.substring(s.index+s.text.length,a.index);if(!this.shouldMergeResults(l,s,a,e))n.push(s),s=a;else{let c=s,f=a,p=this.mergeResults(l,c,f,e);e.debug(()=>{console.log(`${this.constructor.name} merged ${c} and ${f} into ${p}`)}),s=p}}return s!=null&&n.push(s),n}};Zs.MergingRefiner=gc});var jr=S(Tc=>{"use strict";Object.defineProperty(Tc,"__esModule",{value:!0});var QE=Qs(),_c=class extends QE.MergingRefiner{shouldMergeResults(e,t,n){return!t.end&&!n.end&&e.match(this.patternBetween())!=null}mergeResults(e,t,n){if(!t.start.isOnlyWeekdayComponent()&&!n.start.isOnlyWeekdayComponent()&&(n.start.getCertainComponents().forEach(a=>{t.start.isCertain(a)||t.start.assign(a,n.start.get(a))}),t.start.getCertainComponents().forEach(a=>{n.start.isCertain(a)||n.start.assign(a,t.start.get(a))})),t.start.date().getTime()>n.start.date().getTime()){let a=t.start.dayjs(),o=n.start.dayjs();t.start.isOnlyWeekdayComponent()&&a.add(-7,"days").isBefore(o)?(a=a.add(-7,"days"),t.start.imply("day",a.date()),t.start.imply("month",a.month()+1),t.start.imply("year",a.year())):n.start.isOnlyWeekdayComponent()&&o.add(7,"days").isAfter(a)?(o=o.add(7,"days"),n.start.imply("day",o.date()),n.start.imply("month",o.month()+1),n.start.imply("year",o.year())):[n,t]=[t,n]}let s=t.clone();return s.start=t.start,s.end=n.start,s.index=Math.min(t.index,n.index),t.index<n.index?s.text=t.text+e+n.text:s.text=n.text+e+t.text,s}};Tc.default=_c});var Gm=S(Bi=>{"use strict";var XE=Bi&&Bi.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Bi,"__esModule",{value:!0});var JE=XE(jr()),bc=class extends JE.default{patternBetween(){return/^\s*(to|-)\s*$/i}};Bi.default=bc});var $m=S(Xs=>{"use strict";Object.defineProperty(Xs,"__esModule",{value:!0});Xs.mergeDateTimeComponent=Xs.mergeDateTimeResult=void 0;var eD=yt();function tD(r,e){let t=r.clone(),n=r.start,s=e.start;if(t.start=vc(n,s),r.end!=null||e.end!=null){let a=r.end==null?r.start:r.end,o=e.end==null?e.start:e.end,l=vc(a,o);r.end==null&&l.date().getTime()<t.start.date().getTime()&&(l.isCertain("day")?l.assign("day",l.get("day")+1):l.imply("day",l.get("day")+1)),t.end=l}return t}Xs.mergeDateTimeResult=tD;function vc(r,e){let t=r.clone();return e.isCertain("hour")?(t.assign("hour",e.get("hour")),t.assign("minute",e.get("minute")),e.isCertain("second")?(t.assign("second",e.get("second")),e.isCertain("millisecond")?t.assign("millisecond",e.get("millisecond")):t.imply("millisecond",e.get("millisecond"))):(t.imply("second",e.get("second")),t.imply("millisecond",e.get("millisecond")))):(t.imply("hour",e.get("hour")),t.imply("minute",e.get("minute")),t.imply("second",e.get("second")),t.imply("millisecond",e.get("millisecond"))),e.isCertain("timezoneOffset")&&t.assign("timezoneOffset",e.get("timezoneOffset")),e.isCertain("meridiem")?t.assign("meridiem",e.get("meridiem")):e.get("meridiem")!=null&&t.get("meridiem")==null&&t.imply("meridiem",e.get("meridiem")),t.get("meridiem")==eD.Meridiem.PM&&t.get("hour")<12&&(e.isCertain("hour")?t.assign("hour",t.get("hour")+12):t.imply("hour",t.get("hour")+12)),t}Xs.mergeDateTimeComponent=vc});var on=S(kc=>{"use strict";Object.defineProperty(kc,"__esModule",{value:!0});var rD=Qs(),Hm=$m(),wc=class extends rD.MergingRefiner{shouldMergeResults(e,t,n){return(t.start.isOnlyDate()&&n.start.isOnlyTime()||n.start.isOnlyDate()&&t.start.isOnlyTime())&&e.match(this.patternBetween())!=null}mergeResults(e,t,n){let s=t.start.isOnlyDate()?Hm.mergeDateTimeResult(t,n):Hm.mergeDateTimeResult(n,t);return s.index=t.index,s.text=t.text+e+n.text,s}};kc.default=wc});var Bm=S(zi=>{"use strict";var nD=zi&&zi.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(zi,"__esModule",{value:!0});var sD=nD(on()),Ec=class extends sD.default{patternBetween(){return new RegExp("^\\s*(T|at|after|before|on|of|,|-)?\\s*$")}};zi.default=Ec});var zm=S(Sc=>{"use strict";Object.defineProperty(Sc,"__esModule",{value:!0});var iD=new RegExp("^\\s*,?\\s*\\(?([A-Z]{2,4})\\)?(?=\\W|$)","i"),aD={ACDT:630,ACST:570,ADT:-180,AEDT:660,AEST:600,AFT:270,AKDT:-480,AKST:-540,ALMT:360,AMST:-180,AMT:-240,ANAST:720,ANAT:720,AQTT:300,ART:-180,AST:-240,AWDT:540,AWST:480,AZOST:0,AZOT:-60,AZST:300,AZT:240,BNT:480,BOT:-240,BRST:-120,BRT:-180,BST:60,BTT:360,CAST:480,CAT:120,CCT:390,CDT:-300,CEST:120,CET:60,CHADT:825,CHAST:765,CKT:-600,CLST:-180,CLT:-240,COT:-300,CST:-360,CVT:-60,CXT:420,ChST:600,DAVT:420,EASST:-300,EAST:-360,EAT:180,ECT:-300,EDT:-240,EEST:180,EET:120,EGST:0,EGT:-60,EST:-300,ET:-300,FJST:780,FJT:720,FKST:-180,FKT:-240,FNT:-120,GALT:-360,GAMT:-540,GET:240,GFT:-180,GILT:720,GMT:0,GST:240,GYT:-240,HAA:-180,HAC:-300,HADT:-540,HAE:-240,HAP:-420,HAR:-360,HAST:-600,HAT:-90,HAY:-480,HKT:480,HLV:-210,HNA:-240,HNC:-360,HNE:-300,HNP:-480,HNR:-420,HNT:-150,HNY:-540,HOVT:420,ICT:420,IDT:180,IOT:360,IRDT:270,IRKST:540,IRKT:540,IRST:210,IST:330,JST:540,KGT:360,KRAST:480,KRAT:480,KST:540,KUYT:240,LHDT:660,LHST:630,LINT:840,MAGST:720,MAGT:720,MART:-510,MAWT:300,MDT:-360,MESZ:120,MEZ:60,MHT:720,MMT:390,MSD:240,MSK:240,MST:-420,MUT:240,MVT:300,MYT:480,NCT:660,NDT:-90,NFT:690,NOVST:420,NOVT:360,NPT:345,NST:-150,NUT:-660,NZDT:780,NZST:720,OMSST:420,OMST:420,PDT:-420,PET:-300,PETST:720,PETT:720,PGT:600,PHOT:780,PHT:480,PKT:300,PMDT:-120,PMST:-180,PONT:660,PST:-480,PT:-480,PWT:540,PYST:-180,PYT:-240,RET:240,SAMT:240,SAST:120,SBT:660,SCT:240,SGT:480,SRT:-180,SST:-660,TAHT:-600,TFT:300,TJT:300,TKT:780,TLT:540,TMT:300,TVT:720,ULAT:480,UTC:0,UYST:-120,UYT:-180,UZT:300,VET:-210,VLAST:660,VLAT:660,VUT:660,WAST:120,WAT:60,WEST:60,WESZ:60,WET:0,WEZ:0,WFT:720,WGST:-120,WGT:-180,WIB:420,WIT:540,WITA:480,WST:780,WT:0,YAKST:600,YAKT:600,YAPT:600,YEKST:360,YEKT:360},Dc=class{constructor(e){this.timezone=Object.assign(Object.assign({},aD),e)}refine(e,t){var n;let s=(n=e.option.timezones)!==null&&n!==void 0?n:{};return t.forEach(a=>{var o,l;let c=e.text.substring(a.index+a.text.length),f=iD.exec(c);if(!f)return;let p=f[1].toUpperCase(),_=(l=(o=s[p])!==null&&o!==void 0?o:this.timezone[p])!==null&&l!==void 0?l:null;if(_===null)return;e.debug(()=>{console.log(`Extracting timezone: '${p}' into: ${_} for: ${a.start}`)});let T=a.start.get("timezoneOffset");T!==null&&_!=T&&(a.start.isCertain("timezoneOffset")||p!=f[1])||a.start.isOnlyDate()&&p!=f[1]||(a.text+=f[0],a.start.isCertain("timezoneOffset")||a.start.assign("timezoneOffset",_),a.end!=null&&!a.end.isCertain("timezoneOffset")&&a.end.assign("timezoneOffset",_))}),t}};Sc.default=Dc});var Uo=S(Mc=>{"use strict";Object.defineProperty(Mc,"__esModule",{value:!0});var oD=new RegExp("^\\s*(?:\\(?(?:GMT|UTC)\\s?)?([+-])(\\d{1,2})(?::?(\\d{2}))?\\)?","i"),uD=1,lD=2,cD=3,Oc=class{refine(e,t){return t.forEach(function(n){if(n.start.isCertain("timezoneOffset"))return;let s=e.text.substring(n.index+n.text.length),a=oD.exec(s);if(!a)return;e.debug(()=>{console.log(`Extracting timezone: '${a[0]}' into : ${n}`)});let o=parseInt(a[lD]),l=parseInt(a[cD]||"0"),c=o*60+l;c>14*60||(a[uD]==="-"&&(c=-c),n.end!=null&&n.end.assign("timezoneOffset",c),n.start.assign("timezoneOffset",c),n.text+=a[0])}),t}};Mc.default=Oc});var Vm=S(xc=>{"use strict";Object.defineProperty(xc,"__esModule",{value:!0});var Rc=class{refine(e,t){if(t.length<2)return t;let n=[],s=t[0];for(let a=1;a<t.length;a++){let o=t[a];o.index<s.index+s.text.length?o.text.length>s.text.length&&(s=o):(n.push(s),s=o)}return s!=null&&n.push(s),n}};xc.default=Rc});var Km=S(Vi=>{"use strict";var dD=Vi&&Vi.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Vi,"__esModule",{value:!0});var fD=dD(Re()),Ac=class{refine(e,t){return e.option.forwardDate&&t.forEach(function(n){let s=fD.default(e.refDate);if(n.start.isOnlyDayMonthComponent()&&s.isAfter(n.start.dayjs()))for(let a=0;a<3&&s.isAfter(n.start.dayjs());a++)n.start.imply("year",n.start.get("year")+1),e.debug(()=>{console.log(`Forward yearly adjusted for ${n} (${n.start})`)}),n.end&&!n.end.isCertain("year")&&(n.end.imply("year",n.end.get("year")+1),e.debug(()=>{console.log(`Forward yearly adjusted for ${n} (${n.end})`)}));n.start.isOnlyWeekdayComponent()&&s.isAfter(n.start.dayjs())&&(s.day()>=n.start.get("weekday")?s=s.day(n.start.get("weekday")+7):s=s.day(n.start.get("weekday")),n.start.imply("day",s.date()),n.start.imply("month",s.month()+1),n.start.imply("year",s.year()),e.debug(()=>{console.log(`Forward weekly adjusted for ${n} (${n.start})`)}),n.end&&n.end.isOnlyWeekdayComponent()&&(s.day()>n.end.get("weekday")?s=s.day(n.end.get("weekday")+7):s=s.day(n.end.get("weekday")),n.end.imply("day",s.date()),n.end.imply("month",s.month()+1),n.end.imply("year",s.year()),e.debug(()=>{console.log(`Forward weekly adjusted for ${n} (${n.end})`)})))}),t}};Vi.default=Ac});var Zm=S(Nc=>{"use strict";Object.defineProperty(Nc,"__esModule",{value:!0});var hD=Qs(),Pc=class extends hD.Filter{constructor(e){super(),this.strictMode=e}isValid(e,t){return t.text.replace(" ","").match(/^\d*(\.\d*)?$/)?(e.debug(()=>{console.log(`Removing unlikely result '${t.text}'`)}),!1):t.start.isValidDate()?t.end&&!t.end.isValidDate()?(e.debug(()=>{console.log(`Removing invalid result: ${t} (${t.end})`)}),!1):this.strictMode?this.isStrictModeValid(e,t):!0:(e.debug(()=>{console.log(`Removing invalid result: ${t} (${t.start})`)}),!1)}isStrictModeValid(e,t){return t.start.isOnlyWeekdayComponent()?(e.debug(()=>{console.log(`(Strict) Removing weekday only component: ${t} (${t.end})`)}),!1):t.start.isOnlyTime()&&(!t.start.isCertain("hour")||!t.start.isCertain("minute"))?(e.debug(()=>{console.log(`(Strict) Removing uncertain time component: ${t} (${t.end})`)}),!1):!0}};Nc.default=Pc});var Fc=S(Ic=>{"use strict";Object.defineProperty(Ic,"__esModule",{value:!0});var pD=Z(),mD=new RegExp("([0-9]{4})\\-([0-9]{1,2})\\-([0-9]{1,2})(?:T([0-9]{1,2}):([0-9]{1,2})(?::([0-9]{1,2})(?:\\.(\\d{1,4}))?)?(?:Z|([+-]\\d{2}):?(\\d{2})?)?)?(?=\\W|$)","i"),yD=1,gD=2,_D=3,Qm=4,TD=5,Xm=6,Jm=7,ey=8,ty=9,Cc=class extends pD.AbstractParserWithWordBoundaryChecking{innerPattern(){return mD}innerExtract(e,t){let n={};if(n.year=parseInt(t[yD]),n.month=parseInt(t[gD]),n.day=parseInt(t[_D]),t[Qm]!=null)if(n.hour=parseInt(t[Qm]),n.minute=parseInt(t[TD]),t[Xm]!=null&&(n.second=parseInt(t[Xm])),t[Jm]!=null&&(n.millisecond=parseInt(t[Jm])),t[ey]==null)n.timezoneOffset=0;else{let s=parseInt(t[ey]),a=0;t[ty]!=null&&(a=parseInt(t[ty]));let o=s*60;o<0?o-=a:o+=a,n.timezoneOffset=o}return n}};Ic.default=Cc});var ry=S(Yc=>{"use strict";Object.defineProperty(Yc,"__esModule",{value:!0});var bD=Qs(),Lc=class extends bD.MergingRefiner{mergeResults(e,t,n){let s=n.clone();return s.index=t.index,s.text=t.text+e+s.text,s.start.assign("weekday",t.start.get("weekday")),s.end&&s.end.assign("weekday",t.start.get("weekday")),s}shouldMergeResults(e,t,n){return t.start.isOnlyWeekdayComponent()&&!t.start.isCertain("hour")&&n.start.isCertain("day")&&e.match(/^,?\s*$/)!=null}};Yc.default=Lc});var un=S(Js=>{"use strict";var fs=Js&&Js.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Js,"__esModule",{value:!0});Js.includeCommonConfiguration=void 0;var vD=fs(zm()),wD=fs(Uo()),ny=fs(Vm()),kD=fs(Km()),ED=fs(Zm()),DD=fs(Fc()),SD=fs(ry());function OD(r,e=!1){return r.parsers.unshift(new DD.default),r.refiners.unshift(new SD.default),r.refiners.unshift(new vD.default),r.refiners.unshift(new wD.default),r.refiners.unshift(new ny.default),r.refiners.push(new ny.default),r.refiners.push(new kD.default),r.refiners.push(new ED.default(e)),r}Js.includeCommonConfiguration=OD});var cn=S(Ne=>{"use strict";var MD=Ne&&Ne.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Ne,"__esModule",{value:!0});Ne.noon=Ne.morning=Ne.midnight=Ne.yesterdayEvening=Ne.evening=Ne.lastNight=Ne.tonight=Ne.theDayAfter=Ne.tomorrow=Ne.theDayBefore=Ne.yesterday=Ne.today=Ne.now=void 0;var Gr=rt(),ei=MD(Re()),ln=yr(),Ki=yt();function RD(r){let e=ei.default(r.instant),t=new Gr.ParsingComponents(r,{});return ln.assignSimilarDate(t,e),ln.assignSimilarTime(t,e),r.timezoneOffset!==null&&t.assign("timezoneOffset",e.utcOffset()),t}Ne.now=RD;function xD(r){let e=ei.default(r.instant),t=new Gr.ParsingComponents(r,{});return ln.assignSimilarDate(t,e),ln.implySimilarTime(t,e),t}Ne.today=xD;function AD(r){return sy(r,1)}Ne.yesterday=AD;function sy(r,e){return Uc(r,-e)}Ne.theDayBefore=sy;function PD(r){return Uc(r,1)}Ne.tomorrow=PD;function Uc(r,e){let t=ei.default(r.instant),n=new Gr.ParsingComponents(r,{});return t=t.add(e,"day"),ln.assignSimilarDate(n,t),ln.implySimilarTime(n,t),n}Ne.theDayAfter=Uc;function ND(r,e=22){let t=ei.default(r.instant),n=new Gr.ParsingComponents(r,{});return n.imply("hour",e),n.imply("meridiem",Ki.Meridiem.PM),ln.assignSimilarDate(n,t),n}Ne.tonight=ND;function CD(r,e=0){let t=ei.default(r.instant),n=new Gr.ParsingComponents(r,{});return t.hour()<6&&(t=t.add(-1,"day")),ln.assignSimilarDate(n,t),n.imply("hour",e),n}Ne.lastNight=CD;function ID(r,e=20){let t=new Gr.ParsingComponents(r,{});return t.imply("meridiem",Ki.Meridiem.PM),t.imply("hour",e),t}Ne.evening=ID;function FD(r,e=20){let t=ei.default(r.instant),n=new Gr.ParsingComponents(r,{});return t=t.add(-1,"day"),ln.assignSimilarDate(n,t),n.imply("hour",e),n.imply("meridiem",Ki.Meridiem.PM),n}Ne.yesterdayEvening=FD;function LD(r){let e=new Gr.ParsingComponents(r,{});return e.imply("hour",0),e.imply("minute",0),e.imply("second",0),e}Ne.midnight=LD;function YD(r,e=6){let t=new Gr.ParsingComponents(r,{});return t.imply("meridiem",Ki.Meridiem.AM),t.imply("hour",e),t}Ne.morning=YD;function UD(r){let e=new Gr.ParsingComponents(r,{});return e.imply("meridiem",Ki.Meridiem.AM),e.imply("hour",12),e}Ne.noon=UD});var iy=S(Rr=>{"use strict";var WD=Rr&&Rr.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t),Object.defineProperty(r,n,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),qD=Rr&&Rr.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),jD=Rr&&Rr.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&WD(e,r,t);return qD(e,r),e},GD=Rr&&Rr.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Rr,"__esModule",{value:!0});var $D=GD(Re()),HD=Z(),BD=yr(),Zi=jD(cn()),zD=/(now|today|tonight|tomorrow|tmr|tmrw|yesterday|last\s*night)(?=\W|$)/i,Wc=class extends HD.AbstractParserWithWordBoundaryChecking{innerPattern(e){return zD}innerExtract(e,t){let n=$D.default(e.refDate),s=t[0].toLowerCase(),a=e.createParsingComponents();switch(s){case"now":return Zi.now(e.reference);case"today":return Zi.today(e.reference);case"yesterday":return Zi.yesterday(e.reference);case"tomorrow":case"tmr":case"tmrw":return Zi.tomorrow(e.reference);case"tonight":return Zi.tonight(e.reference);default:s.match(/last\s*night/)&&(n.hour()>6&&(n=n.add(-1,"day")),BD.assignSimilarDate(a,n),a.imply("hour",0));break}return a}};Rr.default=Wc});var ay=S(Qi=>{"use strict";var VD=Qi&&Qi.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Qi,"__esModule",{value:!0});var Wo=yt(),KD=Z(),ZD=VD(Re()),QD=yr(),XD=/(?:this)?\s{0,3}(morning|afternoon|evening|night|midnight|noon)(?=\W|$)/i,qc=class extends KD.AbstractParserWithWordBoundaryChecking{innerPattern(){return XD}innerExtract(e,t){let n=ZD.default(e.refDate),s=e.createParsingComponents();switch(t[1].toLowerCase()){case"afternoon":s.imply("meridiem",Wo.Meridiem.PM),s.imply("hour",15);break;case"evening":case"night":s.imply("meridiem",Wo.Meridiem.PM),s.imply("hour",20);break;case"midnight":QD.assignTheNextDay(s,n),s.imply("hour",0),s.imply("minute",0),s.imply("second",0);break;case"morning":s.imply("meridiem",Wo.Meridiem.AM),s.imply("hour",6);break;case"noon":s.imply("meridiem",Wo.Meridiem.AM),s.imply("hour",12);break}return s}};Qi.default=qc});var hs=S(Yn=>{"use strict";var JD=Yn&&Yn.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Yn,"__esModule",{value:!0});Yn.toDayJSClosestWeekday=Yn.toDayJSWeekday=void 0;var oy=JD(Re());function eS(r,e,t){if(!t)return uy(r,e);let n=oy.default(r);switch(t){case"this":n=n.day(e);break;case"next":n=n.day(e+7);break;case"last":n=n.day(e-7);break}return n}Yn.toDayJSWeekday=eS;function uy(r,e){let t=oy.default(r),n=t.day();return Math.abs(e-7-n)<Math.abs(e-n)?t=t.day(e-7):Math.abs(e+7-n)<Math.abs(e-n)?t=t.day(e+7):t=t.day(e),t}Yn.toDayJSClosestWeekday=uy});var cy=S(Gc=>{"use strict";Object.defineProperty(Gc,"__esModule",{value:!0});var ly=Pt(),tS=Fe(),rS=Z(),nS=hs(),sS=new RegExp(`(?:(?:\\,|\\(|\\\uFF08)\\s*)?(?:on\\s*?)?(?:(this|last|past|next)\\s*)?(${tS.matchAnyPattern(ly.WEEKDAY_DICTIONARY)})(?:\\s*(?:\\,|\\)|\\\uFF09))?(?:\\s*(this|last|past|next)\\s*week)?(?=\\W|$)`,"i"),iS=1,aS=2,oS=3,jc=class extends rS.AbstractParserWithWordBoundaryChecking{innerPattern(){return sS}innerExtract(e,t){let n=t[aS].toLowerCase(),s=ly.WEEKDAY_DICTIONARY[n],a=t[iS],o=t[oS],l=a||o;l=l||"",l=l.toLowerCase();let c=null;l=="last"||l=="past"?c="last":l=="next"?c="next":l=="this"&&(c="this");let f=nS.toDayJSWeekday(e.refDate,s,c);return e.createParsingComponents().assign("weekday",s).imply("day",f.date()).imply("month",f.month()+1).imply("year",f.year())}};Gc.default=jc});var hy=S(Xi=>{"use strict";var uS=Xi&&Xi.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Xi,"__esModule",{value:!0});var fy=Pt(),dy=rt(),lS=uS(Re()),cS=Z(),dS=Fe(),fS=new RegExp(`(this|last|past|next|after\\s*this)\\s*(${dS.matchAnyPattern(fy.TIME_UNIT_DICTIONARY)})(?=\\s*)(?=\\W|$)`,"i"),hS=1,pS=2,$c=class extends cS.AbstractParserWithWordBoundaryChecking{innerPattern(){return fS}innerExtract(e,t){let n=t[hS].toLowerCase(),s=t[pS].toLowerCase(),a=fy.TIME_UNIT_DICTIONARY[s];if(n=="next"||n.startsWith("after")){let c={};return c[a]=1,dy.ParsingComponents.createRelativeFromReference(e.reference,c)}if(n=="last"||n=="past"){let c={};return c[a]=-1,dy.ParsingComponents.createRelativeFromReference(e.reference,c)}let o=e.createParsingComponents(),l=lS.default(e.reference.instant);return s.match(/week/i)?(l=l.add(-l.get("d"),"d"),o.imply("day",l.date()),o.imply("month",l.month()+1),o.imply("year",l.year())):s.match(/month/i)?(l=l.add(-l.date()+1,"d"),o.imply("day",l.date()),o.assign("year",l.year()),o.assign("month",l.month()+1)):s.match(/year/i)&&(l=l.add(-l.date()+1,"d"),l=l.add(-l.month(),"month"),o.imply("day",l.date()),o.imply("month",l.month()+1),o.assign("year",l.year())),o}};Xi.default=$c});var xr=S(ni=>{"use strict";Object.defineProperty(ni,"__esModule",{value:!0});ni.ParsingContext=ni.Chrono=void 0;var ti=rt(),mS=Hc(),ri=class{constructor(e){e=e||mS.createCasualConfiguration(),this.parsers=[...e.parsers],this.refiners=[...e.refiners]}clone(){return new ri({parsers:[...this.parsers],refiners:[...this.refiners]})}parseDate(e,t,n){let s=this.parse(e,t,n);return s.length>0?s[0].start.date():null}parse(e,t,n){let s=new qo(e,t,n),a=[];return this.parsers.forEach(o=>{let l=ri.executeParser(s,o);a=a.concat(l)}),a.sort((o,l)=>o.index-l.index),this.refiners.forEach(function(o){a=o.refine(s,a)}),a}static executeParser(e,t){let n=[],s=t.pattern(e),a=e.text,o=e.text,l=s.exec(o);for(;l;){let c=l.index+a.length-o.length;l.index=c;let f=t.extract(e,l);if(!f){o=a.substring(l.index+1),l=s.exec(o);continue}let p=null;f instanceof ti.ParsingResult?p=f:f instanceof ti.ParsingComponents?(p=e.createParsingResult(l.index,l[0]),p.start=f):p=e.createParsingResult(l.index,l[0],f),e.debug(()=>console.log(`${t.constructor.name} extracted result ${p}`)),n.push(p),o=a.substring(c+p.text.length),l=s.exec(o)}return n}};ni.Chrono=ri;var qo=class{constructor(e,t,n){this.text=e,this.reference=new ti.ReferenceWithTimezone(t),this.option=n!=null?n:{},this.refDate=this.reference.instant}createParsingComponents(e){return e instanceof ti.ParsingComponents?e:new ti.ParsingComponents(this.reference,e)}createParsingResult(e,t,n,s){let a=typeof t=="string"?t:this.text.substring(e,t),o=n?this.createParsingComponents(n):null,l=s?this.createParsingComponents(s):null;return new ti.ParsingResult(this.reference,e,a,o,l)}debug(e){this.option.debug&&(this.option.debug instanceof Function?this.option.debug(e):this.option.debug.debug(e))}};ni.ParsingContext=qo});var ps=S(Vc=>{"use strict";Object.defineProperty(Vc,"__esModule",{value:!0});var py=At(),yS=new RegExp("([^\\d]|^)([0-3]{0,1}[0-9]{1})[\\/\\.\\-]([0-3]{0,1}[0-9]{1})(?:[\\/\\.\\-]([0-9]{4}|[0-9]{2}))?(\\W|$)","i"),jo=1,my=5,yy=2,gy=3,Bc=4,zc=class{constructor(e){this.groupNumberMonth=e?gy:yy,this.groupNumberDay=e?yy:gy}pattern(){return yS}extract(e,t){if(t[jo]=="/"||t[my]=="/"){t.index+=t[0].length;return}let n=t.index+t[jo].length,s=t[0].substr(t[jo].length,t[0].length-t[jo].length-t[my].length);if(s.match(/^\d\.\d$/)||s.match(/^\d\.\d{1,2}\.\d{1,2}\s*$/)||!t[Bc]&&t[0].indexOf("/")<0)return;let a=e.createParsingResult(n,s),o=parseInt(t[this.groupNumberMonth]),l=parseInt(t[this.groupNumberDay]);if((o<1||o>12)&&o>12)if(l>=1&&l<=12&&o<=31)[l,o]=[o,l];else return null;if(l<1||l>31)return null;if(a.start.assign("day",l),a.start.assign("month",o),t[Bc]){let c=parseInt(t[Bc]),f=py.findMostLikelyADYear(c);a.start.assign("year",f)}else{let c=py.findYearClosestToRef(e.refDate,l,o);a.start.imply("year",c)}return a}};Vc.default=zc});var Ty=S(Zc=>{"use strict";Object.defineProperty(Zc,"__esModule",{value:!0});var _y=Pt(),gS=rt(),_S=Z(),TS=gr(),bS=new RegExp(`(this|last|past|next|after|\\+|-)\\s*(${_y.TIME_UNITS_PATTERN})(?=\\W|$)`,"i"),Kc=class extends _S.AbstractParserWithWordBoundaryChecking{innerPattern(){return bS}innerExtract(e,t){let n=t[1].toLowerCase(),s=_y.parseTimeUnits(t[2]);switch(n){case"last":case"past":case"-":s=TS.reverseTimeUnits(s);break}return gS.ParsingComponents.createRelativeFromReference(e.reference,s)}};Zc.default=Kc});var vy=S(Jc=>{"use strict";Object.defineProperty(Jc,"__esModule",{value:!0});var vS=Qs(),Qc=rt(),wS=Pt(),kS=gr();function by(r){return r.text.match(/\s+(before|from)$/i)!=null}function ES(r){return r.text.match(/\s+(after|since)$/i)!=null}var Xc=class extends vS.MergingRefiner{patternBetween(){return/^\s*$/i}shouldMergeResults(e,t,n){return!e.match(this.patternBetween())||!by(t)&&!ES(t)?!1:!!n.start.get("day")&&!!n.start.get("month")&&!!n.start.get("year")}mergeResults(e,t,n){let s=wS.parseTimeUnits(t.text);by(t)&&(s=kS.reverseTimeUnits(s));let a=Qc.ParsingComponents.createRelativeFromReference(new Qc.ReferenceWithTimezone(n.start.date()),s);return new Qc.ParsingResult(n.reference,t.index,`${t.text}${e}${n.text}`,a)}};Jc.default=Xc});var Hc=S(ot=>{"use strict";var vt=ot&&ot.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(ot,"__esModule",{value:!0});ot.createConfiguration=ot.createCasualConfiguration=ot.parseDate=ot.parse=ot.GB=ot.strict=ot.casual=void 0;var DS=vt(bm()),SS=vt(Sm()),OS=vt(Am()),MS=vt(Cm()),RS=vt(Lm()),xS=vt(Ym()),AS=vt(Wm()),PS=vt(qm()),NS=vt(jm()),CS=vt(Gm()),IS=vt(Bm()),FS=un(),LS=vt(iy()),YS=vt(ay()),US=vt(cy()),WS=vt(hy()),ed=xr(),qS=vt(ps()),jS=vt(Ty()),GS=vt(vy());ot.casual=new ed.Chrono(wy(!1));ot.strict=new ed.Chrono(Go(!0,!1));ot.GB=new ed.Chrono(Go(!1,!0));function $S(r,e,t){return ot.casual.parse(r,e,t)}ot.parse=$S;function HS(r,e,t){return ot.casual.parseDate(r,e,t)}ot.parseDate=HS;function wy(r=!1){let e=Go(!1,r);return e.parsers.unshift(new LS.default),e.parsers.unshift(new YS.default),e.parsers.unshift(new MS.default),e.parsers.unshift(new WS.default),e.parsers.unshift(new jS.default),e}ot.createCasualConfiguration=wy;function Go(r=!0,e=!1){return FS.includeCommonConfiguration({parsers:[new qS.default(e),new DS.default,new SS.default,new OS.default,new US.default,new RS.default,new xS.default,new AS.default(r),new PS.default(r),new NS.default(r)],refiners:[new GS.default,new IS.default,new CS.default]},r)}ot.createConfiguration=Go});var ky=S(rd=>{"use strict";Object.defineProperty(rd,"__esModule",{value:!0});var BS=ds(),td=class extends BS.AbstractTimeExpressionParser{primaryPrefix(){return"(?:(?:um|von)\\s*)?"}followingPhase(){return"\\s*(?:\\-|\\\u2013|\\~|\\\u301C|bis)\\s*"}extractPrimaryTimeComponents(e,t){return t[0].match(/^\s*\d{4}\s*$/)?null:super.extractPrimaryTimeComponents(e,t)}};rd.default=td});var Ji=S(We=>{"use strict";Object.defineProperty(We,"__esModule",{value:!0});We.parseTimeUnits=We.TIME_UNITS_PATTERN=We.parseYear=We.YEAR_PATTERN=We.parseNumberPattern=We.NUMBER_PATTERN=We.TIME_UNIT_DICTIONARY=We.INTEGER_WORD_DICTIONARY=We.MONTH_DICTIONARY=We.WEEKDAY_DICTIONARY=void 0;var nd=Fe(),zS=At();We.WEEKDAY_DICTIONARY={sonntag:0,so:0,montag:1,mo:1,dienstag:2,di:2,mittwoch:3,mi:3,donnerstag:4,do:4,freitag:5,fr:5,samstag:6,sa:6};We.MONTH_DICTIONARY={januar:1,j\u00E4nner:1,janner:1,jan:1,"jan.":1,februar:2,feber:2,feb:2,"feb.":2,m\u00E4rz:3,maerz:3,m\u00E4r:3,"m\xE4r.":3,mrz:3,"mrz.":3,april:4,apr:4,"apr.":4,mai:5,juni:6,jun:6,"jun.":6,juli:7,jul:7,"jul.":7,august:8,aug:8,"aug.":8,september:9,sep:9,"sep.":9,sept:9,"sept.":9,oktober:10,okt:10,"okt.":10,november:11,nov:11,"nov.":11,dezember:12,dez:12,"dez.":12};We.INTEGER_WORD_DICTIONARY={eins:1,eine:1,einem:1,einen:1,einer:1,zwei:2,drei:3,vier:4,f\u00FCnf:5,fuenf:5,sechs:6,sieben:7,acht:8,neun:9,zehn:10,elf:11,zw\u00F6lf:12,zwoelf:12};We.TIME_UNIT_DICTIONARY={sek:"second",sekunde:"second",sekunden:"second",min:"minute",minute:"minute",minuten:"minute",h:"hour",std:"hour",stunde:"hour",stunden:"hour",tag:"d",tage:"d",tagen:"d",woche:"week",wochen:"week",monat:"month",monate:"month",monaten:"month",monats:"month",quartal:"quarter",quartals:"quarter",quartale:"quarter",quartalen:"quarter",a:"year",j:"year",jr:"year",jahr:"year",jahre:"year",jahren:"year",jahres:"year"};We.NUMBER_PATTERN=`(?:${nd.matchAnyPattern(We.INTEGER_WORD_DICTIONARY)}|[0-9]+|[0-9]+\\.[0-9]+|half(?:\\s*an?)?|an?\\b(?:\\s*few)?|few|several|a?\\s*couple\\s*(?:of)?)`;function Dy(r){let e=r.toLowerCase();return We.INTEGER_WORD_DICTIONARY[e]!==void 0?We.INTEGER_WORD_DICTIONARY[e]:e==="a"||e==="an"?1:e.match(/few/)?3:e.match(/half/)?.5:e.match(/couple/)?2:e.match(/several/)?7:parseFloat(e)}We.parseNumberPattern=Dy;We.YEAR_PATTERN="(?:[0-9]{1,4}(?:\\s*[vn]\\.?\\s*(?:C(?:hr)?|(?:u\\.?|d\\.?(?:\\s*g\\.?)?)?\\s*Z)\\.?|\\s*(?:u\\.?|d\\.?(?:\\s*g\\.)?)\\s*Z\\.?)?)";function VS(r){if(/v/i.test(r))return-parseInt(r.replace(/[^0-9]+/gi,""));if(/n/i.test(r))return parseInt(r.replace(/[^0-9]+/gi,""));if(/z/i.test(r))return parseInt(r.replace(/[^0-9]+/gi,""));let e=parseInt(r);return zS.findMostLikelyADYear(e)}We.parseYear=VS;var Sy=`(${We.NUMBER_PATTERN})\\s{0,5}(${nd.matchAnyPattern(We.TIME_UNIT_DICTIONARY)})\\s{0,5}`,Ey=new RegExp(Sy,"i");We.TIME_UNITS_PATTERN=nd.repeatedTimeunitPattern("",Sy);function KS(r){let e={},t=r,n=Ey.exec(t);for(;n;)ZS(e,n),t=t.substring(n[0].length),n=Ey.exec(t);return e}We.parseTimeUnits=KS;function ZS(r,e){let t=Dy(e[1]),n=We.TIME_UNIT_DICTIONARY[e[2].toLowerCase()];r[n]=t}});var My=S(id=>{"use strict";Object.defineProperty(id,"__esModule",{value:!0});var Oy=Ji(),QS=Fe(),XS=Z(),JS=hs(),eO=new RegExp(`(?:(?:\\,|\\(|\\\uFF08)\\s*)?(?:a[mn]\\s*?)?(?:(diese[mn]|letzte[mn]|n(?:\xE4|ae)chste[mn])\\s*)?(${QS.matchAnyPattern(Oy.WEEKDAY_DICTIONARY)})(?:\\s*(?:\\,|\\)|\\\uFF09))?(?:\\s*(diese|letzte|n(?:\xE4|ae)chste)\\s*woche)?(?=\\W|$)`,"i"),tO=1,rO=3,nO=2,sd=class extends XS.AbstractParserWithWordBoundaryChecking{innerPattern(){return eO}innerExtract(e,t){let n=t[nO].toLowerCase(),s=Oy.WEEKDAY_DICTIONARY[n],a=t[tO],o=t[rO],l=a||o;l=l||"",l=l.toLowerCase();let c=null;l.match(/letzte/)?c="last":l.match(/chste/)?c="next":l.match(/diese/)&&(c="this");let f=JS.toDayJSWeekday(e.refDate,s,c);return e.createParsingComponents().assign("weekday",s).imply("day",f.date()).imply("month",f.month()+1).imply("year",f.year())}};id.default=sd});var Py=S(ad=>{"use strict";Object.defineProperty(ad,"__esModule",{value:!0});var Un=yt(),sO=new RegExp("(^|\\s|T)(?:(?:um|von)\\s*)?(\\d{1,2})(?:h|:)?(?:(\\d{1,2})(?:m|:)?)?(?:(\\d{1,2})(?:s)?)?(?:\\s*Uhr)?(?:\\s*(morgens|vormittags|nachmittags|abends|nachts|am\\s+(?:Morgen|Vormittag|Nachmittag|Abend)|in\\s+der\\s+Nacht))?(?=\\W|$)","i"),iO=new RegExp("^\\s*(\\-|\\\u2013|\\~|\\\u301C|bis(?:\\s+um)?|\\?)\\s*(\\d{1,2})(?:h|:)?(?:(\\d{1,2})(?:m|:)?)?(?:(\\d{1,2})(?:s)?)?(?:\\s*Uhr)?(?:\\s*(morgens|vormittags|nachmittags|abends|nachts|am\\s+(?:Morgen|Vormittag|Nachmittag|Abend)|in\\s+der\\s+Nacht))?(?=\\W|$)","i"),aO=2,Ry=3,xy=4,Ay=5,si=class{pattern(e){return sO}extract(e,t){let n=e.createParsingResult(t.index+t[1].length,t[0].substring(t[1].length));if(n.text.match(/^\d{4}$/)||(n.start=si.extractTimeComponent(n.start.clone(),t),!n.start))return t.index+=t[0].length,null;let s=e.text.substring(t.index+t[0].length),a=iO.exec(s);return a&&(n.end=si.extractTimeComponent(n.start.clone(),a),n.end&&(n.text+=a[0])),n}static extractTimeComponent(e,t){let n=0,s=0,a=null;if(n=parseInt(t[aO]),t[Ry]!=null&&(s=parseInt(t[Ry])),s>=60||n>24)return null;if(n>=12&&(a=Un.Meridiem.PM),t[Ay]!=null){if(n>12)return null;let o=t[Ay].toLowerCase();o.match(/morgen|vormittag/)&&(a=Un.Meridiem.AM,n==12&&(n=0)),o.match(/nachmittag|abend/)&&(a=Un.Meridiem.PM,n!=12&&(n+=12)),o.match(/nacht/)&&(n==12?(a=Un.Meridiem.AM,n=0):n<6?a=Un.Meridiem.AM:(a=Un.Meridiem.PM,n+=12))}if(e.assign("hour",n),e.assign("minute",s),a!==null?e.assign("meridiem",a):n<12?e.imply("meridiem",Un.Meridiem.AM):e.imply("meridiem",Un.Meridiem.PM),t[xy]!=null){let o=parseInt(t[xy]);if(o>=60)return null;e.assign("second",o)}return e}};ad.default=si});var Ny=S(ea=>{"use strict";var oO=ea&&ea.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(ea,"__esModule",{value:!0});var uO=oO(jr()),od=class extends uO.default{patternBetween(){return/^\s*(bis(?:\s*(?:am|zum))?|-)\s*$/i}};ea.default=od});var Cy=S(ta=>{"use strict";var lO=ta&&ta.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(ta,"__esModule",{value:!0});var cO=lO(on()),ud=class extends cO.default{patternBetween(){return new RegExp("^\\s*(T|um|am|,|-)?\\s*$")}};ta.default=ud});var ld=S(na=>{"use strict";var dO=na&&na.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(na,"__esModule",{value:!0});var fO=dO(Re()),ms=yt(),hO=Z(),pO=yr(),mO=gr(),ra=class extends hO.AbstractParserWithWordBoundaryChecking{innerPattern(e){return/(diesen)?\s*(morgen|vormittag|mittags?|nachmittag|abend|nacht|mitternacht)(?=\W|$)/i}innerExtract(e,t){let n=fO.default(e.refDate),s=t[2].toLowerCase(),a=e.createParsingComponents();return pO.implySimilarTime(a,n),ra.extractTimeComponents(a,s)}static extractTimeComponents(e,t){switch(t){case"morgen":e.imply("hour",6),e.imply("minute",0),e.imply("second",0),e.imply("meridiem",ms.Meridiem.AM);break;case"vormittag":e.imply("hour",9),e.imply("minute",0),e.imply("second",0),e.imply("meridiem",ms.Meridiem.AM);break;case"mittag":case"mittags":e.imply("hour",12),e.imply("minute",0),e.imply("second",0),e.imply("meridiem",ms.Meridiem.AM);break;case"nachmittag":e.imply("hour",15),e.imply("minute",0),e.imply("second",0),e.imply("meridiem",ms.Meridiem.PM);break;case"abend":e.imply("hour",18),e.imply("minute",0),e.imply("second",0),e.imply("meridiem",ms.Meridiem.PM);break;case"nacht":e.imply("hour",22),e.imply("minute",0),e.imply("second",0),e.imply("meridiem",ms.Meridiem.PM);break;case"mitternacht":e.get("hour")>1&&(e=mO.addImpliedTimeUnits(e,{day:1})),e.imply("hour",0),e.imply("minute",0),e.imply("second",0),e.imply("meridiem",ms.Meridiem.AM);break}return e}};na.default=ra});var Ly=S(Ar=>{"use strict";var yO=Ar&&Ar.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t),Object.defineProperty(r,n,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),gO=Ar&&Ar.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),_O=Ar&&Ar.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&yO(e,r,t);return gO(e,r),e},Fy=Ar&&Ar.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Ar,"__esModule",{value:!0});var TO=Fy(Re()),bO=Z(),ys=yr(),vO=Fy(ld()),Iy=_O(cn()),wO=new RegExp("(jetzt|heute|morgen|\xFCbermorgen|uebermorgen|gestern|vorgestern|letzte\\s*nacht)(?:\\s*(morgen|vormittag|mittags?|nachmittag|abend|nacht|mitternacht))?(?=\\W|$)","i"),kO=1,EO=2,cd=class extends bO.AbstractParserWithWordBoundaryChecking{innerPattern(e){return wO}innerExtract(e,t){let n=TO.default(e.refDate),s=(t[kO]||"").toLowerCase(),a=(t[EO]||"").toLowerCase(),o=e.createParsingComponents();switch(s){case"jetzt":o=Iy.now(e.reference);break;case"heute":o=Iy.today(e.reference);break;case"morgen":ys.assignTheNextDay(o,n);break;case"\xFCbermorgen":case"uebermorgen":n=n.add(1,"day"),ys.assignTheNextDay(o,n);break;case"gestern":n=n.add(-1,"day"),ys.assignSimilarDate(o,n),ys.implySimilarTime(o,n);break;case"vorgestern":n=n.add(-2,"day"),ys.assignSimilarDate(o,n),ys.implySimilarTime(o,n);break;default:s.match(/letzte\s*nacht/)&&(n.hour()>6&&(n=n.add(-1,"day")),ys.assignSimilarDate(o,n),o.imply("hour",0));break}return a&&(o=vO.default.extractTimeComponents(o,a)),o}};Ar.default=cd});var Gy=S(fd=>{"use strict";Object.defineProperty(fd,"__esModule",{value:!0});var DO=At(),qy=Ji(),jy=Ji(),SO=Fe(),OO=Z(),MO=new RegExp(`(?:am\\s*?)?(?:den\\s*?)?([0-9]{1,2})\\.(?:\\s*(?:bis(?:\\s*(?:am|zum))?|\\-|\\\u2013|\\s)\\s*([0-9]{1,2})\\.?)?\\s*(${SO.matchAnyPattern(qy.MONTH_DICTIONARY)})(?:(?:-|/|,?\\s*)(${jy.YEAR_PATTERN}(?![^\\s]\\d)))?(?=\\W|$)`,"i"),Yy=1,Uy=2,RO=3,Wy=4,dd=class extends OO.AbstractParserWithWordBoundaryChecking{innerPattern(){return MO}innerExtract(e,t){let n=e.createParsingResult(t.index,t[0]),s=qy.MONTH_DICTIONARY[t[RO].toLowerCase()],a=parseInt(t[Yy]);if(a>31)return t.index=t.index+t[Yy].length,null;if(n.start.assign("month",s),n.start.assign("day",a),t[Wy]){let o=jy.parseYear(t[Wy]);n.start.assign("year",o)}else{let o=DO.findYearClosestToRef(e.refDate,a,s);n.start.imply("year",o)}if(t[Uy]){let o=parseInt(t[Uy]);n.end=n.start.clone(),n.end.assign("day",o)}return n}};fd.default=dd});var $y=S(pd=>{"use strict";Object.defineProperty(pd,"__esModule",{value:!0});var $o=Ji(),xO=rt(),AO=Z(),PO=gr(),NO=Fe(),hd=class extends AO.AbstractParserWithWordBoundaryChecking{constructor(){super()}innerPattern(){return new RegExp(`(?:\\s*((?:n\xE4chste|kommende|folgende|letzte|vergangene|vorige|vor(?:her|an)gegangene)(?:s|n|m|r)?|vor|in)\\s*)?(${$o.NUMBER_PATTERN})?(?:\\s*(n\xE4chste|kommende|folgende|letzte|vergangene|vorige|vor(?:her|an)gegangene)(?:s|n|m|r)?)?\\s*(${NO.matchAnyPattern($o.TIME_UNIT_DICTIONARY)})`,"i")}innerExtract(e,t){let n=t[2]?$o.parseNumberPattern(t[2]):1,s=$o.TIME_UNIT_DICTIONARY[t[4].toLowerCase()],a={};a[s]=n;let o=t[1]||t[3]||"";if(o=o.toLowerCase(),!!o)return(/vor/.test(o)||/letzte/.test(o)||/vergangen/.test(o))&&(a=PO.reverseTimeUnits(a)),xO.ParsingComponents.createRelativeFromReference(e.reference,a)}};pd.default=hd});var zy=S(wt=>{"use strict";var Pr=wt&&wt.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(wt,"__esModule",{value:!0});wt.createConfiguration=wt.createCasualConfiguration=wt.parseDate=wt.parse=wt.strict=wt.casual=void 0;var CO=un(),Hy=xr(),IO=Pr(ps()),FO=Pr(Fc()),LO=Pr(ky()),YO=Pr(My()),UO=Pr(Py()),WO=Pr(Ny()),qO=Pr(Cy()),jO=Pr(Ly()),GO=Pr(ld()),$O=Pr(Gy()),HO=Pr($y());wt.casual=new Hy.Chrono(By());wt.strict=new Hy.Chrono(md(!0));function BO(r,e,t){return wt.casual.parse(r,e,t)}wt.parse=BO;function zO(r,e,t){return wt.casual.parseDate(r,e,t)}wt.parseDate=zO;function By(r=!0){let e=md(!1,r);return e.parsers.unshift(new GO.default),e.parsers.unshift(new jO.default),e.parsers.unshift(new HO.default),e}wt.createCasualConfiguration=By;function md(r=!0,e=!0){return CO.includeCommonConfiguration({parsers:[new FO.default,new IO.default(e),new LO.default,new UO.default,new $O.default,new YO.default],refiners:[new WO.default,new qO.default]},r)}wt.createConfiguration=md});var Ky=S(Nr=>{"use strict";var VO=Nr&&Nr.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t),Object.defineProperty(r,n,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),KO=Nr&&Nr.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),ZO=Nr&&Nr.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&VO(e,r,t);return KO(e,r),e},QO=Nr&&Nr.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Nr,"__esModule",{value:!0});var XO=QO(Re()),JO=yt(),eM=Z(),Vy=yr(),Ho=ZO(cn()),yd=class extends eM.AbstractParserWithWordBoundaryChecking{innerPattern(e){return/(maintenant|aujourd'hui|demain|hier|cette\s*nuit|la\s*veille)(?=\W|$)/i}innerExtract(e,t){let n=XO.default(e.refDate),s=t[0].toLowerCase(),a=e.createParsingComponents();switch(s){case"maintenant":return Ho.now(e.reference);case"aujourd'hui":return Ho.today(e.reference);case"hier":return Ho.yesterday(e.reference);case"demain":return Ho.tomorrow(e.reference);default:s.match(/cette\s*nuit/)?(Vy.assignSimilarDate(a,n),a.imply("hour",22),a.imply("meridiem",JO.Meridiem.PM)):s.match(/la\s*veille/)&&(n=n.add(-1,"day"),Vy.assignSimilarDate(a,n),a.imply("hour",0))}return a}};Nr.default=yd});var Zy=S(_d=>{"use strict";Object.defineProperty(_d,"__esModule",{value:!0});var sa=yt(),tM=Z(),gd=class extends tM.AbstractParserWithWordBoundaryChecking{innerPattern(e){return/(cet?)?\s*(matin|soir|après-midi|aprem|a midi|à minuit)(?=\W|$)/i}innerExtract(e,t){let n=t[2].toLowerCase(),s=e.createParsingComponents();switch(n){case"apr\xE8s-midi":case"aprem":s.imply("hour",14),s.imply("minute",0),s.imply("meridiem",sa.Meridiem.PM);break;case"soir":s.imply("hour",18),s.imply("minute",0),s.imply("meridiem",sa.Meridiem.PM);break;case"matin":s.imply("hour",8),s.imply("minute",0),s.imply("meridiem",sa.Meridiem.AM);break;case"a midi":s.imply("hour",12),s.imply("minute",0),s.imply("meridiem",sa.Meridiem.AM);break;case"\xE0 minuit":s.imply("hour",0),s.imply("meridiem",sa.Meridiem.AM);break}return s}};_d.default=gd});var Qy=S(bd=>{"use strict";Object.defineProperty(bd,"__esModule",{value:!0});var rM=ds(),Td=class extends rM.AbstractTimeExpressionParser{primaryPrefix(){return"(?:(?:[\xE0a])\\s*)?"}followingPhase(){return"\\s*(?:\\-|\\\u2013|\\~|\\\u301C|[\xE0a]|\\?)\\s*"}extractPrimaryTimeComponents(e,t){return t[0].match(/^\s*\d{4}\s*$/)?null:super.extractPrimaryTimeComponents(e,t)}};bd.default=Td});var Xy=S(ia=>{"use strict";var nM=ia&&ia.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(ia,"__esModule",{value:!0});var sM=nM(on()),vd=class extends sM.default{patternBetween(){return new RegExp("^\\s*(T|\xE0|a|vers|de|,|-)?\\s*$")}};ia.default=vd});var Jy=S(aa=>{"use strict";var iM=aa&&aa.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(aa,"__esModule",{value:!0});var aM=iM(jr()),wd=class extends aM.default{patternBetween(){return/^\s*(à|a|-)\s*$/i}};aa.default=wd});var Wn=S(xe=>{"use strict";Object.defineProperty(xe,"__esModule",{value:!0});xe.parseTimeUnits=xe.TIME_UNITS_PATTERN=xe.parseYear=xe.YEAR_PATTERN=xe.parseOrdinalNumberPattern=xe.ORDINAL_NUMBER_PATTERN=xe.parseNumberPattern=xe.NUMBER_PATTERN=xe.TIME_UNIT_DICTIONARY=xe.INTEGER_WORD_DICTIONARY=xe.MONTH_DICTIONARY=xe.WEEKDAY_DICTIONARY=void 0;var kd=Fe();xe.WEEKDAY_DICTIONARY={dimanche:0,dim:0,lundi:1,lun:1,mardi:2,mar:2,mercredi:3,mer:3,jeudi:4,jeu:4,vendredi:5,ven:5,samedi:6,sam:6};xe.MONTH_DICTIONARY={janvier:1,jan:1,"jan.":1,f\u00E9vrier:2,f\u00E9v:2,"f\xE9v.":2,fevrier:2,fev:2,"fev.":2,mars:3,mar:3,"mar.":3,avril:4,avr:4,"avr.":4,mai:5,juin:6,jun:6,juillet:7,juil:7,jul:7,"jul.":7,ao\u00FBt:8,aout:8,septembre:9,sep:9,"sep.":9,sept:9,"sept.":9,octobre:10,oct:10,"oct.":10,novembre:11,nov:11,"nov.":11,d\u00E9cembre:12,decembre:12,dec:12,"dec.":12};xe.INTEGER_WORD_DICTIONARY={un:1,deux:2,trois:3,quatre:4,cinq:5,six:6,sept:7,huit:8,neuf:9,dix:10,onze:11,douze:12,treize:13};xe.TIME_UNIT_DICTIONARY={sec:"second",seconde:"second",secondes:"second",min:"minute",mins:"minute",minute:"minute",minutes:"minute",h:"hour",hr:"hour",hrs:"hour",heure:"hour",heures:"hour",jour:"d",jours:"d",semaine:"week",semaines:"week",mois:"month",trimestre:"quarter",trimestres:"quarter",ans:"year",ann\u00E9e:"year",ann\u00E9es:"year"};xe.NUMBER_PATTERN=`(?:${kd.matchAnyPattern(xe.INTEGER_WORD_DICTIONARY)}|[0-9]+|[0-9]+\\.[0-9]+|une?\\b|quelques?|demi-?)`;function tg(r){let e=r.toLowerCase();return xe.INTEGER_WORD_DICTIONARY[e]!==void 0?xe.INTEGER_WORD_DICTIONARY[e]:e==="une"||e==="un"?1:e.match(/quelques?/)?3:e.match(/demi-?/)?.5:parseFloat(e)}xe.parseNumberPattern=tg;xe.ORDINAL_NUMBER_PATTERN="(?:[0-9]{1,2}(?:er)?)";function oM(r){let e=r.toLowerCase();return e=e.replace(/(?:er)$/i,""),parseInt(e)}xe.parseOrdinalNumberPattern=oM;xe.YEAR_PATTERN="(?:[1-9][0-9]{0,3}\\s*(?:AC|AD|p\\.\\s*C(?:hr?)?\\.\\s*n\\.)|[1-2][0-9]{3}|[5-9][0-9])";function uM(r){if(/AC/i.test(r))return r=r.replace(/BC/i,""),-parseInt(r);if(/AD/i.test(r)||/C/i.test(r))return r=r.replace(/[^\d]+/i,""),parseInt(r);let e=parseInt(r);return e<100&&(e>50?e=e+1900:e=e+2e3),e}xe.parseYear=uM;var rg=`(${xe.NUMBER_PATTERN})\\s{0,5}(${kd.matchAnyPattern(xe.TIME_UNIT_DICTIONARY)})\\s{0,5}`,eg=new RegExp(rg,"i");xe.TIME_UNITS_PATTERN=kd.repeatedTimeunitPattern("",rg);function lM(r){let e={},t=r,n=eg.exec(t);for(;n;)cM(e,n),t=t.substring(n[0].length),n=eg.exec(t);return e}xe.parseTimeUnits=lM;function cM(r,e){let t=tg(e[1]),n=xe.TIME_UNIT_DICTIONARY[e[2].toLowerCase()];r[n]=t}});var sg=S(Dd=>{"use strict";Object.defineProperty(Dd,"__esModule",{value:!0});var ng=Wn(),dM=Fe(),fM=Z(),hM=hs(),pM=new RegExp(`(?:(?:\\,|\\(|\\\uFF08)\\s*)?(?:(?:ce)\\s*)?(${dM.matchAnyPattern(ng.WEEKDAY_DICTIONARY)})(?:\\s*(?:\\,|\\)|\\\uFF09))?(?:\\s*(dernier|prochain)\\s*)?(?=\\W|\\d|$)`,"i"),mM=1,yM=2,Ed=class extends fM.AbstractParserWithWordBoundaryChecking{innerPattern(){return pM}innerExtract(e,t){let n=t[mM].toLowerCase(),s=ng.WEEKDAY_DICTIONARY[n];if(s===void 0)return null;let a=t[yM];a=a||"",a=a.toLowerCase();let o=null;a=="dernier"?o="last":a=="prochain"&&(o="next");let l=hM.toDayJSWeekday(e.refDate,s,o);return e.createParsingComponents().assign("weekday",s).imply("day",l.date()).imply("month",l.month()+1).imply("year",l.year())}};Dd.default=Ed});var ug=S(Sd=>{"use strict";Object.defineProperty(Sd,"__esModule",{value:!0});var oa=yt(),gM=new RegExp("(^|\\s|T)(?:(?:[\xE0a])\\s*)?(\\d{1,2})(?:h|:)?(?:(\\d{1,2})(?:m|:)?)?(?:(\\d{1,2})(?:s|:)?)?(?:\\s*(A\\.M\\.|P\\.M\\.|AM?|PM?))?(?=\\W|$)","i"),_M=new RegExp("^\\s*(\\-|\\\u2013|\\~|\\\u301C|[\xE0a]|\\?)\\s*(\\d{1,2})(?:h|:)?(?:(\\d{1,2})(?:m|:)?)?(?:(\\d{1,2})(?:s|:)?)?(?:\\s*(A\\.M\\.|P\\.M\\.|AM?|PM?))?(?=\\W|$)","i"),TM=2,ig=3,ag=4,og=5,ii=class{pattern(e){return gM}extract(e,t){let n=e.createParsingResult(t.index+t[1].length,t[0].substring(t[1].length));if(n.text.match(/^\d{4}$/)||(n.start=ii.extractTimeComponent(n.start.clone(),t),!n.start))return t.index+=t[0].length,null;let s=e.text.substring(t.index+t[0].length),a=_M.exec(s);return a&&(n.end=ii.extractTimeComponent(n.start.clone(),a),n.end&&(n.text+=a[0])),n}static extractTimeComponent(e,t){let n=0,s=0,a=null;if(n=parseInt(t[TM]),t[ig]!=null&&(s=parseInt(t[ig])),s>=60||n>24)return null;if(n>=12&&(a=oa.Meridiem.PM),t[og]!=null){if(n>12)return null;let o=t[og][0].toLowerCase();o=="a"&&(a=oa.Meridiem.AM,n==12&&(n=0)),o=="p"&&(a=oa.Meridiem.PM,n!=12&&(n+=12))}if(e.assign("hour",n),e.assign("minute",s),a!==null?e.assign("meridiem",a):n<12?e.imply("meridiem",oa.Meridiem.AM):e.imply("meridiem",oa.Meridiem.PM),t[ag]!=null){let o=parseInt(t[ag]);if(o>=60)return null;e.assign("second",o)}return e}};Sd.default=ii});var pg=S(Md=>{"use strict";Object.defineProperty(Md,"__esModule",{value:!0});var bM=At(),fg=Wn(),hg=Wn(),Bo=Wn(),vM=Fe(),wM=Z(),kM=new RegExp(`(?:on\\s*?)?(${Bo.ORDINAL_NUMBER_PATTERN})(?:\\s*(?:au|\\-|\\\u2013|jusqu'au?|\\s)\\s*(${Bo.ORDINAL_NUMBER_PATTERN}))?(?:-|/|\\s*(?:de)?\\s*)(${vM.matchAnyPattern(fg.MONTH_DICTIONARY)})(?:(?:-|/|,?\\s*)(${hg.YEAR_PATTERN}(?![^\\s]\\d)))?(?=\\W|$)`,"i"),lg=1,cg=2,EM=3,dg=4,Od=class extends wM.AbstractParserWithWordBoundaryChecking{innerPattern(){return kM}innerExtract(e,t){let n=e.createParsingResult(t.index,t[0]),s=fg.MONTH_DICTIONARY[t[EM].toLowerCase()],a=Bo.parseOrdinalNumberPattern(t[lg]);if(a>31)return t.index=t.index+t[lg].length,null;if(n.start.assign("month",s),n.start.assign("day",a),t[dg]){let o=hg.parseYear(t[dg]);n.start.assign("year",o)}else{let o=bM.findYearClosestToRef(e.refDate,a,s);n.start.imply("year",o)}if(t[cg]){let o=Bo.parseOrdinalNumberPattern(t[cg]);n.end=n.start.clone(),n.end.assign("day",o)}return n}};Md.default=Od});var yg=S(xd=>{"use strict";Object.defineProperty(xd,"__esModule",{value:!0});var mg=Wn(),DM=rt(),SM=Z(),OM=gr(),Rd=class extends SM.AbstractParserWithWordBoundaryChecking{constructor(){super()}innerPattern(){return new RegExp(`il y a\\s*(${mg.TIME_UNITS_PATTERN})(?=(?:\\W|$))`,"i")}innerExtract(e,t){let n=mg.parseTimeUnits(t[1]),s=OM.reverseTimeUnits(n);return DM.ParsingComponents.createRelativeFromReference(e.reference,s)}};xd.default=Rd});var _g=S(Pd=>{"use strict";Object.defineProperty(Pd,"__esModule",{value:!0});var gg=Wn(),MM=rt(),RM=Z(),Ad=class extends RM.AbstractParserWithWordBoundaryChecking{innerPattern(){return new RegExp(`(?:dans|en|pour|pendant|de)\\s*(${gg.TIME_UNITS_PATTERN})(?=\\W|$)`,"i")}innerExtract(e,t){let n=gg.parseTimeUnits(t[1]);return MM.ParsingComponents.createRelativeFromReference(e.reference,n)}};Pd.default=Ad});var Tg=S(Cd=>{"use strict";Object.defineProperty(Cd,"__esModule",{value:!0});var zo=Wn(),xM=rt(),AM=Z(),PM=gr(),NM=Fe(),Nd=class extends AM.AbstractParserWithWordBoundaryChecking{constructor(){super()}innerPattern(){return new RegExp(`(?:les?|la|l'|du|des?)\\s*(${zo.NUMBER_PATTERN})?(?:\\s*(prochaine?s?|derni[e\xE8]re?s?|pass[\xE9e]e?s?|pr[\xE9e]c[\xE9e]dents?|suivante?s?))?\\s*(${NM.matchAnyPattern(zo.TIME_UNIT_DICTIONARY)})(?:\\s*(prochaine?s?|derni[e\xE8]re?s?|pass[\xE9e]e?s?|pr[\xE9e]c[\xE9e]dents?|suivante?s?))?`,"i")}innerExtract(e,t){let n=t[1]?zo.parseNumberPattern(t[1]):1,s=zo.TIME_UNIT_DICTIONARY[t[3].toLowerCase()],a={};a[s]=n;let o=t[2]||t[4]||"";if(o=o.toLowerCase(),!!o)return(/derni[eè]re?s?/.test(o)||/pass[ée]e?s?/.test(o)||/pr[ée]c[ée]dents?/.test(o))&&(a=PM.reverseTimeUnits(a)),xM.ParsingComponents.createRelativeFromReference(e.reference,a)}};Cd.default=Nd});var wg=S(kt=>{"use strict";var _r=kt&&kt.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(kt,"__esModule",{value:!0});kt.createConfiguration=kt.createCasualConfiguration=kt.parseDate=kt.parse=kt.strict=kt.casual=void 0;var CM=un(),bg=xr(),IM=_r(Ky()),FM=_r(Zy()),LM=_r(ps()),YM=_r(Qy()),UM=_r(Xy()),WM=_r(Jy()),qM=_r(sg()),jM=_r(ug()),GM=_r(pg()),$M=_r(yg()),HM=_r(_g()),BM=_r(Tg());kt.casual=new bg.Chrono(vg());kt.strict=new bg.Chrono(Id(!0));function zM(r,e,t){return kt.casual.parse(r,e,t)}kt.parse=zM;function VM(r,e,t){return kt.casual.parseDate(r,e,t)}kt.parseDate=VM;function vg(r=!0){let e=Id(!1,r);return e.parsers.unshift(new IM.default),e.parsers.unshift(new FM.default),e.parsers.unshift(new BM.default),e}kt.createCasualConfiguration=vg;function Id(r=!0,e=!0){return CM.includeCommonConfiguration({parsers:[new LM.default(e),new GM.default,new YM.default,new jM.default,new $M.default,new HM.default,new qM.default],refiners:[new UM.default,new WM.default]},r)}kt.createConfiguration=Id});var kg=S(Vo=>{"use strict";Object.defineProperty(Vo,"__esModule",{value:!0});Vo.toHankaku=void 0;function KM(r){return String(r).replace(/\u2019/g,"'").replace(/\u201D/g,'"').replace(/\u3000/g," ").replace(/\uFFE5/g,"\xA5").replace(/[\uFF01\uFF03-\uFF06\uFF08\uFF09\uFF0C-\uFF19\uFF1C-\uFF1F\uFF21-\uFF3B\uFF3D\uFF3F\uFF41-\uFF5B\uFF5D\uFF5E]/g,ZM)}Vo.toHankaku=KM;function ZM(r){return String.fromCharCode(r.charCodeAt(0)-65248)}});var Dg=S(ua=>{"use strict";var QM=ua&&ua.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(ua,"__esModule",{value:!0});var Fd=kg(),XM=At(),JM=QM(Re()),eR=/(?:(?:([同今本])|((昭和|平成|令和)?([0-9０-９]{1,4}|元)))年\s*)?([0-9０-９]{1,2})月\s*([0-9０-９]{1,2})日/i,Eg=1,tR=2,Ld=3,rR=4,nR=5,sR=6,Yd=class{pattern(){return eR}extract(e,t){let n=parseInt(Fd.toHankaku(t[nR])),s=parseInt(Fd.toHankaku(t[sR])),a=e.createParsingComponents({day:s,month:n});if(t[Eg]&&t[Eg].match("\u540C|\u4ECA|\u672C")){let o=JM.default(e.refDate);a.assign("year",o.year())}if(t[tR]){let o=t[rR],l=o=="\u5143"?1:parseInt(Fd.toHankaku(o));t[Ld]=="\u4EE4\u548C"?l+=2018:t[Ld]=="\u5E73\u6210"?l+=1988:t[Ld]=="\u662D\u548C"&&(l+=1925),a.assign("year",l)}else{let o=XM.findYearClosestToRef(e.refDate,s,n);a.imply("year",o)}return a}};ua.default=Yd});var Sg=S(la=>{"use strict";var iR=la&&la.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(la,"__esModule",{value:!0});var aR=iR(jr()),Ud=class extends aR.default{patternBetween(){return/^\s*(から|ー|-)\s*$/i}};la.default=Ud});var Mg=S(Cr=>{"use strict";var oR=Cr&&Cr.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t),Object.defineProperty(r,n,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),uR=Cr&&Cr.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),lR=Cr&&Cr.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&oR(e,r,t);return uR(e,r),e},cR=Cr&&Cr.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Cr,"__esModule",{value:!0});var dR=cR(Re()),Og=yt(),Wd=lR(cn()),fR=/今日|当日|昨日|明日|今夜|今夕|今晩|今朝/i,qd=class{pattern(){return fR}extract(e,t){let n=t[0],s=dR.default(e.refDate),a=e.createParsingComponents();switch(n){case"\u6628\u65E5":return Wd.yesterday(e.reference);case"\u660E\u65E5":return Wd.tomorrow(e.reference);case"\u4ECA\u65E5":case"\u5F53\u65E5":return Wd.today(e.reference)}return n=="\u4ECA\u591C"||n=="\u4ECA\u5915"||n=="\u4ECA\u6669"?(a.imply("hour",22),a.assign("meridiem",Og.Meridiem.PM)):n.match("\u4ECA\u671D")&&(a.imply("hour",6),a.assign("meridiem",Og.Meridiem.AM)),a.assign("day",s.date()),a.assign("month",s.month()+1),a.assign("year",s.year()),a}};Cr.default=qd});var Ag=S(Et=>{"use strict";var jd=Et&&Et.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Et,"__esModule",{value:!0});Et.createConfiguration=Et.createCasualConfiguration=Et.parseDate=Et.parse=Et.strict=Et.casual=void 0;var hR=jd(Dg()),pR=jd(Sg()),mR=jd(Mg()),Rg=xr();Et.casual=new Rg.Chrono(xg());Et.strict=new Rg.Chrono(Gd());function yR(r,e,t){return Et.casual.parse(r,e,t)}Et.parse=yR;function gR(r,e,t){return Et.casual.parseDate(r,e,t)}Et.parseDate=gR;function xg(){let r=Gd();return r.parsers.unshift(new mR.default),r}Et.createCasualConfiguration=xg;function Gd(){return{parsers:[new hR.default],refiners:[new pR.default]}}Et.createConfiguration=Gd});var Ko=S($r=>{"use strict";Object.defineProperty($r,"__esModule",{value:!0});$r.parseYear=$r.YEAR_PATTERN=$r.MONTH_DICTIONARY=$r.WEEKDAY_DICTIONARY=void 0;$r.WEEKDAY_DICTIONARY={domingo:0,dom:0,segunda:1,"segunda-feira":1,seg:1,ter\u00E7a:2,"ter\xE7a-feira":2,ter:2,quarta:3,"quarta-feira":3,qua:3,quinta:4,"quinta-feira":4,qui:4,sexta:5,"sexta-feira":5,sex:5,s\u00E1bado:6,sabado:6,sab:6};$r.MONTH_DICTIONARY={janeiro:1,jan:1,"jan.":1,fevereiro:2,fev:2,"fev.":2,mar\u00E7o:3,mar:3,"mar.":3,abril:4,abr:4,"abr.":4,maio:5,mai:5,"mai.":5,junho:6,jun:6,"jun.":6,julho:7,jul:7,"jul.":7,agosto:8,ago:8,"ago.":8,setembro:9,set:9,"set.":9,outubro:10,out:10,"out.":10,novembro:11,nov:11,"nov.":11,dezembro:12,dez:12,"dez.":12};$r.YEAR_PATTERN="[0-9]{1,4}(?![^\\s]\\d)(?:\\s*[a|d]\\.?\\s*c\\.?|\\s*a\\.?\\s*d\\.?)?";function _R(r){if(r.match(/^[0-9]{1,4}$/)){let e=parseInt(r);return e<100&&(e>50?e=e+1900:e=e+2e3),e}return r.match(/a\.?\s*c\.?/i)?(r=r.replace(/a\.?\s*c\.?/i,""),-parseInt(r)):parseInt(r)}$r.parseYear=_R});var Ng=S(Hd=>{"use strict";Object.defineProperty(Hd,"__esModule",{value:!0});var Pg=Ko(),TR=Fe(),bR=Z(),vR=hs(),wR=new RegExp(`(?:(?:\\,|\\(|\\\uFF08)\\s*)?(?:(este|esta|passado|pr[o\xF3]ximo)\\s*)?(${TR.matchAnyPattern(Pg.WEEKDAY_DICTIONARY)})(?:\\s*(?:\\,|\\)|\\\uFF09))?(?:\\s*(este|esta|passado|pr[\xF3o]ximo)\\s*semana)?(?=\\W|\\d|$)`,"i"),kR=1,ER=2,DR=3,$d=class extends bR.AbstractParserWithWordBoundaryChecking{innerPattern(){return wR}innerExtract(e,t){let n=t[ER].toLowerCase(),s=Pg.WEEKDAY_DICTIONARY[n];if(s===void 0)return null;let a=t[kR],o=t[DR],l=a||o||"";l=l.toLowerCase();let c=null;l=="passado"?c="this":l=="pr\xF3ximo"||l=="proximo"?c="next":l=="este"&&(c="this");let f=vR.toDayJSWeekday(e.refDate,s,c);return e.createParsingComponents().assign("weekday",s).imply("day",f.date()).imply("month",f.month()+1).imply("year",f.year())}};Hd.default=$d});var Cg=S(zd=>{"use strict";Object.defineProperty(zd,"__esModule",{value:!0});var SR=ds(),Bd=class extends SR.AbstractTimeExpressionParser{primaryPrefix(){return"(?:(?:ao?|\xE0s?|das|da|de|do)\\s*)?"}followingPhase(){return"\\s*(?:\\-|\\\u2013|\\~|\\\u301C|a(?:o)?|\\?)\\s*"}};zd.default=Bd});var Ig=S(ca=>{"use strict";var OR=ca&&ca.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(ca,"__esModule",{value:!0});var MR=OR(on()),Vd=class extends MR.default{patternBetween(){return new RegExp("^\\s*(?:,|\xE0)?\\s*$")}};ca.default=Vd});var Fg=S(da=>{"use strict";var RR=da&&da.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(da,"__esModule",{value:!0});var xR=RR(jr()),Kd=class extends xR.default{patternBetween(){return/^\s*(?:-)\s*$/i}};da.default=Kd});var jg=S(Qd=>{"use strict";Object.defineProperty(Qd,"__esModule",{value:!0});var AR=At(),Wg=Ko(),qg=Ko(),PR=Fe(),NR=Z(),CR=new RegExp(`([0-9]{1,2})(?:\xBA|\xAA|\xB0)?(?:\\s*(?:desde|de|\\-|\\\u2013|ao?|\\s)\\s*([0-9]{1,2})(?:\xBA|\xAA|\xB0)?)?\\s*(?:de)?\\s*(?:-|/|\\s*(?:de|,)?\\s*)(${PR.matchAnyPattern(Wg.MONTH_DICTIONARY)})(?:\\s*(?:de|,)?\\s*(${qg.YEAR_PATTERN}))?(?=\\W|$)`,"i"),Lg=1,Yg=2,IR=3,Ug=4,Zd=class extends NR.AbstractParserWithWordBoundaryChecking{innerPattern(){return CR}innerExtract(e,t){let n=e.createParsingResult(t.index,t[0]),s=Wg.MONTH_DICTIONARY[t[IR].toLowerCase()],a=parseInt(t[Lg]);if(a>31)return t.index=t.index+t[Lg].length,null;if(n.start.assign("month",s),n.start.assign("day",a),t[Ug]){let o=qg.parseYear(t[Ug]);n.start.assign("year",o)}else{let o=AR.findYearClosestToRef(e.refDate,a,s);n.start.imply("year",o)}if(t[Yg]){let o=parseInt(t[Yg]);n.end=n.start.clone(),n.end.assign("day",o)}return n}};Qd.default=Zd});var Gg=S(dn=>{"use strict";var FR=dn&&dn.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t),Object.defineProperty(r,n,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),LR=dn&&dn.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),YR=dn&&dn.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&FR(e,r,t);return LR(e,r),e};Object.defineProperty(dn,"__esModule",{value:!0});var UR=Z(),Zo=YR(cn()),Xd=class extends UR.AbstractParserWithWordBoundaryChecking{innerPattern(e){return/(agora|hoje|amanha|amanhã|ontem)(?=\W|$)/i}innerExtract(e,t){let n=t[0].toLowerCase(),s=e.createParsingComponents();switch(n){case"agora":return Zo.now(e.reference);case"hoje":return Zo.today(e.reference);case"amanha":case"amanh\xE3":return Zo.tomorrow(e.reference);case"ontem":return Zo.yesterday(e.reference)}return s}};dn.default=Xd});var $g=S(fa=>{"use strict";var WR=fa&&fa.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(fa,"__esModule",{value:!0});var Qo=yt(),qR=Z(),jR=yr(),GR=WR(Re()),Jd=class extends qR.AbstractParserWithWordBoundaryChecking{innerPattern(){return/(?:esta\s*)?(manha|manhã|tarde|meia-noite|meio-dia|noite)(?=\W|$)/i}innerExtract(e,t){let n=GR.default(e.refDate),s=e.createParsingComponents();switch(t[1].toLowerCase()){case"tarde":s.imply("meridiem",Qo.Meridiem.PM),s.imply("hour",15);break;case"noite":s.imply("meridiem",Qo.Meridiem.PM),s.imply("hour",22);break;case"manha":case"manh\xE3":s.imply("meridiem",Qo.Meridiem.AM),s.imply("hour",6);break;case"meia-noite":jR.assignTheNextDay(s,n),s.imply("hour",0),s.imply("minute",0),s.imply("second",0);break;case"meio-dia":s.imply("meridiem",Qo.Meridiem.AM),s.imply("hour",12);break}return s}};fa.default=Jd});var zg=S(Dt=>{"use strict";var qn=Dt&&Dt.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Dt,"__esModule",{value:!0});Dt.createConfiguration=Dt.createCasualConfiguration=Dt.parseDate=Dt.parse=Dt.strict=Dt.casual=void 0;var $R=un(),Hg=xr(),HR=qn(ps()),BR=qn(Ng()),zR=qn(Cg()),VR=qn(Ig()),KR=qn(Fg()),ZR=qn(jg()),QR=qn(Gg()),XR=qn($g());Dt.casual=new Hg.Chrono(Bg());Dt.strict=new Hg.Chrono(ef(!0));function JR(r,e,t){return Dt.casual.parse(r,e,t)}Dt.parse=JR;function ex(r,e,t){return Dt.casual.parseDate(r,e,t)}Dt.parseDate=ex;function Bg(r=!0){let e=ef(!1,r);return e.parsers.push(new QR.default),e.parsers.push(new XR.default),e}Dt.createCasualConfiguration=Bg;function ef(r=!0,e=!0){return $R.includeCommonConfiguration({parsers:[new HR.default(e),new BR.default,new zR.default,new ZR.default],refiners:[new VR.default,new KR.default]},r)}Dt.createConfiguration=ef});var Vg=S(ha=>{"use strict";var tx=ha&&ha.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(ha,"__esModule",{value:!0});var rx=tx(jr()),tf=class extends rx.default{patternBetween(){return/^\s*(tot|-)\s*$/i}};ha.default=tf});var Kg=S(pa=>{"use strict";var nx=pa&&pa.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(pa,"__esModule",{value:!0});var sx=nx(on()),rf=class extends sx.default{patternBetween(){return new RegExp("^\\s*(om|na|voor|in de|,|-)?\\s*$")}};pa.default=rf});var Zg=S(fn=>{"use strict";var ix=fn&&fn.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t),Object.defineProperty(r,n,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),ax=fn&&fn.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),ox=fn&&fn.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&ix(e,r,t);return ax(e,r),e};Object.defineProperty(fn,"__esModule",{value:!0});var ux=Z(),Xo=ox(cn()),nf=class extends ux.AbstractParserWithWordBoundaryChecking{innerPattern(e){return/(nu|vandaag|morgen|morgend|gisteren)(?=\W|$)/i}innerExtract(e,t){let n=t[0].toLowerCase(),s=e.createParsingComponents();switch(n){case"nu":return Xo.now(e.reference);case"vandaag":return Xo.today(e.reference);case"morgen":case"morgend":return Xo.tomorrow(e.reference);case"gisteren":return Xo.yesterday(e.reference)}return s}};fn.default=nf});var Qg=S(ma=>{"use strict";var lx=ma&&ma.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(ma,"__esModule",{value:!0});var Jo=yt(),cx=Z(),dx=lx(Re()),fx=yr(),hx=1,px=2,sf=class extends cx.AbstractParserWithWordBoundaryChecking{innerPattern(){return/(deze)?\s*(namiddag|avond|middernacht|ochtend|middag|'s middags|'s avonds|'s ochtends)(?=\W|$)/i}innerExtract(e,t){let n=dx.default(e.refDate),s=e.createParsingComponents();switch(t[hx]==="deze"&&(s.assign("day",e.refDate.getDate()),s.assign("month",e.refDate.getMonth()+1),s.assign("year",e.refDate.getFullYear())),t[px].toLowerCase()){case"namiddag":case"'s namiddags":s.imply("meridiem",Jo.Meridiem.PM),s.imply("hour",15);break;case"avond":case"'s avonds'":s.imply("meridiem",Jo.Meridiem.PM),s.imply("hour",20);break;case"middernacht":fx.assignTheNextDay(s,n),s.imply("hour",0),s.imply("minute",0),s.imply("second",0);break;case"ochtend":case"'s ochtends":s.imply("meridiem",Jo.Meridiem.AM),s.imply("hour",6);break;case"middag":case"'s middags":s.imply("meridiem",Jo.Meridiem.AM),s.imply("hour",12);break}return s}};ma.default=sf});var rr=S(ve=>{"use strict";Object.defineProperty(ve,"__esModule",{value:!0});ve.parseTimeUnits=ve.TIME_UNITS_PATTERN=ve.parseYear=ve.YEAR_PATTERN=ve.parseOrdinalNumberPattern=ve.ORDINAL_NUMBER_PATTERN=ve.parseNumberPattern=ve.NUMBER_PATTERN=ve.TIME_UNIT_DICTIONARY=ve.ORDINAL_WORD_DICTIONARY=ve.INTEGER_WORD_DICTIONARY=ve.MONTH_DICTIONARY=ve.WEEKDAY_DICTIONARY=void 0;var eu=Fe(),mx=At();ve.WEEKDAY_DICTIONARY={zondag:0,zon:0,"zon.":0,zo:0,"zo.":0,maandag:1,ma:1,"ma.":1,dinsdag:2,din:2,"din.":2,di:2,"di.":2,woensdag:3,woe:3,"woe.":3,wo:3,"wo.":3,donderdag:4,dond:4,"dond.":4,do:4,"do.":4,vrijdag:5,vrij:5,"vrij.":5,vr:5,"vr.":5,zaterdag:6,zat:6,"zat.":6,za:6,"za.":6};ve.MONTH_DICTIONARY={januari:1,jan:1,"jan.":1,februari:2,feb:2,"feb.":2,maart:3,mar:3,"mar.":3,april:4,apr:4,"apr.":4,mei:5,juni:6,jun:6,"jun.":6,juli:7,jul:7,"jul.":7,augustus:8,aug:8,"aug.":8,september:9,sep:9,"sep.":9,sept:9,"sept.":9,oktober:10,okt:10,"okt.":10,november:11,nov:11,"nov.":11,december:12,dec:12,"dec.":12};ve.INTEGER_WORD_DICTIONARY={een:1,twee:2,drie:3,vier:4,vijf:5,zes:6,zeven:7,acht:8,negen:9,tien:10,elf:11,twaalf:12};ve.ORDINAL_WORD_DICTIONARY={eerste:1,tweede:2,derde:3,vierde:4,vijfde:5,zesde:6,zevende:7,achtste:8,negende:9,tiende:10,elfde:11,twaalfde:12,dertiende:13,veertiende:14,vijftiende:15,zestiende:16,zeventiende:17,achttiende:18,negentiende:19,twintigste:20,eenentwintigste:21,twee\u00EBntwintigste:22,drieentwintigste:23,vierentwintigste:24,vijfentwintigste:25,zesentwintigste:26,zevenentwintigste:27,achtentwintig:28,negenentwintig:29,dertigste:30,eenendertigste:31};ve.TIME_UNIT_DICTIONARY={sec:"second",second:"second",seconden:"second",min:"minute",mins:"minute",minute:"minute",minuut:"minute",minuten:"minute",minuutje:"minute",h:"hour",hr:"hour",hrs:"hour",uur:"hour",u:"hour",uren:"hour",dag:"d",dagen:"d",week:"week",weken:"week",maand:"month",maanden:"month",jaar:"year",jr:"year",jaren:"year"};ve.NUMBER_PATTERN=`(?:${eu.matchAnyPattern(ve.INTEGER_WORD_DICTIONARY)}|[0-9]+|[0-9]+[\\.,][0-9]+|halve?|half|paar)`;function Jg(r){let e=r.toLowerCase();return ve.INTEGER_WORD_DICTIONARY[e]!==void 0?ve.INTEGER_WORD_DICTIONARY[e]:e==="paar"?2:e==="half"||e.match(/halve?/)?.5:parseFloat(e.replace(",","."))}ve.parseNumberPattern=Jg;ve.ORDINAL_NUMBER_PATTERN=`(?:${eu.matchAnyPattern(ve.ORDINAL_WORD_DICTIONARY)}|[0-9]{1,2}(?:ste|de)?)`;function yx(r){let e=r.toLowerCase();return ve.ORDINAL_WORD_DICTIONARY[e]!==void 0?ve.ORDINAL_WORD_DICTIONARY[e]:(e=e.replace(/(?:ste|de)$/i,""),parseInt(e))}ve.parseOrdinalNumberPattern=yx;ve.YEAR_PATTERN="(?:[1-9][0-9]{0,3}\\s*(?:voor Christus|na Christus)|[1-2][0-9]{3}|[5-9][0-9])";function gx(r){if(/voor Christus/i.test(r))return r=r.replace(/voor Christus/i,""),-parseInt(r);if(/na Christus/i.test(r))return r=r.replace(/na Christus/i,""),parseInt(r);let e=parseInt(r);return mx.findMostLikelyADYear(e)}ve.parseYear=gx;var e_=`(${ve.NUMBER_PATTERN})\\s{0,5}(${eu.matchAnyPattern(ve.TIME_UNIT_DICTIONARY)})\\s{0,5}`,Xg=new RegExp(e_,"i");ve.TIME_UNITS_PATTERN=eu.repeatedTimeunitPattern("(?:(?:binnen|in)\\s*)?",e_);function _x(r){let e={},t=r,n=Xg.exec(t);for(;n;)Tx(e,n),t=t.substring(n[0].length),n=Xg.exec(t);return e}ve.parseTimeUnits=_x;function Tx(r,e){let t=Jg(e[1]),n=ve.TIME_UNIT_DICTIONARY[e[2].toLowerCase()];r[n]=t}});var r_=S(of=>{"use strict";Object.defineProperty(of,"__esModule",{value:!0});var t_=rr(),bx=rt(),vx=Z(),af=class extends vx.AbstractParserWithWordBoundaryChecking{innerPattern(){return new RegExp("(?:binnen|in|binnen de|voor)\\s*("+t_.TIME_UNITS_PATTERN+")(?=\\W|$)","i")}innerExtract(e,t){let n=t_.parseTimeUnits(t[1]);return bx.ParsingComponents.createRelativeFromReference(e.reference,n)}};of.default=af});var s_=S(lf=>{"use strict";Object.defineProperty(lf,"__esModule",{value:!0});var n_=rr(),wx=Fe(),kx=Z(),Ex=hs(),Dx=new RegExp(`(?:(?:\\,|\\(|\\\uFF08)\\s*)?(?:op\\s*?)?(?:(deze|vorige|volgende)\\s*(?:week\\s*)?)?(${wx.matchAnyPattern(n_.WEEKDAY_DICTIONARY)})(?=\\W|$)`,"i"),Sx=1,Ox=2,Mx=3,uf=class extends kx.AbstractParserWithWordBoundaryChecking{innerPattern(){return Dx}innerExtract(e,t){let n=t[Ox].toLowerCase(),s=n_.WEEKDAY_DICTIONARY[n],a=t[Sx],o=t[Mx],l=a||o;l=l||"",l=l.toLowerCase();let c=null;l=="vorige"?c="last":l=="volgende"?c="next":l=="deze"&&(c="this");let f=Ex.toDayJSWeekday(e.refDate,s,c);return e.createParsingComponents().assign("weekday",s).imply("day",f.date()).imply("month",f.month()+1).imply("year",f.year())}};lf.default=uf});var c_=S(df=>{"use strict";Object.defineProperty(df,"__esModule",{value:!0});var Rx=At(),u_=rr(),tu=rr(),l_=rr(),xx=Fe(),Ax=Z(),Px=new RegExp(`(?:on\\s*?)?(${tu.ORDINAL_NUMBER_PATTERN})(?:\\s*(?:tot|\\-|\\\u2013|until|through|till|\\s)\\s*(${tu.ORDINAL_NUMBER_PATTERN}))?(?:-|/|\\s*(?:of)?\\s*)(`+xx.matchAnyPattern(u_.MONTH_DICTIONARY)+`)(?:(?:-|/|,?\\s*)(${l_.YEAR_PATTERN}(?![^\\s]\\d)))?(?=\\W|$)`,"i"),Nx=3,i_=1,a_=2,o_=4,cf=class extends Ax.AbstractParserWithWordBoundaryChecking{innerPattern(){return Px}innerExtract(e,t){let n=u_.MONTH_DICTIONARY[t[Nx].toLowerCase()],s=tu.parseOrdinalNumberPattern(t[i_]);if(s>31)return t.index=t.index+t[i_].length,null;let a=e.createParsingComponents({day:s,month:n});if(t[o_]){let c=l_.parseYear(t[o_]);a.assign("year",c)}else{let c=Rx.findYearClosestToRef(e.refDate,s,n);a.imply("year",c)}if(!t[a_])return a;let o=tu.parseOrdinalNumberPattern(t[a_]),l=e.createParsingResult(t.index,t[0]);return l.start=a,l.end=a.clone(),l.end.assign("day",o),l}};df.default=cf});var p_=S(hf=>{"use strict";Object.defineProperty(hf,"__esModule",{value:!0});var f_=rr(),Cx=At(),Ix=Fe(),h_=rr(),Fx=Z(),Lx=new RegExp(`(${Ix.matchAnyPattern(f_.MONTH_DICTIONARY)})\\s*(?:[,-]?\\s*(${h_.YEAR_PATTERN})?)?(?=[^\\s\\w]|\\s+[^0-9]|\\s+$|$)`,"i"),Yx=1,d_=2,ff=class extends Fx.AbstractParserWithWordBoundaryChecking{innerPattern(){return Lx}innerExtract(e,t){let n=e.createParsingComponents();n.imply("day",1);let s=t[Yx],a=f_.MONTH_DICTIONARY[s.toLowerCase()];if(n.assign("month",a),t[d_]){let o=h_.parseYear(t[d_]);n.assign("year",o)}else{let o=Cx.findYearClosestToRef(e.refDate,1,a);n.imply("year",o)}return n}};hf.default=ff});var m_=S(mf=>{"use strict";Object.defineProperty(mf,"__esModule",{value:!0});var Ux=Z(),Wx=new RegExp("([0-9]|0[1-9]|1[012])/([0-9]{4})","i"),qx=1,jx=2,pf=class extends Ux.AbstractParserWithWordBoundaryChecking{innerPattern(){return Wx}innerExtract(e,t){let n=parseInt(t[jx]),s=parseInt(t[qx]);return e.createParsingComponents().imply("day",1).assign("month",s).assign("year",n)}};mf.default=pf});var y_=S(gf=>{"use strict";Object.defineProperty(gf,"__esModule",{value:!0});var Gx=ds(),yf=class extends Gx.AbstractTimeExpressionParser{primaryPrefix(){return"(?:(?:om)\\s*)?"}followingPhase(){return"\\s*(?:\\-|\\\u2013|\\~|\\\u301C|om|\\?)\\s*"}primarySuffix(){return"(?:\\s*(?:uur))?(?!/)(?=\\W|$)"}extractPrimaryTimeComponents(e,t){return t[0].match(/^\s*\d{4}\s*$/)?null:super.extractPrimaryTimeComponents(e,t)}};gf.default=yf});var T_=S(Tf=>{"use strict";Object.defineProperty(Tf,"__esModule",{value:!0});var __=rr(),$x=Fe(),Hx=Z(),Bx=new RegExp(`([0-9]{4})[\\.\\/\\s](?:(${$x.matchAnyPattern(__.MONTH_DICTIONARY)})|([0-9]{1,2}))[\\.\\/\\s]([0-9]{1,2})(?=\\W|$)`,"i"),zx=1,Vx=2,g_=3,Kx=4,_f=class extends Hx.AbstractParserWithWordBoundaryChecking{innerPattern(){return Bx}innerExtract(e,t){let n=t[g_]?parseInt(t[g_]):__.MONTH_DICTIONARY[t[Vx].toLowerCase()];if(n<1||n>12)return null;let s=parseInt(t[zx]);return{day:parseInt(t[Kx]),month:n,year:s}}};Tf.default=_f});var b_=S(ya=>{"use strict";var Zx=ya&&ya.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(ya,"__esModule",{value:!0});var Qx=Z(),ru=yt(),bf=yr(),Xx=Zx(Re()),Jx=1,eA=2,vf=class extends Qx.AbstractParserWithWordBoundaryChecking{innerPattern(e){return/(gisteren|morgen|van)(ochtend|middag|namiddag|avond|nacht)(?=\W|$)/i}innerExtract(e,t){let n=t[Jx].toLowerCase(),s=t[eA].toLowerCase(),a=e.createParsingComponents(),o=Xx.default(e.refDate);switch(n){case"gisteren":bf.assignSimilarDate(a,o.add(-1,"day"));break;case"van":bf.assignSimilarDate(a,o);break;case"morgen":bf.assignTheNextDay(a,o);break}switch(s){case"ochtend":a.imply("meridiem",ru.Meridiem.AM),a.imply("hour",6);break;case"middag":a.imply("meridiem",ru.Meridiem.AM),a.imply("hour",12);break;case"namiddag":a.imply("meridiem",ru.Meridiem.PM),a.imply("hour",15);break;case"avond":a.imply("meridiem",ru.Meridiem.PM),a.imply("hour",20);break}return a}};ya.default=vf});var w_=S(kf=>{"use strict";Object.defineProperty(kf,"__esModule",{value:!0});var v_=rr(),tA=rt(),rA=Z(),nA=gr(),sA=new RegExp(`(deze|vorige|afgelopen|komende|over|\\+|-)\\s*(${v_.TIME_UNITS_PATTERN})(?=\\W|$)`,"i"),wf=class extends rA.AbstractParserWithWordBoundaryChecking{innerPattern(){return sA}innerExtract(e,t){let n=t[1].toLowerCase(),s=v_.parseTimeUnits(t[2]);switch(n){case"vorige":case"afgelopen":case"-":s=nA.reverseTimeUnits(s);break}return tA.ParsingComponents.createRelativeFromReference(e.reference,s)}};kf.default=wf});var D_=S(ga=>{"use strict";var iA=ga&&ga.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(ga,"__esModule",{value:!0});var E_=rr(),k_=rt(),aA=iA(Re()),oA=Z(),uA=Fe(),lA=new RegExp(`(dit|deze|komende|volgend|volgende|afgelopen|vorige)\\s*(${uA.matchAnyPattern(E_.TIME_UNIT_DICTIONARY)})(?=\\s*)(?=\\W|$)`,"i"),cA=1,dA=2,Ef=class extends oA.AbstractParserWithWordBoundaryChecking{innerPattern(){return lA}innerExtract(e,t){let n=t[cA].toLowerCase(),s=t[dA].toLowerCase(),a=E_.TIME_UNIT_DICTIONARY[s];if(n=="volgend"||n=="volgende"||n=="komende"){let c={};return c[a]=1,k_.ParsingComponents.createRelativeFromReference(e.reference,c)}if(n=="afgelopen"||n=="vorige"){let c={};return c[a]=-1,k_.ParsingComponents.createRelativeFromReference(e.reference,c)}let o=e.createParsingComponents(),l=aA.default(e.reference.instant);return s.match(/week/i)?(l=l.add(-l.get("d"),"d"),o.imply("day",l.date()),o.imply("month",l.month()+1),o.imply("year",l.year())):s.match(/maand/i)?(l=l.add(-l.date()+1,"d"),o.imply("day",l.date()),o.assign("year",l.year()),o.assign("month",l.month()+1)):s.match(/jaar/i)&&(l=l.add(-l.date()+1,"d"),l=l.add(-l.month(),"month"),o.imply("day",l.date()),o.imply("month",l.month()+1),o.assign("year",l.year())),o}};ga.default=Ef});var S_=S(Of=>{"use strict";Object.defineProperty(Of,"__esModule",{value:!0});var Sf=rr(),fA=rt(),hA=Z(),pA=gr(),mA=new RegExp("("+Sf.TIME_UNITS_PATTERN+")(?:geleden|voor|eerder)(?=(?:\\W|$))","i"),yA=new RegExp("("+Sf.TIME_UNITS_PATTERN+")geleden(?=(?:\\W|$))","i"),Df=class extends hA.AbstractParserWithWordBoundaryChecking{constructor(e){super(),this.strictMode=e}innerPattern(){return this.strictMode?yA:mA}innerExtract(e,t){let n=Sf.parseTimeUnits(t[1]),s=pA.reverseTimeUnits(n);return fA.ParsingComponents.createRelativeFromReference(e.reference,s)}};Of.default=Df});var O_=S(xf=>{"use strict";Object.defineProperty(xf,"__esModule",{value:!0});var Rf=rr(),gA=rt(),_A=Z(),TA=new RegExp("("+Rf.TIME_UNITS_PATTERN+")(later|na|vanaf nu|voortaan|vooruit|uit)(?=(?:\\W|$))","i"),bA=new RegExp("("+Rf.TIME_UNITS_PATTERN+")(later|vanaf nu)(?=(?:\\W|$))","i"),vA=1,Mf=class extends _A.AbstractParserWithWordBoundaryChecking{constructor(e){super(),this.strictMode=e}innerPattern(){return this.strictMode?bA:TA}innerExtract(e,t){let n=Rf.parseTimeUnits(t[vA]);return gA.ParsingComponents.createRelativeFromReference(e.reference,n)}};xf.default=Mf});var A_=S(St=>{"use strict";var Nt=St&&St.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(St,"__esModule",{value:!0});St.createConfiguration=St.createCasualConfiguration=St.parseDate=St.parse=St.strict=St.casual=void 0;var wA=un(),M_=xr(),kA=Nt(Vg()),EA=Nt(Kg()),DA=Nt(Zg()),SA=Nt(Qg()),OA=Nt(ps()),MA=Nt(r_()),RA=Nt(s_()),xA=Nt(c_()),R_=Nt(p_()),AA=Nt(m_()),PA=Nt(y_()),NA=Nt(T_()),CA=Nt(b_()),IA=Nt(w_()),FA=Nt(D_()),LA=Nt(S_()),YA=Nt(O_());St.casual=new M_.Chrono(x_());St.strict=new M_.Chrono(Af(!0));function UA(r,e,t){return St.casual.parse(r,e,t)}St.parse=UA;function WA(r,e,t){return St.casual.parseDate(r,e,t)}St.parseDate=WA;function x_(r=!0){let e=Af(!1,r);return e.parsers.unshift(new DA.default),e.parsers.unshift(new SA.default),e.parsers.unshift(new CA.default),e.parsers.unshift(new R_.default),e.parsers.unshift(new FA.default),e.parsers.unshift(new IA.default),e}St.createCasualConfiguration=x_;function Af(r=!0,e=!0){return wA.includeCommonConfiguration({parsers:[new OA.default(e),new MA.default,new xA.default,new R_.default,new RA.default,new NA.default,new AA.default,new PA.default(r),new LA.default(r),new YA.default(r)],refiners:[new EA.default,new kA.default]},r)}St.createConfiguration=Af});var I_=S(_a=>{"use strict";var qA=_a&&_a.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(_a,"__esModule",{value:!0});var jA=qA(Re()),GA=Z(),$A=1,P_=2,HA=3,N_=4,C_=5,BA=6,Pf=class extends GA.AbstractParserWithWordBoundaryChecking{innerPattern(e){return new RegExp("(\u800C\u5BB6|\u7ACB(?:\u523B|\u5373)|\u5373\u523B)|(\u4ECA|\u660E|\u524D|\u5927\u524D|\u5F8C|\u5927\u5F8C|\u807D|\u6628|\u5C0B|\u7434)(\u65E9|\u671D|\u665A)|(\u4E0A(?:\u5348|\u665D)|\u671D(?:\u65E9)|\u65E9(?:\u4E0A)|\u4E0B(?:\u5348|\u665D)|\u664F(?:\u665D)|\u665A(?:\u4E0A)|\u591C(?:\u665A)?|\u4E2D(?:\u5348)|\u51CC(?:\u6668))|(\u4ECA|\u660E|\u524D|\u5927\u524D|\u5F8C|\u5927\u5F8C|\u807D|\u6628|\u5C0B|\u7434)(?:\u65E5|\u5929)(?:[\\s|,|\uFF0C]*)(?:(\u4E0A(?:\u5348|\u665D)|\u671D(?:\u65E9)|\u65E9(?:\u4E0A)|\u4E0B(?:\u5348|\u665D)|\u664F(?:\u665D)|\u665A(?:\u4E0A)|\u591C(?:\u665A)?|\u4E2D(?:\u5348)|\u51CC(?:\u6668)))?","i")}innerExtract(e,t){let n=t.index,s=e.createParsingResult(n,t[0]),a=jA.default(e.refDate),o=a;if(t[$A])s.start.imply("hour",a.hour()),s.start.imply("minute",a.minute()),s.start.imply("second",a.second()),s.start.imply("millisecond",a.millisecond());else if(t[P_]){let l=t[P_],c=t[HA];l=="\u660E"||l=="\u807D"?a.hour()>1&&(o=o.add(1,"day")):l=="\u6628"||l=="\u5C0B"||l=="\u7434"?o=o.add(-1,"day"):l=="\u524D"?o=o.add(-2,"day"):l=="\u5927\u524D"?o=o.add(-3,"day"):l=="\u5F8C"?o=o.add(2,"day"):l=="\u5927\u5F8C"&&(o=o.add(3,"day")),c=="\u65E9"||c=="\u671D"?s.start.imply("hour",6):c=="\u665A"&&(s.start.imply("hour",22),s.start.imply("meridiem",1))}else if(t[N_]){let c=t[N_][0];c=="\u65E9"||c=="\u671D"||c=="\u4E0A"?s.start.imply("hour",6):c=="\u4E0B"||c=="\u664F"?(s.start.imply("hour",15),s.start.imply("meridiem",1)):c=="\u4E2D"?(s.start.imply("hour",12),s.start.imply("meridiem",1)):c=="\u591C"||c=="\u665A"?(s.start.imply("hour",22),s.start.imply("meridiem",1)):c=="\u51CC"&&s.start.imply("hour",0)}else if(t[C_]){let l=t[C_];l=="\u660E"||l=="\u807D"?a.hour()>1&&(o=o.add(1,"day")):l=="\u6628"||l=="\u5C0B"||l=="\u7434"?o=o.add(-1,"day"):l=="\u524D"?o=o.add(-2,"day"):l=="\u5927\u524D"?o=o.add(-3,"day"):l=="\u5F8C"?o=o.add(2,"day"):l=="\u5927\u5F8C"&&(o=o.add(3,"day"));let c=t[BA];if(c){let f=c[0];f=="\u65E9"||f=="\u671D"||f=="\u4E0A"?s.start.imply("hour",6):f=="\u4E0B"||f=="\u664F"?(s.start.imply("hour",15),s.start.imply("meridiem",1)):f=="\u4E2D"?(s.start.imply("hour",12),s.start.imply("meridiem",1)):f=="\u591C"||f=="\u665A"?(s.start.imply("hour",22),s.start.imply("meridiem",1)):f=="\u51CC"&&s.start.imply("hour",0)}}return s.start.assign("day",o.date()),s.start.assign("month",o.month()+1),s.start.assign("year",o.year()),s}};_a.default=Pf});var ai=S(Vt=>{"use strict";Object.defineProperty(Vt,"__esModule",{value:!0});Vt.zhStringToYear=Vt.zhStringToNumber=Vt.WEEKDAY_OFFSET=Vt.NUMBER=void 0;Vt.NUMBER={\u96F6:0,\u4E00:1,\u4E8C:2,\u5169:2,\u4E09:3,\u56DB:4,\u4E94:5,\u516D:6,\u4E03:7,\u516B:8,\u4E5D:9,\u5341:10,\u5EFF:20,\u5345:30};Vt.WEEKDAY_OFFSET={\u5929:0,\u65E5:0,\u4E00:1,\u4E8C:2,\u4E09:3,\u56DB:4,\u4E94:5,\u516D:6};function zA(r){let e=0;for(let t=0;t<r.length;t++){let n=r[t];n==="\u5341"?e=e===0?Vt.NUMBER[n]:e*Vt.NUMBER[n]:e+=Vt.NUMBER[n]}return e}Vt.zhStringToNumber=zA;function VA(r){let e="";for(let t=0;t<r.length;t++){let n=r[t];e=e+Vt.NUMBER[n]}return parseInt(e)}Vt.zhStringToYear=VA});var L_=S(Ta=>{"use strict";var KA=Ta&&Ta.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Ta,"__esModule",{value:!0});var ZA=KA(Re()),QA=Z(),gs=ai(),Nf=1,F_=2,Cf=3,If=class extends QA.AbstractParserWithWordBoundaryChecking{innerPattern(){return new RegExp("(\\d{2,4}|["+Object.keys(gs.NUMBER).join("")+"]{4}|["+Object.keys(gs.NUMBER).join("")+"]{2})?(?:\\s*)(?:\u5E74)?(?:[\\s|,|\uFF0C]*)(\\d{1,2}|["+Object.keys(gs.NUMBER).join("")+"]{1,2})(?:\\s*)(?:\u6708)(?:\\s*)(\\d{1,2}|["+Object.keys(gs.NUMBER).join("")+"]{1,2})?(?:\\s*)(?:\u65E5|\u865F)?")}innerExtract(e,t){let n=ZA.default(e.refDate),s=e.createParsingResult(t.index,t[0]),a=parseInt(t[F_]);if(isNaN(a)&&(a=gs.zhStringToNumber(t[F_])),s.start.assign("month",a),t[Cf]){let o=parseInt(t[Cf]);isNaN(o)&&(o=gs.zhStringToNumber(t[Cf])),s.start.assign("day",o)}else s.start.imply("day",n.date());if(t[Nf]){let o=parseInt(t[Nf]);isNaN(o)&&(o=gs.zhStringToYear(t[Nf])),s.start.assign("year",o)}else s.start.imply("year",n.year());return s}};Ta.default=If});var U_=S(ba=>{"use strict";var XA=ba&&ba.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(ba,"__esModule",{value:!0});var JA=XA(Re()),eP=Z(),Y_=ai(),tP=new RegExp("(\\d+|["+Object.keys(Y_.NUMBER).join("")+"]+|\u534A|\u5E7E)(?:\\s*)(?:\u500B)?(\u79D2(?:\u9418)?|\u5206\u9418|\u5C0F\u6642|\u9418|\u65E5|\u5929|\u661F\u671F|\u79AE\u62DC|\u6708|\u5E74)(?:(?:\u4E4B|\u904E)?\u5F8C|(?:\u4E4B)?\u5167)","i"),Ff=1,rP=2,Lf=class extends eP.AbstractParserWithWordBoundaryChecking{innerPattern(){return tP}innerExtract(e,t){let n=e.createParsingResult(t.index,t[0]),s=parseInt(t[Ff]);if(isNaN(s)&&(s=Y_.zhStringToNumber(t[Ff])),isNaN(s)){let c=t[Ff];if(c==="\u5E7E")s=3;else if(c==="\u534A")s=.5;else return null}let a=JA.default(e.refDate),l=t[rP][0];return l.match(/[日天星禮月年]/)?(l=="\u65E5"||l=="\u5929"?a=a.add(s,"d"):l=="\u661F"||l=="\u79AE"?a=a.add(s*7,"d"):l=="\u6708"?a=a.add(s,"month"):l=="\u5E74"&&(a=a.add(s,"year")),n.start.assign("year",a.year()),n.start.assign("month",a.month()+1),n.start.assign("day",a.date()),n):(l=="\u79D2"?a=a.add(s,"second"):l=="\u5206"?a=a.add(s,"minute"):(l=="\u5C0F"||l=="\u9418")&&(a=a.add(s,"hour")),n.start.imply("year",a.year()),n.start.imply("month",a.month()+1),n.start.imply("day",a.date()),n.start.assign("hour",a.hour()),n.start.assign("minute",a.minute()),n.start.assign("second",a.second()),n)}};ba.default=Lf});var q_=S(va=>{"use strict";var nP=va&&va.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(va,"__esModule",{value:!0});var sP=nP(Re()),iP=Z(),W_=ai(),aP=new RegExp("(?<prefix>\u4E0A|\u4ECA|\u4E0B|\u9019|\u5462)(?:\u500B)?(?:\u661F\u671F|\u79AE\u62DC|\u9031)(?<weekday>"+Object.keys(W_.WEEKDAY_OFFSET).join("|")+")"),Yf=class extends iP.AbstractParserWithWordBoundaryChecking{innerPattern(){return aP}innerExtract(e,t){let n=e.createParsingResult(t.index,t[0]),s=t.groups.weekday,a=W_.WEEKDAY_OFFSET[s];if(a===void 0)return null;let o=null,l=t.groups.prefix;l=="\u4E0A"?o="last":l=="\u4E0B"?o="next":(l=="\u4ECA"||l=="\u9019"||l=="\u5462")&&(o="this");let c=sP.default(e.refDate),f=!1,p=c.day();return o=="last"||o=="past"?(c=c.day(a-7),f=!0):o=="next"?(c=c.day(a+7),f=!0):o=="this"?c=c.day(a):Math.abs(a-7-p)<Math.abs(a-p)?c=c.day(a-7):Math.abs(a+7-p)<Math.abs(a-p)?c=c.day(a+7):c=c.day(a),n.start.assign("weekday",a),f?(n.start.assign("day",c.date()),n.start.assign("month",c.month()+1),n.start.assign("year",c.year())):(n.start.imply("day",c.date()),n.start.imply("month",c.month()+1),n.start.imply("year",c.year())),n}};va.default=Yf});var j_=S(wa=>{"use strict";var oP=wa&&wa.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(wa,"__esModule",{value:!0});var uP=oP(Re()),lP=Z(),br=ai(),cP=new RegExp("(?:\u7531|\u5F9E|\u81EA)?(?:(\u4ECA|\u660E|\u524D|\u5927\u524D|\u5F8C|\u5927\u5F8C|\u807D|\u6628|\u5C0B|\u7434)(\u65E9|\u671D|\u665A)|(\u4E0A(?:\u5348|\u665D)|\u671D(?:\u65E9)|\u65E9(?:\u4E0A)|\u4E0B(?:\u5348|\u665D)|\u664F(?:\u665D)|\u665A(?:\u4E0A)|\u591C(?:\u665A)?|\u4E2D(?:\u5348)|\u51CC(?:\u6668))|(\u4ECA|\u660E|\u524D|\u5927\u524D|\u5F8C|\u5927\u5F8C|\u807D|\u6628|\u5C0B|\u7434)(?:\u65E5|\u5929)(?:[\\s,\uFF0C]*)(?:(\u4E0A(?:\u5348|\u665D)|\u671D(?:\u65E9)|\u65E9(?:\u4E0A)|\u4E0B(?:\u5348|\u665D)|\u664F(?:\u665D)|\u665A(?:\u4E0A)|\u591C(?:\u665A)?|\u4E2D(?:\u5348)|\u51CC(?:\u6668)))?)?(?:[\\s,\uFF0C]*)(?:(\\d+|["+Object.keys(br.NUMBER).join("")+"]+)(?:\\s*)(?:\u9EDE|\u6642|:|\uFF1A)(?:\\s*)(\\d+|\u534A|\u6B63|\u6574|["+Object.keys(br.NUMBER).join("")+"]+)?(?:\\s*)(?:\u5206|:|\uFF1A)?(?:\\s*)(\\d+|["+Object.keys(br.NUMBER).join("")+"]+)?(?:\\s*)(?:\u79D2)?)(?:\\s*(A.M.|P.M.|AM?|PM?))?","i"),dP=new RegExp("(?:^\\s*(?:\u5230|\u81F3|\\-|\\\u2013|\\~|\\\u301C)\\s*)(?:(\u4ECA|\u660E|\u524D|\u5927\u524D|\u5F8C|\u5927\u5F8C|\u807D|\u6628|\u5C0B|\u7434)(\u65E9|\u671D|\u665A)|(\u4E0A(?:\u5348|\u665D)|\u671D(?:\u65E9)|\u65E9(?:\u4E0A)|\u4E0B(?:\u5348|\u665D)|\u664F(?:\u665D)|\u665A(?:\u4E0A)|\u591C(?:\u665A)?|\u4E2D(?:\u5348)|\u51CC(?:\u6668))|(\u4ECA|\u660E|\u524D|\u5927\u524D|\u5F8C|\u5927\u5F8C|\u807D|\u6628|\u5C0B|\u7434)(?:\u65E5|\u5929)(?:[\\s,\uFF0C]*)(?:(\u4E0A(?:\u5348|\u665D)|\u671D(?:\u65E9)|\u65E9(?:\u4E0A)|\u4E0B(?:\u5348|\u665D)|\u664F(?:\u665D)|\u665A(?:\u4E0A)|\u591C(?:\u665A)?|\u4E2D(?:\u5348)|\u51CC(?:\u6668)))?)?(?:[\\s,\uFF0C]*)(?:(\\d+|["+Object.keys(br.NUMBER).join("")+"]+)(?:\\s*)(?:\u9EDE|\u6642|:|\uFF1A)(?:\\s*)(\\d+|\u534A|\u6B63|\u6574|["+Object.keys(br.NUMBER).join("")+"]+)?(?:\\s*)(?:\u5206|:|\uFF1A)?(?:\\s*)(\\d+|["+Object.keys(br.NUMBER).join("")+"]+)?(?:\\s*)(?:\u79D2)?)(?:\\s*(A.M.|P.M.|AM?|PM?))?","i"),nu=1,su=2,iu=3,au=4,ou=5,uu=6,Tr=7,oi=8,lu=9,Uf=class extends lP.AbstractParserWithWordBoundaryChecking{innerPattern(){return cP}innerExtract(e,t){if(t.index>0&&e.text[t.index-1].match(/\w/))return null;let n=uP.default(e.refDate),s=e.createParsingResult(t.index,t[0]),a=n.clone();if(t[nu]){var o=t[nu];o=="\u660E"||o=="\u807D"?n.hour()>1&&a.add(1,"day"):o=="\u6628"||o=="\u5C0B"||o=="\u7434"?a.add(-1,"day"):o=="\u524D"?a.add(-2,"day"):o=="\u5927\u524D"?a.add(-3,"day"):o=="\u5F8C"?a.add(2,"day"):o=="\u5927\u5F8C"&&a.add(3,"day"),s.start.assign("day",a.date()),s.start.assign("month",a.month()+1),s.start.assign("year",a.year())}else if(t[au]){var l=t[au];l=="\u660E"||l=="\u807D"?a.add(1,"day"):l=="\u6628"||l=="\u5C0B"||l=="\u7434"?a.add(-1,"day"):l=="\u524D"?a.add(-2,"day"):l=="\u5927\u524D"?a.add(-3,"day"):l=="\u5F8C"?a.add(2,"day"):l=="\u5927\u5F8C"&&a.add(3,"day"),s.start.assign("day",a.date()),s.start.assign("month",a.month()+1),s.start.assign("year",a.year())}else s.start.imply("day",a.date()),s.start.imply("month",a.month()+1),s.start.imply("year",a.year());let c=0,f=0,p=-1;if(t[oi]){var _=parseInt(t[oi]);if(isNaN(_)&&(_=br.zhStringToNumber(t[oi])),_>=60)return null;s.start.assign("second",_)}if(c=parseInt(t[uu]),isNaN(c)&&(c=br.zhStringToNumber(t[uu])),t[Tr]?t[Tr]=="\u534A"?f=30:t[Tr]=="\u6B63"||t[Tr]=="\u6574"?f=0:(f=parseInt(t[Tr]),isNaN(f)&&(f=br.zhStringToNumber(t[Tr]))):c>100&&(f=c%100,c=Math.floor(c/100)),f>=60||c>24)return null;if(c>=12&&(p=1),t[lu]){if(c>12)return null;var T=t[lu][0].toLowerCase();T=="a"&&(p=0,c==12&&(c=0)),T=="p"&&(p=1,c!=12&&(c+=12))}else if(t[su]){var O=t[su],b=O[0];b=="\u671D"||b=="\u65E9"?(p=0,c==12&&(c=0)):b=="\u665A"&&(p=1,c!=12&&(c+=12))}else if(t[iu]){var x=t[iu],I=x[0];I=="\u4E0A"||I=="\u671D"||I=="\u65E9"||I=="\u51CC"?(p=0,c==12&&(c=0)):(I=="\u4E0B"||I=="\u664F"||I=="\u665A")&&(p=1,c!=12&&(c+=12))}else if(t[ou]){var G=t[ou],H=G[0];H=="\u4E0A"||H=="\u671D"||H=="\u65E9"||H=="\u51CC"?(p=0,c==12&&(c=0)):(H=="\u4E0B"||H=="\u664F"||H=="\u665A")&&(p=1,c!=12&&(c+=12))}if(s.start.assign("hour",c),s.start.assign("minute",f),p>=0?s.start.assign("meridiem",p):c<12?s.start.imply("meridiem",0):s.start.imply("meridiem",1),t=dP.exec(e.text.substring(s.index+s.text.length)),!t)return s.text.match(/^\d+$/)?null:s;let W=a.clone();if(s.end=e.createParsingComponents(),t[nu]){var o=t[nu];o=="\u660E"||o=="\u807D"?n.hour()>1&&W.add(1,"day"):o=="\u6628"||o=="\u5C0B"||o=="\u7434"?W.add(-1,"day"):o=="\u524D"?W.add(-2,"day"):o=="\u5927\u524D"?W.add(-3,"day"):o=="\u5F8C"?W.add(2,"day"):o=="\u5927\u5F8C"&&W.add(3,"day"),s.end.assign("day",W.date()),s.end.assign("month",W.month()+1),s.end.assign("year",W.year())}else if(t[au]){var l=t[au];l=="\u660E"||l=="\u807D"?W.add(1,"day"):l=="\u6628"||l=="\u5C0B"||l=="\u7434"?W.add(-1,"day"):l=="\u524D"?W.add(-2,"day"):l=="\u5927\u524D"?W.add(-3,"day"):l=="\u5F8C"?W.add(2,"day"):l=="\u5927\u5F8C"&&W.add(3,"day"),s.end.assign("day",W.date()),s.end.assign("month",W.month()+1),s.end.assign("year",W.year())}else s.end.imply("day",W.date()),s.end.imply("month",W.month()+1),s.end.imply("year",W.year());if(c=0,f=0,p=-1,t[oi]){var _=parseInt(t[oi]);if(isNaN(_)&&(_=br.zhStringToNumber(t[oi])),_>=60)return null;s.end.assign("second",_)}if(c=parseInt(t[uu]),isNaN(c)&&(c=br.zhStringToNumber(t[uu])),t[Tr]?t[Tr]=="\u534A"?f=30:t[Tr]=="\u6B63"||t[Tr]=="\u6574"?f=0:(f=parseInt(t[Tr]),isNaN(f)&&(f=br.zhStringToNumber(t[Tr]))):c>100&&(f=c%100,c=Math.floor(c/100)),f>=60||c>24)return null;if(c>=12&&(p=1),t[lu]){if(c>12)return null;var T=t[lu][0].toLowerCase();T=="a"&&(p=0,c==12&&(c=0)),T=="p"&&(p=1,c!=12&&(c+=12)),s.start.isCertain("meridiem")||(p==0?(s.start.imply("meridiem",0),s.start.get("hour")==12&&s.start.assign("hour",0)):(s.start.imply("meridiem",1),s.start.get("hour")!=12&&s.start.assign("hour",s.start.get("hour")+12)))}else if(t[su]){var O=t[su],b=O[0];b=="\u671D"||b=="\u65E9"?(p=0,c==12&&(c=0)):b=="\u665A"&&(p=1,c!=12&&(c+=12))}else if(t[iu]){var x=t[iu],I=x[0];I=="\u4E0A"||I=="\u671D"||I=="\u65E9"||I=="\u51CC"?(p=0,c==12&&(c=0)):(I=="\u4E0B"||I=="\u664F"||I=="\u665A")&&(p=1,c!=12&&(c+=12))}else if(t[ou]){var G=t[ou],H=G[0];H=="\u4E0A"||H=="\u671D"||H=="\u65E9"||H=="\u51CC"?(p=0,c==12&&(c=0)):(H=="\u4E0B"||H=="\u664F"||H=="\u665A")&&(p=1,c!=12&&(c+=12))}return s.text=s.text+t[0],s.end.assign("hour",c),s.end.assign("minute",f),p>=0?s.end.assign("meridiem",p):s.start.isCertain("meridiem")&&s.start.get("meridiem")==1&&s.start.get("hour")>c?s.end.imply("meridiem",0):c>12&&s.end.imply("meridiem",1),s.end.date().getTime()<s.start.date().getTime()&&s.end.imply("day",s.end.get("day")+1),s}};wa.default=Uf});var $_=S(ka=>{"use strict";var fP=ka&&ka.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(ka,"__esModule",{value:!0});var hP=fP(Re()),pP=Z(),G_=ai(),mP=new RegExp("(?:\u661F\u671F|\u79AE\u62DC|\u9031)(?<weekday>"+Object.keys(G_.WEEKDAY_OFFSET).join("|")+")"),Wf=class extends pP.AbstractParserWithWordBoundaryChecking{innerPattern(){return mP}innerExtract(e,t){let n=e.createParsingResult(t.index,t[0]),s=t.groups.weekday,a=G_.WEEKDAY_OFFSET[s];if(a===void 0)return null;let o=hP.default(e.refDate),l=!1,c=o.day();return Math.abs(a-7-c)<Math.abs(a-c)?o=o.day(a-7):Math.abs(a+7-c)<Math.abs(a-c)?o=o.day(a+7):o=o.day(a),n.start.assign("weekday",a),l?(n.start.assign("day",o.date()),n.start.assign("month",o.month()+1),n.start.assign("year",o.year())):(n.start.imply("day",o.date()),n.start.imply("month",o.month()+1),n.start.imply("year",o.year())),n}};ka.default=Wf});var H_=S(Ea=>{"use strict";var yP=Ea&&Ea.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Ea,"__esModule",{value:!0});var gP=yP(jr()),qf=class extends gP.default{patternBetween(){return/^\s*(至|到|\-|\~|～|－|ー)\s*$/i}};Ea.default=qf});var B_=S(Da=>{"use strict";var _P=Da&&Da.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Da,"__esModule",{value:!0});var TP=_P(on()),jf=class extends TP.default{patternBetween(){return/^\s*$/i}};Da.default=jf});var z_=S(ut=>{"use strict";var hn=ut&&ut.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(ut,"__esModule",{value:!0});ut.createConfiguration=ut.createCasualConfiguration=ut.parseDate=ut.parse=ut.strict=ut.casual=ut.hant=void 0;var Gf=xr(),bP=hn(Uo()),vP=un(),wP=hn(I_()),kP=hn(L_()),EP=hn(U_()),DP=hn(q_()),SP=hn(j_()),OP=hn($_()),MP=hn(H_()),RP=hn(B_());ut.hant=new Gf.Chrono($f());ut.casual=new Gf.Chrono($f());ut.strict=new Gf.Chrono(Hf());function xP(r,e,t){return ut.casual.parse(r,e,t)}ut.parse=xP;function AP(r,e,t){return ut.casual.parseDate(r,e,t)}ut.parseDate=AP;function $f(){let r=Hf();return r.parsers.unshift(new wP.default),r}ut.createCasualConfiguration=$f;function Hf(){let r=vP.includeCommonConfiguration({parsers:[new kP.default,new DP.default,new OP.default,new SP.default,new EP.default],refiners:[new MP.default,new RP.default]});return r.refiners=r.refiners.filter(e=>!(e instanceof bP.default)),r}ut.createConfiguration=Hf});var Q_=S(Sa=>{"use strict";var PP=Sa&&Sa.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Sa,"__esModule",{value:!0});var NP=PP(Re()),CP=Z(),IP=1,V_=2,FP=3,K_=4,Z_=5,LP=6,Bf=class extends CP.AbstractParserWithWordBoundaryChecking{innerPattern(e){return new RegExp("(\u73B0\u5728|\u7ACB(?:\u523B|\u5373)|\u5373\u523B)|(\u4ECA|\u660E|\u524D|\u5927\u524D|\u540E|\u5927\u540E|\u6628)(\u65E9|\u665A)|(\u4E0A(?:\u5348)|\u65E9(?:\u4E0A)|\u4E0B(?:\u5348)|\u665A(?:\u4E0A)|\u591C(?:\u665A)?|\u4E2D(?:\u5348)|\u51CC(?:\u6668))|(\u4ECA|\u660E|\u524D|\u5927\u524D|\u540E|\u5927\u540E|\u6628)(?:\u65E5|\u5929)(?:[\\s|,|\uFF0C]*)(?:(\u4E0A(?:\u5348)|\u65E9(?:\u4E0A)|\u4E0B(?:\u5348)|\u665A(?:\u4E0A)|\u591C(?:\u665A)?|\u4E2D(?:\u5348)|\u51CC(?:\u6668)))?","i")}innerExtract(e,t){let n=t.index,s=e.createParsingResult(n,t[0]),a=NP.default(e.refDate),o=a;if(t[IP])s.start.imply("hour",a.hour()),s.start.imply("minute",a.minute()),s.start.imply("second",a.second()),s.start.imply("millisecond",a.millisecond());else if(t[V_]){let l=t[V_],c=t[FP];l=="\u660E"?a.hour()>1&&(o=o.add(1,"day")):l=="\u6628"?o=o.add(-1,"day"):l=="\u524D"?o=o.add(-2,"day"):l=="\u5927\u524D"?o=o.add(-3,"day"):l=="\u540E"?o=o.add(2,"day"):l=="\u5927\u540E"&&(o=o.add(3,"day")),c=="\u65E9"?s.start.imply("hour",6):c=="\u665A"&&(s.start.imply("hour",22),s.start.imply("meridiem",1))}else if(t[K_]){let c=t[K_][0];c=="\u65E9"||c=="\u4E0A"?s.start.imply("hour",6):c=="\u4E0B"?(s.start.imply("hour",15),s.start.imply("meridiem",1)):c=="\u4E2D"?(s.start.imply("hour",12),s.start.imply("meridiem",1)):c=="\u591C"||c=="\u665A"?(s.start.imply("hour",22),s.start.imply("meridiem",1)):c=="\u51CC"&&s.start.imply("hour",0)}else if(t[Z_]){let l=t[Z_];l=="\u660E"?a.hour()>1&&(o=o.add(1,"day")):l=="\u6628"?o=o.add(-1,"day"):l=="\u524D"?o=o.add(-2,"day"):l=="\u5927\u524D"?o=o.add(-3,"day"):l=="\u540E"?o=o.add(2,"day"):l=="\u5927\u540E"&&(o=o.add(3,"day"));let c=t[LP];if(c){let f=c[0];f=="\u65E9"||f=="\u4E0A"?s.start.imply("hour",6):f=="\u4E0B"?(s.start.imply("hour",15),s.start.imply("meridiem",1)):f=="\u4E2D"?(s.start.imply("hour",12),s.start.imply("meridiem",1)):f=="\u591C"||f=="\u665A"?(s.start.imply("hour",22),s.start.imply("meridiem",1)):f=="\u51CC"&&s.start.imply("hour",0)}}return s.start.assign("day",o.date()),s.start.assign("month",o.month()+1),s.start.assign("year",o.year()),s}};Sa.default=Bf});var ui=S(Kt=>{"use strict";Object.defineProperty(Kt,"__esModule",{value:!0});Kt.zhStringToYear=Kt.zhStringToNumber=Kt.WEEKDAY_OFFSET=Kt.NUMBER=void 0;Kt.NUMBER={\u96F6:0,"\u3007":0,\u4E00:1,\u4E8C:2,\u4E24:2,\u4E09:3,\u56DB:4,\u4E94:5,\u516D:6,\u4E03:7,\u516B:8,\u4E5D:9,\u5341:10};Kt.WEEKDAY_OFFSET={\u5929:0,\u65E5:0,\u4E00:1,\u4E8C:2,\u4E09:3,\u56DB:4,\u4E94:5,\u516D:6};function YP(r){let e=0;for(let t=0;t<r.length;t++){let n=r[t];n==="\u5341"?e=e===0?Kt.NUMBER[n]:e*Kt.NUMBER[n]:e+=Kt.NUMBER[n]}return e}Kt.zhStringToNumber=YP;function UP(r){let e="";for(let t=0;t<r.length;t++){let n=r[t];e=e+Kt.NUMBER[n]}return parseInt(e)}Kt.zhStringToYear=UP});var J_=S(Oa=>{"use strict";var WP=Oa&&Oa.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Oa,"__esModule",{value:!0});var qP=WP(Re()),jP=Z(),_s=ui(),zf=1,X_=2,Vf=3,Kf=class extends jP.AbstractParserWithWordBoundaryChecking{innerPattern(){return new RegExp("(\\d{2,4}|["+Object.keys(_s.NUMBER).join("")+"]{4}|["+Object.keys(_s.NUMBER).join("")+"]{2})?(?:\\s*)(?:\u5E74)?(?:[\\s|,|\uFF0C]*)(\\d{1,2}|["+Object.keys(_s.NUMBER).join("")+"]{1,3})(?:\\s*)(?:\u6708)(?:\\s*)(\\d{1,2}|["+Object.keys(_s.NUMBER).join("")+"]{1,3})?(?:\\s*)(?:\u65E5|\u53F7)?")}innerExtract(e,t){let n=qP.default(e.refDate),s=e.createParsingResult(t.index,t[0]),a=parseInt(t[X_]);if(isNaN(a)&&(a=_s.zhStringToNumber(t[X_])),s.start.assign("month",a),t[Vf]){let o=parseInt(t[Vf]);isNaN(o)&&(o=_s.zhStringToNumber(t[Vf])),s.start.assign("day",o)}else s.start.imply("day",n.date());if(t[zf]){let o=parseInt(t[zf]);isNaN(o)&&(o=_s.zhStringToYear(t[zf])),s.start.assign("year",o)}else s.start.imply("year",n.year());return s}};Oa.default=Kf});var tT=S(Ma=>{"use strict";var GP=Ma&&Ma.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Ma,"__esModule",{value:!0});var $P=GP(Re()),HP=Z(),eT=ui(),BP=new RegExp("(\\d+|["+Object.keys(eT.NUMBER).join("")+"]+|\u534A|\u51E0)(?:\\s*)(?:\u4E2A)?(\u79D2(?:\u949F)?|\u5206\u949F|\u5C0F\u65F6|\u949F|\u65E5|\u5929|\u661F\u671F|\u793C\u62DC|\u6708|\u5E74)(?:(?:\u4E4B|\u8FC7)?\u540E|(?:\u4E4B)?\u5185)","i"),Zf=1,zP=2,Qf=class extends HP.AbstractParserWithWordBoundaryChecking{innerPattern(){return BP}innerExtract(e,t){let n=e.createParsingResult(t.index,t[0]),s=parseInt(t[Zf]);if(isNaN(s)&&(s=eT.zhStringToNumber(t[Zf])),isNaN(s)){let c=t[Zf];if(c==="\u51E0")s=3;else if(c==="\u534A")s=.5;else return null}let a=$P.default(e.refDate),l=t[zP][0];return l.match(/[日天星礼月年]/)?(l=="\u65E5"||l=="\u5929"?a=a.add(s,"d"):l=="\u661F"||l=="\u793C"?a=a.add(s*7,"d"):l=="\u6708"?a=a.add(s,"month"):l=="\u5E74"&&(a=a.add(s,"year")),n.start.assign("year",a.year()),n.start.assign("month",a.month()+1),n.start.assign("day",a.date()),n):(l=="\u79D2"?a=a.add(s,"second"):l=="\u5206"?a=a.add(s,"minute"):(l=="\u5C0F"||l=="\u949F")&&(a=a.add(s,"hour")),n.start.imply("year",a.year()),n.start.imply("month",a.month()+1),n.start.imply("day",a.date()),n.start.assign("hour",a.hour()),n.start.assign("minute",a.minute()),n.start.assign("second",a.second()),n)}};Ma.default=Qf});var nT=S(Ra=>{"use strict";var VP=Ra&&Ra.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Ra,"__esModule",{value:!0});var KP=VP(Re()),ZP=Z(),rT=ui(),QP=new RegExp("(?<prefix>\u4E0A|\u4E0B|\u8FD9)(?:\u4E2A)?(?:\u661F\u671F|\u793C\u62DC|\u5468)(?<weekday>"+Object.keys(rT.WEEKDAY_OFFSET).join("|")+")"),Xf=class extends ZP.AbstractParserWithWordBoundaryChecking{innerPattern(){return QP}innerExtract(e,t){let n=e.createParsingResult(t.index,t[0]),s=t.groups.weekday,a=rT.WEEKDAY_OFFSET[s];if(a===void 0)return null;let o=null,l=t.groups.prefix;l=="\u4E0A"?o="last":l=="\u4E0B"?o="next":l=="\u8FD9"&&(o="this");let c=KP.default(e.refDate),f=!1,p=c.day();return o=="last"||o=="past"?(c=c.day(a-7),f=!0):o=="next"?(c=c.day(a+7),f=!0):o=="this"?c=c.day(a):Math.abs(a-7-p)<Math.abs(a-p)?c=c.day(a-7):Math.abs(a+7-p)<Math.abs(a-p)?c=c.day(a+7):c=c.day(a),n.start.assign("weekday",a),f?(n.start.assign("day",c.date()),n.start.assign("month",c.month()+1),n.start.assign("year",c.year())):(n.start.imply("day",c.date()),n.start.imply("month",c.month()+1),n.start.imply("year",c.year())),n}};Ra.default=Xf});var sT=S(xa=>{"use strict";var XP=xa&&xa.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(xa,"__esModule",{value:!0});var JP=XP(Re()),eN=Z(),wr=ui(),tN=new RegExp("(?:\u4ECE|\u81EA)?(?:(\u4ECA|\u660E|\u524D|\u5927\u524D|\u540E|\u5927\u540E|\u6628)(\u65E9|\u671D|\u665A)|(\u4E0A(?:\u5348)|\u65E9(?:\u4E0A)|\u4E0B(?:\u5348)|\u665A(?:\u4E0A)|\u591C(?:\u665A)?|\u4E2D(?:\u5348)|\u51CC(?:\u6668))|(\u4ECA|\u660E|\u524D|\u5927\u524D|\u540E|\u5927\u540E|\u6628)(?:\u65E5|\u5929)(?:[\\s,\uFF0C]*)(?:(\u4E0A(?:\u5348)|\u65E9(?:\u4E0A)|\u4E0B(?:\u5348)|\u665A(?:\u4E0A)|\u591C(?:\u665A)?|\u4E2D(?:\u5348)|\u51CC(?:\u6668)))?)?(?:[\\s,\uFF0C]*)(?:(\\d+|["+Object.keys(wr.NUMBER).join("")+"]+)(?:\\s*)(?:\u70B9|\u65F6|:|\uFF1A)(?:\\s*)(\\d+|\u534A|\u6B63|\u6574|["+Object.keys(wr.NUMBER).join("")+"]+)?(?:\\s*)(?:\u5206|:|\uFF1A)?(?:\\s*)(\\d+|["+Object.keys(wr.NUMBER).join("")+"]+)?(?:\\s*)(?:\u79D2)?)(?:\\s*(A.M.|P.M.|AM?|PM?))?","i"),rN=new RegExp("(?:^\\s*(?:\u5230|\u81F3|\\-|\\\u2013|\\~|\\\u301C)\\s*)(?:(\u4ECA|\u660E|\u524D|\u5927\u524D|\u540E|\u5927\u540E|\u6628)(\u65E9|\u671D|\u665A)|(\u4E0A(?:\u5348)|\u65E9(?:\u4E0A)|\u4E0B(?:\u5348)|\u665A(?:\u4E0A)|\u591C(?:\u665A)?|\u4E2D(?:\u5348)|\u51CC(?:\u6668))|(\u4ECA|\u660E|\u524D|\u5927\u524D|\u540E|\u5927\u540E|\u6628)(?:\u65E5|\u5929)(?:[\\s,\uFF0C]*)(?:(\u4E0A(?:\u5348)|\u65E9(?:\u4E0A)|\u4E0B(?:\u5348)|\u665A(?:\u4E0A)|\u591C(?:\u665A)?|\u4E2D(?:\u5348)|\u51CC(?:\u6668)))?)?(?:[\\s,\uFF0C]*)(?:(\\d+|["+Object.keys(wr.NUMBER).join("")+"]+)(?:\\s*)(?:\u70B9|\u65F6|:|\uFF1A)(?:\\s*)(\\d+|\u534A|\u6B63|\u6574|["+Object.keys(wr.NUMBER).join("")+"]+)?(?:\\s*)(?:\u5206|:|\uFF1A)?(?:\\s*)(\\d+|["+Object.keys(wr.NUMBER).join("")+"]+)?(?:\\s*)(?:\u79D2)?)(?:\\s*(A.M.|P.M.|AM?|PM?))?","i"),cu=1,du=2,fu=3,hu=4,pu=5,mu=6,vr=7,li=8,yu=9,Jf=class extends eN.AbstractParserWithWordBoundaryChecking{innerPattern(){return tN}innerExtract(e,t){if(t.index>0&&e.text[t.index-1].match(/\w/))return null;let n=JP.default(e.refDate),s=e.createParsingResult(t.index,t[0]),a=n.clone();if(t[cu]){let p=t[cu];p=="\u660E"?n.hour()>1&&a.add(1,"day"):p=="\u6628"?a.add(-1,"day"):p=="\u524D"?a.add(-2,"day"):p=="\u5927\u524D"?a.add(-3,"day"):p=="\u540E"?a.add(2,"day"):p=="\u5927\u540E"&&a.add(3,"day"),s.start.assign("day",a.date()),s.start.assign("month",a.month()+1),s.start.assign("year",a.year())}else if(t[hu]){let p=t[hu];p=="\u660E"?a.add(1,"day"):p=="\u6628"?a.add(-1,"day"):p=="\u524D"?a.add(-2,"day"):p=="\u5927\u524D"?a.add(-3,"day"):p=="\u540E"?a.add(2,"day"):p=="\u5927\u540E"&&a.add(3,"day"),s.start.assign("day",a.date()),s.start.assign("month",a.month()+1),s.start.assign("year",a.year())}else s.start.imply("day",a.date()),s.start.imply("month",a.month()+1),s.start.imply("year",a.year());let o=0,l=0,c=-1;if(t[li]){let p=parseInt(t[li]);if(isNaN(p)&&(p=wr.zhStringToNumber(t[li])),p>=60)return null;s.start.assign("second",p)}if(o=parseInt(t[mu]),isNaN(o)&&(o=wr.zhStringToNumber(t[mu])),t[vr]?t[vr]=="\u534A"?l=30:t[vr]=="\u6B63"||t[vr]=="\u6574"?l=0:(l=parseInt(t[vr]),isNaN(l)&&(l=wr.zhStringToNumber(t[vr]))):o>100&&(l=o%100,o=Math.floor(o/100)),l>=60||o>24)return null;if(o>=12&&(c=1),t[yu]){if(o>12)return null;let p=t[yu][0].toLowerCase();p=="a"&&(c=0,o==12&&(o=0)),p=="p"&&(c=1,o!=12&&(o+=12))}else if(t[du]){let _=t[du][0];_=="\u65E9"?(c=0,o==12&&(o=0)):_=="\u665A"&&(c=1,o!=12&&(o+=12))}else if(t[fu]){let _=t[fu][0];_=="\u4E0A"||_=="\u65E9"||_=="\u51CC"?(c=0,o==12&&(o=0)):(_=="\u4E0B"||_=="\u665A")&&(c=1,o!=12&&(o+=12))}else if(t[pu]){let _=t[pu][0];_=="\u4E0A"||_=="\u65E9"||_=="\u51CC"?(c=0,o==12&&(o=0)):(_=="\u4E0B"||_=="\u665A")&&(c=1,o!=12&&(o+=12))}if(s.start.assign("hour",o),s.start.assign("minute",l),c>=0?s.start.assign("meridiem",c):o<12?s.start.imply("meridiem",0):s.start.imply("meridiem",1),t=rN.exec(e.text.substring(s.index+s.text.length)),!t)return s.text.match(/^\d+$/)?null:s;let f=a.clone();if(s.end=e.createParsingComponents(),t[cu]){let p=t[cu];p=="\u660E"?n.hour()>1&&f.add(1,"day"):p=="\u6628"?f.add(-1,"day"):p=="\u524D"?f.add(-2,"day"):p=="\u5927\u524D"?f.add(-3,"day"):p=="\u540E"?f.add(2,"day"):p=="\u5927\u540E"&&f.add(3,"day"),s.end.assign("day",f.date()),s.end.assign("month",f.month()+1),s.end.assign("year",f.year())}else if(t[hu]){let p=t[hu];p=="\u660E"?f.add(1,"day"):p=="\u6628"?f.add(-1,"day"):p=="\u524D"?f.add(-2,"day"):p=="\u5927\u524D"?f.add(-3,"day"):p=="\u540E"?f.add(2,"day"):p=="\u5927\u540E"&&f.add(3,"day"),s.end.assign("day",f.date()),s.end.assign("month",f.month()+1),s.end.assign("year",f.year())}else s.end.imply("day",f.date()),s.end.imply("month",f.month()+1),s.end.imply("year",f.year());if(o=0,l=0,c=-1,t[li]){let p=parseInt(t[li]);if(isNaN(p)&&(p=wr.zhStringToNumber(t[li])),p>=60)return null;s.end.assign("second",p)}if(o=parseInt(t[mu]),isNaN(o)&&(o=wr.zhStringToNumber(t[mu])),t[vr]?t[vr]=="\u534A"?l=30:t[vr]=="\u6B63"||t[vr]=="\u6574"?l=0:(l=parseInt(t[vr]),isNaN(l)&&(l=wr.zhStringToNumber(t[vr]))):o>100&&(l=o%100,o=Math.floor(o/100)),l>=60||o>24)return null;if(o>=12&&(c=1),t[yu]){if(o>12)return null;let p=t[yu][0].toLowerCase();p=="a"&&(c=0,o==12&&(o=0)),p=="p"&&(c=1,o!=12&&(o+=12)),s.start.isCertain("meridiem")||(c==0?(s.start.imply("meridiem",0),s.start.get("hour")==12&&s.start.assign("hour",0)):(s.start.imply("meridiem",1),s.start.get("hour")!=12&&s.start.assign("hour",s.start.get("hour")+12)))}else if(t[du]){let _=t[du][0];_=="\u65E9"?(c=0,o==12&&(o=0)):_=="\u665A"&&(c=1,o!=12&&(o+=12))}else if(t[fu]){let _=t[fu][0];_=="\u4E0A"||_=="\u65E9"||_=="\u51CC"?(c=0,o==12&&(o=0)):(_=="\u4E0B"||_=="\u665A")&&(c=1,o!=12&&(o+=12))}else if(t[pu]){let _=t[pu][0];_=="\u4E0A"||_=="\u65E9"||_=="\u51CC"?(c=0,o==12&&(o=0)):(_=="\u4E0B"||_=="\u665A")&&(c=1,o!=12&&(o+=12))}return s.text=s.text+t[0],s.end.assign("hour",o),s.end.assign("minute",l),c>=0?s.end.assign("meridiem",c):s.start.isCertain("meridiem")&&s.start.get("meridiem")==1&&s.start.get("hour")>o?s.end.imply("meridiem",0):o>12&&s.end.imply("meridiem",1),s.end.date().getTime()<s.start.date().getTime()&&s.end.imply("day",s.end.get("day")+1),s}};xa.default=Jf});var aT=S(Aa=>{"use strict";var nN=Aa&&Aa.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Aa,"__esModule",{value:!0});var sN=nN(Re()),iN=Z(),iT=ui(),aN=new RegExp("(?:\u661F\u671F|\u793C\u62DC|\u5468)(?<weekday>"+Object.keys(iT.WEEKDAY_OFFSET).join("|")+")"),eh=class extends iN.AbstractParserWithWordBoundaryChecking{innerPattern(){return aN}innerExtract(e,t){let n=e.createParsingResult(t.index,t[0]),s=t.groups.weekday,a=iT.WEEKDAY_OFFSET[s];if(a===void 0)return null;let o=sN.default(e.refDate),l=!1,c=o.day();return Math.abs(a-7-c)<Math.abs(a-c)?o=o.day(a-7):Math.abs(a+7-c)<Math.abs(a-c)?o=o.day(a+7):o=o.day(a),n.start.assign("weekday",a),l?(n.start.assign("day",o.date()),n.start.assign("month",o.month()+1),n.start.assign("year",o.year())):(n.start.imply("day",o.date()),n.start.imply("month",o.month()+1),n.start.imply("year",o.year())),n}};Aa.default=eh});var oT=S(Pa=>{"use strict";var oN=Pa&&Pa.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Pa,"__esModule",{value:!0});var uN=oN(jr()),th=class extends uN.default{patternBetween(){return/^\s*(至|到|-|~|～|－|ー)\s*$/i}};Pa.default=th});var uT=S(Na=>{"use strict";var lN=Na&&Na.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Na,"__esModule",{value:!0});var cN=lN(on()),rh=class extends cN.default{patternBetween(){return/^\s*$/i}};Na.default=rh});var lT=S(lt=>{"use strict";var pn=lt&&lt.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(lt,"__esModule",{value:!0});lt.createConfiguration=lt.createCasualConfiguration=lt.parseDate=lt.parse=lt.strict=lt.casual=lt.hans=void 0;var nh=xr(),dN=pn(Uo()),fN=un(),hN=pn(Q_()),pN=pn(J_()),mN=pn(tT()),yN=pn(nT()),gN=pn(sT()),_N=pn(aT()),TN=pn(oT()),bN=pn(uT());lt.hans=new nh.Chrono(sh());lt.casual=new nh.Chrono(sh());lt.strict=new nh.Chrono(ih());function vN(r,e,t){return lt.casual.parse(r,e,t)}lt.parse=vN;function wN(r,e,t){return lt.casual.parseDate(r,e,t)}lt.parseDate=wN;function sh(){let r=ih();return r.parsers.unshift(new hN.default),r}lt.createCasualConfiguration=sh;function ih(){let r=fN.includeCommonConfiguration({parsers:[new pN.default,new yN.default,new _N.default,new gN.default,new mN.default],refiners:[new TN.default,new bN.default]});return r.refiners=r.refiners.filter(e=>!(e instanceof dN.default)),r}lt.createConfiguration=ih});var dT=S(nr=>{"use strict";var cT=nr&&nr.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t),Object.defineProperty(r,n,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),kN=nr&&nr.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),EN=nr&&nr.__exportStar||function(r,e){for(var t in r)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&cT(e,r,t)},DN=nr&&nr.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&cT(e,r,t);return kN(e,r),e};Object.defineProperty(nr,"__esModule",{value:!0});nr.hans=void 0;EN(z_(),nr);nr.hans=DN(lT())});var Zt=S(fe=>{"use strict";Object.defineProperty(fe,"__esModule",{value:!0});fe.parseTimeUnits=fe.TIME_UNITS_PATTERN=fe.parseYear=fe.YEAR_PATTERN=fe.parseOrdinalNumberPattern=fe.ORDINAL_NUMBER_PATTERN=fe.parseNumberPattern=fe.NUMBER_PATTERN=fe.TIME_UNIT_DICTIONARY=fe.ORDINAL_WORD_DICTIONARY=fe.INTEGER_WORD_DICTIONARY=fe.MONTH_DICTIONARY=fe.FULL_MONTH_NAME_DICTIONARY=fe.WEEKDAY_DICTIONARY=fe.REGEX_PARTS=void 0;var gu=Fe(),SN=At();fe.REGEX_PARTS={leftBoundary:"([^\\p{L}\\p{N}_]|^)",rightBoundary:"(?=[^\\p{L}\\p{N}_]|$)",flags:"iu"};fe.WEEKDAY_DICTIONARY={\u0432\u043E\u0441\u043A\u0440\u0435\u0441\u0435\u043D\u044C\u0435:0,\u0432\u043E\u0441\u043A\u0440\u0435\u0441\u0435\u043D\u044C\u044F:0,\u0432\u0441\u043A:0,"\u0432\u0441\u043A.":0,\u043F\u043E\u043D\u0435\u0434\u0435\u043B\u044C\u043D\u0438\u043A:1,\u043F\u043E\u043D\u0435\u0434\u0435\u043B\u044C\u043D\u0438\u043A\u0430:1,\u043F\u043D:1,"\u043F\u043D.":1,\u0432\u0442\u043E\u0440\u043D\u0438\u043A:2,\u0432\u0442\u043E\u0440\u043D\u0438\u043A\u0430:2,\u0432\u0442:2,"\u0432\u0442.":2,\u0441\u0440\u0435\u0434\u0430:3,\u0441\u0440\u0435\u0434\u044B:3,\u0441\u0440\u0435\u0434\u0443:3,\u0441\u0440:3,"\u0441\u0440.":3,\u0447\u0435\u0442\u0432\u0435\u0440\u0433:4,\u0447\u0435\u0442\u0432\u0435\u0440\u0433\u0430:4,\u0447\u0442:4,"\u0447\u0442.":4,\u043F\u044F\u0442\u043D\u0438\u0446\u0430:5,\u043F\u044F\u0442\u043D\u0438\u0446\u0443:5,\u043F\u044F\u0442\u043D\u0438\u0446\u044B:5,\u043F\u0442:5,"\u043F\u0442.":5,\u0441\u0443\u0431\u0431\u043E\u0442\u0430:6,\u0441\u0443\u0431\u0431\u043E\u0442\u0443:6,\u0441\u0443\u0431\u0431\u043E\u0442\u044B:6,\u0441\u0431:6,"\u0441\u0431.":6};fe.FULL_MONTH_NAME_DICTIONARY={\u044F\u043D\u0432\u0430\u0440\u044C:1,\u044F\u043D\u0432\u0430\u0440\u044F:1,\u044F\u043D\u0432\u0430\u0440\u0435:1,\u0444\u0435\u0432\u0440\u044F\u043B\u044C:2,\u0444\u0435\u0432\u0440\u044F\u043B\u044F:2,\u0444\u0435\u0432\u0440\u044F\u043B\u0435:2,\u043C\u0430\u0440\u0442:3,\u043C\u0430\u0440\u0442\u0430:3,\u043C\u0430\u0440\u0442\u0435:3,\u0430\u043F\u0440\u0435\u043B\u044C:4,\u0430\u043F\u0440\u0435\u043B\u044F:4,\u0430\u043F\u0440\u0435\u043B\u0435:4,\u043C\u0430\u0439:5,\u043C\u0430\u044F:5,\u043C\u0430\u0435:5,\u0438\u044E\u043D\u044C:6,\u0438\u044E\u043D\u044F:6,\u0438\u044E\u043D\u0435:6,\u0438\u044E\u043B\u044C:7,\u0438\u044E\u043B\u044F:7,\u0438\u044E\u043B\u0435:7,\u0430\u0432\u0433\u0443\u0441\u0442:8,\u0430\u0432\u0433\u0443\u0441\u0442\u0430:8,\u0430\u0432\u0433\u0443\u0441\u0442\u0435:8,\u0441\u0435\u043D\u0442\u044F\u0431\u0440\u044C:9,\u0441\u0435\u043D\u0442\u044F\u0431\u0440\u044F:9,\u0441\u0435\u043D\u0442\u044F\u0431\u0440\u0435:9,\u043E\u043A\u0442\u044F\u0431\u0440\u044C:10,\u043E\u043A\u0442\u044F\u0431\u0440\u044F:10,\u043E\u043A\u0442\u044F\u0431\u0440\u0435:10,\u043D\u043E\u044F\u0431\u0440\u044C:11,\u043D\u043E\u044F\u0431\u0440\u044F:11,\u043D\u043E\u044F\u0431\u0440\u0435:11,\u0434\u0435\u043A\u0430\u0431\u0440\u044C:12,\u0434\u0435\u043A\u0430\u0431\u0440\u044F:12,\u0434\u0435\u043A\u0430\u0431\u0440\u0435:12};fe.MONTH_DICTIONARY=Object.assign(Object.assign({},fe.FULL_MONTH_NAME_DICTIONARY),{\u044F\u043D\u0432:1,"\u044F\u043D\u0432.":1,\u0444\u0435\u0432:2,"\u0444\u0435\u0432.":2,\u043C\u0430\u0440:3,"\u043C\u0430\u0440.":3,\u0430\u043F\u0440:4,"\u0430\u043F\u0440.":4,\u0430\u0432\u0433:8,"\u0430\u0432\u0433.":8,\u0441\u0435\u043D:9,"\u0441\u0435\u043D.":9,\u043E\u043A\u0442:10,"\u043E\u043A\u0442.":10,\u043D\u043E\u044F:11,"\u043D\u043E\u044F.":11,\u0434\u0435\u043A:12,"\u0434\u0435\u043A.":12});fe.INTEGER_WORD_DICTIONARY={\u043E\u0434\u0438\u043D:1,\u043E\u0434\u043D\u0430:1,\u043E\u0434\u043D\u043E\u0439:1,\u043E\u0434\u043D\u0443:1,\u0434\u0432\u0435:2,\u0434\u0432\u0430:2,\u0434\u0432\u0443\u0445:2,\u0442\u0440\u0438:3,\u0442\u0440\u0435\u0445:3,\u0442\u0440\u0451\u0445:3,\u0447\u0435\u0442\u044B\u0440\u0435:4,\u0447\u0435\u0442\u044B\u0440\u0435\u0445:4,\u0447\u0435\u0442\u044B\u0440\u0451\u0445:4,\u043F\u044F\u0442\u044C:5,\u043F\u044F\u0442\u0438:5,\u0448\u0435\u0441\u0442\u044C:6,\u0448\u0435\u0441\u0442\u0438:6,\u0441\u0435\u043C\u044C:7,\u0441\u0435\u043C\u0438:7,\u0432\u043E\u0441\u0435\u043C\u044C:8,\u0432\u043E\u0441\u0435\u043C\u044C\u043C\u0438:8,\u0434\u0435\u0432\u044F\u0442\u044C:9,\u0434\u0435\u0432\u044F\u0442\u0438:9,\u0434\u0435\u0441\u044F\u0442\u044C:10,\u0434\u0435\u0441\u044F\u0442\u0438:10,\u043E\u0434\u0438\u043D\u043D\u0430\u0434\u0446\u0430\u0442\u044C:11,\u043E\u0434\u0438\u043D\u043D\u0430\u0434\u0446\u0430\u0442\u0438:11,\u0434\u0432\u0435\u043D\u0430\u0434\u0446\u0430\u0442\u044C:12,\u0434\u0432\u0435\u043D\u0430\u0434\u0446\u0430\u0442\u0438:12};fe.ORDINAL_WORD_DICTIONARY={\u043F\u0435\u0440\u0432\u043E\u0435:1,\u043F\u0435\u0440\u0432\u043E\u0433\u043E:1,\u0432\u0442\u043E\u0440\u043E\u0435:2,\u0432\u0442\u043E\u0440\u043E\u0433\u043E:2,\u0442\u0440\u0435\u0442\u044C\u0435:3,\u0442\u0440\u0435\u0442\u044C\u0435\u0433\u043E:3,\u0447\u0435\u0442\u0432\u0435\u0440\u0442\u043E\u0435:4,\u0447\u0435\u0442\u0432\u0435\u0440\u0442\u043E\u0433\u043E:4,\u043F\u044F\u0442\u043E\u0435:5,\u043F\u044F\u0442\u043E\u0433\u043E:5,\u0448\u0435\u0441\u0442\u043E\u0435:6,\u0448\u0435\u0441\u0442\u043E\u0433\u043E:6,\u0441\u0435\u0434\u044C\u043C\u043E\u0435:7,\u0441\u0435\u0434\u044C\u043C\u043E\u0433\u043E:7,\u0432\u043E\u0441\u044C\u043C\u043E\u0435:8,\u0432\u043E\u0441\u044C\u043C\u043E\u0433\u043E:8,\u0434\u0435\u0432\u044F\u0442\u043E\u0435:9,\u0434\u0435\u0432\u044F\u0442\u043E\u0433\u043E:9,\u0434\u0435\u0441\u044F\u0442\u043E\u0435:10,\u0434\u0435\u0441\u044F\u0442\u043E\u0433\u043E:10,\u043E\u0434\u0438\u043D\u043D\u0430\u0434\u0446\u0430\u0442\u043E\u0435:11,\u043E\u0434\u0438\u043D\u043D\u0430\u0434\u0446\u0430\u0442\u043E\u0433\u043E:11,\u0434\u0432\u0435\u043D\u0430\u0434\u0446\u0430\u0442\u043E\u0435:12,\u0434\u0432\u0435\u043D\u0430\u0434\u0446\u0430\u0442\u043E\u0433\u043E:12,\u0442\u0440\u0438\u043D\u0430\u0434\u0446\u0430\u0442\u043E\u0435:13,\u0442\u0440\u0438\u043D\u0430\u0434\u0446\u0430\u0442\u043E\u0433\u043E:13,\u0447\u0435\u0442\u044B\u0440\u043D\u0430\u0434\u0446\u0430\u0442\u043E\u0435:14,\u0447\u0435\u0442\u044B\u0440\u043D\u0430\u0434\u0446\u0430\u0442\u043E\u0433\u043E:14,\u043F\u044F\u0442\u043D\u0430\u0434\u0446\u0430\u0442\u043E\u0435:15,\u043F\u044F\u0442\u043D\u0430\u0434\u0446\u0430\u0442\u043E\u0433\u043E:15,\u0448\u0435\u0441\u0442\u043D\u0430\u0434\u0446\u0430\u0442\u043E\u0435:16,\u0448\u0435\u0441\u0442\u043D\u0430\u0434\u0446\u0430\u0442\u043E\u0433\u043E:16,\u0441\u0435\u043C\u043D\u0430\u0434\u0446\u0430\u0442\u043E\u0435:17,\u0441\u0435\u043C\u043D\u0430\u0434\u0446\u0430\u0442\u043E\u0433\u043E:17,\u0432\u043E\u0441\u0435\u043C\u043D\u0430\u0434\u0446\u0430\u0442\u043E\u0435:18,\u0432\u043E\u0441\u0435\u043C\u043D\u0430\u0434\u0446\u0430\u0442\u043E\u0433\u043E:18,\u0434\u0435\u0432\u044F\u0442\u043D\u0430\u0434\u0446\u0430\u0442\u043E\u0435:19,\u0434\u0435\u0432\u044F\u0442\u043D\u0430\u0434\u0446\u0430\u0442\u043E\u0433\u043E:19,\u0434\u0432\u0430\u0434\u0446\u0430\u0442\u043E\u0435:20,\u0434\u0432\u0430\u0434\u0446\u0430\u0442\u043E\u0433\u043E:20,"\u0434\u0432\u0430\u0434\u0446\u0430\u0442\u044C \u043F\u0435\u0440\u0432\u043E\u0435":21,"\u0434\u0432\u0430\u0434\u0446\u0430\u0442\u044C \u043F\u0435\u0440\u0432\u043E\u0433\u043E":21,"\u0434\u0432\u0430\u0434\u0446\u0430\u0442\u044C \u0432\u0442\u043E\u0440\u043E\u0435":22,"\u0434\u0432\u0430\u0434\u0446\u0430\u0442\u044C \u0432\u0442\u043E\u0440\u043E\u0433\u043E":22,"\u0434\u0432\u0430\u0434\u0446\u0430\u0442\u044C \u0442\u0440\u0435\u0442\u044C\u0435":23,"\u0434\u0432\u0430\u0434\u0446\u0430\u0442\u044C \u0442\u0440\u0435\u0442\u044C\u0435\u0433\u043E":23,"\u0434\u0432\u0430\u0434\u0446\u0430\u0442\u044C \u0447\u0435\u0442\u0432\u0435\u0440\u0442\u043E\u0435":24,"\u0434\u0432\u0430\u0434\u0446\u0430\u0442\u044C \u0447\u0435\u0442\u0432\u0435\u0440\u0442\u043E\u0433\u043E":24,"\u0434\u0432\u0430\u0434\u0446\u0430\u0442\u044C \u043F\u044F\u0442\u043E\u0435":25,"\u0434\u0432\u0430\u0434\u0446\u0430\u0442\u044C \u043F\u044F\u0442\u043E\u0433\u043E":25,"\u0434\u0432\u0430\u0434\u0446\u0430\u0442\u044C \u0448\u0435\u0441\u0442\u043E\u0435":26,"\u0434\u0432\u0430\u0434\u0446\u0430\u0442\u044C \u0448\u0435\u0441\u0442\u043E\u0433\u043E":26,"\u0434\u0432\u0430\u0434\u0446\u0430\u0442\u044C \u0441\u0435\u0434\u044C\u043C\u043E\u0435":27,"\u0434\u0432\u0430\u0434\u0446\u0430\u0442\u044C \u0441\u0435\u0434\u044C\u043C\u043E\u0433\u043E":27,"\u0434\u0432\u0430\u0434\u0446\u0430\u0442\u044C \u0432\u043E\u0441\u044C\u043C\u043E\u0435":28,"\u0434\u0432\u0430\u0434\u0446\u0430\u0442\u044C \u0432\u043E\u0441\u044C\u043C\u043E\u0433\u043E":28,"\u0434\u0432\u0430\u0434\u0446\u0430\u0442\u044C \u0434\u0435\u0432\u044F\u0442\u043E\u0435":29,"\u0434\u0432\u0430\u0434\u0446\u0430\u0442\u044C \u0434\u0435\u0432\u044F\u0442\u043E\u0433\u043E":29,\u0442\u0440\u0438\u0434\u0446\u0430\u0442\u043E\u0435:30,\u0442\u0440\u0438\u0434\u0446\u0430\u0442\u043E\u0433\u043E:30,"\u0442\u0440\u0438\u0434\u0446\u0430\u0442\u044C \u043F\u0435\u0440\u0432\u043E\u0435":31,"\u0442\u0440\u0438\u0434\u0446\u0430\u0442\u044C \u043F\u0435\u0440\u0432\u043E\u0433\u043E":31};fe.TIME_UNIT_DICTIONARY={\u0441\u0435\u043A:"second",\u0441\u0435\u043A\u0443\u043D\u0434\u0430:"second",\u0441\u0435\u043A\u0443\u043D\u0434:"second",\u0441\u0435\u043A\u0443\u043D\u0434\u044B:"second",\u0441\u0435\u043A\u0443\u043D\u0434\u0443:"second",\u0441\u0435\u043A\u0443\u043D\u0434\u043E\u0447\u043A\u0430:"second",\u0441\u0435\u043A\u0443\u043D\u0434\u043E\u0447\u043A\u0438:"second",\u0441\u0435\u043A\u0443\u043D\u0434\u043E\u0447\u0435\u043A:"second",\u0441\u0435\u043A\u0443\u043D\u0434\u043E\u0447\u043A\u0443:"second",\u043C\u0438\u043D:"minute",\u043C\u0438\u043D\u0443\u0442\u0430:"minute",\u043C\u0438\u043D\u0443\u0442:"minute",\u043C\u0438\u043D\u0443\u0442\u044B:"minute",\u043C\u0438\u043D\u0443\u0442\u0443:"minute",\u043C\u0438\u043D\u0443\u0442\u043E\u043A:"minute",\u043C\u0438\u043D\u0443\u0442\u043A\u0438:"minute",\u043C\u0438\u043D\u0443\u0442\u043A\u0443:"minute",\u0447\u0430\u0441:"hour",\u0447\u0430\u0441\u043E\u0432:"hour",\u0447\u0430\u0441\u0430:"hour",\u0447\u0430\u0441\u0443:"hour",\u0447\u0430\u0441\u0438\u043A\u043E\u0432:"hour",\u0447\u0430\u0441\u0438\u043A\u0430:"hour",\u0447\u0430\u0441\u0438\u043A\u0435:"hour",\u0447\u0430\u0441\u0438\u043A:"hour",\u0434\u0435\u043D\u044C:"d",\u0434\u043D\u044F:"d",\u0434\u043D\u0435\u0439:"d",\u0441\u0443\u0442\u043E\u043A:"d",\u0441\u0443\u0442\u043A\u0438:"d",\u043D\u0435\u0434\u0435\u043B\u044F:"week",\u043D\u0435\u0434\u0435\u043B\u0435:"week",\u043D\u0435\u0434\u0435\u043B\u0438:"week",\u043D\u0435\u0434\u0435\u043B\u044E:"week",\u043D\u0435\u0434\u0435\u043B\u044C:"week",\u043D\u0435\u0434\u0435\u043B\u044C\u043A\u0435:"week",\u043D\u0435\u0434\u0435\u043B\u044C\u043A\u0438:"week",\u043D\u0435\u0434\u0435\u043B\u0435\u043A:"week",\u043C\u0435\u0441\u044F\u0446:"month",\u043C\u0435\u0441\u044F\u0446\u0435:"month",\u043C\u0435\u0441\u044F\u0446\u0435\u0432:"month",\u043C\u0435\u0441\u044F\u0446\u0430:"month",\u043A\u0432\u0430\u0440\u0442\u0430\u043B:"quarter",\u043A\u0432\u0430\u0440\u0442\u0430\u043B\u0435:"quarter",\u043A\u0432\u0430\u0440\u0442\u0430\u043B\u043E\u0432:"quarter",\u0433\u043E\u0434:"year",\u0433\u043E\u0434\u0430:"year",\u0433\u043E\u0434\u0443:"year",\u0433\u043E\u0434\u043E\u0432:"year",\u043B\u0435\u0442:"year",\u0433\u043E\u0434\u0438\u043A:"year",\u0433\u043E\u0434\u0438\u043A\u0430:"year",\u0433\u043E\u0434\u0438\u043A\u043E\u0432:"year"};fe.NUMBER_PATTERN=`(?:${gu.matchAnyPattern(fe.INTEGER_WORD_DICTIONARY)}|[0-9]+|[0-9]+\\.[0-9]+|\u043F\u043E\u043B|\u043D\u0435\u0441\u043A\u043E\u043B\u044C\u043A\u043E|\u043F\u0430\u0440(?:\u044B|\u0443)|\\s{0,3})`;function hT(r){let e=r.toLowerCase();return fe.INTEGER_WORD_DICTIONARY[e]!==void 0?fe.INTEGER_WORD_DICTIONARY[e]:e.match(/несколько/)?3:e.match(/пол/)?.5:e.match(/пар/)?2:e===""?1:parseFloat(e)}fe.parseNumberPattern=hT;fe.ORDINAL_NUMBER_PATTERN=`(?:${gu.matchAnyPattern(fe.ORDINAL_WORD_DICTIONARY)}|[0-9]{1,2}(?:\u0433\u043E|\u043E\u0433\u043E|\u0435|\u043E\u0435)?)`;function ON(r){let e=r.toLowerCase();return fe.ORDINAL_WORD_DICTIONARY[e]!==void 0?fe.ORDINAL_WORD_DICTIONARY[e]:(e=e.replace(/(?:st|nd|rd|th)$/i,""),parseInt(e))}fe.parseOrdinalNumberPattern=ON;var ah="(?:\\s+(?:\u0433\u043E\u0434\u0443|\u0433\u043E\u0434\u0430|\u0433\u043E\u0434|\u0433|\u0433.))?";fe.YEAR_PATTERN=`(?:[1-9][0-9]{0,3}${ah}\\s*(?:\u043D.\u044D.|\u0434\u043E \u043D.\u044D.|\u043D. \u044D.|\u0434\u043E \u043D. \u044D.)|[1-2][0-9]{3}${ah}|[5-9][0-9]${ah})`;function MN(r){if(/(год|года|г|г.)/i.test(r)&&(r=r.replace(/(год|года|г|г.)/i,"")),/(до н.э.|до н. э.)/i.test(r))return r=r.replace(/(до н.э.|до н. э.)/i,""),-parseInt(r);if(/(н. э.|н.э.)/i.test(r))return r=r.replace(/(н. э.|н.э.)/i,""),parseInt(r);let e=parseInt(r);return SN.findMostLikelyADYear(e)}fe.parseYear=MN;var pT=`(${fe.NUMBER_PATTERN})\\s{0,3}(${gu.matchAnyPattern(fe.TIME_UNIT_DICTIONARY)})`,fT=new RegExp(pT,"i");fe.TIME_UNITS_PATTERN=gu.repeatedTimeunitPattern("(?:(?:\u043E\u043A\u043E\u043B\u043E|\u043F\u0440\u0438\u043C\u0435\u0440\u043D\u043E)\\s{0,3})?",pT);function RN(r){let e={},t=r,n=fT.exec(t);for(;n;)xN(e,n),t=t.substring(n[0].length).trim(),n=fT.exec(t);return e}fe.parseTimeUnits=RN;function xN(r,e){let t=hT(e[1]),n=fe.TIME_UNIT_DICTIONARY[e[2].toLowerCase()];r[n]=t}});var yT=S(uh=>{"use strict";Object.defineProperty(uh,"__esModule",{value:!0});var Ca=Zt(),AN=rt(),PN=Z(),mT=`(?:(?:\u043E\u043A\u043E\u043B\u043E|\u043F\u0440\u0438\u043C\u0435\u0440\u043D\u043E)\\s*(?:~\\s*)?)?(${Ca.TIME_UNITS_PATTERN})${Ca.REGEX_PARTS.rightBoundary}`,NN=new RegExp(`(?:\u0432 \u0442\u0435\u0447\u0435\u043D\u0438\u0435|\u0432 \u0442\u0435\u0447\u0435\u043D\u0438\u0438)\\s*${mT}`,Ca.REGEX_PARTS.flags),CN=new RegExp(mT,"i"),oh=class extends PN.AbstractParserWithWordBoundaryChecking{patternLeftBoundary(){return Ca.REGEX_PARTS.leftBoundary}innerPattern(e){return e.option.forwardDate?CN:NN}innerExtract(e,t){let n=Ca.parseTimeUnits(t[1]);return AN.ParsingComponents.createRelativeFromReference(e.reference,n)}};uh.default=oh});var vT=S(ch=>{"use strict";Object.defineProperty(ch,"__esModule",{value:!0});var IN=At(),Ia=Zt(),bT=Zt(),_u=Zt(),FN=Fe(),LN=Z(),YN=new RegExp(`(?:\u0441)?\\s*(${_u.ORDINAL_NUMBER_PATTERN})(?:\\s{0,3}(?:\u043F\u043E|-|\u2013|\u0434\u043E)?\\s{0,3}(${_u.ORDINAL_NUMBER_PATTERN}))?(?:-|\\/|\\s{0,3}(?:of)?\\s{0,3})(${FN.matchAnyPattern(Ia.MONTH_DICTIONARY)})(?:(?:-|\\/|,?\\s{0,3})(${bT.YEAR_PATTERN}(?![^\\s]\\d)))?${Ia.REGEX_PARTS.rightBoundary}`,Ia.REGEX_PARTS.flags),gT=1,_T=2,UN=3,TT=4,lh=class extends LN.AbstractParserWithWordBoundaryChecking{patternLeftBoundary(){return Ia.REGEX_PARTS.leftBoundary}innerPattern(){return YN}innerExtract(e,t){let n=e.createParsingResult(t.index,t[0]),s=Ia.MONTH_DICTIONARY[t[UN].toLowerCase()],a=_u.parseOrdinalNumberPattern(t[gT]);if(a>31)return t.index=t.index+t[gT].length,null;if(n.start.assign("month",s),n.start.assign("day",a),t[TT]){let o=bT.parseYear(t[TT]);n.start.assign("year",o)}else{let o=IN.findYearClosestToRef(e.refDate,a,s);n.start.imply("year",o)}if(t[_T]){let o=_u.parseOrdinalNumberPattern(t[_T]);n.end=n.start.clone(),n.end.assign("day",o)}return n}};ch.default=lh});var ET=S(fh=>{"use strict";Object.defineProperty(fh,"__esModule",{value:!0});var Fa=Zt(),WN=At(),qN=Fe(),kT=Zt(),jN=Z(),GN=new RegExp(`((?:\u0432)\\s*)?(${qN.matchAnyPattern(Fa.MONTH_DICTIONARY)})\\s*(?:[,-]?\\s*(${kT.YEAR_PATTERN})?)?(?=[^\\s\\w]|\\s+[^0-9]|\\s+$|$)`,Fa.REGEX_PARTS.flags),$N=2,wT=3,dh=class extends jN.AbstractParserWithWordBoundaryChecking{patternLeftBoundary(){return Fa.REGEX_PARTS.leftBoundary}innerPattern(){return GN}innerExtract(e,t){let n=t[$N].toLowerCase();if(t[0].length<=3&&!Fa.FULL_MONTH_NAME_DICTIONARY[n])return null;let s=e.createParsingResult(t.index,t.index+t[0].length);s.start.imply("day",1);let a=Fa.MONTH_DICTIONARY[n];if(s.start.assign("month",a),t[wT]){let o=kT.parseYear(t[wT]);s.start.assign("year",o)}else{let o=WN.findYearClosestToRef(e.refDate,1,a);s.start.imply("year",o)}return s}};fh.default=dh});var ST=S(ph=>{"use strict";Object.defineProperty(ph,"__esModule",{value:!0});var Tu=yt(),HN=ds(),DT=Zt(),hh=class extends HN.AbstractTimeExpressionParser{constructor(e){super(e)}patternFlags(){return DT.REGEX_PARTS.flags}primaryPatternLeftBoundary(){return"(^|\\s|T|(?:[^\\p{L}\\p{N}_]))"}followingPhase(){return"\\s*(?:\\-|\\\u2013|\\~|\\\u301C|\u0434\u043E|\u0438|\u043F\u043E|\\?)\\s*"}primaryPrefix(){return"(?:(?:\u0432|\u0441)\\s*)??"}primarySuffix(){return`(?:\\s*(?:\u0443\u0442\u0440\u0430|\u0432\u0435\u0447\u0435\u0440\u0430|\u043F\u043E\u0441\u043B\u0435 \u043F\u043E\u043B\u0443\u0434\u043D\u044F))?(?!\\/)${DT.REGEX_PARTS.rightBoundary}`}extractPrimaryTimeComponents(e,t){let n=super.extractPrimaryTimeComponents(e,t);if(n){if(t[0].endsWith("\u0432\u0435\u0447\u0435\u0440\u0430")){let s=n.get("hour");s>=6&&s<12?(n.assign("hour",n.get("hour")+12),n.assign("meridiem",Tu.Meridiem.PM)):s<6&&n.assign("meridiem",Tu.Meridiem.AM)}if(t[0].endsWith("\u043F\u043E\u0441\u043B\u0435 \u043F\u043E\u043B\u0443\u0434\u043D\u044F")){n.assign("meridiem",Tu.Meridiem.PM);let s=n.get("hour");s>=0&&s<=6&&n.assign("hour",n.get("hour")+12)}t[0].endsWith("\u0443\u0442\u0440\u0430")&&(n.assign("meridiem",Tu.Meridiem.AM),n.get("hour")<12&&n.assign("hour",n.get("hour")))}return n}};ph.default=hh});var OT=S(yh=>{"use strict";Object.defineProperty(yh,"__esModule",{value:!0});var bu=Zt(),BN=rt(),zN=Z(),VN=gr(),KN=new RegExp(`(${bu.TIME_UNITS_PATTERN})\\s{0,5}\u043D\u0430\u0437\u0430\u0434(?=(?:\\W|$))`,bu.REGEX_PARTS.flags),mh=class extends zN.AbstractParserWithWordBoundaryChecking{patternLeftBoundary(){return bu.REGEX_PARTS.leftBoundary}innerPattern(){return KN}innerExtract(e,t){let n=bu.parseTimeUnits(t[1]),s=VN.reverseTimeUnits(n);return BN.ParsingComponents.createRelativeFromReference(e.reference,s)}};yh.default=mh});var MT=S(La=>{"use strict";var ZN=La&&La.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(La,"__esModule",{value:!0});var QN=ZN(jr()),gh=class extends QN.default{patternBetween(){return/^\s*(и до|и по|до|по|-)\s*$/i}};La.default=gh});var RT=S(Ya=>{"use strict";var XN=Ya&&Ya.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Ya,"__esModule",{value:!0});var JN=XN(on()),_h=class extends JN.default{patternBetween(){return new RegExp("^\\s*(T|\u0432|,|-)?\\s*$")}};Ya.default=_h});var xT=S(mn=>{"use strict";var eC=mn&&mn.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t),Object.defineProperty(r,n,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),tC=mn&&mn.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),rC=mn&&mn.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&eC(e,r,t);return tC(e,r),e};Object.defineProperty(mn,"__esModule",{value:!0});var nC=Z(),Ua=rC(cn()),Th=Zt(),sC=new RegExp(`(?:\u0441|\u0441\u043E)?\\s*(\u0441\u0435\u0433\u043E\u0434\u043D\u044F|\u0432\u0447\u0435\u0440\u0430|\u0437\u0430\u0432\u0442\u0440\u0430|\u043F\u043E\u0441\u043B\u0435\u0437\u0430\u0432\u0442\u0440\u0430|\u043F\u043E\u0437\u0430\u0432\u0447\u0435\u0440\u0430)${Th.REGEX_PARTS.rightBoundary}`,Th.REGEX_PARTS.flags),bh=class extends nC.AbstractParserWithWordBoundaryChecking{patternLeftBoundary(){return Th.REGEX_PARTS.leftBoundary}innerPattern(e){return sC}innerExtract(e,t){let n=t[1].toLowerCase(),s=e.createParsingComponents();switch(n){case"\u0441\u0435\u0433\u043E\u0434\u043D\u044F":return Ua.today(e.reference);case"\u0432\u0447\u0435\u0440\u0430":return Ua.yesterday(e.reference);case"\u0437\u0430\u0432\u0442\u0440\u0430":return Ua.tomorrow(e.reference);case"\u043F\u043E\u0441\u043B\u0435\u0437\u0430\u0432\u0442\u0440\u0430":return Ua.theDayAfter(e.reference,2);case"\u043F\u043E\u0437\u0430\u0432\u0447\u0435\u0440\u0430":return Ua.theDayBefore(e.reference,2)}return s}};mn.default=bh});var AT=S(Ir=>{"use strict";var iC=Ir&&Ir.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t),Object.defineProperty(r,n,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),aC=Ir&&Ir.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),oC=Ir&&Ir.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&iC(e,r,t);return aC(e,r),e},uC=Ir&&Ir.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Ir,"__esModule",{value:!0});var lC=Z(),Ts=oC(cn()),cC=yr(),dC=uC(Re()),vh=Zt(),fC=new RegExp(`(\u0441\u0435\u0439\u0447\u0430\u0441|\u043F\u0440\u043E\u0448\u043B\u044B\u043C\\s*\u0432\u0435\u0447\u0435\u0440\u043E\u043C|\u043F\u0440\u043E\u0448\u043B\u043E\u0439\\s*\u043D\u043E\u0447\u044C\u044E|\u0441\u043B\u0435\u0434\u0443\u044E\u0449\u0435\u0439\\s*\u043D\u043E\u0447\u044C\u044E|\u0441\u0435\u0433\u043E\u0434\u043D\u044F\\s*\u043D\u043E\u0447\u044C\u044E|\u044D\u0442\u043E\u0439\\s*\u043D\u043E\u0447\u044C\u044E|\u043D\u043E\u0447\u044C\u044E|\u044D\u0442\u0438\u043C \u0443\u0442\u0440\u043E\u043C|\u0443\u0442\u0440\u043E\u043C|\u0443\u0442\u0440\u0430|\u0432\\s*\u043F\u043E\u043B\u0434\u0435\u043D\u044C|\u0432\u0435\u0447\u0435\u0440\u043E\u043C|\u0432\u0435\u0447\u0435\u0440\u0430|\u0432\\s*\u043F\u043E\u043B\u043D\u043E\u0447\u044C)${vh.REGEX_PARTS.rightBoundary}`,vh.REGEX_PARTS.flags),wh=class extends lC.AbstractParserWithWordBoundaryChecking{patternLeftBoundary(){return vh.REGEX_PARTS.leftBoundary}innerPattern(){return fC}innerExtract(e,t){let n=dC.default(e.refDate),s=t[0].toLowerCase(),a=e.createParsingComponents();if(s==="\u0441\u0435\u0439\u0447\u0430\u0441")return Ts.now(e.reference);if(s==="\u0432\u0435\u0447\u0435\u0440\u043E\u043C"||s==="\u0432\u0435\u0447\u0435\u0440\u0430")return Ts.evening(e.reference);if(s.endsWith("\u0443\u0442\u0440\u043E\u043C")||s.endsWith("\u0443\u0442\u0440\u0430"))return Ts.morning(e.reference);if(s.match(/в\s*полдень/))return Ts.noon(e.reference);if(s.match(/прошлой\s*ночью/))return Ts.lastNight(e.reference);if(s.match(/прошлым\s*вечером/))return Ts.yesterdayEvening(e.reference);if(s.match(/следующей\s*ночью/)){let o=n.hour()<22?1:2;n=n.add(o,"day"),cC.assignSimilarDate(a,n),a.imply("hour",0)}return s.match(/в\s*полночь/)||s.endsWith("\u043D\u043E\u0447\u044C\u044E")?Ts.midnight(e.reference):a}};Ir.default=wh});var PT=S(Eh=>{"use strict";Object.defineProperty(Eh,"__esModule",{value:!0});var Wa=Zt(),hC=Fe(),pC=Z(),mC=hs(),yC=new RegExp(`(?:(?:,|\\(|\uFF08)\\s*)?(?:\u0432\\s*?)?(?:(\u044D\u0442\u0443|\u044D\u0442\u043E\u0442|\u043F\u0440\u043E\u0448\u043B\u044B\u0439|\u043F\u0440\u043E\u0448\u043B\u0443\u044E|\u0441\u043B\u0435\u0434\u0443\u044E\u0449\u0438\u0439|\u0441\u043B\u0435\u0434\u0443\u044E\u0449\u0443\u044E|\u0441\u043B\u0435\u0434\u0443\u044E\u0449\u0435\u0433\u043E)\\s*)?(${hC.matchAnyPattern(Wa.WEEKDAY_DICTIONARY)})(?:\\s*(?:,|\\)|\uFF09))?(?:\\s*\u043D\u0430\\s*(\u044D\u0442\u043E\u0439|\u043F\u0440\u043E\u0448\u043B\u043E\u0439|\u0441\u043B\u0435\u0434\u0443\u044E\u0449\u0435\u0439)\\s*\u043D\u0435\u0434\u0435\u043B\u0435)?${Wa.REGEX_PARTS.rightBoundary}`,Wa.REGEX_PARTS.flags),gC=1,_C=2,TC=3,kh=class extends pC.AbstractParserWithWordBoundaryChecking{innerPattern(){return yC}patternLeftBoundary(){return Wa.REGEX_PARTS.leftBoundary}innerExtract(e,t){let n=t[_C].toLowerCase(),s=Wa.WEEKDAY_DICTIONARY[n],a=t[gC],o=t[TC],l=a||o;l=l||"",l=l.toLowerCase();let c=null;l=="\u043F\u0440\u043E\u0448\u043B\u044B\u0439"||l=="\u043F\u0440\u043E\u0448\u043B\u0443\u044E"||l=="\u043F\u0440\u043E\u0448\u043B\u043E\u0439"?c="last":l=="\u0441\u043B\u0435\u0434\u0443\u044E\u0449\u0438\u0439"||l=="\u0441\u043B\u0435\u0434\u0443\u044E\u0449\u0443\u044E"||l=="\u0441\u043B\u0435\u0434\u0443\u044E\u0449\u0435\u0439"||l=="\u0441\u043B\u0435\u0434\u0443\u044E\u0449\u0435\u0433\u043E"?c="next":(l=="\u044D\u0442\u043E\u0442"||l=="\u044D\u0442\u0443"||l=="\u044D\u0442\u043E\u0439")&&(c="this");let f=mC.toDayJSWeekday(e.refDate,s,c);return e.createParsingComponents().assign("weekday",s).imply("day",f.date()).imply("month",f.month()+1).imply("year",f.year())}};Eh.default=kh});var CT=S(ja=>{"use strict";var bC=ja&&ja.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(ja,"__esModule",{value:!0});var qa=Zt(),NT=rt(),vC=bC(Re()),wC=Z(),kC=Fe(),EC=new RegExp(`(\u0432 \u043F\u0440\u043E\u0448\u043B\u043E\u043C|\u043D\u0430 \u043F\u0440\u043E\u0448\u043B\u043E\u0439|\u043D\u0430 \u0441\u043B\u0435\u0434\u0443\u044E\u0449\u0435\u0439|\u0432 \u0441\u043B\u0435\u0434\u0443\u044E\u0449\u0435\u043C|\u043D\u0430 \u044D\u0442\u043E\u0439|\u0432 \u044D\u0442\u043E\u043C)\\s*(${kC.matchAnyPattern(qa.TIME_UNIT_DICTIONARY)})(?=\\s*)${qa.REGEX_PARTS.rightBoundary}`,qa.REGEX_PARTS.flags),DC=1,SC=2,Dh=class extends wC.AbstractParserWithWordBoundaryChecking{patternLeftBoundary(){return qa.REGEX_PARTS.leftBoundary}innerPattern(){return EC}innerExtract(e,t){let n=t[DC].toLowerCase(),s=t[SC].toLowerCase(),a=qa.TIME_UNIT_DICTIONARY[s];if(n=="\u043D\u0430 \u0441\u043B\u0435\u0434\u0443\u044E\u0449\u0435\u0439"||n=="\u0432 \u0441\u043B\u0435\u0434\u0443\u044E\u0449\u0435\u043C"){let c={};return c[a]=1,NT.ParsingComponents.createRelativeFromReference(e.reference,c)}if(n=="\u0432 \u043F\u0440\u043E\u0448\u043B\u043E\u043C"||n=="\u043D\u0430 \u043F\u0440\u043E\u0448\u043B\u043E\u0439"){let c={};return c[a]=-1,NT.ParsingComponents.createRelativeFromReference(e.reference,c)}let o=e.createParsingComponents(),l=vC.default(e.reference.instant);return a.match(/week/i)?(l=l.add(-l.get("d"),"d"),o.imply("day",l.date()),o.imply("month",l.month()+1),o.imply("year",l.year())):a.match(/month/i)?(l=l.add(-l.date()+1,"d"),o.imply("day",l.date()),o.assign("year",l.year()),o.assign("month",l.month()+1)):a.match(/year/i)&&(l=l.add(-l.date()+1,"d"),l=l.add(-l.month(),"month"),o.imply("day",l.date()),o.imply("month",l.month()+1),o.assign("year",l.year())),o}};ja.default=Dh});var IT=S(Oh=>{"use strict";Object.defineProperty(Oh,"__esModule",{value:!0});var Ga=Zt(),OC=rt(),MC=Z(),RC=gr(),xC=new RegExp(`(\u044D\u0442\u0438|\u043F\u043E\u0441\u043B\u0435\u0434\u043D\u0438\u0435|\u043F\u0440\u043E\u0448\u043B\u044B\u0435|\u0441\u043B\u0435\u0434\u0443\u044E\u0449\u0438\u0435|\u043F\u043E\u0441\u043B\u0435|\u0447\u0435\u0440\u0435\u0437|\\+|-)\\s*(${Ga.TIME_UNITS_PATTERN})${Ga.REGEX_PARTS.rightBoundary}`,Ga.REGEX_PARTS.flags),Sh=class extends MC.AbstractParserWithWordBoundaryChecking{patternLeftBoundary(){return Ga.REGEX_PARTS.leftBoundary}innerPattern(){return xC}innerExtract(e,t){let n=t[1].toLowerCase(),s=Ga.parseTimeUnits(t[2]);switch(n){case"\u043F\u043E\u0441\u043B\u0435\u0434\u043D\u0438\u0435":case"\u043F\u0440\u043E\u0448\u043B\u044B\u0435":case"-":s=RC.reverseTimeUnits(s);break}return OC.ParsingComponents.createRelativeFromReference(e.reference,s)}};Oh.default=Sh});var YT=S(Ot=>{"use strict";var sr=Ot&&Ot.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Ot,"__esModule",{value:!0});Ot.createConfiguration=Ot.createCasualConfiguration=Ot.parseDate=Ot.parse=Ot.strict=Ot.casual=void 0;var AC=sr(yT()),PC=sr(vT()),NC=sr(ET()),CC=sr(ST()),IC=sr(OT()),FC=sr(MT()),LC=sr(RT()),YC=un(),UC=sr(xT()),WC=sr(AT()),qC=sr(PT()),jC=sr(CT()),FT=xr(),GC=sr(ps()),$C=sr(IT());Ot.casual=new FT.Chrono(LT());Ot.strict=new FT.Chrono(Mh(!0));function HC(r,e,t){return Ot.casual.parse(r,e,t)}Ot.parse=HC;function BC(r,e,t){return Ot.casual.parseDate(r,e,t)}Ot.parseDate=BC;function LT(){let r=Mh(!1);return r.parsers.unshift(new UC.default),r.parsers.unshift(new WC.default),r.parsers.unshift(new NC.default),r.parsers.unshift(new jC.default),r.parsers.unshift(new $C.default),r}Ot.createCasualConfiguration=LT;function Mh(r=!0){return YC.includeCommonConfiguration({parsers:[new GC.default(!0),new AC.default,new PC.default,new qC.default,new CC.default(r),new IC.default],refiners:[new LC.default,new FC.default]},r)}Ot.createConfiguration=Mh});var yt=S(ge=>{"use strict";var zC=ge&&ge.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t),Object.defineProperty(r,n,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),VC=ge&&ge.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),jn=ge&&ge.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&zC(e,r,t);return VC(e,r),e};Object.defineProperty(ge,"__esModule",{value:!0});ge.parseDate=ge.parse=ge.casual=ge.strict=ge.ru=ge.zh=ge.nl=ge.pt=ge.ja=ge.fr=ge.de=ge.Meridiem=ge.Chrono=ge.en=void 0;var Rh=jn(Hc());ge.en=Rh;var KC=xr();Object.defineProperty(ge,"Chrono",{enumerable:!0,get:function(){return KC.Chrono}});var ZC;(function(r){r[r.AM=0]="AM",r[r.PM=1]="PM"})(ZC=ge.Meridiem||(ge.Meridiem={}));var QC=jn(zy());ge.de=QC;var XC=jn(wg());ge.fr=XC;var JC=jn(Ag());ge.ja=JC;var eI=jn(zg());ge.pt=eI;var tI=jn(A_());ge.nl=tI;var rI=jn(dT());ge.zh=rI;var nI=jn(YT());ge.ru=nI;ge.strict=Rh.strict;ge.casual=Rh.casual;function sI(r,e,t){return ge.casual.parse(r,e,t)}ge.parse=sI;function iI(r,e,t){return ge.casual.parseDate(r,e,t)}ge.parseDate=iI});var vu=S((xh,ci)=>{(function(r,e){typeof xh=="object"&&typeof ci!="undefined"?ci.exports=e():typeof define=="function"&&define.amd?define(e):r.moment=e()})(xh,function(){"use strict";var r;function e(){return r.apply(null,arguments)}function t(i){r=i}function n(i){return i instanceof Array||Object.prototype.toString.call(i)==="[object Array]"}function s(i){return i!=null&&Object.prototype.toString.call(i)==="[object Object]"}function a(i,u){return Object.prototype.hasOwnProperty.call(i,u)}function o(i){if(Object.getOwnPropertyNames)return Object.getOwnPropertyNames(i).length===0;var u;for(u in i)if(a(i,u))return!1;return!0}function l(i){return i===void 0}function c(i){return typeof i=="number"||Object.prototype.toString.call(i)==="[object Number]"}function f(i){return i instanceof Date||Object.prototype.toString.call(i)==="[object Date]"}function p(i,u){var d=[],h,m=i.length;for(h=0;h<m;++h)d.push(u(i[h],h));return d}function _(i,u){for(var d in u)a(u,d)&&(i[d]=u[d]);return a(u,"toString")&&(i.toString=u.toString),a(u,"valueOf")&&(i.valueOf=u.valueOf),i}function T(i,u,d,h){return Yp(i,u,d,h,!0).utc()}function O(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function b(i){return i._pf==null&&(i._pf=O()),i._pf}var x;Array.prototype.some?x=Array.prototype.some:x=function(i){var u=Object(this),d=u.length>>>0,h;for(h=0;h<d;h++)if(h in u&&i.call(this,u[h],h,u))return!0;return!1};function I(i){if(i._isValid==null){var u=b(i),d=x.call(u.parsedDateParts,function(m){return m!=null}),h=!isNaN(i._d.getTime())&&u.overflow<0&&!u.empty&&!u.invalidEra&&!u.invalidMonth&&!u.invalidWeekday&&!u.weekdayMismatch&&!u.nullInput&&!u.invalidFormat&&!u.userInvalidated&&(!u.meridiem||u.meridiem&&d);if(i._strict&&(h=h&&u.charsLeftOver===0&&u.unusedTokens.length===0&&u.bigHour===void 0),Object.isFrozen==null||!Object.isFrozen(i))i._isValid=h;else return h}return i._isValid}function G(i){var u=T(NaN);return i!=null?_(b(u),i):b(u).userInvalidated=!0,u}var H=e.momentProperties=[],W=!1;function ke(i,u){var d,h,m,v=H.length;if(l(u._isAMomentObject)||(i._isAMomentObject=u._isAMomentObject),l(u._i)||(i._i=u._i),l(u._f)||(i._f=u._f),l(u._l)||(i._l=u._l),l(u._strict)||(i._strict=u._strict),l(u._tzm)||(i._tzm=u._tzm),l(u._isUTC)||(i._isUTC=u._isUTC),l(u._offset)||(i._offset=u._offset),l(u._pf)||(i._pf=b(u)),l(u._locale)||(i._locale=u._locale),v>0)for(d=0;d<v;d++)h=H[d],m=u[h],l(m)||(i[h]=m);return i}function Te(i){ke(this,i),this._d=new Date(i._d!=null?i._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),W===!1&&(W=!0,e.updateOffset(this),W=!1)}function be(i){return i instanceof Te||i!=null&&i._isAMomentObject!=null}function ee(i){e.suppressDeprecationWarnings===!1&&typeof console!="undefined"&&console.warn&&console.warn("Deprecation warning: "+i)}function ne(i,u){var d=!0;return _(function(){if(e.deprecationHandler!=null&&e.deprecationHandler(null,i),d){var h=[],m,v,R,te=arguments.length;for(v=0;v<te;v++){if(m="",typeof arguments[v]=="object"){m+=`
[`+v+"] ";for(R in arguments[0])a(arguments[0],R)&&(m+=R+": "+arguments[0][R]+", ");m=m.slice(0,-2)}else m=arguments[v];h.push(m)}ee(i+`
Arguments: `+Array.prototype.slice.call(h).join("")+`
`+new Error().stack),d=!1}return u.apply(this,arguments)},u)}var Ft={};function _t(i,u){e.deprecationHandler!=null&&e.deprecationHandler(i,u),Ft[i]||(ee(u),Ft[i]=!0)}e.suppressDeprecationWarnings=!1,e.deprecationHandler=null;function V(i){return typeof Function!="undefined"&&i instanceof Function||Object.prototype.toString.call(i)==="[object Function]"}function q(i){var u,d;for(d in i)a(i,d)&&(u=i[d],V(u)?this[d]=u:this["_"+d]=u);this._config=i,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function A(i,u){var d=_({},i),h;for(h in u)a(u,h)&&(s(i[h])&&s(u[h])?(d[h]={},_(d[h],i[h]),_(d[h],u[h])):u[h]!=null?d[h]=u[h]:delete d[h]);for(h in i)a(i,h)&&!a(u,h)&&s(i[h])&&(d[h]=_({},d[h]));return d}function J(i){i!=null&&this.set(i)}var Y;Object.keys?Y=Object.keys:Y=function(i){var u,d=[];for(u in i)a(i,u)&&d.push(u);return d};var ue={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"};function y(i,u,d){var h=this._calendar[i]||this._calendar.sameElse;return V(h)?h.call(u,d):h}function g(i,u,d){var h=""+Math.abs(i),m=u-h.length,v=i>=0;return(v?d?"+":"":"-")+Math.pow(10,Math.max(0,m)).toString().substr(1)+h}var w=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,k=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,D={},M={};function E(i,u,d,h){var m=h;typeof h=="string"&&(m=function(){return this[h]()}),i&&(M[i]=m),u&&(M[u[0]]=function(){return g(m.apply(this,arguments),u[1],u[2])}),d&&(M[d]=function(){return this.localeData().ordinal(m.apply(this,arguments),i)})}function C(i){return i.match(/\[[\s\S]/)?i.replace(/^\[|\]$/g,""):i.replace(/\\/g,"")}function P(i){var u=i.match(w),d,h;for(d=0,h=u.length;d<h;d++)M[u[d]]?u[d]=M[u[d]]:u[d]=C(u[d]);return function(m){var v="",R;for(R=0;R<h;R++)v+=V(u[R])?u[R].call(m,i):u[R];return v}}function N(i,u){return i.isValid()?(u=j(u,i.localeData()),D[u]=D[u]||P(u),D[u](i)):i.localeData().invalidDate()}function j(i,u){var d=5;function h(m){return u.longDateFormat(m)||m}for(k.lastIndex=0;d>=0&&k.test(i);)i=i.replace(k,h),k.lastIndex=0,d-=1;return i}var Ee={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};function pe(i){var u=this._longDateFormat[i],d=this._longDateFormat[i.toUpperCase()];return u||!d?u:(this._longDateFormat[i]=d.match(w).map(function(h){return h==="MMMM"||h==="MM"||h==="DD"||h==="dddd"?h.slice(1):h}).join(""),this._longDateFormat[i])}var ce="Invalid date";function Ie(){return this._invalidDate}var K="%d",qe=/\d{1,2}/;function Xe(i){return this._ordinal.replace("%d",i)}var ft={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function Or(i,u,d,h){var m=this._relativeTime[d];return V(m)?m(i,u,d,h):m.replace(/%d/i,i)}function at(i,u){var d=this._relativeTime[i>0?"future":"past"];return V(d)?d(u):d.replace(/%s/i,u)}var je={};function ht(i,u){var d=i.toLowerCase();je[d]=je[d+"s"]=je[u]=i}function Tt(i){return typeof i=="string"?je[i]||je[i.toLowerCase()]:void 0}function On(i){var u={},d,h;for(h in i)a(i,h)&&(d=Tt(h),d&&(u[d]=i[h]));return u}var Ii={};function Ge(i,u){Ii[i]=u}function Ws(i){var u=[],d;for(d in i)a(i,d)&&u.push({unit:d,priority:Ii[d]});return u.sort(function(h,m){return h.priority-m.priority}),u}function ts(i){return i%4===0&&i%100!==0||i%400===0}function pt(i){return i<0?Math.ceil(i)||0:Math.floor(i)}function de(i){var u=+i,d=0;return u!==0&&isFinite(u)&&(d=pt(u)),d}function Qr(i,u){return function(d){return d!=null?(rs(this,i,d),e.updateOffset(this,u),this):xt(this,i)}}function xt(i,u){return i.isValid()?i._d["get"+(i._isUTC?"UTC":"")+u]():NaN}function rs(i,u,d){i.isValid()&&!isNaN(d)&&(u==="FullYear"&&ts(i.year())&&i.month()===1&&i.date()===29?(d=de(d),i._d["set"+(i._isUTC?"UTC":"")+u](d,i.month(),go(d,i.month()))):i._d["set"+(i._isUTC?"UTC":"")+u](d))}function ho(i){return i=Tt(i),V(this[i])?this[i]():this}function Ur(i,u){if(typeof i=="object"){i=On(i);var d=Ws(i),h,m=d.length;for(h=0;h<m;h++)this[d[h].unit](i[d[h].unit])}else if(i=Tt(i),V(this[i]))return this[i](u);return this}var Mn=/\d/,bt=/\d\d/,Fi=/\d{3}/,dr=/\d{4}/,Xr=/[+-]?\d{6}/,Ye=/\d\d?/,Rn=/\d\d\d\d?/,qs=/\d\d\d\d\d\d?/,ns=/\d{1,3}/,xn=/\d{1,4}/,ss=/[+-]?\d{1,6}/,fr=/\d+/,An=/[+-]?\d+/,po=/Z|[+-]\d\d:?\d\d/gi,Jr=/Z|[+-]\d\d(?::?\d\d)?/gi,mo=/[+-]?\d+(\.\d{1,3})?/,hr=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,pr;pr={};function B(i,u,d){pr[i]=V(u)?u:function(h,m){return h&&d?d:u}}function js(i,u){return a(pr,i)?pr[i](u._strict,u._locale):new RegExp(yo(i))}function yo(i){return mt(i.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(u,d,h,m,v){return d||h||m||v}))}function mt(i){return i.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}var is={};function Ae(i,u){var d,h=u,m;for(typeof i=="string"&&(i=[i]),c(u)&&(h=function(v,R){R[u]=de(v)}),m=i.length,d=0;d<m;d++)is[i[d]]=h}function mr(i,u){Ae(i,function(d,h,m,v){m._w=m._w||{},u(d,m._w,m,v)})}function Lt(i,u,d){u!=null&&a(is,i)&&is[i](u,d._a,d,i)}var tt=0,Je=1,$=2,re=3,le=4,jt=5,as=6,rw=7,nw=8;function sw(i,u){return(i%u+u)%u}var st;Array.prototype.indexOf?st=Array.prototype.indexOf:st=function(i){var u;for(u=0;u<this.length;++u)if(this[u]===i)return u;return-1};function go(i,u){if(isNaN(i)||isNaN(u))return NaN;var d=sw(u,12);return i+=(u-d)/12,d===1?ts(i)?29:28:31-d%7%2}E("M",["MM",2],"Mo",function(){return this.month()+1}),E("MMM",0,0,function(i){return this.localeData().monthsShort(this,i)}),E("MMMM",0,0,function(i){return this.localeData().months(this,i)}),ht("month","M"),Ge("month",8),B("M",Ye),B("MM",Ye,bt),B("MMM",function(i,u){return u.monthsShortRegex(i)}),B("MMMM",function(i,u){return u.monthsRegex(i)}),Ae(["M","MM"],function(i,u){u[Je]=de(i)-1}),Ae(["MMM","MMMM"],function(i,u,d,h){var m=d._locale.monthsParse(i,h,d._strict);m!=null?u[Je]=m:b(d).invalidMonth=i});var iw="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),kp="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),Ep=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,aw=hr,ow=hr;function uw(i,u){return i?n(this._months)?this._months[i.month()]:this._months[(this._months.isFormat||Ep).test(u)?"format":"standalone"][i.month()]:n(this._months)?this._months:this._months.standalone}function lw(i,u){return i?n(this._monthsShort)?this._monthsShort[i.month()]:this._monthsShort[Ep.test(u)?"format":"standalone"][i.month()]:n(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}function cw(i,u,d){var h,m,v,R=i.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],h=0;h<12;++h)v=T([2e3,h]),this._shortMonthsParse[h]=this.monthsShort(v,"").toLocaleLowerCase(),this._longMonthsParse[h]=this.months(v,"").toLocaleLowerCase();return d?u==="MMM"?(m=st.call(this._shortMonthsParse,R),m!==-1?m:null):(m=st.call(this._longMonthsParse,R),m!==-1?m:null):u==="MMM"?(m=st.call(this._shortMonthsParse,R),m!==-1?m:(m=st.call(this._longMonthsParse,R),m!==-1?m:null)):(m=st.call(this._longMonthsParse,R),m!==-1?m:(m=st.call(this._shortMonthsParse,R),m!==-1?m:null))}function dw(i,u,d){var h,m,v;if(this._monthsParseExact)return cw.call(this,i,u,d);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),h=0;h<12;h++){if(m=T([2e3,h]),d&&!this._longMonthsParse[h]&&(this._longMonthsParse[h]=new RegExp("^"+this.months(m,"").replace(".","")+"$","i"),this._shortMonthsParse[h]=new RegExp("^"+this.monthsShort(m,"").replace(".","")+"$","i")),!d&&!this._monthsParse[h]&&(v="^"+this.months(m,"")+"|^"+this.monthsShort(m,""),this._monthsParse[h]=new RegExp(v.replace(".",""),"i")),d&&u==="MMMM"&&this._longMonthsParse[h].test(i))return h;if(d&&u==="MMM"&&this._shortMonthsParse[h].test(i))return h;if(!d&&this._monthsParse[h].test(i))return h}}function Dp(i,u){var d;if(!i.isValid())return i;if(typeof u=="string"){if(/^\d+$/.test(u))u=de(u);else if(u=i.localeData().monthsParse(u),!c(u))return i}return d=Math.min(i.date(),go(i.year(),u)),i._d["set"+(i._isUTC?"UTC":"")+"Month"](u,d),i}function Sp(i){return i!=null?(Dp(this,i),e.updateOffset(this,!0),this):xt(this,"Month")}function fw(){return go(this.year(),this.month())}function hw(i){return this._monthsParseExact?(a(this,"_monthsRegex")||Op.call(this),i?this._monthsShortStrictRegex:this._monthsShortRegex):(a(this,"_monthsShortRegex")||(this._monthsShortRegex=aw),this._monthsShortStrictRegex&&i?this._monthsShortStrictRegex:this._monthsShortRegex)}function pw(i){return this._monthsParseExact?(a(this,"_monthsRegex")||Op.call(this),i?this._monthsStrictRegex:this._monthsRegex):(a(this,"_monthsRegex")||(this._monthsRegex=ow),this._monthsStrictRegex&&i?this._monthsStrictRegex:this._monthsRegex)}function Op(){function i(R,te){return te.length-R.length}var u=[],d=[],h=[],m,v;for(m=0;m<12;m++)v=T([2e3,m]),u.push(this.monthsShort(v,"")),d.push(this.months(v,"")),h.push(this.months(v,"")),h.push(this.monthsShort(v,""));for(u.sort(i),d.sort(i),h.sort(i),m=0;m<12;m++)u[m]=mt(u[m]),d[m]=mt(d[m]);for(m=0;m<24;m++)h[m]=mt(h[m]);this._monthsRegex=new RegExp("^("+h.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+d.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+u.join("|")+")","i")}E("Y",0,0,function(){var i=this.year();return i<=9999?g(i,4):"+"+i}),E(0,["YY",2],0,function(){return this.year()%100}),E(0,["YYYY",4],0,"year"),E(0,["YYYYY",5],0,"year"),E(0,["YYYYYY",6,!0],0,"year"),ht("year","y"),Ge("year",1),B("Y",An),B("YY",Ye,bt),B("YYYY",xn,dr),B("YYYYY",ss,Xr),B("YYYYYY",ss,Xr),Ae(["YYYYY","YYYYYY"],tt),Ae("YYYY",function(i,u){u[tt]=i.length===2?e.parseTwoDigitYear(i):de(i)}),Ae("YY",function(i,u){u[tt]=e.parseTwoDigitYear(i)}),Ae("Y",function(i,u){u[tt]=parseInt(i,10)});function Li(i){return ts(i)?366:365}e.parseTwoDigitYear=function(i){return de(i)+(de(i)>68?1900:2e3)};var Mp=Qr("FullYear",!0);function mw(){return ts(this.year())}function yw(i,u,d,h,m,v,R){var te;return i<100&&i>=0?(te=new Date(i+400,u,d,h,m,v,R),isFinite(te.getFullYear())&&te.setFullYear(i)):te=new Date(i,u,d,h,m,v,R),te}function Yi(i){var u,d;return i<100&&i>=0?(d=Array.prototype.slice.call(arguments),d[0]=i+400,u=new Date(Date.UTC.apply(null,d)),isFinite(u.getUTCFullYear())&&u.setUTCFullYear(i)):u=new Date(Date.UTC.apply(null,arguments)),u}function _o(i,u,d){var h=7+u-d,m=(7+Yi(i,0,h).getUTCDay()-u)%7;return-m+h-1}function Rp(i,u,d,h,m){var v=(7+d-h)%7,R=_o(i,h,m),te=1+7*(u-1)+v+R,me,Ue;return te<=0?(me=i-1,Ue=Li(me)+te):te>Li(i)?(me=i+1,Ue=te-Li(i)):(me=i,Ue=te),{year:me,dayOfYear:Ue}}function Ui(i,u,d){var h=_o(i.year(),u,d),m=Math.floor((i.dayOfYear()-h-1)/7)+1,v,R;return m<1?(R=i.year()-1,v=m+en(R,u,d)):m>en(i.year(),u,d)?(v=m-en(i.year(),u,d),R=i.year()+1):(R=i.year(),v=m),{week:v,year:R}}function en(i,u,d){var h=_o(i,u,d),m=_o(i+1,u,d);return(Li(i)-h+m)/7}E("w",["ww",2],"wo","week"),E("W",["WW",2],"Wo","isoWeek"),ht("week","w"),ht("isoWeek","W"),Ge("week",5),Ge("isoWeek",5),B("w",Ye),B("ww",Ye,bt),B("W",Ye),B("WW",Ye,bt),mr(["w","ww","W","WW"],function(i,u,d,h){u[h.substr(0,1)]=de(i)});function gw(i){return Ui(i,this._week.dow,this._week.doy).week}var _w={dow:0,doy:6};function Tw(){return this._week.dow}function bw(){return this._week.doy}function vw(i){var u=this.localeData().week(this);return i==null?u:this.add((i-u)*7,"d")}function ww(i){var u=Ui(this,1,4).week;return i==null?u:this.add((i-u)*7,"d")}E("d",0,"do","day"),E("dd",0,0,function(i){return this.localeData().weekdaysMin(this,i)}),E("ddd",0,0,function(i){return this.localeData().weekdaysShort(this,i)}),E("dddd",0,0,function(i){return this.localeData().weekdays(this,i)}),E("e",0,0,"weekday"),E("E",0,0,"isoWeekday"),ht("day","d"),ht("weekday","e"),ht("isoWeekday","E"),Ge("day",11),Ge("weekday",11),Ge("isoWeekday",11),B("d",Ye),B("e",Ye),B("E",Ye),B("dd",function(i,u){return u.weekdaysMinRegex(i)}),B("ddd",function(i,u){return u.weekdaysShortRegex(i)}),B("dddd",function(i,u){return u.weekdaysRegex(i)}),mr(["dd","ddd","dddd"],function(i,u,d,h){var m=d._locale.weekdaysParse(i,h,d._strict);m!=null?u.d=m:b(d).invalidWeekday=i}),mr(["d","e","E"],function(i,u,d,h){u[h]=de(i)});function kw(i,u){return typeof i!="string"?i:isNaN(i)?(i=u.weekdaysParse(i),typeof i=="number"?i:null):parseInt(i,10)}function Ew(i,u){return typeof i=="string"?u.weekdaysParse(i)%7||7:isNaN(i)?null:i}function wl(i,u){return i.slice(u,7).concat(i.slice(0,u))}var Dw="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),xp="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),Sw="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),Ow=hr,Mw=hr,Rw=hr;function xw(i,u){var d=n(this._weekdays)?this._weekdays:this._weekdays[i&&i!==!0&&this._weekdays.isFormat.test(u)?"format":"standalone"];return i===!0?wl(d,this._week.dow):i?d[i.day()]:d}function Aw(i){return i===!0?wl(this._weekdaysShort,this._week.dow):i?this._weekdaysShort[i.day()]:this._weekdaysShort}function Pw(i){return i===!0?wl(this._weekdaysMin,this._week.dow):i?this._weekdaysMin[i.day()]:this._weekdaysMin}function Nw(i,u,d){var h,m,v,R=i.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],h=0;h<7;++h)v=T([2e3,1]).day(h),this._minWeekdaysParse[h]=this.weekdaysMin(v,"").toLocaleLowerCase(),this._shortWeekdaysParse[h]=this.weekdaysShort(v,"").toLocaleLowerCase(),this._weekdaysParse[h]=this.weekdays(v,"").toLocaleLowerCase();return d?u==="dddd"?(m=st.call(this._weekdaysParse,R),m!==-1?m:null):u==="ddd"?(m=st.call(this._shortWeekdaysParse,R),m!==-1?m:null):(m=st.call(this._minWeekdaysParse,R),m!==-1?m:null):u==="dddd"?(m=st.call(this._weekdaysParse,R),m!==-1||(m=st.call(this._shortWeekdaysParse,R),m!==-1)?m:(m=st.call(this._minWeekdaysParse,R),m!==-1?m:null)):u==="ddd"?(m=st.call(this._shortWeekdaysParse,R),m!==-1||(m=st.call(this._weekdaysParse,R),m!==-1)?m:(m=st.call(this._minWeekdaysParse,R),m!==-1?m:null)):(m=st.call(this._minWeekdaysParse,R),m!==-1||(m=st.call(this._weekdaysParse,R),m!==-1)?m:(m=st.call(this._shortWeekdaysParse,R),m!==-1?m:null))}function Cw(i,u,d){var h,m,v;if(this._weekdaysParseExact)return Nw.call(this,i,u,d);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),h=0;h<7;h++){if(m=T([2e3,1]).day(h),d&&!this._fullWeekdaysParse[h]&&(this._fullWeekdaysParse[h]=new RegExp("^"+this.weekdays(m,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[h]=new RegExp("^"+this.weekdaysShort(m,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[h]=new RegExp("^"+this.weekdaysMin(m,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[h]||(v="^"+this.weekdays(m,"")+"|^"+this.weekdaysShort(m,"")+"|^"+this.weekdaysMin(m,""),this._weekdaysParse[h]=new RegExp(v.replace(".",""),"i")),d&&u==="dddd"&&this._fullWeekdaysParse[h].test(i))return h;if(d&&u==="ddd"&&this._shortWeekdaysParse[h].test(i))return h;if(d&&u==="dd"&&this._minWeekdaysParse[h].test(i))return h;if(!d&&this._weekdaysParse[h].test(i))return h}}function Iw(i){if(!this.isValid())return i!=null?this:NaN;var u=this._isUTC?this._d.getUTCDay():this._d.getDay();return i!=null?(i=kw(i,this.localeData()),this.add(i-u,"d")):u}function Fw(i){if(!this.isValid())return i!=null?this:NaN;var u=(this.day()+7-this.localeData()._week.dow)%7;return i==null?u:this.add(i-u,"d")}function Lw(i){if(!this.isValid())return i!=null?this:NaN;if(i!=null){var u=Ew(i,this.localeData());return this.day(this.day()%7?u:u-7)}else return this.day()||7}function Yw(i){return this._weekdaysParseExact?(a(this,"_weekdaysRegex")||kl.call(this),i?this._weekdaysStrictRegex:this._weekdaysRegex):(a(this,"_weekdaysRegex")||(this._weekdaysRegex=Ow),this._weekdaysStrictRegex&&i?this._weekdaysStrictRegex:this._weekdaysRegex)}function Uw(i){return this._weekdaysParseExact?(a(this,"_weekdaysRegex")||kl.call(this),i?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(a(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=Mw),this._weekdaysShortStrictRegex&&i?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function Ww(i){return this._weekdaysParseExact?(a(this,"_weekdaysRegex")||kl.call(this),i?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(a(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=Rw),this._weekdaysMinStrictRegex&&i?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function kl(){function i(Gt,an){return an.length-Gt.length}var u=[],d=[],h=[],m=[],v,R,te,me,Ue;for(v=0;v<7;v++)R=T([2e3,1]).day(v),te=mt(this.weekdaysMin(R,"")),me=mt(this.weekdaysShort(R,"")),Ue=mt(this.weekdays(R,"")),u.push(te),d.push(me),h.push(Ue),m.push(te),m.push(me),m.push(Ue);u.sort(i),d.sort(i),h.sort(i),m.sort(i),this._weekdaysRegex=new RegExp("^("+m.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+h.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+d.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+u.join("|")+")","i")}function El(){return this.hours()%12||12}function qw(){return this.hours()||24}E("H",["HH",2],0,"hour"),E("h",["hh",2],0,El),E("k",["kk",2],0,qw),E("hmm",0,0,function(){return""+El.apply(this)+g(this.minutes(),2)}),E("hmmss",0,0,function(){return""+El.apply(this)+g(this.minutes(),2)+g(this.seconds(),2)}),E("Hmm",0,0,function(){return""+this.hours()+g(this.minutes(),2)}),E("Hmmss",0,0,function(){return""+this.hours()+g(this.minutes(),2)+g(this.seconds(),2)});function Ap(i,u){E(i,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),u)})}Ap("a",!0),Ap("A",!1),ht("hour","h"),Ge("hour",13);function Pp(i,u){return u._meridiemParse}B("a",Pp),B("A",Pp),B("H",Ye),B("h",Ye),B("k",Ye),B("HH",Ye,bt),B("hh",Ye,bt),B("kk",Ye,bt),B("hmm",Rn),B("hmmss",qs),B("Hmm",Rn),B("Hmmss",qs),Ae(["H","HH"],re),Ae(["k","kk"],function(i,u,d){var h=de(i);u[re]=h===24?0:h}),Ae(["a","A"],function(i,u,d){d._isPm=d._locale.isPM(i),d._meridiem=i}),Ae(["h","hh"],function(i,u,d){u[re]=de(i),b(d).bigHour=!0}),Ae("hmm",function(i,u,d){var h=i.length-2;u[re]=de(i.substr(0,h)),u[le]=de(i.substr(h)),b(d).bigHour=!0}),Ae("hmmss",function(i,u,d){var h=i.length-4,m=i.length-2;u[re]=de(i.substr(0,h)),u[le]=de(i.substr(h,2)),u[jt]=de(i.substr(m)),b(d).bigHour=!0}),Ae("Hmm",function(i,u,d){var h=i.length-2;u[re]=de(i.substr(0,h)),u[le]=de(i.substr(h))}),Ae("Hmmss",function(i,u,d){var h=i.length-4,m=i.length-2;u[re]=de(i.substr(0,h)),u[le]=de(i.substr(h,2)),u[jt]=de(i.substr(m))});function jw(i){return(i+"").toLowerCase().charAt(0)==="p"}var Gw=/[ap]\.?m?\.?/i,$w=Qr("Hours",!0);function Hw(i,u,d){return i>11?d?"pm":"PM":d?"am":"AM"}var Np={calendar:ue,longDateFormat:Ee,invalidDate:ce,ordinal:K,dayOfMonthOrdinalParse:qe,relativeTime:ft,months:iw,monthsShort:kp,week:_w,weekdays:Dw,weekdaysMin:Sw,weekdaysShort:xp,meridiemParse:Gw},et={},Wi={},qi;function Bw(i,u){var d,h=Math.min(i.length,u.length);for(d=0;d<h;d+=1)if(i[d]!==u[d])return d;return h}function Cp(i){return i&&i.toLowerCase().replace("_","-")}function zw(i){for(var u=0,d,h,m,v;u<i.length;){for(v=Cp(i[u]).split("-"),d=v.length,h=Cp(i[u+1]),h=h?h.split("-"):null;d>0;){if(m=To(v.slice(0,d).join("-")),m)return m;if(h&&h.length>=d&&Bw(v,h)>=d-1)break;d--}u++}return qi}function Vw(i){return i.match("^[^/\\\\]*$")!=null}function To(i){var u=null,d;if(et[i]===void 0&&typeof ci!="undefined"&&ci&&ci.exports&&Vw(i))try{u=qi._abbr,d=require,d("./locale/"+i),Pn(u)}catch(h){et[i]=null}return et[i]}function Pn(i,u){var d;return i&&(l(u)?d=tn(i):d=Dl(i,u),d?qi=d:typeof console!="undefined"&&console.warn&&console.warn("Locale "+i+" not found. Did you forget to load it?")),qi._abbr}function Dl(i,u){if(u!==null){var d,h=Np;if(u.abbr=i,et[i]!=null)_t("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),h=et[i]._config;else if(u.parentLocale!=null)if(et[u.parentLocale]!=null)h=et[u.parentLocale]._config;else if(d=To(u.parentLocale),d!=null)h=d._config;else return Wi[u.parentLocale]||(Wi[u.parentLocale]=[]),Wi[u.parentLocale].push({name:i,config:u}),null;return et[i]=new J(A(h,u)),Wi[i]&&Wi[i].forEach(function(m){Dl(m.name,m.config)}),Pn(i),et[i]}else return delete et[i],null}function Kw(i,u){if(u!=null){var d,h,m=Np;et[i]!=null&&et[i].parentLocale!=null?et[i].set(A(et[i]._config,u)):(h=To(i),h!=null&&(m=h._config),u=A(m,u),h==null&&(u.abbr=i),d=new J(u),d.parentLocale=et[i],et[i]=d),Pn(i)}else et[i]!=null&&(et[i].parentLocale!=null?(et[i]=et[i].parentLocale,i===Pn()&&Pn(i)):et[i]!=null&&delete et[i]);return et[i]}function tn(i){var u;if(i&&i._locale&&i._locale._abbr&&(i=i._locale._abbr),!i)return qi;if(!n(i)){if(u=To(i),u)return u;i=[i]}return zw(i)}function Zw(){return Y(et)}function Sl(i){var u,d=i._a;return d&&b(i).overflow===-2&&(u=d[Je]<0||d[Je]>11?Je:d[$]<1||d[$]>go(d[tt],d[Je])?$:d[re]<0||d[re]>24||d[re]===24&&(d[le]!==0||d[jt]!==0||d[as]!==0)?re:d[le]<0||d[le]>59?le:d[jt]<0||d[jt]>59?jt:d[as]<0||d[as]>999?as:-1,b(i)._overflowDayOfYear&&(u<tt||u>$)&&(u=$),b(i)._overflowWeeks&&u===-1&&(u=rw),b(i)._overflowWeekday&&u===-1&&(u=nw),b(i).overflow=u),i}var Qw=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Xw=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Jw=/Z|[+-]\d\d(?::?\d\d)?/,bo=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],Ol=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],e0=/^\/?Date\((-?\d+)/i,t0=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,r0={UT:0,GMT:0,EDT:-4*60,EST:-5*60,CDT:-5*60,CST:-6*60,MDT:-6*60,MST:-7*60,PDT:-7*60,PST:-8*60};function Ip(i){var u,d,h=i._i,m=Qw.exec(h)||Xw.exec(h),v,R,te,me,Ue=bo.length,Gt=Ol.length;if(m){for(b(i).iso=!0,u=0,d=Ue;u<d;u++)if(bo[u][1].exec(m[1])){R=bo[u][0],v=bo[u][2]!==!1;break}if(R==null){i._isValid=!1;return}if(m[3]){for(u=0,d=Gt;u<d;u++)if(Ol[u][1].exec(m[3])){te=(m[2]||" ")+Ol[u][0];break}if(te==null){i._isValid=!1;return}}if(!v&&te!=null){i._isValid=!1;return}if(m[4])if(Jw.exec(m[4]))me="Z";else{i._isValid=!1;return}i._f=R+(te||"")+(me||""),Rl(i)}else i._isValid=!1}function n0(i,u,d,h,m,v){var R=[s0(i),kp.indexOf(u),parseInt(d,10),parseInt(h,10),parseInt(m,10)];return v&&R.push(parseInt(v,10)),R}function s0(i){var u=parseInt(i,10);return u<=49?2e3+u:u<=999?1900+u:u}function i0(i){return i.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function a0(i,u,d){if(i){var h=xp.indexOf(i),m=new Date(u[0],u[1],u[2]).getDay();if(h!==m)return b(d).weekdayMismatch=!0,d._isValid=!1,!1}return!0}function o0(i,u,d){if(i)return r0[i];if(u)return 0;var h=parseInt(d,10),m=h%100,v=(h-m)/100;return v*60+m}function Fp(i){var u=t0.exec(i0(i._i)),d;if(u){if(d=n0(u[4],u[3],u[2],u[5],u[6],u[7]),!a0(u[1],d,i))return;i._a=d,i._tzm=o0(u[8],u[9],u[10]),i._d=Yi.apply(null,i._a),i._d.setUTCMinutes(i._d.getUTCMinutes()-i._tzm),b(i).rfc2822=!0}else i._isValid=!1}function u0(i){var u=e0.exec(i._i);if(u!==null){i._d=new Date(+u[1]);return}if(Ip(i),i._isValid===!1)delete i._isValid;else return;if(Fp(i),i._isValid===!1)delete i._isValid;else return;i._strict?i._isValid=!1:e.createFromInputFallback(i)}e.createFromInputFallback=ne("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(i){i._d=new Date(i._i+(i._useUTC?" UTC":""))});function Gs(i,u,d){return i!=null?i:u!=null?u:d}function l0(i){var u=new Date(e.now());return i._useUTC?[u.getUTCFullYear(),u.getUTCMonth(),u.getUTCDate()]:[u.getFullYear(),u.getMonth(),u.getDate()]}function Ml(i){var u,d,h=[],m,v,R;if(!i._d){for(m=l0(i),i._w&&i._a[$]==null&&i._a[Je]==null&&c0(i),i._dayOfYear!=null&&(R=Gs(i._a[tt],m[tt]),(i._dayOfYear>Li(R)||i._dayOfYear===0)&&(b(i)._overflowDayOfYear=!0),d=Yi(R,0,i._dayOfYear),i._a[Je]=d.getUTCMonth(),i._a[$]=d.getUTCDate()),u=0;u<3&&i._a[u]==null;++u)i._a[u]=h[u]=m[u];for(;u<7;u++)i._a[u]=h[u]=i._a[u]==null?u===2?1:0:i._a[u];i._a[re]===24&&i._a[le]===0&&i._a[jt]===0&&i._a[as]===0&&(i._nextDay=!0,i._a[re]=0),i._d=(i._useUTC?Yi:yw).apply(null,h),v=i._useUTC?i._d.getUTCDay():i._d.getDay(),i._tzm!=null&&i._d.setUTCMinutes(i._d.getUTCMinutes()-i._tzm),i._nextDay&&(i._a[re]=24),i._w&&typeof i._w.d!="undefined"&&i._w.d!==v&&(b(i).weekdayMismatch=!0)}}function c0(i){var u,d,h,m,v,R,te,me,Ue;u=i._w,u.GG!=null||u.W!=null||u.E!=null?(v=1,R=4,d=Gs(u.GG,i._a[tt],Ui(Ze(),1,4).year),h=Gs(u.W,1),m=Gs(u.E,1),(m<1||m>7)&&(me=!0)):(v=i._locale._week.dow,R=i._locale._week.doy,Ue=Ui(Ze(),v,R),d=Gs(u.gg,i._a[tt],Ue.year),h=Gs(u.w,Ue.week),u.d!=null?(m=u.d,(m<0||m>6)&&(me=!0)):u.e!=null?(m=u.e+v,(u.e<0||u.e>6)&&(me=!0)):m=v),h<1||h>en(d,v,R)?b(i)._overflowWeeks=!0:me!=null?b(i)._overflowWeekday=!0:(te=Rp(d,h,m,v,R),i._a[tt]=te.year,i._dayOfYear=te.dayOfYear)}e.ISO_8601=function(){},e.RFC_2822=function(){};function Rl(i){if(i._f===e.ISO_8601){Ip(i);return}if(i._f===e.RFC_2822){Fp(i);return}i._a=[],b(i).empty=!0;var u=""+i._i,d,h,m,v,R,te=u.length,me=0,Ue,Gt;for(m=j(i._f,i._locale).match(w)||[],Gt=m.length,d=0;d<Gt;d++)v=m[d],h=(u.match(js(v,i))||[])[0],h&&(R=u.substr(0,u.indexOf(h)),R.length>0&&b(i).unusedInput.push(R),u=u.slice(u.indexOf(h)+h.length),me+=h.length),M[v]?(h?b(i).empty=!1:b(i).unusedTokens.push(v),Lt(v,h,i)):i._strict&&!h&&b(i).unusedTokens.push(v);b(i).charsLeftOver=te-me,u.length>0&&b(i).unusedInput.push(u),i._a[re]<=12&&b(i).bigHour===!0&&i._a[re]>0&&(b(i).bigHour=void 0),b(i).parsedDateParts=i._a.slice(0),b(i).meridiem=i._meridiem,i._a[re]=d0(i._locale,i._a[re],i._meridiem),Ue=b(i).era,Ue!==null&&(i._a[tt]=i._locale.erasConvertYear(Ue,i._a[tt])),Ml(i),Sl(i)}function d0(i,u,d){var h;return d==null?u:i.meridiemHour!=null?i.meridiemHour(u,d):(i.isPM!=null&&(h=i.isPM(d),h&&u<12&&(u+=12),!h&&u===12&&(u=0)),u)}function f0(i){var u,d,h,m,v,R,te=!1,me=i._f.length;if(me===0){b(i).invalidFormat=!0,i._d=new Date(NaN);return}for(m=0;m<me;m++)v=0,R=!1,u=ke({},i),i._useUTC!=null&&(u._useUTC=i._useUTC),u._f=i._f[m],Rl(u),I(u)&&(R=!0),v+=b(u).charsLeftOver,v+=b(u).unusedTokens.length*10,b(u).score=v,te?v<h&&(h=v,d=u):(h==null||v<h||R)&&(h=v,d=u,R&&(te=!0));_(i,d||u)}function h0(i){if(!i._d){var u=On(i._i),d=u.day===void 0?u.date:u.day;i._a=p([u.year,u.month,d,u.hour,u.minute,u.second,u.millisecond],function(h){return h&&parseInt(h,10)}),Ml(i)}}function p0(i){var u=new Te(Sl(Lp(i)));return u._nextDay&&(u.add(1,"d"),u._nextDay=void 0),u}function Lp(i){var u=i._i,d=i._f;return i._locale=i._locale||tn(i._l),u===null||d===void 0&&u===""?G({nullInput:!0}):(typeof u=="string"&&(i._i=u=i._locale.preparse(u)),be(u)?new Te(Sl(u)):(f(u)?i._d=u:n(d)?f0(i):d?Rl(i):m0(i),I(i)||(i._d=null),i))}function m0(i){var u=i._i;l(u)?i._d=new Date(e.now()):f(u)?i._d=new Date(u.valueOf()):typeof u=="string"?u0(i):n(u)?(i._a=p(u.slice(0),function(d){return parseInt(d,10)}),Ml(i)):s(u)?h0(i):c(u)?i._d=new Date(u):e.createFromInputFallback(i)}function Yp(i,u,d,h,m){var v={};return(u===!0||u===!1)&&(h=u,u=void 0),(d===!0||d===!1)&&(h=d,d=void 0),(s(i)&&o(i)||n(i)&&i.length===0)&&(i=void 0),v._isAMomentObject=!0,v._useUTC=v._isUTC=m,v._l=d,v._i=i,v._f=u,v._strict=h,p0(v)}function Ze(i,u,d,h){return Yp(i,u,d,h,!1)}var y0=ne("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var i=Ze.apply(null,arguments);return this.isValid()&&i.isValid()?i<this?this:i:G()}),g0=ne("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var i=Ze.apply(null,arguments);return this.isValid()&&i.isValid()?i>this?this:i:G()});function Up(i,u){var d,h;if(u.length===1&&n(u[0])&&(u=u[0]),!u.length)return Ze();for(d=u[0],h=1;h<u.length;++h)(!u[h].isValid()||u[h][i](d))&&(d=u[h]);return d}function _0(){var i=[].slice.call(arguments,0);return Up("isBefore",i)}function T0(){var i=[].slice.call(arguments,0);return Up("isAfter",i)}var b0=function(){return Date.now?Date.now():+new Date},ji=["year","quarter","month","week","day","hour","minute","second","millisecond"];function v0(i){var u,d=!1,h,m=ji.length;for(u in i)if(a(i,u)&&!(st.call(ji,u)!==-1&&(i[u]==null||!isNaN(i[u]))))return!1;for(h=0;h<m;++h)if(i[ji[h]]){if(d)return!1;parseFloat(i[ji[h]])!==de(i[ji[h]])&&(d=!0)}return!0}function w0(){return this._isValid}function k0(){return Mr(NaN)}function vo(i){var u=On(i),d=u.year||0,h=u.quarter||0,m=u.month||0,v=u.week||u.isoWeek||0,R=u.day||0,te=u.hour||0,me=u.minute||0,Ue=u.second||0,Gt=u.millisecond||0;this._isValid=v0(u),this._milliseconds=+Gt+Ue*1e3+me*6e4+te*1e3*60*60,this._days=+R+v*7,this._months=+m+h*3+d*12,this._data={},this._locale=tn(),this._bubble()}function wo(i){return i instanceof vo}function xl(i){return i<0?Math.round(-1*i)*-1:Math.round(i)}function E0(i,u,d){var h=Math.min(i.length,u.length),m=Math.abs(i.length-u.length),v=0,R;for(R=0;R<h;R++)(d&&i[R]!==u[R]||!d&&de(i[R])!==de(u[R]))&&v++;return v+m}function Wp(i,u){E(i,0,0,function(){var d=this.utcOffset(),h="+";return d<0&&(d=-d,h="-"),h+g(~~(d/60),2)+u+g(~~d%60,2)})}Wp("Z",":"),Wp("ZZ",""),B("Z",Jr),B("ZZ",Jr),Ae(["Z","ZZ"],function(i,u,d){d._useUTC=!0,d._tzm=Al(Jr,i)});var D0=/([\+\-]|\d\d)/gi;function Al(i,u){var d=(u||"").match(i),h,m,v;return d===null?null:(h=d[d.length-1]||[],m=(h+"").match(D0)||["-",0,0],v=+(m[1]*60)+de(m[2]),v===0?0:m[0]==="+"?v:-v)}function Pl(i,u){var d,h;return u._isUTC?(d=u.clone(),h=(be(i)||f(i)?i.valueOf():Ze(i).valueOf())-d.valueOf(),d._d.setTime(d._d.valueOf()+h),e.updateOffset(d,!1),d):Ze(i).local()}function Nl(i){return-Math.round(i._d.getTimezoneOffset())}e.updateOffset=function(){};function S0(i,u,d){var h=this._offset||0,m;if(!this.isValid())return i!=null?this:NaN;if(i!=null){if(typeof i=="string"){if(i=Al(Jr,i),i===null)return this}else Math.abs(i)<16&&!d&&(i=i*60);return!this._isUTC&&u&&(m=Nl(this)),this._offset=i,this._isUTC=!0,m!=null&&this.add(m,"m"),h!==i&&(!u||this._changeInProgress?$p(this,Mr(i-h,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,e.updateOffset(this,!0),this._changeInProgress=null)),this}else return this._isUTC?h:Nl(this)}function O0(i,u){return i!=null?(typeof i!="string"&&(i=-i),this.utcOffset(i,u),this):-this.utcOffset()}function M0(i){return this.utcOffset(0,i)}function R0(i){return this._isUTC&&(this.utcOffset(0,i),this._isUTC=!1,i&&this.subtract(Nl(this),"m")),this}function x0(){if(this._tzm!=null)this.utcOffset(this._tzm,!1,!0);else if(typeof this._i=="string"){var i=Al(po,this._i);i!=null?this.utcOffset(i):this.utcOffset(0,!0)}return this}function A0(i){return this.isValid()?(i=i?Ze(i).utcOffset():0,(this.utcOffset()-i)%60===0):!1}function P0(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function N0(){if(!l(this._isDSTShifted))return this._isDSTShifted;var i={},u;return ke(i,this),i=Lp(i),i._a?(u=i._isUTC?T(i._a):Ze(i._a),this._isDSTShifted=this.isValid()&&E0(i._a,u.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted}function C0(){return this.isValid()?!this._isUTC:!1}function I0(){return this.isValid()?this._isUTC:!1}function qp(){return this.isValid()?this._isUTC&&this._offset===0:!1}var F0=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,L0=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function Mr(i,u){var d=i,h=null,m,v,R;return wo(i)?d={ms:i._milliseconds,d:i._days,M:i._months}:c(i)||!isNaN(+i)?(d={},u?d[u]=+i:d.milliseconds=+i):(h=F0.exec(i))?(m=h[1]==="-"?-1:1,d={y:0,d:de(h[$])*m,h:de(h[re])*m,m:de(h[le])*m,s:de(h[jt])*m,ms:de(xl(h[as]*1e3))*m}):(h=L0.exec(i))?(m=h[1]==="-"?-1:1,d={y:os(h[2],m),M:os(h[3],m),w:os(h[4],m),d:os(h[5],m),h:os(h[6],m),m:os(h[7],m),s:os(h[8],m)}):d==null?d={}:typeof d=="object"&&("from"in d||"to"in d)&&(R=Y0(Ze(d.from),Ze(d.to)),d={},d.ms=R.milliseconds,d.M=R.months),v=new vo(d),wo(i)&&a(i,"_locale")&&(v._locale=i._locale),wo(i)&&a(i,"_isValid")&&(v._isValid=i._isValid),v}Mr.fn=vo.prototype,Mr.invalid=k0;function os(i,u){var d=i&&parseFloat(i.replace(",","."));return(isNaN(d)?0:d)*u}function jp(i,u){var d={};return d.months=u.month()-i.month()+(u.year()-i.year())*12,i.clone().add(d.months,"M").isAfter(u)&&--d.months,d.milliseconds=+u-+i.clone().add(d.months,"M"),d}function Y0(i,u){var d;return i.isValid()&&u.isValid()?(u=Pl(u,i),i.isBefore(u)?d=jp(i,u):(d=jp(u,i),d.milliseconds=-d.milliseconds,d.months=-d.months),d):{milliseconds:0,months:0}}function Gp(i,u){return function(d,h){var m,v;return h!==null&&!isNaN(+h)&&(_t(u,"moment()."+u+"(period, number) is deprecated. Please use moment()."+u+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),v=d,d=h,h=v),m=Mr(d,h),$p(this,m,i),this}}function $p(i,u,d,h){var m=u._milliseconds,v=xl(u._days),R=xl(u._months);!i.isValid()||(h=h==null?!0:h,R&&Dp(i,xt(i,"Month")+R*d),v&&rs(i,"Date",xt(i,"Date")+v*d),m&&i._d.setTime(i._d.valueOf()+m*d),h&&e.updateOffset(i,v||R))}var U0=Gp(1,"add"),W0=Gp(-1,"subtract");function Hp(i){return typeof i=="string"||i instanceof String}function q0(i){return be(i)||f(i)||Hp(i)||c(i)||G0(i)||j0(i)||i===null||i===void 0}function j0(i){var u=s(i)&&!o(i),d=!1,h=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"],m,v,R=h.length;for(m=0;m<R;m+=1)v=h[m],d=d||a(i,v);return u&&d}function G0(i){var u=n(i),d=!1;return u&&(d=i.filter(function(h){return!c(h)&&Hp(i)}).length===0),u&&d}function $0(i){var u=s(i)&&!o(i),d=!1,h=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"],m,v;for(m=0;m<h.length;m+=1)v=h[m],d=d||a(i,v);return u&&d}function H0(i,u){var d=i.diff(u,"days",!0);return d<-6?"sameElse":d<-1?"lastWeek":d<0?"lastDay":d<1?"sameDay":d<2?"nextDay":d<7?"nextWeek":"sameElse"}function B0(i,u){arguments.length===1&&(arguments[0]?q0(arguments[0])?(i=arguments[0],u=void 0):$0(arguments[0])&&(u=arguments[0],i=void 0):(i=void 0,u=void 0));var d=i||Ze(),h=Pl(d,this).startOf("day"),m=e.calendarFormat(this,h)||"sameElse",v=u&&(V(u[m])?u[m].call(this,d):u[m]);return this.format(v||this.localeData().calendar(m,this,Ze(d)))}function z0(){return new Te(this)}function V0(i,u){var d=be(i)?i:Ze(i);return this.isValid()&&d.isValid()?(u=Tt(u)||"millisecond",u==="millisecond"?this.valueOf()>d.valueOf():d.valueOf()<this.clone().startOf(u).valueOf()):!1}function K0(i,u){var d=be(i)?i:Ze(i);return this.isValid()&&d.isValid()?(u=Tt(u)||"millisecond",u==="millisecond"?this.valueOf()<d.valueOf():this.clone().endOf(u).valueOf()<d.valueOf()):!1}function Z0(i,u,d,h){var m=be(i)?i:Ze(i),v=be(u)?u:Ze(u);return this.isValid()&&m.isValid()&&v.isValid()?(h=h||"()",(h[0]==="("?this.isAfter(m,d):!this.isBefore(m,d))&&(h[1]===")"?this.isBefore(v,d):!this.isAfter(v,d))):!1}function Q0(i,u){var d=be(i)?i:Ze(i),h;return this.isValid()&&d.isValid()?(u=Tt(u)||"millisecond",u==="millisecond"?this.valueOf()===d.valueOf():(h=d.valueOf(),this.clone().startOf(u).valueOf()<=h&&h<=this.clone().endOf(u).valueOf())):!1}function X0(i,u){return this.isSame(i,u)||this.isAfter(i,u)}function J0(i,u){return this.isSame(i,u)||this.isBefore(i,u)}function e1(i,u,d){var h,m,v;if(!this.isValid())return NaN;if(h=Pl(i,this),!h.isValid())return NaN;switch(m=(h.utcOffset()-this.utcOffset())*6e4,u=Tt(u),u){case"year":v=ko(this,h)/12;break;case"month":v=ko(this,h);break;case"quarter":v=ko(this,h)/3;break;case"second":v=(this-h)/1e3;break;case"minute":v=(this-h)/6e4;break;case"hour":v=(this-h)/36e5;break;case"day":v=(this-h-m)/864e5;break;case"week":v=(this-h-m)/6048e5;break;default:v=this-h}return d?v:pt(v)}function ko(i,u){if(i.date()<u.date())return-ko(u,i);var d=(u.year()-i.year())*12+(u.month()-i.month()),h=i.clone().add(d,"months"),m,v;return u-h<0?(m=i.clone().add(d-1,"months"),v=(u-h)/(h-m)):(m=i.clone().add(d+1,"months"),v=(u-h)/(m-h)),-(d+v)||0}e.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",e.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";function t1(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function r1(i){if(!this.isValid())return null;var u=i!==!0,d=u?this.clone().utc():this;return d.year()<0||d.year()>9999?N(d,u?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):V(Date.prototype.toISOString)?u?this.toDate().toISOString():new Date(this.valueOf()+this.utcOffset()*60*1e3).toISOString().replace("Z",N(d,"Z")):N(d,u?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")}function n1(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var i="moment",u="",d,h,m,v;return this.isLocal()||(i=this.utcOffset()===0?"moment.utc":"moment.parseZone",u="Z"),d="["+i+'("]',h=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",m="-MM-DD[T]HH:mm:ss.SSS",v=u+'[")]',this.format(d+h+m+v)}function s1(i){i||(i=this.isUtc()?e.defaultFormatUtc:e.defaultFormat);var u=N(this,i);return this.localeData().postformat(u)}function i1(i,u){return this.isValid()&&(be(i)&&i.isValid()||Ze(i).isValid())?Mr({to:this,from:i}).locale(this.locale()).humanize(!u):this.localeData().invalidDate()}function a1(i){return this.from(Ze(),i)}function o1(i,u){return this.isValid()&&(be(i)&&i.isValid()||Ze(i).isValid())?Mr({from:this,to:i}).locale(this.locale()).humanize(!u):this.localeData().invalidDate()}function u1(i){return this.to(Ze(),i)}function Bp(i){var u;return i===void 0?this._locale._abbr:(u=tn(i),u!=null&&(this._locale=u),this)}var zp=ne("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(i){return i===void 0?this.localeData():this.locale(i)});function Vp(){return this._locale}var Eo=1e3,$s=60*Eo,Do=60*$s,Kp=(365*400+97)*24*Do;function Hs(i,u){return(i%u+u)%u}function Zp(i,u,d){return i<100&&i>=0?new Date(i+400,u,d)-Kp:new Date(i,u,d).valueOf()}function Qp(i,u,d){return i<100&&i>=0?Date.UTC(i+400,u,d)-Kp:Date.UTC(i,u,d)}function l1(i){var u,d;if(i=Tt(i),i===void 0||i==="millisecond"||!this.isValid())return this;switch(d=this._isUTC?Qp:Zp,i){case"year":u=d(this.year(),0,1);break;case"quarter":u=d(this.year(),this.month()-this.month()%3,1);break;case"month":u=d(this.year(),this.month(),1);break;case"week":u=d(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":u=d(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":u=d(this.year(),this.month(),this.date());break;case"hour":u=this._d.valueOf(),u-=Hs(u+(this._isUTC?0:this.utcOffset()*$s),Do);break;case"minute":u=this._d.valueOf(),u-=Hs(u,$s);break;case"second":u=this._d.valueOf(),u-=Hs(u,Eo);break}return this._d.setTime(u),e.updateOffset(this,!0),this}function c1(i){var u,d;if(i=Tt(i),i===void 0||i==="millisecond"||!this.isValid())return this;switch(d=this._isUTC?Qp:Zp,i){case"year":u=d(this.year()+1,0,1)-1;break;case"quarter":u=d(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":u=d(this.year(),this.month()+1,1)-1;break;case"week":u=d(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":u=d(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":u=d(this.year(),this.month(),this.date()+1)-1;break;case"hour":u=this._d.valueOf(),u+=Do-Hs(u+(this._isUTC?0:this.utcOffset()*$s),Do)-1;break;case"minute":u=this._d.valueOf(),u+=$s-Hs(u,$s)-1;break;case"second":u=this._d.valueOf(),u+=Eo-Hs(u,Eo)-1;break}return this._d.setTime(u),e.updateOffset(this,!0),this}function d1(){return this._d.valueOf()-(this._offset||0)*6e4}function f1(){return Math.floor(this.valueOf()/1e3)}function h1(){return new Date(this.valueOf())}function p1(){var i=this;return[i.year(),i.month(),i.date(),i.hour(),i.minute(),i.second(),i.millisecond()]}function m1(){var i=this;return{years:i.year(),months:i.month(),date:i.date(),hours:i.hours(),minutes:i.minutes(),seconds:i.seconds(),milliseconds:i.milliseconds()}}function y1(){return this.isValid()?this.toISOString():null}function g1(){return I(this)}function _1(){return _({},b(this))}function T1(){return b(this).overflow}function b1(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}E("N",0,0,"eraAbbr"),E("NN",0,0,"eraAbbr"),E("NNN",0,0,"eraAbbr"),E("NNNN",0,0,"eraName"),E("NNNNN",0,0,"eraNarrow"),E("y",["y",1],"yo","eraYear"),E("y",["yy",2],0,"eraYear"),E("y",["yyy",3],0,"eraYear"),E("y",["yyyy",4],0,"eraYear"),B("N",Cl),B("NN",Cl),B("NNN",Cl),B("NNNN",A1),B("NNNNN",P1),Ae(["N","NN","NNN","NNNN","NNNNN"],function(i,u,d,h){var m=d._locale.erasParse(i,h,d._strict);m?b(d).era=m:b(d).invalidEra=i}),B("y",fr),B("yy",fr),B("yyy",fr),B("yyyy",fr),B("yo",N1),Ae(["y","yy","yyy","yyyy"],tt),Ae(["yo"],function(i,u,d,h){var m;d._locale._eraYearOrdinalRegex&&(m=i.match(d._locale._eraYearOrdinalRegex)),d._locale.eraYearOrdinalParse?u[tt]=d._locale.eraYearOrdinalParse(i,m):u[tt]=parseInt(i,10)});function v1(i,u){var d,h,m,v=this._eras||tn("en")._eras;for(d=0,h=v.length;d<h;++d){switch(typeof v[d].since){case"string":m=e(v[d].since).startOf("day"),v[d].since=m.valueOf();break}switch(typeof v[d].until){case"undefined":v[d].until=1/0;break;case"string":m=e(v[d].until).startOf("day").valueOf(),v[d].until=m.valueOf();break}}return v}function w1(i,u,d){var h,m,v=this.eras(),R,te,me;for(i=i.toUpperCase(),h=0,m=v.length;h<m;++h)if(R=v[h].name.toUpperCase(),te=v[h].abbr.toUpperCase(),me=v[h].narrow.toUpperCase(),d)switch(u){case"N":case"NN":case"NNN":if(te===i)return v[h];break;case"NNNN":if(R===i)return v[h];break;case"NNNNN":if(me===i)return v[h];break}else if([R,te,me].indexOf(i)>=0)return v[h]}function k1(i,u){var d=i.since<=i.until?1:-1;return u===void 0?e(i.since).year():e(i.since).year()+(u-i.offset)*d}function E1(){var i,u,d,h=this.localeData().eras();for(i=0,u=h.length;i<u;++i)if(d=this.clone().startOf("day").valueOf(),h[i].since<=d&&d<=h[i].until||h[i].until<=d&&d<=h[i].since)return h[i].name;return""}function D1(){var i,u,d,h=this.localeData().eras();for(i=0,u=h.length;i<u;++i)if(d=this.clone().startOf("day").valueOf(),h[i].since<=d&&d<=h[i].until||h[i].until<=d&&d<=h[i].since)return h[i].narrow;return""}function S1(){var i,u,d,h=this.localeData().eras();for(i=0,u=h.length;i<u;++i)if(d=this.clone().startOf("day").valueOf(),h[i].since<=d&&d<=h[i].until||h[i].until<=d&&d<=h[i].since)return h[i].abbr;return""}function O1(){var i,u,d,h,m=this.localeData().eras();for(i=0,u=m.length;i<u;++i)if(d=m[i].since<=m[i].until?1:-1,h=this.clone().startOf("day").valueOf(),m[i].since<=h&&h<=m[i].until||m[i].until<=h&&h<=m[i].since)return(this.year()-e(m[i].since).year())*d+m[i].offset;return this.year()}function M1(i){return a(this,"_erasNameRegex")||Il.call(this),i?this._erasNameRegex:this._erasRegex}function R1(i){return a(this,"_erasAbbrRegex")||Il.call(this),i?this._erasAbbrRegex:this._erasRegex}function x1(i){return a(this,"_erasNarrowRegex")||Il.call(this),i?this._erasNarrowRegex:this._erasRegex}function Cl(i,u){return u.erasAbbrRegex(i)}function A1(i,u){return u.erasNameRegex(i)}function P1(i,u){return u.erasNarrowRegex(i)}function N1(i,u){return u._eraYearOrdinalRegex||fr}function Il(){var i=[],u=[],d=[],h=[],m,v,R=this.eras();for(m=0,v=R.length;m<v;++m)u.push(mt(R[m].name)),i.push(mt(R[m].abbr)),d.push(mt(R[m].narrow)),h.push(mt(R[m].name)),h.push(mt(R[m].abbr)),h.push(mt(R[m].narrow));this._erasRegex=new RegExp("^("+h.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+u.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+i.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+d.join("|")+")","i")}E(0,["gg",2],0,function(){return this.weekYear()%100}),E(0,["GG",2],0,function(){return this.isoWeekYear()%100});function So(i,u){E(0,[i,i.length],0,u)}So("gggg","weekYear"),So("ggggg","weekYear"),So("GGGG","isoWeekYear"),So("GGGGG","isoWeekYear"),ht("weekYear","gg"),ht("isoWeekYear","GG"),Ge("weekYear",1),Ge("isoWeekYear",1),B("G",An),B("g",An),B("GG",Ye,bt),B("gg",Ye,bt),B("GGGG",xn,dr),B("gggg",xn,dr),B("GGGGG",ss,Xr),B("ggggg",ss,Xr),mr(["gggg","ggggg","GGGG","GGGGG"],function(i,u,d,h){u[h.substr(0,2)]=de(i)}),mr(["gg","GG"],function(i,u,d,h){u[h]=e.parseTwoDigitYear(i)});function C1(i){return Xp.call(this,i,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)}function I1(i){return Xp.call(this,i,this.isoWeek(),this.isoWeekday(),1,4)}function F1(){return en(this.year(),1,4)}function L1(){return en(this.isoWeekYear(),1,4)}function Y1(){var i=this.localeData()._week;return en(this.year(),i.dow,i.doy)}function U1(){var i=this.localeData()._week;return en(this.weekYear(),i.dow,i.doy)}function Xp(i,u,d,h,m){var v;return i==null?Ui(this,h,m).year:(v=en(i,h,m),u>v&&(u=v),W1.call(this,i,u,d,h,m))}function W1(i,u,d,h,m){var v=Rp(i,u,d,h,m),R=Yi(v.year,0,v.dayOfYear);return this.year(R.getUTCFullYear()),this.month(R.getUTCMonth()),this.date(R.getUTCDate()),this}E("Q",0,"Qo","quarter"),ht("quarter","Q"),Ge("quarter",7),B("Q",Mn),Ae("Q",function(i,u){u[Je]=(de(i)-1)*3});function q1(i){return i==null?Math.ceil((this.month()+1)/3):this.month((i-1)*3+this.month()%3)}E("D",["DD",2],"Do","date"),ht("date","D"),Ge("date",9),B("D",Ye),B("DD",Ye,bt),B("Do",function(i,u){return i?u._dayOfMonthOrdinalParse||u._ordinalParse:u._dayOfMonthOrdinalParseLenient}),Ae(["D","DD"],$),Ae("Do",function(i,u){u[$]=de(i.match(Ye)[0])});var Jp=Qr("Date",!0);E("DDD",["DDDD",3],"DDDo","dayOfYear"),ht("dayOfYear","DDD"),Ge("dayOfYear",4),B("DDD",ns),B("DDDD",Fi),Ae(["DDD","DDDD"],function(i,u,d){d._dayOfYear=de(i)});function j1(i){var u=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return i==null?u:this.add(i-u,"d")}E("m",["mm",2],0,"minute"),ht("minute","m"),Ge("minute",14),B("m",Ye),B("mm",Ye,bt),Ae(["m","mm"],le);var G1=Qr("Minutes",!1);E("s",["ss",2],0,"second"),ht("second","s"),Ge("second",15),B("s",Ye),B("ss",Ye,bt),Ae(["s","ss"],jt);var $1=Qr("Seconds",!1);E("S",0,0,function(){return~~(this.millisecond()/100)}),E(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),E(0,["SSS",3],0,"millisecond"),E(0,["SSSS",4],0,function(){return this.millisecond()*10}),E(0,["SSSSS",5],0,function(){return this.millisecond()*100}),E(0,["SSSSSS",6],0,function(){return this.millisecond()*1e3}),E(0,["SSSSSSS",7],0,function(){return this.millisecond()*1e4}),E(0,["SSSSSSSS",8],0,function(){return this.millisecond()*1e5}),E(0,["SSSSSSSSS",9],0,function(){return this.millisecond()*1e6}),ht("millisecond","ms"),Ge("millisecond",16),B("S",ns,Mn),B("SS",ns,bt),B("SSS",ns,Fi);var Nn,em;for(Nn="SSSS";Nn.length<=9;Nn+="S")B(Nn,fr);function H1(i,u){u[as]=de(("0."+i)*1e3)}for(Nn="S";Nn.length<=9;Nn+="S")Ae(Nn,H1);em=Qr("Milliseconds",!1),E("z",0,0,"zoneAbbr"),E("zz",0,0,"zoneName");function B1(){return this._isUTC?"UTC":""}function z1(){return this._isUTC?"Coordinated Universal Time":""}var F=Te.prototype;F.add=U0,F.calendar=B0,F.clone=z0,F.diff=e1,F.endOf=c1,F.format=s1,F.from=i1,F.fromNow=a1,F.to=o1,F.toNow=u1,F.get=ho,F.invalidAt=T1,F.isAfter=V0,F.isBefore=K0,F.isBetween=Z0,F.isSame=Q0,F.isSameOrAfter=X0,F.isSameOrBefore=J0,F.isValid=g1,F.lang=zp,F.locale=Bp,F.localeData=Vp,F.max=g0,F.min=y0,F.parsingFlags=_1,F.set=Ur,F.startOf=l1,F.subtract=W0,F.toArray=p1,F.toObject=m1,F.toDate=h1,F.toISOString=r1,F.inspect=n1,typeof Symbol!="undefined"&&Symbol.for!=null&&(F[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"}),F.toJSON=y1,F.toString=t1,F.unix=f1,F.valueOf=d1,F.creationData=b1,F.eraName=E1,F.eraNarrow=D1,F.eraAbbr=S1,F.eraYear=O1,F.year=Mp,F.isLeapYear=mw,F.weekYear=C1,F.isoWeekYear=I1,F.quarter=F.quarters=q1,F.month=Sp,F.daysInMonth=fw,F.week=F.weeks=vw,F.isoWeek=F.isoWeeks=ww,F.weeksInYear=Y1,F.weeksInWeekYear=U1,F.isoWeeksInYear=F1,F.isoWeeksInISOWeekYear=L1,F.date=Jp,F.day=F.days=Iw,F.weekday=Fw,F.isoWeekday=Lw,F.dayOfYear=j1,F.hour=F.hours=$w,F.minute=F.minutes=G1,F.second=F.seconds=$1,F.millisecond=F.milliseconds=em,F.utcOffset=S0,F.utc=M0,F.local=R0,F.parseZone=x0,F.hasAlignedHourOffset=A0,F.isDST=P0,F.isLocal=C0,F.isUtcOffset=I0,F.isUtc=qp,F.isUTC=qp,F.zoneAbbr=B1,F.zoneName=z1,F.dates=ne("dates accessor is deprecated. Use date instead.",Jp),F.months=ne("months accessor is deprecated. Use month instead",Sp),F.years=ne("years accessor is deprecated. Use year instead",Mp),F.zone=ne("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",O0),F.isDSTShifted=ne("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",N0);function V1(i){return Ze(i*1e3)}function K1(){return Ze.apply(null,arguments).parseZone()}function tm(i){return i}var Me=J.prototype;Me.calendar=y,Me.longDateFormat=pe,Me.invalidDate=Ie,Me.ordinal=Xe,Me.preparse=tm,Me.postformat=tm,Me.relativeTime=Or,Me.pastFuture=at,Me.set=q,Me.eras=v1,Me.erasParse=w1,Me.erasConvertYear=k1,Me.erasAbbrRegex=R1,Me.erasNameRegex=M1,Me.erasNarrowRegex=x1,Me.months=uw,Me.monthsShort=lw,Me.monthsParse=dw,Me.monthsRegex=pw,Me.monthsShortRegex=hw,Me.week=gw,Me.firstDayOfYear=bw,Me.firstDayOfWeek=Tw,Me.weekdays=xw,Me.weekdaysMin=Pw,Me.weekdaysShort=Aw,Me.weekdaysParse=Cw,Me.weekdaysRegex=Yw,Me.weekdaysShortRegex=Uw,Me.weekdaysMinRegex=Ww,Me.isPM=jw,Me.meridiem=Hw;function Oo(i,u,d,h){var m=tn(),v=T().set(h,u);return m[d](v,i)}function rm(i,u,d){if(c(i)&&(u=i,i=void 0),i=i||"",u!=null)return Oo(i,u,d,"month");var h,m=[];for(h=0;h<12;h++)m[h]=Oo(i,h,d,"month");return m}function Fl(i,u,d,h){typeof i=="boolean"?(c(u)&&(d=u,u=void 0),u=u||""):(u=i,d=u,i=!1,c(u)&&(d=u,u=void 0),u=u||"");var m=tn(),v=i?m._week.dow:0,R,te=[];if(d!=null)return Oo(u,(d+v)%7,h,"day");for(R=0;R<7;R++)te[R]=Oo(u,(R+v)%7,h,"day");return te}function Z1(i,u){return rm(i,u,"months")}function Q1(i,u){return rm(i,u,"monthsShort")}function X1(i,u,d){return Fl(i,u,d,"weekdays")}function J1(i,u,d){return Fl(i,u,d,"weekdaysShort")}function ek(i,u,d){return Fl(i,u,d,"weekdaysMin")}Pn("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(i){var u=i%10,d=de(i%100/10)===1?"th":u===1?"st":u===2?"nd":u===3?"rd":"th";return i+d}}),e.lang=ne("moment.lang is deprecated. Use moment.locale instead.",Pn),e.langData=ne("moment.langData is deprecated. Use moment.localeData instead.",tn);var rn=Math.abs;function tk(){var i=this._data;return this._milliseconds=rn(this._milliseconds),this._days=rn(this._days),this._months=rn(this._months),i.milliseconds=rn(i.milliseconds),i.seconds=rn(i.seconds),i.minutes=rn(i.minutes),i.hours=rn(i.hours),i.months=rn(i.months),i.years=rn(i.years),this}function nm(i,u,d,h){var m=Mr(u,d);return i._milliseconds+=h*m._milliseconds,i._days+=h*m._days,i._months+=h*m._months,i._bubble()}function rk(i,u){return nm(this,i,u,1)}function nk(i,u){return nm(this,i,u,-1)}function sm(i){return i<0?Math.floor(i):Math.ceil(i)}function sk(){var i=this._milliseconds,u=this._days,d=this._months,h=this._data,m,v,R,te,me;return i>=0&&u>=0&&d>=0||i<=0&&u<=0&&d<=0||(i+=sm(Ll(d)+u)*864e5,u=0,d=0),h.milliseconds=i%1e3,m=pt(i/1e3),h.seconds=m%60,v=pt(m/60),h.minutes=v%60,R=pt(v/60),h.hours=R%24,u+=pt(R/24),me=pt(im(u)),d+=me,u-=sm(Ll(me)),te=pt(d/12),d%=12,h.days=u,h.months=d,h.years=te,this}function im(i){return i*4800/146097}function Ll(i){return i*146097/4800}function ik(i){if(!this.isValid())return NaN;var u,d,h=this._milliseconds;if(i=Tt(i),i==="month"||i==="quarter"||i==="year")switch(u=this._days+h/864e5,d=this._months+im(u),i){case"month":return d;case"quarter":return d/3;case"year":return d/12}else switch(u=this._days+Math.round(Ll(this._months)),i){case"week":return u/7+h/6048e5;case"day":return u+h/864e5;case"hour":return u*24+h/36e5;case"minute":return u*1440+h/6e4;case"second":return u*86400+h/1e3;case"millisecond":return Math.floor(u*864e5)+h;default:throw new Error("Unknown unit "+i)}}function ak(){return this.isValid()?this._milliseconds+this._days*864e5+this._months%12*2592e6+de(this._months/12)*31536e6:NaN}function nn(i){return function(){return this.as(i)}}var ok=nn("ms"),uk=nn("s"),lk=nn("m"),ck=nn("h"),dk=nn("d"),fk=nn("w"),hk=nn("M"),pk=nn("Q"),mk=nn("y");function yk(){return Mr(this)}function gk(i){return i=Tt(i),this.isValid()?this[i+"s"]():NaN}function us(i){return function(){return this.isValid()?this._data[i]:NaN}}var _k=us("milliseconds"),Tk=us("seconds"),bk=us("minutes"),vk=us("hours"),wk=us("days"),kk=us("months"),Ek=us("years");function Dk(){return pt(this.days()/7)}var sn=Math.round,Bs={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function Sk(i,u,d,h,m){return m.relativeTime(u||1,!!d,i,h)}function Ok(i,u,d,h){var m=Mr(i).abs(),v=sn(m.as("s")),R=sn(m.as("m")),te=sn(m.as("h")),me=sn(m.as("d")),Ue=sn(m.as("M")),Gt=sn(m.as("w")),an=sn(m.as("y")),Cn=v<=d.ss&&["s",v]||v<d.s&&["ss",v]||R<=1&&["m"]||R<d.m&&["mm",R]||te<=1&&["h"]||te<d.h&&["hh",te]||me<=1&&["d"]||me<d.d&&["dd",me];return d.w!=null&&(Cn=Cn||Gt<=1&&["w"]||Gt<d.w&&["ww",Gt]),Cn=Cn||Ue<=1&&["M"]||Ue<d.M&&["MM",Ue]||an<=1&&["y"]||["yy",an],Cn[2]=u,Cn[3]=+i>0,Cn[4]=h,Sk.apply(null,Cn)}function Mk(i){return i===void 0?sn:typeof i=="function"?(sn=i,!0):!1}function Rk(i,u){return Bs[i]===void 0?!1:u===void 0?Bs[i]:(Bs[i]=u,i==="s"&&(Bs.ss=u-1),!0)}function xk(i,u){if(!this.isValid())return this.localeData().invalidDate();var d=!1,h=Bs,m,v;return typeof i=="object"&&(u=i,i=!1),typeof i=="boolean"&&(d=i),typeof u=="object"&&(h=Object.assign({},Bs,u),u.s!=null&&u.ss==null&&(h.ss=u.s-1)),m=this.localeData(),v=Ok(this,!d,h,m),d&&(v=m.pastFuture(+this,v)),m.postformat(v)}var Yl=Math.abs;function zs(i){return(i>0)-(i<0)||+i}function Mo(){if(!this.isValid())return this.localeData().invalidDate();var i=Yl(this._milliseconds)/1e3,u=Yl(this._days),d=Yl(this._months),h,m,v,R,te=this.asSeconds(),me,Ue,Gt,an;return te?(h=pt(i/60),m=pt(h/60),i%=60,h%=60,v=pt(d/12),d%=12,R=i?i.toFixed(3).replace(/\.?0+$/,""):"",me=te<0?"-":"",Ue=zs(this._months)!==zs(te)?"-":"",Gt=zs(this._days)!==zs(te)?"-":"",an=zs(this._milliseconds)!==zs(te)?"-":"",me+"P"+(v?Ue+v+"Y":"")+(d?Ue+d+"M":"")+(u?Gt+u+"D":"")+(m||h||i?"T":"")+(m?an+m+"H":"")+(h?an+h+"M":"")+(i?an+R+"S":"")):"P0D"}var Oe=vo.prototype;Oe.isValid=w0,Oe.abs=tk,Oe.add=rk,Oe.subtract=nk,Oe.as=ik,Oe.asMilliseconds=ok,Oe.asSeconds=uk,Oe.asMinutes=lk,Oe.asHours=ck,Oe.asDays=dk,Oe.asWeeks=fk,Oe.asMonths=hk,Oe.asQuarters=pk,Oe.asYears=mk,Oe.valueOf=ak,Oe._bubble=sk,Oe.clone=yk,Oe.get=gk,Oe.milliseconds=_k,Oe.seconds=Tk,Oe.minutes=bk,Oe.hours=vk,Oe.days=wk,Oe.weeks=Dk,Oe.months=kk,Oe.years=Ek,Oe.humanize=xk,Oe.toISOString=Mo,Oe.toString=Mo,Oe.toJSON=Mo,Oe.locale=Bp,Oe.localeData=Vp,Oe.toIsoString=ne("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",Mo),Oe.lang=zp,E("X",0,0,"unix"),E("x",0,0,"valueOf"),B("x",An),B("X",mo),Ae("X",function(i,u,d){d._d=new Date(parseFloat(i)*1e3)}),Ae("x",function(i,u,d){d._d=new Date(de(i))});return e.version="2.29.4",t(Ze),e.fn=F,e.min=_0,e.max=T0,e.now=b0,e.utc=T,e.unix=V1,e.months=Z1,e.isDate=f,e.locale=Pn,e.invalid=G,e.duration=Mr,e.isMoment=be,e.weekdays=X1,e.parseZone=K1,e.localeData=tn,e.isDuration=wo,e.monthsShort=Q1,e.weekdaysMin=ek,e.defineLocale=Dl,e.updateLocale=Kw,e.locales=Zw,e.weekdaysShort=J1,e.normalizeUnits=Tt,e.relativeTimeRounding=Mk,e.relativeTimeThreshold=Rk,e.calendarFormat=H0,e.prototype=F,e.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"},e})});var ub=S((vY,Ou)=>{var qT,jT,GT,$T,HT,BT,zT,VT,KT,Du,Ph,ZT,QT,XT,hi,JT,eb,tb,rb,nb,sb,ib,ab,ob,Su;(function(r){var e=typeof global=="object"?global:typeof self=="object"?self:typeof this=="object"?this:{};typeof define=="function"&&define.amd?define("tslib",["exports"],function(n){r(t(e,t(n)))}):typeof Ou=="object"&&typeof Ou.exports=="object"?r(t(e,t(Ou.exports))):r(t(e));function t(n,s){return n!==e&&(typeof Object.create=="function"?Object.defineProperty(n,"__esModule",{value:!0}):n.__esModule=!0),function(a,o){return n[a]=s?s(a,o):o}}})(function(r){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,s){n.__proto__=s}||function(n,s){for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(n[a]=s[a])};qT=function(n,s){if(typeof s!="function"&&s!==null)throw new TypeError("Class extends value "+String(s)+" is not a constructor or null");e(n,s);function a(){this.constructor=n}n.prototype=s===null?Object.create(s):(a.prototype=s.prototype,new a)},jT=Object.assign||function(n){for(var s,a=1,o=arguments.length;a<o;a++){s=arguments[a];for(var l in s)Object.prototype.hasOwnProperty.call(s,l)&&(n[l]=s[l])}return n},GT=function(n,s){var a={};for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&s.indexOf(o)<0&&(a[o]=n[o]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,o=Object.getOwnPropertySymbols(n);l<o.length;l++)s.indexOf(o[l])<0&&Object.prototype.propertyIsEnumerable.call(n,o[l])&&(a[o[l]]=n[o[l]]);return a},$T=function(n,s,a,o){var l=arguments.length,c=l<3?s:o===null?o=Object.getOwnPropertyDescriptor(s,a):o,f;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")c=Reflect.decorate(n,s,a,o);else for(var p=n.length-1;p>=0;p--)(f=n[p])&&(c=(l<3?f(c):l>3?f(s,a,c):f(s,a))||c);return l>3&&c&&Object.defineProperty(s,a,c),c},HT=function(n,s){return function(a,o){s(a,o,n)}},BT=function(n,s){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(n,s)},zT=function(n,s,a,o){function l(c){return c instanceof a?c:new a(function(f){f(c)})}return new(a||(a=Promise))(function(c,f){function p(O){try{T(o.next(O))}catch(b){f(b)}}function _(O){try{T(o.throw(O))}catch(b){f(b)}}function T(O){O.done?c(O.value):l(O.value).then(p,_)}T((o=o.apply(n,s||[])).next())})},VT=function(n,s){var a={label:0,sent:function(){if(c[0]&1)throw c[1];return c[1]},trys:[],ops:[]},o,l,c,f;return f={next:p(0),throw:p(1),return:p(2)},typeof Symbol=="function"&&(f[Symbol.iterator]=function(){return this}),f;function p(T){return function(O){return _([T,O])}}function _(T){if(o)throw new TypeError("Generator is already executing.");for(;a;)try{if(o=1,l&&(c=T[0]&2?l.return:T[0]?l.throw||((c=l.return)&&c.call(l),0):l.next)&&!(c=c.call(l,T[1])).done)return c;switch(l=0,c&&(T=[T[0]&2,c.value]),T[0]){case 0:case 1:c=T;break;case 4:return a.label++,{value:T[1],done:!1};case 5:a.label++,l=T[1],T=[0];continue;case 7:T=a.ops.pop(),a.trys.pop();continue;default:if(c=a.trys,!(c=c.length>0&&c[c.length-1])&&(T[0]===6||T[0]===2)){a=0;continue}if(T[0]===3&&(!c||T[1]>c[0]&&T[1]<c[3])){a.label=T[1];break}if(T[0]===6&&a.label<c[1]){a.label=c[1],c=T;break}if(c&&a.label<c[2]){a.label=c[2],a.ops.push(T);break}c[2]&&a.ops.pop(),a.trys.pop();continue}T=s.call(n,a)}catch(O){T=[6,O],l=0}finally{o=c=0}if(T[0]&5)throw T[1];return{value:T[0]?T[1]:void 0,done:!0}}},KT=function(n,s){for(var a in n)a!=="default"&&!Object.prototype.hasOwnProperty.call(s,a)&&Su(s,n,a)},Su=Object.create?function(n,s,a,o){o===void 0&&(o=a);var l=Object.getOwnPropertyDescriptor(s,a);(!l||("get"in l?!s.__esModule:l.writable||l.configurable))&&(l={enumerable:!0,get:function(){return s[a]}}),Object.defineProperty(n,o,l)}:function(n,s,a,o){o===void 0&&(o=a),n[o]=s[a]},Du=function(n){var s=typeof Symbol=="function"&&Symbol.iterator,a=s&&n[s],o=0;if(a)return a.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&o>=n.length&&(n=void 0),{value:n&&n[o++],done:!n}}};throw new TypeError(s?"Object is not iterable.":"Symbol.iterator is not defined.")},Ph=function(n,s){var a=typeof Symbol=="function"&&n[Symbol.iterator];if(!a)return n;var o=a.call(n),l,c=[],f;try{for(;(s===void 0||s-- >0)&&!(l=o.next()).done;)c.push(l.value)}catch(p){f={error:p}}finally{try{l&&!l.done&&(a=o.return)&&a.call(o)}finally{if(f)throw f.error}}return c},ZT=function(){for(var n=[],s=0;s<arguments.length;s++)n=n.concat(Ph(arguments[s]));return n},QT=function(){for(var n=0,s=0,a=arguments.length;s<a;s++)n+=arguments[s].length;for(var o=Array(n),l=0,s=0;s<a;s++)for(var c=arguments[s],f=0,p=c.length;f<p;f++,l++)o[l]=c[f];return o},XT=function(n,s,a){if(a||arguments.length===2)for(var o=0,l=s.length,c;o<l;o++)(c||!(o in s))&&(c||(c=Array.prototype.slice.call(s,0,o)),c[o]=s[o]);return n.concat(c||Array.prototype.slice.call(s))},hi=function(n){return this instanceof hi?(this.v=n,this):new hi(n)},JT=function(n,s,a){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var o=a.apply(n,s||[]),l,c=[];return l={},f("next"),f("throw"),f("return"),l[Symbol.asyncIterator]=function(){return this},l;function f(x){o[x]&&(l[x]=function(I){return new Promise(function(G,H){c.push([x,I,G,H])>1||p(x,I)})})}function p(x,I){try{_(o[x](I))}catch(G){b(c[0][3],G)}}function _(x){x.value instanceof hi?Promise.resolve(x.value.v).then(T,O):b(c[0][2],x)}function T(x){p("next",x)}function O(x){p("throw",x)}function b(x,I){x(I),c.shift(),c.length&&p(c[0][0],c[0][1])}},eb=function(n){var s,a;return s={},o("next"),o("throw",function(l){throw l}),o("return"),s[Symbol.iterator]=function(){return this},s;function o(l,c){s[l]=n[l]?function(f){return(a=!a)?{value:hi(n[l](f)),done:l==="return"}:c?c(f):f}:c}},tb=function(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var s=n[Symbol.asyncIterator],a;return s?s.call(n):(n=typeof Du=="function"?Du(n):n[Symbol.iterator](),a={},o("next"),o("throw"),o("return"),a[Symbol.asyncIterator]=function(){return this},a);function o(c){a[c]=n[c]&&function(f){return new Promise(function(p,_){f=n[c](f),l(p,_,f.done,f.value)})}}function l(c,f,p,_){Promise.resolve(_).then(function(T){c({value:T,done:p})},f)}},rb=function(n,s){return Object.defineProperty?Object.defineProperty(n,"raw",{value:s}):n.raw=s,n};var t=Object.create?function(n,s){Object.defineProperty(n,"default",{enumerable:!0,value:s})}:function(n,s){n.default=s};nb=function(n){if(n&&n.__esModule)return n;var s={};if(n!=null)for(var a in n)a!=="default"&&Object.prototype.hasOwnProperty.call(n,a)&&Su(s,n,a);return t(s,n),s},sb=function(n){return n&&n.__esModule?n:{default:n}},ib=function(n,s,a,o){if(a==="a"&&!o)throw new TypeError("Private accessor was defined without a getter");if(typeof s=="function"?n!==s||!o:!s.has(n))throw new TypeError("Cannot read private member from an object whose class did not declare it");return a==="m"?o:a==="a"?o.call(n):o?o.value:s.get(n)},ab=function(n,s,a,o,l){if(o==="m")throw new TypeError("Private method is not writable");if(o==="a"&&!l)throw new TypeError("Private accessor was defined without a setter");if(typeof s=="function"?n!==s||!l:!s.has(n))throw new TypeError("Cannot write private member to an object whose class did not declare it");return o==="a"?l.call(n,a):l?l.value=a:s.set(n,a),a},ob=function(n,s){if(s===null||typeof s!="object"&&typeof s!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof n=="function"?s===n:n.has(s)},r("__extends",qT),r("__assign",jT),r("__rest",GT),r("__decorate",$T),r("__param",HT),r("__metadata",BT),r("__awaiter",zT),r("__generator",VT),r("__exportStar",KT),r("__createBinding",Su),r("__values",Du),r("__read",Ph),r("__spread",ZT),r("__spreadArrays",QT),r("__spreadArray",XT),r("__await",hi),r("__asyncGenerator",JT),r("__asyncDelegator",eb),r("__asyncValues",tb),r("__makeTemplateObject",rb),r("__importStar",nb),r("__importDefault",sb),r("__classPrivateFieldGet",ib),r("__classPrivateFieldSet",ab),r("__classPrivateFieldIn",ob)})});var zb=S((Hb,Bb)=>{(function(r){var e=Object.hasOwnProperty,t=Array.isArray?Array.isArray:function(g){return Object.prototype.toString.call(g)==="[object Array]"},n=10,s=typeof process=="object"&&typeof process.nextTick=="function",a=typeof Symbol=="function",o=typeof Reflect=="object",l=typeof setImmediate=="function",c=l?setImmediate:setTimeout,f=a?o&&typeof Reflect.ownKeys=="function"?Reflect.ownKeys:function(y){var g=Object.getOwnPropertyNames(y);return g.push.apply(g,Object.getOwnPropertySymbols(y)),g}:Object.keys;function p(){this._events={},this._conf&&_.call(this,this._conf)}function _(y){y&&(this._conf=y,y.delimiter&&(this.delimiter=y.delimiter),y.maxListeners!==r&&(this._maxListeners=y.maxListeners),y.wildcard&&(this.wildcard=y.wildcard),y.newListener&&(this._newListener=y.newListener),y.removeListener&&(this._removeListener=y.removeListener),y.verboseMemoryLeak&&(this.verboseMemoryLeak=y.verboseMemoryLeak),y.ignoreErrors&&(this.ignoreErrors=y.ignoreErrors),this.wildcard&&(this.listenerTree={}))}function T(y,g){var w="(node) warning: possible EventEmitter memory leak detected. "+y+" listeners added. Use emitter.setMaxListeners() to increase limit.";if(this.verboseMemoryLeak&&(w+=" Event name: "+g+"."),typeof process!="undefined"&&process.emitWarning){var k=new Error(w);k.name="MaxListenersExceededWarning",k.emitter=this,k.count=y,process.emitWarning(k)}else console.error(w),console.trace&&console.trace()}var O=function(y,g,w){var k=arguments.length;switch(k){case 0:return[];case 1:return[y];case 2:return[y,g];case 3:return[y,g,w];default:for(var D=new Array(k);k--;)D[k]=arguments[k];return D}};function b(y,g){for(var w={},k,D=y.length,M=g?g.length:0,E=0;E<D;E++)k=y[E],w[k]=E<M?g[E]:r;return w}function x(y,g,w){this._emitter=y,this._target=g,this._listeners={},this._listenersCount=0;var k,D;if((w.on||w.off)&&(k=w.on,D=w.off),g.addEventListener?(k=g.addEventListener,D=g.removeEventListener):g.addListener?(k=g.addListener,D=g.removeListener):g.on&&(k=g.on,D=g.off),!k&&!D)throw Error("target does not implement any known event API");if(typeof k!="function")throw TypeError("on method must be a function");if(typeof D!="function")throw TypeError("off method must be a function");this._on=k,this._off=D;var M=y._observers;M?M.push(this):y._observers=[this]}Object.assign(x.prototype,{subscribe:function(y,g,w){var k=this,D=this._target,M=this._emitter,E=this._listeners,C=function(){var P=O.apply(null,arguments),N={data:P,name:g,original:y};if(w){var j=w.call(D,N);j!==!1&&M.emit.apply(M,[N.name].concat(P));return}M.emit.apply(M,[g].concat(P))};if(E[y])throw Error("Event '"+y+"' is already listening");this._listenersCount++,M._newListener&&M._removeListener&&!k._onNewListener?(this._onNewListener=function(P){P===g&&E[y]===null&&(E[y]=C,k._on.call(D,y,C))},M.on("newListener",this._onNewListener),this._onRemoveListener=function(P){P===g&&!M.hasListeners(P)&&E[y]&&(E[y]=null,k._off.call(D,y,C))},E[y]=null,M.on("removeListener",this._onRemoveListener)):(E[y]=C,k._on.call(D,y,C))},unsubscribe:function(y){var g=this,w=this._listeners,k=this._emitter,D,M,E=this._off,C=this._target,P;if(y&&typeof y!="string")throw TypeError("event must be a string");function N(){g._onNewListener&&(k.off("newListener",g._onNewListener),k.off("removeListener",g._onRemoveListener),g._onNewListener=null,g._onRemoveListener=null);var j=be.call(k,g);k._observers.splice(j,1)}if(y){if(D=w[y],!D)return;E.call(C,y,D),delete w[y],--this._listenersCount||N()}else{for(M=f(w),P=M.length;P-- >0;)y=M[P],E.call(C,y,w[y]);this._listeners={},this._listenersCount=0,N()}}});function I(y,g,w,k){var D=Object.assign({},g);if(!y)return D;if(typeof y!="object")throw TypeError("options must be an object");var M=Object.keys(y),E=M.length,C,P,N;function j(pe){throw Error('Invalid "'+C+'" option value'+(pe?". Reason: "+pe:""))}for(var Ee=0;Ee<E;Ee++){if(C=M[Ee],!k&&!e.call(g,C))throw Error('Unknown "'+C+'" option');P=y[C],P!==r&&(N=w[C],D[C]=N?N(P,j):P)}return D}function G(y,g){return(typeof y!="function"||!y.hasOwnProperty("prototype"))&&g("value must be a constructor"),y}function H(y){var g="value must be type of "+y.join("|"),w=y.length,k=y[0],D=y[1];return w===1?function(M,E){if(typeof M===k)return M;E(g)}:w===2?function(M,E){var C=typeof M;if(C===k||C===D)return M;E(g)}:function(M,E){for(var C=typeof M,P=w;P-- >0;)if(C===y[P])return M;E(g)}}var W=H(["function"]),ke=H(["object","function"]);function Te(y,g,w){var k,D,M=0,E,C=new y(function(P,N,j){w=I(w,{timeout:0,overload:!1},{timeout:function(Ie,K){return Ie*=1,(typeof Ie!="number"||Ie<0||!Number.isFinite(Ie))&&K("timeout must be a positive number"),Ie}}),k=!w.overload&&typeof y.prototype.cancel=="function"&&typeof j=="function";function Ee(){D&&(D=null),M&&(clearTimeout(M),M=0)}var pe=function(Ie){Ee(),P(Ie)},ce=function(Ie){Ee(),N(Ie)};k?g(pe,ce,j):(D=[function(Ie){ce(Ie||Error("canceled"))}],g(pe,ce,function(Ie){if(E)throw Error("Unable to subscribe on cancel event asynchronously");if(typeof Ie!="function")throw TypeError("onCancel callback must be a function");D.push(Ie)}),E=!0),w.timeout>0&&(M=setTimeout(function(){var Ie=Error("timeout");Ie.code="ETIMEDOUT",M=0,C.cancel(Ie),N(Ie)},w.timeout))});return k||(C.cancel=function(P){if(!!D){for(var N=D.length,j=1;j<N;j++)D[j](P);D[0](P),D=null}}),C}function be(y){var g=this._observers;if(!g)return-1;for(var w=g.length,k=0;k<w;k++)if(g[k]._target===y)return k;return-1}function ee(y,g,w,k,D){if(!w)return null;if(k===0){var M=typeof g;if(M==="string"){var E,C,P=0,N=0,j=this.delimiter,Ee=j.length;if((C=g.indexOf(j))!==-1){E=new Array(5);do E[P++]=g.slice(N,C),N=C+Ee;while((C=g.indexOf(j,N))!==-1);E[P++]=g.slice(N),g=E,D=P}else g=[g],D=1}else M==="object"?D=g.length:(g=[g],D=1)}var pe=null,ce,Ie,K,qe,Xe,ft=g[k],Or=g[k+1],at,je;if(k===D)w._listeners&&(typeof w._listeners=="function"?(y&&y.push(w._listeners),pe=[w]):(y&&y.push.apply(y,w._listeners),pe=[w]));else if(ft==="*"){for(at=f(w),C=at.length;C-- >0;)ce=at[C],ce!=="_listeners"&&(je=ee(y,g,w[ce],k+1,D),je&&(pe?pe.push.apply(pe,je):pe=je));return pe}else if(ft==="**"){for(Xe=k+1===D||k+2===D&&Or==="*",Xe&&w._listeners&&(pe=ee(y,g,w,D,D)),at=f(w),C=at.length;C-- >0;)ce=at[C],ce!=="_listeners"&&(ce==="*"||ce==="**"?(w[ce]._listeners&&!Xe&&(je=ee(y,g,w[ce],D,D),je&&(pe?pe.push.apply(pe,je):pe=je)),je=ee(y,g,w[ce],k,D)):ce===Or?je=ee(y,g,w[ce],k+2,D):je=ee(y,g,w[ce],k,D),je&&(pe?pe.push.apply(pe,je):pe=je));return pe}else w[ft]&&(pe=ee(y,g,w[ft],k+1,D));if(Ie=w["*"],Ie&&ee(y,g,Ie,k+1,D),K=w["**"],K)if(k<D)for(K._listeners&&ee(y,g,K,D,D),at=f(K),C=at.length;C-- >0;)ce=at[C],ce!=="_listeners"&&(ce===Or?ee(y,g,K[ce],k+2,D):ce===ft?ee(y,g,K[ce],k+1,D):(qe={},qe[ce]=K[ce],ee(y,g,{"**":qe},k+1,D)));else K._listeners?ee(y,g,K,D,D):K["*"]&&K["*"]._listeners&&ee(y,g,K["*"],D,D);return pe}function ne(y,g,w){var k=0,D=0,M,E=this.delimiter,C=E.length,P;if(typeof y=="string")if((M=y.indexOf(E))!==-1){P=new Array(5);do P[k++]=y.slice(D,M),D=M+C;while((M=y.indexOf(E,D))!==-1);P[k++]=y.slice(D)}else P=[y],k=1;else P=y,k=y.length;if(k>1){for(M=0;M+1<k;M++)if(P[M]==="**"&&P[M+1]==="**")return}var N=this.listenerTree,j;for(M=0;M<k;M++)if(j=P[M],N=N[j]||(N[j]={}),M===k-1)return N._listeners?(typeof N._listeners=="function"&&(N._listeners=[N._listeners]),w?N._listeners.unshift(g):N._listeners.push(g),!N._listeners.warned&&this._maxListeners>0&&N._listeners.length>this._maxListeners&&(N._listeners.warned=!0,T.call(this,N._listeners.length,j))):N._listeners=g,!0;return!0}function Ft(y,g,w,k){for(var D=f(y),M=D.length,E,C,P,N=y._listeners,j;M-- >0;)C=D[M],E=y[C],C==="_listeners"?P=w:P=w?w.concat(C):[C],j=k||typeof C=="symbol",N&&g.push(j?P:P.join(this.delimiter)),typeof E=="object"&&Ft.call(this,E,g,P,j);return g}function _t(y){for(var g=f(y),w=g.length,k,D,M;w-- >0;)D=g[w],k=y[D],k&&(M=!0,D!=="_listeners"&&!_t(k)&&delete y[D]);return M}function V(y,g,w){this.emitter=y,this.event=g,this.listener=w}V.prototype.off=function(){return this.emitter.off(this.event,this.listener),this};function q(y,g,w){if(w===!0)D=!0;else if(w===!1)k=!0;else{if(!w||typeof w!="object")throw TypeError("options should be an object or true");var k=w.async,D=w.promisify,M=w.nextTick,E=w.objectify}if(k||M||D){var C=g,P=g._origin||g;if(M&&!s)throw Error("process.nextTick is not supported");D===r&&(D=g.constructor.name==="AsyncFunction"),g=function(){var N=arguments,j=this,Ee=this.event;return D?M?Promise.resolve():new Promise(function(pe){c(pe)}).then(function(){return j.event=Ee,C.apply(j,N)}):(M?process.nextTick:c)(function(){j.event=Ee,C.apply(j,N)})},g._async=!0,g._origin=P}return[g,E?new V(this,y,g):this]}function A(y){this._events={},this._newListener=!1,this._removeListener=!1,this.verboseMemoryLeak=!1,_.call(this,y)}A.EventEmitter2=A,A.prototype.listenTo=function(y,g,w){if(typeof y!="object")throw TypeError("target musts be an object");var k=this;w=I(w,{on:r,off:r,reducers:r},{on:W,off:W,reducers:ke});function D(M){if(typeof M!="object")throw TypeError("events must be an object");var E=w.reducers,C=be.call(k,y),P;C===-1?P=new x(k,y,w):P=k._observers[C];for(var N=f(M),j=N.length,Ee,pe=typeof E=="function",ce=0;ce<j;ce++)Ee=N[ce],P.subscribe(Ee,M[Ee]||Ee,pe?E:E&&E[Ee])}return t(g)?D(b(g)):D(typeof g=="string"?b(g.split(/\s+/)):g),this},A.prototype.stopListeningTo=function(y,g){var w=this._observers;if(!w)return!1;var k=w.length,D,M=!1;if(y&&typeof y!="object")throw TypeError("target should be an object");for(;k-- >0;)D=w[k],(!y||D._target===y)&&(D.unsubscribe(g),M=!0);return M},A.prototype.delimiter=".",A.prototype.setMaxListeners=function(y){y!==r&&(this._maxListeners=y,this._conf||(this._conf={}),this._conf.maxListeners=y)},A.prototype.getMaxListeners=function(){return this._maxListeners},A.prototype.event="",A.prototype.once=function(y,g,w){return this._once(y,g,!1,w)},A.prototype.prependOnceListener=function(y,g,w){return this._once(y,g,!0,w)},A.prototype._once=function(y,g,w,k){return this._many(y,1,g,w,k)},A.prototype.many=function(y,g,w,k){return this._many(y,g,w,!1,k)},A.prototype.prependMany=function(y,g,w,k){return this._many(y,g,w,!0,k)},A.prototype._many=function(y,g,w,k,D){var M=this;if(typeof w!="function")throw new Error("many only accepts instances of Function");function E(){return--g===0&&M.off(y,E),w.apply(this,arguments)}return E._origin=w,this._on(y,E,k,D)},A.prototype.emit=function(){if(!this._events&&!this._all)return!1;this._events||p.call(this);var y=arguments[0],g,w=this.wildcard,k,D,M,E,C;if(y==="newListener"&&!this._newListener&&!this._events.newListener)return!1;if(w&&(g=y,y!=="newListener"&&y!=="removeListener"&&typeof y=="object")){if(D=y.length,a){for(M=0;M<D;M++)if(typeof y[M]=="symbol"){C=!0;break}}C||(y=y.join(this.delimiter))}var P=arguments.length,N;if(this._all&&this._all.length)for(N=this._all.slice(),M=0,D=N.length;M<D;M++)switch(this.event=y,P){case 1:N[M].call(this,y);break;case 2:N[M].call(this,y,arguments[1]);break;case 3:N[M].call(this,y,arguments[1],arguments[2]);break;default:N[M].apply(this,arguments)}if(w)N=[],ee.call(this,N,g,this.listenerTree,0,D);else if(N=this._events[y],typeof N=="function"){switch(this.event=y,P){case 1:N.call(this);break;case 2:N.call(this,arguments[1]);break;case 3:N.call(this,arguments[1],arguments[2]);break;default:for(k=new Array(P-1),E=1;E<P;E++)k[E-1]=arguments[E];N.apply(this,k)}return!0}else N&&(N=N.slice());if(N&&N.length){if(P>3)for(k=new Array(P-1),E=1;E<P;E++)k[E-1]=arguments[E];for(M=0,D=N.length;M<D;M++)switch(this.event=y,P){case 1:N[M].call(this);break;case 2:N[M].call(this,arguments[1]);break;case 3:N[M].call(this,arguments[1],arguments[2]);break;default:N[M].apply(this,k)}return!0}else if(!this.ignoreErrors&&!this._all&&y==="error")throw arguments[1]instanceof Error?arguments[1]:new Error("Uncaught, unspecified 'error' event.");return!!this._all},A.prototype.emitAsync=function(){if(!this._events&&!this._all)return!1;this._events||p.call(this);var y=arguments[0],g=this.wildcard,w,k,D,M,E,C;if(y==="newListener"&&!this._newListener&&!this._events.newListener)return Promise.resolve([!1]);if(g&&(w=y,y!=="newListener"&&y!=="removeListener"&&typeof y=="object")){if(M=y.length,a){for(E=0;E<M;E++)if(typeof y[E]=="symbol"){k=!0;break}}k||(y=y.join(this.delimiter))}var P=[],N=arguments.length,j;if(this._all)for(E=0,M=this._all.length;E<M;E++)switch(this.event=y,N){case 1:P.push(this._all[E].call(this,y));break;case 2:P.push(this._all[E].call(this,y,arguments[1]));break;case 3:P.push(this._all[E].call(this,y,arguments[1],arguments[2]));break;default:P.push(this._all[E].apply(this,arguments))}if(g?(j=[],ee.call(this,j,w,this.listenerTree,0)):j=this._events[y],typeof j=="function")switch(this.event=y,N){case 1:P.push(j.call(this));break;case 2:P.push(j.call(this,arguments[1]));break;case 3:P.push(j.call(this,arguments[1],arguments[2]));break;default:for(D=new Array(N-1),C=1;C<N;C++)D[C-1]=arguments[C];P.push(j.apply(this,D))}else if(j&&j.length){if(j=j.slice(),N>3)for(D=new Array(N-1),C=1;C<N;C++)D[C-1]=arguments[C];for(E=0,M=j.length;E<M;E++)switch(this.event=y,N){case 1:P.push(j[E].call(this));break;case 2:P.push(j[E].call(this,arguments[1]));break;case 3:P.push(j[E].call(this,arguments[1],arguments[2]));break;default:P.push(j[E].apply(this,D))}}else if(!this.ignoreErrors&&!this._all&&y==="error")return arguments[1]instanceof Error?Promise.reject(arguments[1]):Promise.reject("Uncaught, unspecified 'error' event.");return Promise.all(P)},A.prototype.on=function(y,g,w){return this._on(y,g,!1,w)},A.prototype.prependListener=function(y,g,w){return this._on(y,g,!0,w)},A.prototype.onAny=function(y){return this._onAny(y,!1)},A.prototype.prependAny=function(y){return this._onAny(y,!0)},A.prototype.addListener=A.prototype.on,A.prototype._onAny=function(y,g){if(typeof y!="function")throw new Error("onAny only accepts instances of Function");return this._all||(this._all=[]),g?this._all.unshift(y):this._all.push(y),this},A.prototype._on=function(y,g,w,k){if(typeof y=="function")return this._onAny(y,g),this;if(typeof g!="function")throw new Error("on only accepts instances of Function");this._events||p.call(this);var D=this,M;return k!==r&&(M=q.call(this,y,g,k),g=M[0],D=M[1]),this._newListener&&this.emit("newListener",y,g),this.wildcard?(ne.call(this,y,g,w),D):(this._events[y]?(typeof this._events[y]=="function"&&(this._events[y]=[this._events[y]]),w?this._events[y].unshift(g):this._events[y].push(g),!this._events[y].warned&&this._maxListeners>0&&this._events[y].length>this._maxListeners&&(this._events[y].warned=!0,T.call(this,this._events[y].length,y))):this._events[y]=g,D)},A.prototype.off=function(y,g){if(typeof g!="function")throw new Error("removeListener only takes instances of Function");var w,k=[];if(this.wildcard){var D=typeof y=="string"?y.split(this.delimiter):y.slice();if(k=ee.call(this,null,D,this.listenerTree,0),!k)return this}else{if(!this._events[y])return this;w=this._events[y],k.push({_listeners:w})}for(var M=0;M<k.length;M++){var E=k[M];if(w=E._listeners,t(w)){for(var C=-1,P=0,N=w.length;P<N;P++)if(w[P]===g||w[P].listener&&w[P].listener===g||w[P]._origin&&w[P]._origin===g){C=P;break}if(C<0)continue;return this.wildcard?E._listeners.splice(C,1):this._events[y].splice(C,1),w.length===0&&(this.wildcard?delete E._listeners:delete this._events[y]),this._removeListener&&this.emit("removeListener",y,g),this}else(w===g||w.listener&&w.listener===g||w._origin&&w._origin===g)&&(this.wildcard?delete E._listeners:delete this._events[y],this._removeListener&&this.emit("removeListener",y,g))}return this.listenerTree&&_t(this.listenerTree),this},A.prototype.offAny=function(y){var g=0,w=0,k;if(y&&this._all&&this._all.length>0){for(k=this._all,g=0,w=k.length;g<w;g++)if(y===k[g])return k.splice(g,1),this._removeListener&&this.emit("removeListenerAny",y),this}else{if(k=this._all,this._removeListener)for(g=0,w=k.length;g<w;g++)this.emit("removeListenerAny",k[g]);this._all=[]}return this},A.prototype.removeListener=A.prototype.off,A.prototype.removeAllListeners=function(y){if(y===r)return!this._events||p.call(this),this;if(this.wildcard){var g=ee.call(this,null,y,this.listenerTree,0),w,k;if(!g)return this;for(k=0;k<g.length;k++)w=g[k],w._listeners=null;this.listenerTree&&_t(this.listenerTree)}else this._events&&(this._events[y]=null);return this},A.prototype.listeners=function(y){var g=this._events,w,k,D,M,E;if(y===r){if(this.wildcard)throw Error("event name required for wildcard emitter");if(!g)return[];for(w=f(g),M=w.length,D=[];M-- >0;)k=g[w[M]],typeof k=="function"?D.push(k):D.push.apply(D,k);return D}else{if(this.wildcard){if(E=this.listenerTree,!E)return[];var C=[],P=typeof y=="string"?y.split(this.delimiter):y.slice();return ee.call(this,C,P,E,0),C}return g?(k=g[y],k?typeof k=="function"?[k]:k:[]):[]}},A.prototype.eventNames=function(y){var g=this._events;return this.wildcard?Ft.call(this,this.listenerTree,[],null,y):g?f(g):[]},A.prototype.listenerCount=function(y){return this.listeners(y).length},A.prototype.hasListeners=function(y){if(this.wildcard){var g=[],w=typeof y=="string"?y.split(this.delimiter):y.slice();return ee.call(this,g,w,this.listenerTree,0),g.length>0}var k=this._events,D=this._all;return!!(D&&D.length||k&&(y===r?f(k).length:k[y]))},A.prototype.listenersAny=function(){return this._all?this._all:[]},A.prototype.waitFor=function(y,g){var w=this,k=typeof g;return k==="number"?g={timeout:g}:k==="function"&&(g={filter:g}),g=I(g,{timeout:0,filter:r,handleError:!1,Promise,overload:!1},{filter:W,Promise:G}),Te(g.Promise,function(D,M,E){function C(){var P=g.filter;if(!(P&&!P.apply(w,arguments)))if(w.off(y,C),g.handleError){var N=arguments[0];N?M(N):D(O.apply(null,arguments).slice(1))}else D(O.apply(null,arguments))}E(function(){w.off(y,C)}),w._on(y,C,!1)},{timeout:g.timeout,overload:g.overload})};function J(y,g,w){w=I(w,{Promise,timeout:0,overload:!1},{Promise:G});var k=w.Promise;return Te(k,function(D,M,E){var C;if(typeof y.addEventListener=="function"){C=function(){D(O.apply(null,arguments))},E(function(){y.removeEventListener(g,C)}),y.addEventListener(g,C,{once:!0});return}var P=function(){N&&y.removeListener("error",N),D(O.apply(null,arguments))},N;g!=="error"&&(N=function(j){y.removeListener(g,P),M(j)},y.once("error",N)),E(function(){N&&y.removeListener("error",N),y.removeListener(g,P)}),y.once(g,P)},{timeout:w.timeout,overload:w.overload})}var Y=A.prototype;if(Object.defineProperties(A,{defaultMaxListeners:{get:function(){return Y._maxListeners},set:function(y){if(typeof y!="number"||y<0||Number.isNaN(y))throw TypeError("n must be a non-negative number");Y._maxListeners=y},enumerable:!0},once:{value:J,writable:!0,configurable:!0}}),Object.defineProperties(Y,{_maxListeners:{value:n,writable:!0,configurable:!0},_observers:{value:null,writable:!0,configurable:!0}}),typeof define=="function"&&define.amd)define(function(){return A});else if(typeof Hb=="object")Bb.exports=A;else{var ue=new Function("","return this")();ue.EventEmitter2=A}})()});var Zr=S(Xn=>{"use strict";Xn.__esModule=!0;var bF;(function(r){r.AND="AND",r.OR="OR",r.XOR="XOR",r.NOT="NOT"})(bF=Xn.Operators||(Xn.Operators={}));var vF;(function(r){r.OPEN_PARENTHESIS="(",r.CLOSE_PARENTHESIS=")"})(vF=Xn.StructuralCharacters||(Xn.StructuralCharacters={}));var wF;(function(r){r.IDENTIFIER="IDENTIFIER",r.OPERATOR="OPERATOR",r.STRUCTURAL_CHARACTER="STRUCTURAL_CHARACTER",r.EOF="EOF",r.COMMENT="COMMENT"})(wF=Xn.Tokens||(Xn.Tokens={}))});var cp=S(ol=>{"use strict";ol.__esModule=!0;var nt=Zr();ol.OPERATOR_PRECEDENCE={NOT:0,XOR:1,AND:2,OR:3};ol.VALID_TOKENS={identifierOnly:[{name:nt.Tokens.IDENTIFIER},{name:nt.Tokens.STRUCTURAL_CHARACTER,value:nt.StructuralCharacters.OPEN_PARENTHESIS}],identifierOrNot:[{name:nt.Tokens.IDENTIFIER},{name:nt.Tokens.STRUCTURAL_CHARACTER,value:nt.StructuralCharacters.OPEN_PARENTHESIS},{name:nt.Tokens.OPERATOR,value:nt.Operators.NOT}],binaryOperator:[{name:nt.Tokens.OPERATOR,value:nt.Operators.AND},{name:nt.Tokens.OPERATOR,value:nt.Operators.OR},{name:nt.Tokens.OPERATOR,value:nt.Operators.XOR}],binaryOperatorOrClose:[{name:nt.Tokens.OPERATOR,value:nt.Operators.AND},{name:nt.Tokens.OPERATOR,value:nt.Operators.OR},{name:nt.Tokens.OPERATOR,value:nt.Operators.XOR},{name:nt.Tokens.STRUCTURAL_CHARACTER,value:nt.StructuralCharacters.CLOSE_PARENTHESIS}]}});var dp=S(wn=>{"use strict";wn.__esModule=!0;var Mi=Zr();wn.STRUCTURAL_CHARACTERS={"(":Mi.StructuralCharacters.OPEN_PARENTHESIS,")":Mi.StructuralCharacters.CLOSE_PARENTHESIS};wn.OPERATORS={AND:Mi.Operators.AND,OR:Mi.Operators.OR,XOR:Mi.Operators.XOR,NOT:Mi.Operators.NOT};wn.SEPARATORS=new Set([32,9,10,13].map(function(r){return String.fromCodePoint(r)}));wn.QUOTED_IDENTIFIER_DELIMITER=String.fromCodePoint(34);wn.COMMENT_DELIMITER=String.fromCodePoint(35);wn.EOL=String.fromCodePoint(10);wn.ESCAPE_CHARACTER=String.fromCodePoint(92)});var Ov=S(kn=>{"use strict";var fp=kn&&kn.__assign||function(){return fp=Object.assign||function(r){for(var e,t=1,n=arguments.length;t<n;t++){e=arguments[t];for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(r[s]=e[s])}return r},fp.apply(this,arguments)};kn.__esModule=!0;var Sv=Zr(),Is=dp();kn.createResult=function(r,e,t){return{token:fp({name:r},e!==null?{value:e}:{}),remainingString:t}};kn.getComment=function(r){for(var e=r.length,t=0;t<r.length;t+=1){var n=r[t];if(n===Is.EOL){e=t;break}}return kn.createResult(Sv.Tokens.COMMENT,r.slice(0,e),r.slice(e+1))};kn.getQuotedIdentifier=function(r){for(var e=!1,t="",n=null,s=0;s<r.length;s+=1){var a=r[s];if(n===null)a===Is.QUOTED_IDENTIFIER_DELIMITER?e?t=t.slice(-1)+Is.QUOTED_IDENTIFIER_DELIMITER:n=s:(a===Is.ESCAPE_CHARACTER?e=!0:e=!1,t=t+=a);else{if(!Is.SEPARATORS.has(a)&&!Is.STRUCTURAL_CHARACTERS[a])throw new Error("Unexpected character: "+a+" Expected ) character or separator");break}}if(n===null)throw new Error("Unexpected end of expression: expected "+Is.QUOTED_IDENTIFIER_DELIMITER+" character");return kn.createResult(Sv.Tokens.IDENTIFIER,t,r.slice(n+1))}});var Mv=S(hp=>{"use strict";hp.__esModule=!0;var Ri=Zr(),lr=dp(),xi=Ov();hp.lex=function(r){for(var e=null,t=null,n=null,s=0;s<r.length;s+=1){var a=r[s];if(e===null){if(!lr.SEPARATORS.has(a)){var o=lr.STRUCTURAL_CHARACTERS[a];if(o){var l=r[s+1];if(o===Ri.StructuralCharacters.CLOSE_PARENTHESIS&&l&&!lr.SEPARATORS.has(l)&&l!==Ri.StructuralCharacters.CLOSE_PARENTHESIS)throw new Error("Unexpected character: "+l+". A closing parenthesis should be followed by another closing parenthesis or whitespace");return xi.createResult(Ri.Tokens.STRUCTURAL_CHARACTER,lr.STRUCTURAL_CHARACTERS[a],r.slice(s+1))}if(a===lr.QUOTED_IDENTIFIER_DELIMITER)return xi.getQuotedIdentifier(r.slice(s+1));if(a===lr.COMMENT_DELIMITER)return xi.getComment(r.slice(s+1));e=s}}else if(lr.SEPARATORS.has(a)||lr.STRUCTURAL_CHARACTERS[a]){t=s,n=a;break}else if(a===lr.QUOTED_IDENTIFIER_DELIMITER||a===lr.COMMENT_DELIMITER)throw new Error("Unexpected character: "+a)}if(e!==null){t=t!=null?t:r.length;var c=r.slice(e,t),f=r.slice(t);if(lr.OPERATORS[c]){if(n&&!lr.SEPARATORS.has(n))throw new Error("Unexpected character: "+n+". Operators should be separated using whitespace");return xi.createResult(Ri.Tokens.OPERATOR,lr.OPERATORS[c],f)}else return xi.createResult(Ri.Tokens.IDENTIFIER,c,f)}return xi.createResult(Ri.Tokens.EOF,null,"")}});var Rv=S(En=>{"use strict";var kF=En&&En.__spreadArrays||function(){for(var r=0,e=0,t=arguments.length;e<t;e++)r+=arguments[e].length;for(var n=Array(r),s=0,e=0;e<t;e++)for(var a=arguments[e],o=0,l=a.length;o<l;o++,s++)n[s]=a[o];return n};En.__esModule=!0;var EF=Mv(),Ai=Zr(),ul=cp();En.newTokenGenerator=function(r){var e=r;return function(t,n){for(n===void 0&&(n=!1);;){var s=EF.lex(e),a=s.token,o=s.remainingString;if(e=o,a.name!==Ai.Tokens.COMMENT)return En.validateToken(a,t,n),a}}};En.getValue=function(r,e){var t=r(ul.VALID_TOKENS.identifierOrNot),n=t.value===Ai.Operators.NOT;n&&(t=r(ul.VALID_TOKENS.identifierOnly));var s=t.name===Ai.Tokens.STRUCTURAL_CHARACTER?e(r,!0):[t];return n?kF(s,[{name:Ai.Tokens.OPERATOR,value:Ai.Operators.NOT}]):s};En.previousOperatorTakesPrecedent=function(r,e){return ul.OPERATOR_PRECEDENCE[r]<=ul.OPERATOR_PRECEDENCE[e]};En.validateToken=function(r,e,t){if(t===void 0&&(t=!1),r.name===Ai.Tokens.EOF){if(t)return;throw new Error("Unexpected end of expression")}for(var n=0,s=e;n<s.length;n++){var a=s[n];if(a.name===r.name&&(!a.value||a.value===r.value))return}throw new TypeError("Invalid token")}});var mp=S(uo=>{"use strict";var Pi=uo&&uo.__spreadArrays||function(){for(var r=0,e=0,t=arguments.length;e<t;e++)r+=arguments[e].length;for(var n=Array(r),s=0,e=0;e<t;e++)for(var a=arguments[e],o=0,l=a.length;o<l;o++,s++)n[s]=a[o];return n};uo.__esModule=!0;var xv=Zr(),Av=cp(),ll=Rv();uo.parse=function(r){if(typeof r!="string")throw new Error("Expected string but received "+typeof r);var e=ll.newTokenGenerator(r);return pp(e)};var pp=function(r,e){e===void 0&&(e=!1);for(var t=Pi(ll.getValue(r,pp)),n=[];;){var s=e?Av.VALID_TOKENS.binaryOperatorOrClose:Av.VALID_TOKENS.binaryOperator,a=r(s,!e);if(a.name===xv.Tokens.EOF||a.name===xv.Tokens.STRUCTURAL_CHARACTER)return Pi(t,Pi(n).reverse());for(;n.length;){var o=n[n.length-1]||null;if(o&&ll.previousOperatorTakesPrecedent(o.value,a.value))t=Pi(t,[o]),n=n.slice(0,-1);else break}n=Pi(n,[a]),t=Pi(t,ll.getValue(r,pp))}}});var yp=S(Dn=>{"use strict";Dn.__esModule=!0;var Pv=Zr();Dn.andUtil=function(r,e){return r&&e};Dn.orUtil=function(r,e){return r||e};Dn.xorUtil=function(r,e){return r!==e};Dn.notUtil=function(r){return!r};Dn.isIdentifier=function(r){var e=r.name,t=r.value;return e===Pv.Tokens.IDENTIFIER&&typeof t=="string"};Dn.isOperator=function(r){var e=r.name,t=r.value;return e===Pv.Tokens.OPERATOR&&typeof t=="string"};Dn.throwInvalidExpression=function(r){throw new TypeError("Invalid postfix expression: "+r)}});var Nv=S(Tp=>{"use strict";var lo;Tp.__esModule=!0;var gp=Zr(),_p=yp();Tp.OPERATOR_MAP=(lo={},lo[gp.Operators.AND]=_p.andUtil,lo[gp.Operators.OR]=_p.orUtil,lo[gp.Operators.XOR]=_p.xorUtil,lo)});var Iv=S(Ls=>{"use strict";var bp=Ls&&Ls.__spreadArrays||function(){for(var r=0,e=0,t=arguments.length;e<t;e++)r+=arguments[e].length;for(var n=Array(r),s=0,e=0;e<t;e++)for(var a=arguments[e],o=0,l=a.length;o<l;o++,s++)n[s]=a[o];return n};Ls.__esModule=!0;var DF=mp(),Cv=Zr(),SF=Nv(),Fs=yp();Ls.getEvaluator=function(r){var e=DF.parse(r);return function(t){return Ls.evaluate(e,t)}};Ls.evaluate=function(r,e){if(!Array.isArray(r))throw new Error(r+" should be an array. evaluate takes in a parsed expression. Use in combination with parse or use getEvaluator");var t=r.reduce(function(n,s,a){if(!(s&&(Fs.isIdentifier(s)||Fs.isOperator(s))))throw new Error("Invalid token: "+s+". Found in parsed expression at index "+a);if(s.name===Cv.Tokens.IDENTIFIER)return bp(n,[Boolean(e[s.value])]);var o=n[n.length-2],l=n[n.length-1];if(s.value===Cv.Operators.NOT)return l===void 0&&Fs.throwInvalidExpression("missing identifier"),bp(n.slice(0,-1),[Fs.notUtil(l)]);(l===void 0||o===void 0)&&Fs.throwInvalidExpression("missing identifier");var c=SF.OPERATOR_MAP[s.value];return c||Fs.throwInvalidExpression("unknown operator"),bp(n.slice(0,-2),[c(o,l)])},[]);return t.length!==1&&Fs.throwInvalidExpression("too many identifiers after evaluation"),t[0]}});var Lv=S(co=>{"use strict";co.__esModule=!0;var Fv=Iv();co.getEvaluator=Fv.getEvaluator;co.evaluate=Fv.evaluate;var OF=mp();co.parse=OF.parse});var NF={};Yk(NF,{default:()=>vl});module.exports=Uk(NF);var tw=require("obsidian");var gi=require("obsidian");var IF=new Error("timeout while waiting for mutex to become available"),FF=new Error("mutex already locked"),Wk=new Error("request for lock canceled"),qk=function(r,e,t,n){function s(a){return a instanceof t?a:new t(function(o){o(a)})}return new(t||(t=Promise))(function(a,o){function l(p){try{f(n.next(p))}catch(_){o(_)}}function c(p){try{f(n.throw(p))}catch(_){o(_)}}function f(p){p.done?a(p.value):s(p.value).then(l,c)}f((n=n.apply(r,e||[])).next())})},Ul=class{constructor(e,t=Wk){this._value=e,this._cancelError=t,this._weightedQueues=[],this._weightedWaiters=[]}acquire(e=1){if(e<=0)throw new Error(`invalid weight ${e}: must be positive`);return new Promise((t,n)=>{this._weightedQueues[e-1]||(this._weightedQueues[e-1]=[]),this._weightedQueues[e-1].push({resolve:t,reject:n}),this._dispatch()})}runExclusive(e,t=1){return qk(this,void 0,void 0,function*(){let[n,s]=yield this.acquire(t);try{return yield e(n)}finally{s()}})}waitForUnlock(e=1){if(e<=0)throw new Error(`invalid weight ${e}: must be positive`);return new Promise(t=>{this._weightedWaiters[e-1]||(this._weightedWaiters[e-1]=[]),this._weightedWaiters[e-1].push(t),this._dispatch()})}isLocked(){return this._value<=0}getValue(){return this._value}setValue(e){this._value=e,this._dispatch()}release(e=1){if(e<=0)throw new Error(`invalid weight ${e}: must be positive`);this._value+=e,this._dispatch()}cancel(){this._weightedQueues.forEach(e=>e.forEach(t=>t.reject(this._cancelError))),this._weightedQueues=[]}_dispatch(){var e;for(let t=this._value;t>0;t--){let n=(e=this._weightedQueues[t-1])===null||e===void 0?void 0:e.shift();if(!n)continue;let s=this._value,a=t;this._value-=t,t=this._value+1,n.resolve([s,this._newReleaser(a)])}this._drainUnlockWaiters()}_newReleaser(e){let t=!1;return()=>{t||(t=!0,this.release(e))}}_drainUnlockWaiters(){for(let e=this._value;e>0;e--)!this._weightedWaiters[e-1]||(this._weightedWaiters[e-1].forEach(t=>t()),this._weightedWaiters[e-1]=[])}},jk=function(r,e,t,n){function s(a){return a instanceof t?a:new t(function(o){o(a)})}return new(t||(t=Promise))(function(a,o){function l(p){try{f(n.next(p))}catch(_){o(_)}}function c(p){try{f(n.throw(p))}catch(_){o(_)}}function f(p){p.done?a(p.value):s(p.value).then(l,c)}f((n=n.apply(r,e||[])).next())})},Ro=class{constructor(e){this._semaphore=new Ul(1,e)}acquire(){return jk(this,void 0,void 0,function*(){let[,e]=yield this._semaphore.acquire();return e})}runExclusive(e){return this._semaphore.runExclusive(()=>e())}isLocked(){return this._semaphore.isLocked()}waitForUnlock(){return this._semaphore.waitForUnlock()}release(){this._semaphore.isLocked()&&this._semaphore.release()}cancel(){return this._semaphore.cancel()}};var wu=In(yt()),di=In(vu());var bs=In(vu()),Ht=class{constructor(e,t){this.start=e,this.end=t,t.isBefore(e)&&(this.start=t,this.end=e),this.start=this.start.startOf("day"),this.end=this.end.startOf("day")}static buildRelative(e){let t=e==="week"?"isoWeek":e;return new Ht((0,bs.default)().startOf(t).startOf("day"),(0,bs.default)().endOf(t).startOf("day"))}static buildInvalid(){return new Ht(bs.default.invalid(),bs.default.invalid())}isValid(){return this.start.isValid()&&this.end.isValid()}moveToPrevious(e){let t=bs.default.duration(1,e);this.start.subtract(t),this.end.subtract(t),(e==="month"||e==="quarter")&&(this.end=this.end.endOf(e).startOf("day"))}moveToNext(e){let t=bs.default.duration(1,e);this.start.add(t),this.end.add(t),(e==="month"||e==="quarter")&&(this.end=this.end.endOf(e).startOf("day"))}};var ir=class{static parseDate(e,t=!1){return(0,di.default)(wu.parseDate(e,void 0,{forwardDate:t})).startOf("day")}static parseDateRange(e,t=!1){let n=[ir.parseRelativeDateRange,ir.parseNumberedDateRange,ir.parseAbsoluteDateRange];for(let s of n){let a=s(e,t);if(a.isValid())return a}return Ht.buildInvalid()}static parseAbsoluteDateRange(e,t){let n=wu.parse(e,void 0,{forwardDate:t});if(n.length===0)return Ht.buildInvalid();let s=n[0].start,a=n[1]&&n[1].start?n[1].start:s,o=(0,di.default)(s.date()),l=(0,di.default)(a.date());return new Ht(o,l)}static parseRelativeDateRange(e,t){let n=/(last|this|next) (week|month|quarter|year)/,s=e.match(n);if(s&&s.length===3){let a=s[1],o=s[2],l=Ht.buildRelative(o);switch(a){case"last":l.moveToPrevious(o);break;case"next":l.moveToNext(o);break}return l}return Ht.buildInvalid()}static parseNumberedDateRange(e,t){let n=[[/^\s*[0-9]{4}\s*$/,"YYYY","year"],[/^\s*[0-9]{4}-Q[1-4]\s*$/,"YYYY-Q","quarter"],[/^\s*[0-9]{4}-[0-9]{2}\s*$/,"YYYY-MM","month"],[/^\s*[0-9]{4}-W[0-9]{2}\s*$/,"YYYY-WW","isoWeek"]];for(let[s,a,o]of n){let l=e.match(s);if(l){let c=l[0].trim();return new Ht((0,di.default)(c,a).startOf(o),(0,di.default)(c,a).endOf(o))}}return Ht.buildInvalid()}};var aI={td:"today",tm:"tomorrow",yd:"yesterday",tw:"this week",nw:"next week",weekend:"sat",we:"sat"};function fi(r){for(let[e,t]of Object.entries(aI))r=r.replace(RegExp(`\\b${e}\\s`,"i"),t);return r}var ku=["MO","TU","WE","TH","FR","SA","SU"],ct=function(){function r(e,t){if(t===0)throw new Error("Can't create weekday with n == 0");this.weekday=e,this.n=t}return r.fromStr=function(e){return new r(ku.indexOf(e))},r.prototype.nth=function(e){return this.n===e?this:new r(this.weekday,e)},r.prototype.equals=function(e){return this.weekday===e.weekday&&this.n===e.n},r.prototype.toString=function(){var e=ku[this.weekday];return this.n&&(e=(this.n>0?"+":"")+String(this.n)+e),e},r.prototype.getJsWeekday=function(){return this.weekday===6?0:this.weekday+1},r}();var Ve=function(r){return r!=null},ar=function(r){return typeof r=="number"},Ah=function(r){return typeof r=="string"&&ku.includes(r)},Ct=Array.isArray,kr=function(r,e){e===void 0&&(e=r),arguments.length===1&&(e=r,r=0);for(var t=[],n=r;n<e;n++)t.push(n);return t};var we=function(r,e){var t=0,n=[];if(Ct(r))for(;t<e;t++)n[t]=[].concat(r);else for(;t<e;t++)n[t]=r;return n},UT=function(r){return Ct(r)?r:[r]};function vs(r,e,t){t===void 0&&(t=" ");var n=String(r);return e=e>>0,n.length>e?String(n):(e=e-n.length,e>t.length&&(t+=we(t,e/t.length)),t.slice(0,e)+String(n))}var WT=function(r,e,t){var n=r.split(e);return t?n.slice(0,t).concat([n.slice(t).join(e)]):n},Yt=function(r,e){var t=r%e;return t*e<0?t+e:t},Eu=function(r,e){return{div:Math.floor(r/e),mod:Yt(r,e)}},or=function(r){return!Ve(r)||r.length===0},it=function(r){return!or(r)},De=function(r,e){return it(r)&&r.indexOf(e)!==-1};var Gn;(function(r){r.MONTH_DAYS=[31,28,31,30,31,30,31,31,30,31,30,31],r.ONE_DAY=1e3*60*60*24,r.MAXYEAR=9999,r.ORDINAL_BASE=new Date(Date.UTC(1970,0,1)),r.PY_WEEKDAYS=[6,0,1,2,3,4,5],r.getYearDay=function(e){var t=new Date(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate());return Math.ceil((t.valueOf()-new Date(e.getUTCFullYear(),0,1).valueOf())/r.ONE_DAY)+1},r.isLeapYear=function(e){return e%4===0&&e%100!==0||e%400===0},r.isDate=function(e){return e instanceof Date},r.isValidDate=function(e){return r.isDate(e)&&!isNaN(e.getTime())},r.tzOffset=function(e){return e.getTimezoneOffset()*60*1e3},r.daysBetween=function(e,t){var n=e.getTime()-r.tzOffset(e),s=t.getTime()-r.tzOffset(t),a=n-s;return Math.round(a/r.ONE_DAY)},r.toOrdinal=function(e){return r.daysBetween(e,r.ORDINAL_BASE)},r.fromOrdinal=function(e){return new Date(r.ORDINAL_BASE.getTime()+e*r.ONE_DAY)},r.getMonthDays=function(e){var t=e.getUTCMonth();return t===1&&r.isLeapYear(e.getUTCFullYear())?29:r.MONTH_DAYS[t]},r.getWeekday=function(e){return r.PY_WEEKDAYS[e.getUTCDay()]},r.monthRange=function(e,t){var n=new Date(Date.UTC(e,t,1));return[r.getWeekday(n),r.getMonthDays(n)]},r.combine=function(e,t){return t=t||e,new Date(Date.UTC(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()))},r.clone=function(e){var t=new Date(e.getTime());return t},r.cloneDates=function(e){for(var t=[],n=0;n<e.length;n++)t.push(r.clone(e[n]));return t},r.sort=function(e){e.sort(function(t,n){return t.getTime()-n.getTime()})},r.timeToUntilString=function(e,t){t===void 0&&(t=!0);var n=new Date(e);return[vs(n.getUTCFullYear().toString(),4,"0"),vs(n.getUTCMonth()+1,2,"0"),vs(n.getUTCDate(),2,"0"),"T",vs(n.getUTCHours(),2,"0"),vs(n.getUTCMinutes(),2,"0"),vs(n.getUTCSeconds(),2,"0"),t?"Z":""].join("")},r.untilStringToDate=function(e){var t=/^(\d{4})(\d{2})(\d{2})(T(\d{2})(\d{2})(\d{2})Z?)?$/,n=t.exec(e);if(!n)throw new Error("Invalid UNTIL value: ".concat(e));return new Date(Date.UTC(parseInt(n[1],10),parseInt(n[2],10)-1,parseInt(n[3],10),parseInt(n[5],10)||0,parseInt(n[6],10)||0,parseInt(n[7],10)||0))}})(Gn||(Gn={}));var se=Gn;var oI=function(){function r(e,t){this.minDate=null,this.maxDate=null,this._result=[],this.total=0,this.method=e,this.args=t,e==="between"?(this.maxDate=t.inc?t.before:new Date(t.before.getTime()-1),this.minDate=t.inc?t.after:new Date(t.after.getTime()+1)):e==="before"?this.maxDate=t.inc?t.dt:new Date(t.dt.getTime()-1):e==="after"&&(this.minDate=t.inc?t.dt:new Date(t.dt.getTime()+1))}return r.prototype.accept=function(e){++this.total;var t=this.minDate&&e<this.minDate,n=this.maxDate&&e>this.maxDate;if(this.method==="between"){if(t)return!0;if(n)return!1}else if(this.method==="before"){if(n)return!1}else if(this.method==="after")return t?!0:(this.add(e),!1);return this.add(e)},r.prototype.add=function(e){return this._result.push(e),!0},r.prototype.getValue=function(){var e=this._result;switch(this.method){case"all":case"between":return e;case"before":case"after":default:return e.length?e[e.length-1]:null}},r.prototype.clone=function(){return new r(this.method,this.args)},r}(),yn=oI;var lb=In(ub(),1),{__extends:pi,__assign:Bt,__rest:wY,__decorate:kY,__param:EY,__metadata:DY,__awaiter:SY,__generator:OY,__exportStar:MY,__createBinding:RY,__values:xY,__read:AY,__spread:PY,__spreadArrays:NY,__spreadArray:U,__await:CY,__asyncGenerator:IY,__asyncDelegator:FY,__asyncValues:LY,__makeTemplateObject:YY,__importStar:UY,__importDefault:WY,__classPrivateFieldGet:qY,__classPrivateFieldSet:jY,__classPrivateFieldIn:GY}=lb.default;var uI=function(r){pi(e,r);function e(t,n,s){var a=r.call(this,t,n)||this;return a.iterator=s,a}return e.prototype.add=function(t){return this.iterator(t,this._result.length)?(this._result.push(t),!0):!1},e}(yn),Nh=uI;var lI={dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],tokens:{SKIP:/^[ \r\n\t]+|^\.$/,number:/^[1-9][0-9]*/,numberAsText:/^(one|two|three)/i,every:/^every/i,"day(s)":/^days?/i,"weekday(s)":/^weekdays?/i,"week(s)":/^weeks?/i,"hour(s)":/^hours?/i,"minute(s)":/^minutes?/i,"month(s)":/^months?/i,"year(s)":/^years?/i,on:/^(on|in)/i,at:/^(at)/i,the:/^the/i,first:/^first/i,second:/^second/i,third:/^third/i,nth:/^([1-9][0-9]*)(\.|th|nd|rd|st)/i,last:/^last/i,for:/^for/i,"time(s)":/^times?/i,until:/^(un)?til/i,monday:/^mo(n(day)?)?/i,tuesday:/^tu(e(s(day)?)?)?/i,wednesday:/^we(d(n(esday)?)?)?/i,thursday:/^th(u(r(sday)?)?)?/i,friday:/^fr(i(day)?)?/i,saturday:/^sa(t(urday)?)?/i,sunday:/^su(n(day)?)?/i,january:/^jan(uary)?/i,february:/^feb(ruary)?/i,march:/^mar(ch)?/i,april:/^apr(il)?/i,may:/^may/i,june:/^june?/i,july:/^july?/i,august:/^aug(ust)?/i,september:/^sep(t(ember)?)?/i,october:/^oct(ober)?/i,november:/^nov(ember)?/i,december:/^dec(ember)?/i,comma:/^(,\s*|(and|or)\s*)+/i}},ws=lI;var cb=function(r,e){return r.indexOf(e)!==-1},cI=function(r){return r.toString()},dI=function(r,e,t){return"".concat(e," ").concat(t,", ").concat(r)},fI=function(){function r(e,t,n,s){if(t===void 0&&(t=cI),n===void 0&&(n=ws),s===void 0&&(s=dI),this.text=[],this.language=n||ws,this.gettext=t,this.dateFormatter=s,this.rrule=e,this.options=e.options,this.origOptions=e.origOptions,this.origOptions.bymonthday){var a=[].concat(this.options.bymonthday),o=[].concat(this.options.bynmonthday);a.sort(function(p,_){return p-_}),o.sort(function(p,_){return _-p}),this.bymonthday=a.concat(o),this.bymonthday.length||(this.bymonthday=null)}if(Ve(this.origOptions.byweekday)){var l=Ct(this.origOptions.byweekday)?this.origOptions.byweekday:[this.origOptions.byweekday],c=String(l);this.byweekday={allWeeks:l.filter(function(p){return!p.n}),someWeeks:l.filter(function(p){return Boolean(p.n)}),isWeekdays:c.indexOf("MO")!==-1&&c.indexOf("TU")!==-1&&c.indexOf("WE")!==-1&&c.indexOf("TH")!==-1&&c.indexOf("FR")!==-1&&c.indexOf("SA")===-1&&c.indexOf("SU")===-1,isEveryDay:c.indexOf("MO")!==-1&&c.indexOf("TU")!==-1&&c.indexOf("WE")!==-1&&c.indexOf("TH")!==-1&&c.indexOf("FR")!==-1&&c.indexOf("SA")!==-1&&c.indexOf("SU")!==-1};var f=function(p,_){return p.weekday-_.weekday};this.byweekday.allWeeks.sort(f),this.byweekday.someWeeks.sort(f),this.byweekday.allWeeks.length||(this.byweekday.allWeeks=null),this.byweekday.someWeeks.length||(this.byweekday.someWeeks=null)}else this.byweekday=null}return r.isFullyConvertible=function(e){var t=!0;if(!(e.options.freq in r.IMPLEMENTED)||e.origOptions.until&&e.origOptions.count)return!1;for(var n in e.origOptions){if(cb(["dtstart","wkst","freq"],n))return!0;if(!cb(r.IMPLEMENTED[e.options.freq],n))return!1}return t},r.prototype.isFullyConvertible=function(){return r.isFullyConvertible(this.rrule)},r.prototype.toString=function(){var e=this.gettext;if(!(this.options.freq in r.IMPLEMENTED))return e("RRule error: Unable to fully convert this rrule to text");if(this.text=[e("every")],this[X.FREQUENCIES[this.options.freq]](),this.options.until){this.add(e("until"));var t=this.options.until;this.add(this.dateFormatter(t.getUTCFullYear(),this.language.monthNames[t.getUTCMonth()],t.getUTCDate()))}else this.options.count&&this.add(e("for")).add(this.options.count.toString()).add(this.plural(this.options.count)?e("times"):e("time"));return this.isFullyConvertible()||this.add(e("(~ approximate)")),this.text.join("")},r.prototype.HOURLY=function(){var e=this.gettext;this.options.interval!==1&&this.add(this.options.interval.toString()),this.add(this.plural(this.options.interval)?e("hours"):e("hour"))},r.prototype.MINUTELY=function(){var e=this.gettext;this.options.interval!==1&&this.add(this.options.interval.toString()),this.add(this.plural(this.options.interval)?e("minutes"):e("minute"))},r.prototype.DAILY=function(){var e=this.gettext;this.options.interval!==1&&this.add(this.options.interval.toString()),this.byweekday&&this.byweekday.isWeekdays?this.add(this.plural(this.options.interval)?e("weekdays"):e("weekday")):this.add(this.plural(this.options.interval)?e("days"):e("day")),this.origOptions.bymonth&&(this.add(e("in")),this._bymonth()),this.bymonthday?this._bymonthday():this.byweekday?this._byweekday():this.origOptions.byhour&&this._byhour()},r.prototype.WEEKLY=function(){var e=this.gettext;this.options.interval!==1&&this.add(this.options.interval.toString()).add(this.plural(this.options.interval)?e("weeks"):e("week")),this.byweekday&&this.byweekday.isWeekdays?this.options.interval===1?this.add(this.plural(this.options.interval)?e("weekdays"):e("weekday")):this.add(e("on")).add(e("weekdays")):this.byweekday&&this.byweekday.isEveryDay?this.add(this.plural(this.options.interval)?e("days"):e("day")):(this.options.interval===1&&this.add(e("week")),this.origOptions.bymonth&&(this.add(e("in")),this._bymonth()),this.bymonthday?this._bymonthday():this.byweekday&&this._byweekday())},r.prototype.MONTHLY=function(){var e=this.gettext;this.origOptions.bymonth?(this.options.interval!==1&&(this.add(this.options.interval.toString()).add(e("months")),this.plural(this.options.interval)&&this.add(e("in"))),this._bymonth()):(this.options.interval!==1&&this.add(this.options.interval.toString()),this.add(this.plural(this.options.interval)?e("months"):e("month"))),this.bymonthday?this._bymonthday():this.byweekday&&this.byweekday.isWeekdays?this.add(e("on")).add(e("weekdays")):this.byweekday&&this._byweekday()},r.prototype.YEARLY=function(){var e=this.gettext;this.origOptions.bymonth?(this.options.interval!==1&&(this.add(this.options.interval.toString()),this.add(e("years"))),this._bymonth()):(this.options.interval!==1&&this.add(this.options.interval.toString()),this.add(this.plural(this.options.interval)?e("years"):e("year"))),this.bymonthday?this._bymonthday():this.byweekday&&this._byweekday(),this.options.byyearday&&this.add(e("on the")).add(this.list(this.options.byyearday,this.nth,e("and"))).add(e("day")),this.options.byweekno&&this.add(e("in")).add(this.plural(this.options.byweekno.length)?e("weeks"):e("week")).add(this.list(this.options.byweekno,void 0,e("and")))},r.prototype._bymonthday=function(){var e=this.gettext;this.byweekday&&this.byweekday.allWeeks?this.add(e("on")).add(this.list(this.byweekday.allWeeks,this.weekdaytext,e("or"))).add(e("the")).add(this.list(this.bymonthday,this.nth,e("or"))):this.add(e("on the")).add(this.list(this.bymonthday,this.nth,e("and")))},r.prototype._byweekday=function(){var e=this.gettext;this.byweekday.allWeeks&&!this.byweekday.isWeekdays&&this.add(e("on")).add(this.list(this.byweekday.allWeeks,this.weekdaytext)),this.byweekday.someWeeks&&(this.byweekday.allWeeks&&this.add(e("and")),this.add(e("on the")).add(this.list(this.byweekday.someWeeks,this.weekdaytext,e("and"))))},r.prototype._byhour=function(){var e=this.gettext;this.add(e("at")).add(this.list(this.origOptions.byhour,void 0,e("and")))},r.prototype._bymonth=function(){this.add(this.list(this.options.bymonth,this.monthtext,this.gettext("and")))},r.prototype.nth=function(e){e=parseInt(e.toString(),10);var t,n=this.gettext;if(e===-1)return n("last");var s=Math.abs(e);switch(s){case 1:case 21:case 31:t=s+n("st");break;case 2:case 22:t=s+n("nd");break;case 3:case 23:t=s+n("rd");break;default:t=s+n("th")}return e<0?t+" "+n("last"):t},r.prototype.monthtext=function(e){return this.language.monthNames[e-1]},r.prototype.weekdaytext=function(e){var t=ar(e)?(e+1)%7:e.getJsWeekday();return(e.n?this.nth(e.n)+" ":"")+this.language.dayNames[t]},r.prototype.plural=function(e){return e%100!==1},r.prototype.add=function(e){return this.text.push(" "),this.text.push(e),this},r.prototype.list=function(e,t,n,s){var a=this;s===void 0&&(s=","),Ct(e)||(e=[e]);var o=function(c,f,p){for(var _="",T=0;T<c.length;T++)T!==0&&(T===c.length-1?_+=" "+p+" ":_+=f+" "),_+=c[T];return _};t=t||function(c){return c.toString()};var l=function(c){return t&&t.call(a,c)};return n?o(e.map(l),s,n):e.map(l).join(s+" ")},r}(),Hr=fI;var hI=function(){function r(e){this.done=!0,this.rules=e}return r.prototype.start=function(e){return this.text=e,this.done=!1,this.nextSymbol()},r.prototype.isDone=function(){return this.done&&this.symbol===null},r.prototype.nextSymbol=function(){var e,t;this.symbol=null,this.value=null;do{if(this.done)return!1;var n=void 0;e=null;for(var s in this.rules){n=this.rules[s];var a=n.exec(this.text);a&&(e===null||a[0].length>e[0].length)&&(e=a,t=s)}if(e!=null&&(this.text=this.text.substr(e[0].length),this.text===""&&(this.done=!0)),e==null){this.done=!0,this.symbol=null,this.value=null;return}}while(t==="SKIP");return this.symbol=t,this.value=e,!0},r.prototype.accept=function(e){if(this.symbol===e){if(this.value){var t=this.value;return this.nextSymbol(),t}return this.nextSymbol(),!0}return!1},r.prototype.acceptNumber=function(){return this.accept("number")},r.prototype.expect=function(e){if(this.accept(e))return!0;throw new Error("expected "+e+" but found "+this.symbol)},r}();function $a(r,e){e===void 0&&(e=ws);var t={},n=new hI(e.tokens);if(!n.start(r))return null;return s(),t;function s(){n.expect("every");var T=n.acceptNumber();if(T&&(t.interval=parseInt(T[0],10)),n.isDone())throw new Error("Unexpected end");switch(n.symbol){case"day(s)":t.freq=X.DAILY,n.nextSymbol()&&(o(),_());break;case"weekday(s)":t.freq=X.WEEKLY,t.byweekday=[X.MO,X.TU,X.WE,X.TH,X.FR],n.nextSymbol(),_();break;case"week(s)":t.freq=X.WEEKLY,n.nextSymbol()&&(a(),_());break;case"hour(s)":t.freq=X.HOURLY,n.nextSymbol()&&(a(),_());break;case"minute(s)":t.freq=X.MINUTELY,n.nextSymbol()&&(a(),_());break;case"month(s)":t.freq=X.MONTHLY,n.nextSymbol()&&(a(),_());break;case"year(s)":t.freq=X.YEARLY,n.nextSymbol()&&(a(),_());break;case"monday":case"tuesday":case"wednesday":case"thursday":case"friday":case"saturday":case"sunday":t.freq=X.WEEKLY;var O=n.symbol.substr(0,2).toUpperCase();if(t.byweekday=[X[O]],!n.nextSymbol())return;for(;n.accept("comma");){if(n.isDone())throw new Error("Unexpected end");var b=c();if(!b)throw new Error("Unexpected symbol "+n.symbol+", expected weekday");t.byweekday.push(X[b]),n.nextSymbol()}p(),_();break;case"january":case"february":case"march":case"april":case"may":case"june":case"july":case"august":case"september":case"october":case"november":case"december":if(t.freq=X.YEARLY,t.bymonth=[l()],!n.nextSymbol())return;for(;n.accept("comma");){if(n.isDone())throw new Error("Unexpected end");var x=l();if(!x)throw new Error("Unexpected symbol "+n.symbol+", expected month");t.bymonth.push(x),n.nextSymbol()}a(),_();break;default:throw new Error("Unknown symbol")}}function a(){var T=n.accept("on"),O=n.accept("the");if(!!(T||O))do{var b=f(),x=c(),I=l();if(b)x?(n.nextSymbol(),t.byweekday||(t.byweekday=[]),t.byweekday.push(X[x].nth(b))):(t.bymonthday||(t.bymonthday=[]),t.bymonthday.push(b),n.accept("day(s)"));else if(x)n.nextSymbol(),t.byweekday||(t.byweekday=[]),t.byweekday.push(X[x]);else if(n.symbol==="weekday(s)")n.nextSymbol(),t.byweekday||(t.byweekday=[X.MO,X.TU,X.WE,X.TH,X.FR]);else if(n.symbol==="week(s)"){n.nextSymbol();var G=n.acceptNumber();if(!G)throw new Error("Unexpected symbol "+n.symbol+", expected week number");for(t.byweekno=[parseInt(G[0],10)];n.accept("comma");){if(G=n.acceptNumber(),!G)throw new Error("Unexpected symbol "+n.symbol+"; expected monthday");t.byweekno.push(parseInt(G[0],10))}}else if(I)n.nextSymbol(),t.bymonth||(t.bymonth=[]),t.bymonth.push(I);else return}while(n.accept("comma")||n.accept("the")||n.accept("on"))}function o(){var T=n.accept("at");if(!!T)do{var O=n.acceptNumber();if(!O)throw new Error("Unexpected symbol "+n.symbol+", expected hour");for(t.byhour=[parseInt(O[0],10)];n.accept("comma");){if(O=n.acceptNumber(),!O)throw new Error("Unexpected symbol "+n.symbol+"; expected hour");t.byhour.push(parseInt(O[0],10))}}while(n.accept("comma")||n.accept("at"))}function l(){switch(n.symbol){case"january":return 1;case"february":return 2;case"march":return 3;case"april":return 4;case"may":return 5;case"june":return 6;case"july":return 7;case"august":return 8;case"september":return 9;case"october":return 10;case"november":return 11;case"december":return 12;default:return!1}}function c(){switch(n.symbol){case"monday":case"tuesday":case"wednesday":case"thursday":case"friday":case"saturday":case"sunday":return n.symbol.substr(0,2).toUpperCase();default:return!1}}function f(){switch(n.symbol){case"last":return n.nextSymbol(),-1;case"first":return n.nextSymbol(),1;case"second":return n.nextSymbol(),n.accept("last")?-2:2;case"third":return n.nextSymbol(),n.accept("last")?-3:3;case"nth":var T=parseInt(n.value[1],10);if(T<-366||T>366)throw new Error("Nth out of range: "+T);return n.nextSymbol(),n.accept("last")?-T:T;default:return!1}}function p(){n.accept("on"),n.accept("the");var T=f();if(!!T)for(t.bymonthday=[T],n.nextSymbol();n.accept("comma");){if(T=f(),!T)throw new Error("Unexpected symbol "+n.symbol+"; expected monthday");t.bymonthday.push(T),n.nextSymbol()}}function _(){if(n.symbol==="until"){var T=Date.parse(n.text);if(!T)throw new Error("Cannot parse until date:"+n.text);t.until=new Date(T)}else n.accept("for")&&(t.count=parseInt(n.value[0],10),n.expect("number"))}}var _e;(function(r){r[r.YEARLY=0]="YEARLY",r[r.MONTHLY=1]="MONTHLY",r[r.WEEKLY=2]="WEEKLY",r[r.DAILY=3]="DAILY",r[r.HOURLY=4]="HOURLY",r[r.MINUTELY=5]="MINUTELY",r[r.SECONDLY=6]="SECONDLY"})(_e||(_e={}));function Ha(r){return r<_e.HOURLY}var db=function(r,e){return e===void 0&&(e=ws),new X($a(r,e)||void 0)},mi=["count","until","interval","byweekday","bymonthday","bymonth"];Hr.IMPLEMENTED=[];Hr.IMPLEMENTED[_e.HOURLY]=mi;Hr.IMPLEMENTED[_e.MINUTELY]=mi;Hr.IMPLEMENTED[_e.DAILY]=["byhour"].concat(mi);Hr.IMPLEMENTED[_e.WEEKLY]=mi;Hr.IMPLEMENTED[_e.MONTHLY]=mi;Hr.IMPLEMENTED[_e.YEARLY]=["byweekno","byyearday"].concat(mi);var fb=function(r,e,t,n){return new Hr(r,e,t,n).toString()},hb=Hr.isFullyConvertible;var yi=function(){function r(e,t,n,s){this.hour=e,this.minute=t,this.second=n,this.millisecond=s||0}return r.prototype.getHours=function(){return this.hour},r.prototype.getMinutes=function(){return this.minute},r.prototype.getSeconds=function(){return this.second},r.prototype.getMilliseconds=function(){return this.millisecond},r.prototype.getTime=function(){return(this.hour*60*60+this.minute*60+this.second)*1e3+this.millisecond},r}();var pb=function(r){pi(e,r);function e(t,n,s,a,o,l,c){var f=r.call(this,a,o,l,c)||this;return f.year=t,f.month=n,f.day=s,f}return e.fromDate=function(t){return new this(t.getUTCFullYear(),t.getUTCMonth()+1,t.getUTCDate(),t.getUTCHours(),t.getUTCMinutes(),t.getUTCSeconds(),t.valueOf()%1e3)},e.prototype.getWeekday=function(){return Gn.getWeekday(new Date(this.getTime()))},e.prototype.getTime=function(){return new Date(Date.UTC(this.year,this.month-1,this.day,this.hour,this.minute,this.second,this.millisecond)).getTime()},e.prototype.getDay=function(){return this.day},e.prototype.getMonth=function(){return this.month},e.prototype.getYear=function(){return this.year},e.prototype.addYears=function(t){this.year+=t},e.prototype.addMonths=function(t){if(this.month+=t,this.month>12){var n=Math.floor(this.month/12),s=Yt(this.month,12);this.month=s,this.year+=n,this.month===0&&(this.month=12,--this.year)}},e.prototype.addWeekly=function(t,n){n>this.getWeekday()?this.day+=-(this.getWeekday()+1+(6-n))+t*7:this.day+=-(this.getWeekday()-n)+t*7,this.fixDay()},e.prototype.addDaily=function(t){this.day+=t,this.fixDay()},e.prototype.addHours=function(t,n,s){for(n&&(this.hour+=Math.floor((23-this.hour)/t)*t);;){this.hour+=t;var a=Eu(this.hour,24),o=a.div,l=a.mod;if(o&&(this.hour=l,this.addDaily(o)),or(s)||De(s,this.hour))break}},e.prototype.addMinutes=function(t,n,s,a){for(n&&(this.minute+=Math.floor((1439-(this.hour*60+this.minute))/t)*t);;){this.minute+=t;var o=Eu(this.minute,60),l=o.div,c=o.mod;if(l&&(this.minute=c,this.addHours(l,!1,s)),(or(s)||De(s,this.hour))&&(or(a)||De(a,this.minute)))break}},e.prototype.addSeconds=function(t,n,s,a,o){for(n&&(this.second+=Math.floor((86399-(this.hour*3600+this.minute*60+this.second))/t)*t);;){this.second+=t;var l=Eu(this.second,60),c=l.div,f=l.mod;if(c&&(this.second=f,this.addMinutes(c,!1,s,a)),(or(s)||De(s,this.hour))&&(or(a)||De(a,this.minute))&&(or(o)||De(o,this.second)))break}},e.prototype.fixDay=function(){if(!(this.day<=28)){var t=Gn.monthRange(this.year,this.month-1)[1];if(!(this.day<=t))for(;this.day>t;){if(this.day-=t,++this.month,this.month===13&&(this.month=1,++this.year,this.year>Gn.MAXYEAR))return;t=Gn.monthRange(this.year,this.month-1)[1]}}},e.prototype.add=function(t,n){var s=t.freq,a=t.interval,o=t.wkst,l=t.byhour,c=t.byminute,f=t.bysecond;switch(s){case _e.YEARLY:return this.addYears(a);case _e.MONTHLY:return this.addMonths(a);case _e.WEEKLY:return this.addWeekly(a,o);case _e.DAILY:return this.addDaily(a);case _e.HOURLY:return this.addHours(a,n,l);case _e.MINUTELY:return this.addMinutes(a,n,l,c);case _e.SECONDLY:return this.addSeconds(a,n,l,c,f)}},e}(yi);function Ch(r){for(var e=[],t=Object.keys(r),n=0,s=t;n<s.length;n++){var a=s[n];De(gb,a)||e.push(a),se.isDate(r[a])&&!se.isValidDate(r[a])&&e.push(a)}if(e.length)throw new Error("Invalid options: "+e.join(", "));return Bt({},r)}function mb(r){var e=Bt(Bt({},Ba),Ch(r));if(Ve(e.byeaster)&&(e.freq=X.YEARLY),!(Ve(e.freq)&&X.FREQUENCIES[e.freq]))throw new Error("Invalid frequency: ".concat(e.freq," ").concat(r.freq));if(e.dtstart||(e.dtstart=new Date(new Date().setMilliseconds(0))),Ve(e.wkst)?ar(e.wkst)||(e.wkst=e.wkst.weekday):e.wkst=X.MO.weekday,Ve(e.bysetpos)){ar(e.bysetpos)&&(e.bysetpos=[e.bysetpos]);for(var t=0;t<e.bysetpos.length;t++){var n=e.bysetpos[t];if(n===0||!(n>=-366&&n<=366))throw new Error("bysetpos must be between 1 and 366, or between -366 and -1")}}if(!(Boolean(e.byweekno)||it(e.byweekno)||it(e.byyearday)||Boolean(e.bymonthday)||it(e.bymonthday)||Ve(e.byweekday)||Ve(e.byeaster)))switch(e.freq){case X.YEARLY:e.bymonth||(e.bymonth=e.dtstart.getUTCMonth()+1),e.bymonthday=e.dtstart.getUTCDate();break;case X.MONTHLY:e.bymonthday=e.dtstart.getUTCDate();break;case X.WEEKLY:e.byweekday=[se.getWeekday(e.dtstart)];break}if(Ve(e.bymonth)&&!Ct(e.bymonth)&&(e.bymonth=[e.bymonth]),Ve(e.byyearday)&&!Ct(e.byyearday)&&ar(e.byyearday)&&(e.byyearday=[e.byyearday]),!Ve(e.bymonthday))e.bymonthday=[],e.bynmonthday=[];else if(Ct(e.bymonthday)){for(var s=[],a=[],t=0;t<e.bymonthday.length;t++){var n=e.bymonthday[t];n>0?s.push(n):n<0&&a.push(n)}e.bymonthday=s,e.bynmonthday=a}else e.bymonthday<0?(e.bynmonthday=[e.bymonthday],e.bymonthday=[]):(e.bynmonthday=[],e.bymonthday=[e.bymonthday]);if(Ve(e.byweekno)&&!Ct(e.byweekno)&&(e.byweekno=[e.byweekno]),!Ve(e.byweekday))e.bynweekday=null;else if(ar(e.byweekday))e.byweekday=[e.byweekday],e.bynweekday=null;else if(Ah(e.byweekday))e.byweekday=[ct.fromStr(e.byweekday).weekday],e.bynweekday=null;else if(e.byweekday instanceof ct)!e.byweekday.n||e.freq>X.MONTHLY?(e.byweekday=[e.byweekday.weekday],e.bynweekday=null):(e.bynweekday=[[e.byweekday.weekday,e.byweekday.n]],e.byweekday=null);else{for(var o=[],l=[],t=0;t<e.byweekday.length;t++){var c=e.byweekday[t];if(ar(c)){o.push(c);continue}else if(Ah(c)){o.push(ct.fromStr(c).weekday);continue}!c.n||e.freq>X.MONTHLY?o.push(c.weekday):l.push([c.weekday,c.n])}e.byweekday=it(o)?o:null,e.bynweekday=it(l)?l:null}return Ve(e.byhour)?ar(e.byhour)&&(e.byhour=[e.byhour]):e.byhour=e.freq<X.HOURLY?[e.dtstart.getUTCHours()]:null,Ve(e.byminute)?ar(e.byminute)&&(e.byminute=[e.byminute]):e.byminute=e.freq<X.MINUTELY?[e.dtstart.getUTCMinutes()]:null,Ve(e.bysecond)?ar(e.bysecond)&&(e.bysecond=[e.bysecond]):e.bysecond=e.freq<X.SECONDLY?[e.dtstart.getUTCSeconds()]:null,{parsedOptions:e}}function yb(r){var e=r.dtstart.getTime()%1e3;if(!Ha(r.freq))return[];var t=[];return r.byhour.forEach(function(n){r.byminute.forEach(function(s){r.bysecond.forEach(function(a){t.push(new yi(n,s,a,e))})})}),t}function Va(r){var e=r.split(`
`).map(pI).filter(function(t){return t!==null});return Bt(Bt({},e[0]),e[1])}function za(r){var e={},t=/DTSTART(?:;TZID=([^:=]+?))?(?::|=)([^;\s]+)/i.exec(r);if(!t)return e;var n=t[1],s=t[2];return n&&(e.tzid=n),e.dtstart=se.untilStringToDate(s),e}function pI(r){if(r=r.replace(/^\s+|\s+$/,""),!r.length)return null;var e=/^([A-Z]+?)[:;]/.exec(r.toUpperCase());if(!e)return _b(r);var t=e[1];switch(t.toUpperCase()){case"RRULE":case"EXRULE":return _b(r);case"DTSTART":return za(r);default:throw new Error("Unsupported RFC prop ".concat(t," in ").concat(r))}}function _b(r){var e=r.replace(/^RRULE:/i,""),t=za(e),n=r.replace(/^(?:RRULE|EXRULE):/i,"").split(";");return n.forEach(function(s){var a=s.split("="),o=a[0],l=a[1];switch(o.toUpperCase()){case"FREQ":t.freq=_e[l.toUpperCase()];break;case"WKST":t.wkst=Er[l.toUpperCase()];break;case"COUNT":case"INTERVAL":case"BYSETPOS":case"BYMONTH":case"BYMONTHDAY":case"BYYEARDAY":case"BYWEEKNO":case"BYHOUR":case"BYMINUTE":case"BYSECOND":var c=mI(l),f=o.toLowerCase();t[f]=c;break;case"BYWEEKDAY":case"BYDAY":t.byweekday=yI(l);break;case"DTSTART":case"TZID":var p=za(r);t.tzid=p.tzid,t.dtstart=p.dtstart;break;case"UNTIL":t.until=se.untilStringToDate(l);break;case"BYEASTER":t.byeaster=Number(l);break;default:throw new Error("Unknown RRULE property '"+o+"'")}}),t}function mI(r){if(r.indexOf(",")!==-1){var e=r.split(",");return e.map(Tb)}return Tb(r)}function Tb(r){return/^[+-]?\d+$/.test(r)?Number(r):r}function yI(r){var e=r.split(",");return e.map(function(t){if(t.length===2)return Er[t];var n=t.match(/^([+-]?\d{1,2})([A-Z]{2})$/);if(!n||n.length<3)throw new SyntaxError("Invalid weekday string: ".concat(t));var s=Number(n[1]),a=n[2],o=Er[a].weekday;return new ct(o,s)})}var ks=function(){function r(e,t){if(isNaN(e.getTime()))throw new RangeError("Invalid date passed to DateWithZone");this.date=e,this.tzid=t}return Object.defineProperty(r.prototype,"isUTC",{get:function(){return!this.tzid||this.tzid.toUpperCase()==="UTC"},enumerable:!1,configurable:!0}),r.prototype.toString=function(){var e=se.timeToUntilString(this.date.getTime(),this.isUTC);return this.isUTC?":".concat(e):";TZID=".concat(this.tzid,":").concat(e)},r.prototype.getTime=function(){return this.date.getTime()},r.prototype.rezonedDate=function(){var e;if(this.isUTC)return this.date;var t=Intl.DateTimeFormat().resolvedOptions().timeZone,n=new Date(this.date.toLocaleString(void 0,{timeZone:t})),s=new Date(this.date.toLocaleString(void 0,{timeZone:(e=this.tzid)!==null&&e!==void 0?e:"UTC"})),a=s.getTime()-n.getTime();return new Date(this.date.getTime()-a)},r}();function Ka(r){for(var e=[],t="",n=Object.keys(r),s=Object.keys(Ba),a=0;a<n.length;a++)if(n[a]!=="tzid"&&!!De(s,n[a])){var o=n[a].toUpperCase(),l=r[n[a]],c="";if(!(!Ve(l)||Ct(l)&&!l.length)){switch(o){case"FREQ":c=X.FREQUENCIES[r.freq];break;case"WKST":ar(l)?c=new ct(l).toString():c=l.toString();break;case"BYWEEKDAY":o="BYDAY",c=UT(l).map(function(O){return O instanceof ct?O:Ct(O)?new ct(O[0],O[1]):new ct(O)}).toString();break;case"DTSTART":t=gI(l,r.tzid);break;case"UNTIL":c=se.timeToUntilString(l,!r.tzid);break;default:if(Ct(l)){for(var f=[],p=0;p<l.length;p++)f[p]=String(l[p]);c=f.toString()}else c=String(l)}c&&e.push([o,c])}}var _=e.map(function(O){var b=O[0],x=O[1];return"".concat(b,"=").concat(x.toString())}).join(";"),T="";return _!==""&&(T="RRULE:".concat(_)),[t,T].filter(function(O){return!!O}).join(`
`)}function gI(r,e){return r?"DTSTART"+new ks(new Date(r),e).toString():""}function _I(r,e){return Array.isArray(r)?!Array.isArray(e)||r.length!==e.length?!1:r.every(function(t,n){return t.getTime()===e[n].getTime()}):r instanceof Date?e instanceof Date&&r.getTime()===e.getTime():r===e}var bb=function(){function r(){this.all=!1,this.before=[],this.after=[],this.between=[]}return r.prototype._cacheAdd=function(e,t,n){t&&(t=t instanceof Date?se.clone(t):se.cloneDates(t)),e==="all"?this.all=t:(n._value=t,this[e].push(n))},r.prototype._cacheGet=function(e,t){var n=!1,s=t?Object.keys(t):[],a=function(p){for(var _=0;_<s.length;_++){var T=s[_];if(!_I(t[T],p[T]))return!0}return!1},o=this[e];if(e==="all")n=this.all;else if(Ct(o))for(var l=0;l<o.length;l++){var c=o[l];if(!(s.length&&a(c))){n=c._value;break}}if(!n&&this.all){for(var f=new yn(e,t),l=0;l<this.all.length&&f.accept(this.all[l]);l++);n=f.getValue(),this._cacheAdd(e,n,t)}return Ct(n)?se.cloneDates(n):n instanceof Date?se.clone(n):n},r}();var vb=U(U(U(U(U(U(U(U(U(U(U(U(U([],we(1,31),!0),we(2,28),!0),we(3,31),!0),we(4,30),!0),we(5,31),!0),we(6,30),!0),we(7,31),!0),we(8,31),!0),we(9,30),!0),we(10,31),!0),we(11,30),!0),we(12,31),!0),we(1,7),!0),wb=U(U(U(U(U(U(U(U(U(U(U(U(U([],we(1,31),!0),we(2,29),!0),we(3,31),!0),we(4,30),!0),we(5,31),!0),we(6,30),!0),we(7,31),!0),we(8,31),!0),we(9,30),!0),we(10,31),!0),we(11,30),!0),we(12,31),!0),we(1,7),!0),TI=kr(1,29),bI=kr(1,30),$n=kr(1,31),Ut=kr(1,32),kb=U(U(U(U(U(U(U(U(U(U(U(U(U([],Ut,!0),bI,!0),Ut,!0),$n,!0),Ut,!0),$n,!0),Ut,!0),Ut,!0),$n,!0),Ut,!0),$n,!0),Ut,!0),Ut.slice(0,7),!0),Eb=U(U(U(U(U(U(U(U(U(U(U(U(U([],Ut,!0),TI,!0),Ut,!0),$n,!0),Ut,!0),$n,!0),Ut,!0),Ut,!0),$n,!0),Ut,!0),$n,!0),Ut,!0),Ut.slice(0,7),!0),vI=kr(-28,0),wI=kr(-29,0),Hn=kr(-30,0),Wt=kr(-31,0),Db=U(U(U(U(U(U(U(U(U(U(U(U(U([],Wt,!0),wI,!0),Wt,!0),Hn,!0),Wt,!0),Hn,!0),Wt,!0),Wt,!0),Hn,!0),Wt,!0),Hn,!0),Wt,!0),Wt.slice(0,7),!0),Sb=U(U(U(U(U(U(U(U(U(U(U(U(U([],Wt,!0),vI,!0),Wt,!0),Hn,!0),Wt,!0),Hn,!0),Wt,!0),Wt,!0),Hn,!0),Wt,!0),Hn,!0),Wt,!0),Wt.slice(0,7),!0),Ob=[0,31,60,91,121,152,182,213,244,274,305,335,366],Mb=[0,31,59,90,120,151,181,212,243,273,304,334,365],Ih=function(){for(var r=[],e=0;e<55;e++)r=r.concat(kr(7));return r}();function Rb(r,e){var t=new Date(Date.UTC(r,0,1)),n=se.isLeapYear(r)?366:365,s=se.isLeapYear(r+1)?366:365,a=se.toOrdinal(t),o=se.getWeekday(t),l=Bt(Bt({yearlen:n,nextyearlen:s,yearordinal:a,yearweekday:o},kI(r)),{wnomask:null});if(or(e.byweekno))return l;l.wnomask=we(0,n+7);var c,f,p=c=Yt(7-o+e.wkst,7);p>=4?(p=0,f=l.yearlen+Yt(o-e.wkst,7)):f=n-p;for(var _=Math.floor(f/7),T=Yt(f,7),O=Math.floor(_+T/4),b=0;b<e.byweekno.length;b++){var x=e.byweekno[b];if(x<0&&(x+=O+1),x>0&&x<=O){var I=void 0;x>1?(I=p+(x-1)*7,p!==c&&(I-=7-c)):I=p;for(var G=0;G<7&&(l.wnomask[I]=1,I++,l.wdaymask[I]!==e.wkst);G++);}}if(De(e.byweekno,1)){var I=p+O*7;if(p!==c&&(I-=7-c),I<n)for(var b=0;b<7&&(l.wnomask[I]=1,I+=1,l.wdaymask[I]!==e.wkst);b++);}if(p){var H=void 0;if(De(e.byweekno,-1))H=-1;else{var W=se.getWeekday(new Date(Date.UTC(r-1,0,1))),ke=Yt(7-W.valueOf()+e.wkst,7),Te=se.isLeapYear(r-1)?366:365,be=void 0;ke>=4?(ke=0,be=Te+Yt(W-e.wkst,7)):be=n-p,H=Math.floor(52+Yt(be,7)/4)}if(De(e.byweekno,H))for(var I=0;I<p;I++)l.wnomask[I]=1}return l}function kI(r){var e=se.isLeapYear(r)?366:365,t=new Date(Date.UTC(r,0,1)),n=se.getWeekday(t);return e===365?{mmask:vb,mdaymask:Eb,nmdaymask:Sb,wdaymask:Ih.slice(n),mrange:Mb}:{mmask:wb,mdaymask:kb,nmdaymask:Db,wdaymask:Ih.slice(n),mrange:Ob}}function xb(r,e,t,n,s,a){var o={lastyear:r,lastmonth:e,nwdaymask:[]},l=[];if(a.freq===X.YEARLY)if(or(a.bymonth))l=[[0,t]];else for(var c=0;c<a.bymonth.length;c++)e=a.bymonth[c],l.push(n.slice(e-1,e+1));else a.freq===X.MONTHLY&&(l=[n.slice(e-1,e+1)]);if(or(l))return o;o.nwdaymask=we(0,t);for(var c=0;c<l.length;c++)for(var f=l[c],p=f[0],_=f[1]-1,T=0;T<a.bynweekday.length;T++){var O=void 0,b=a.bynweekday[T],x=b[0],I=b[1];I<0?(O=_+(I+1)*7,O-=Yt(s[O]-x,7)):(O=p+(I-1)*7,O+=Yt(7-s[O]+x,7)),p<=O&&O<=_&&(o.nwdaymask[O]=1)}return o}function Ab(r,e){e===void 0&&(e=0);var t=r%19,n=Math.floor(r/100),s=r%100,a=Math.floor(n/4),o=n%4,l=Math.floor((n+8)/25),c=Math.floor((n-l+1)/3),f=Math.floor(19*t+n-a-c+15)%30,p=Math.floor(s/4),_=s%4,T=Math.floor(32+2*o+2*p-f-_)%7,O=Math.floor((t+11*f+22*T)/451),b=Math.floor((f+T-7*O+114)/31),x=(f+T-7*O+114)%31+1,I=Date.UTC(r,b-1,x+e),G=Date.UTC(r,0,1);return[Math.ceil((I-G)/(1e3*60*60*24))]}var EI=function(){function r(e){this.options=e}return r.prototype.rebuild=function(e,t){var n=this.options;if(e!==this.lastyear&&(this.yearinfo=Rb(e,n)),it(n.bynweekday)&&(t!==this.lastmonth||e!==this.lastyear)){var s=this.yearinfo,a=s.yearlen,o=s.mrange,l=s.wdaymask;this.monthinfo=xb(e,t,a,o,l,n)}Ve(n.byeaster)&&(this.eastermask=Ab(e,n.byeaster))},Object.defineProperty(r.prototype,"lastyear",{get:function(){return this.monthinfo?this.monthinfo.lastyear:null},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"lastmonth",{get:function(){return this.monthinfo?this.monthinfo.lastmonth:null},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"yearlen",{get:function(){return this.yearinfo.yearlen},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"yearordinal",{get:function(){return this.yearinfo.yearordinal},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"mrange",{get:function(){return this.yearinfo.mrange},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"wdaymask",{get:function(){return this.yearinfo.wdaymask},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"mmask",{get:function(){return this.yearinfo.mmask},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"wnomask",{get:function(){return this.yearinfo.wnomask},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"nwdaymask",{get:function(){return this.monthinfo?this.monthinfo.nwdaymask:[]},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"nextyearlen",{get:function(){return this.yearinfo.nextyearlen},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"mdaymask",{get:function(){return this.yearinfo.mdaymask},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"nmdaymask",{get:function(){return this.yearinfo.nmdaymask},enumerable:!1,configurable:!0}),r.prototype.ydayset=function(){return[kr(this.yearlen),0,this.yearlen]},r.prototype.mdayset=function(e,t){for(var n=this.mrange[t-1],s=this.mrange[t],a=we(null,this.yearlen),o=n;o<s;o++)a[o]=o;return[a,n,s]},r.prototype.wdayset=function(e,t,n){for(var s=we(null,this.yearlen+7),a=se.toOrdinal(new Date(Date.UTC(e,t-1,n)))-this.yearordinal,o=a,l=0;l<7&&(s[a]=a,++a,this.wdaymask[a]!==this.options.wkst);l++);return[s,o,a]},r.prototype.ddayset=function(e,t,n){var s=we(null,this.yearlen),a=se.toOrdinal(new Date(Date.UTC(e,t-1,n)))-this.yearordinal;return s[a]=a,[s,a,a+1]},r.prototype.htimeset=function(e,t,n,s){var a=this,o=[];return this.options.byminute.forEach(function(l){o=o.concat(a.mtimeset(e,l,n,s))}),se.sort(o),o},r.prototype.mtimeset=function(e,t,n,s){var a=this.options.bysecond.map(function(o){return new yi(e,t,o,s)});return se.sort(a),a},r.prototype.stimeset=function(e,t,n,s){return[new yi(e,t,n,s)]},r.prototype.getdayset=function(e){switch(e){case _e.YEARLY:return this.ydayset.bind(this);case _e.MONTHLY:return this.mdayset.bind(this);case _e.WEEKLY:return this.wdayset.bind(this);case _e.DAILY:return this.ddayset.bind(this);default:return this.ddayset.bind(this)}},r.prototype.gettimeset=function(e){switch(e){case _e.HOURLY:return this.htimeset.bind(this);case _e.MINUTELY:return this.mtimeset.bind(this);case _e.SECONDLY:return this.stimeset.bind(this)}},r}(),Pb=EI;function Nb(r,e,t,n,s,a){for(var o=[],l=0;l<r.length;l++){var c=void 0,f=void 0,p=r[l];p<0?(c=Math.floor(p/e.length),f=Yt(p,e.length)):(c=Math.floor((p-1)/e.length),f=Yt(p-1,e.length));for(var _=[],T=t;T<n;T++){var O=a[T];!Ve(O)||_.push(O)}var b=void 0;c<0?b=_.slice(c)[0]:b=_[c];var x=e[f],I=se.fromOrdinal(s.yearordinal+b),G=se.combine(I,x);De(o,G)||o.push(G)}return se.sort(o),o}function Mu(r,e){var t=e.dtstart,n=e.freq,s=e.interval,a=e.until,o=e.bysetpos,l=e.count;if(l===0||s===0)return gn(r);var c=pb.fromDate(t),f=new Pb(e);f.rebuild(c.year,c.month);for(var p=OI(f,c,e);;){var _=f.getdayset(n)(c.year,c.month,c.day),T=_[0],O=_[1],b=_[2],x=SI(T,O,b,f,e);if(it(o))for(var I=Nb(o,p,O,b,f,T),G=0;G<I.length;G++){var H=I[G];if(a&&H>a)return gn(r);if(H>=t){var W=Cb(H,e);if(!r.accept(W)||l&&(--l,!l))return gn(r)}}else for(var G=O;G<b;G++){var ke=T[G];if(!!Ve(ke))for(var Te=se.fromOrdinal(f.yearordinal+ke),be=0;be<p.length;be++){var ee=p[be],H=se.combine(Te,ee);if(a&&H>a)return gn(r);if(H>=t){var W=Cb(H,e);if(!r.accept(W)||l&&(--l,!l))return gn(r)}}}if(e.interval===0||(c.add(e,x),c.year>se.MAXYEAR))return gn(r);Ha(n)||(p=f.gettimeset(n)(c.hour,c.minute,c.second,0)),f.rebuild(c.year,c.month)}}function DI(r,e,t){var n=t.bymonth,s=t.byweekno,a=t.byweekday,o=t.byeaster,l=t.bymonthday,c=t.bynmonthday,f=t.byyearday;return it(n)&&!De(n,r.mmask[e])||it(s)&&!r.wnomask[e]||it(a)&&!De(a,r.wdaymask[e])||it(r.nwdaymask)&&!r.nwdaymask[e]||o!==null&&!De(r.eastermask,e)||(it(l)||it(c))&&!De(l,r.mdaymask[e])&&!De(c,r.nmdaymask[e])||it(f)&&(e<r.yearlen&&!De(f,e+1)&&!De(f,-r.yearlen+e)||e>=r.yearlen&&!De(f,e+1-r.yearlen)&&!De(f,-r.nextyearlen+e-r.yearlen))}function Cb(r,e){return new ks(r,e.tzid).rezonedDate()}function gn(r){return r.getValue()}function SI(r,e,t,n,s){for(var a=!1,o=e;o<t;o++){var l=r[o];a=DI(n,l,s),a&&(r[l]=null)}return a}function OI(r,e,t){var n=t.freq,s=t.byhour,a=t.byminute,o=t.bysecond;return Ha(n)?yb(t):n>=X.HOURLY&&it(s)&&!De(s,e.hour)||n>=X.MINUTELY&&it(a)&&!De(a,e.minute)||n>=X.SECONDLY&&it(o)&&!De(o,e.second)?[]:r.gettimeset(n)(e.hour,e.minute,e.second,e.millisecond)}var Er={MO:new ct(0),TU:new ct(1),WE:new ct(2),TH:new ct(3),FR:new ct(4),SA:new ct(5),SU:new ct(6)},Ba={freq:_e.YEARLY,dtstart:null,interval:1,wkst:Er.MO,count:null,until:null,tzid:null,bysetpos:null,bymonth:null,bymonthday:null,bynmonthday:null,byyearday:null,byweekno:null,byweekday:null,bynweekday:null,byhour:null,byminute:null,bysecond:null,byeaster:null},gb=Object.keys(Ba),X=function(){function r(e,t){e===void 0&&(e={}),t===void 0&&(t=!1),this._cache=t?null:new bb,this.origOptions=Ch(e);var n=mb(e).parsedOptions;this.options=n}return r.parseText=function(e,t){return $a(e,t)},r.fromText=function(e,t){return db(e,t)},r.fromString=function(e){return new r(r.parseString(e)||void 0)},r.prototype._iter=function(e){return Mu(e,this.options)},r.prototype._cacheGet=function(e,t){return this._cache?this._cache._cacheGet(e,t):!1},r.prototype._cacheAdd=function(e,t,n){if(!!this._cache)return this._cache._cacheAdd(e,t,n)},r.prototype.all=function(e){if(e)return this._iter(new Nh("all",{},e));var t=this._cacheGet("all");return t===!1&&(t=this._iter(new yn("all",{})),this._cacheAdd("all",t)),t},r.prototype.between=function(e,t,n,s){if(n===void 0&&(n=!1),!se.isValidDate(e)||!se.isValidDate(t))throw new Error("Invalid date passed in to RRule.between");var a={before:t,after:e,inc:n};if(s)return this._iter(new Nh("between",a,s));var o=this._cacheGet("between",a);return o===!1&&(o=this._iter(new yn("between",a)),this._cacheAdd("between",o,a)),o},r.prototype.before=function(e,t){if(t===void 0&&(t=!1),!se.isValidDate(e))throw new Error("Invalid date passed in to RRule.before");var n={dt:e,inc:t},s=this._cacheGet("before",n);return s===!1&&(s=this._iter(new yn("before",n)),this._cacheAdd("before",s,n)),s},r.prototype.after=function(e,t){if(t===void 0&&(t=!1),!se.isValidDate(e))throw new Error("Invalid date passed in to RRule.after");var n={dt:e,inc:t},s=this._cacheGet("after",n);return s===!1&&(s=this._iter(new yn("after",n)),this._cacheAdd("after",s,n)),s},r.prototype.count=function(){return this.all().length},r.prototype.toString=function(){return Ka(this.origOptions)},r.prototype.toText=function(e,t,n){return fb(this,e,t,n)},r.prototype.isFullyConvertibleToText=function(){return hb(this)},r.prototype.clone=function(){return new r(this.origOptions)},r.FREQUENCIES=["YEARLY","MONTHLY","WEEKLY","DAILY","HOURLY","MINUTELY","SECONDLY"],r.YEARLY=_e.YEARLY,r.MONTHLY=_e.MONTHLY,r.WEEKLY=_e.WEEKLY,r.DAILY=_e.DAILY,r.HOURLY=_e.HOURLY,r.MINUTELY=_e.MINUTELY,r.SECONDLY=_e.SECONDLY,r.MO=Er.MO,r.TU=Er.TU,r.WE=Er.WE,r.TH=Er.TH,r.FR=Er.FR,r.SA=Er.SA,r.SU=Er.SU,r.parseString=Va,r.optionsToString=Ka,r}();function Ib(r,e,t,n,s,a){var o={},l=r.accept;function c(T,O){t.forEach(function(b){b.between(T,O,!0).forEach(function(x){o[Number(x)]=!0})})}s.forEach(function(T){var O=new ks(T,a).rezonedDate();o[Number(O)]=!0}),r.accept=function(T){var O=Number(T);return isNaN(O)?l.call(this,T):!o[O]&&(c(new Date(O-1),new Date(O+1)),!o[O])?(o[O]=!0,l.call(this,T)):!0},r.method==="between"&&(c(r.args.after,r.args.before),r.accept=function(T){var O=Number(T);return o[O]?!0:(o[O]=!0,l.call(this,T))});for(var f=0;f<n.length;f++){var p=new ks(n[f],a).rezonedDate();if(!r.accept(new Date(p.getTime())))break}e.forEach(function(T){Mu(r,T.options)});var _=r._result;switch(se.sort(_),r.method){case"all":case"between":return _;case"before":return _.length&&_[_.length-1]||null;case"after":default:return _.length&&_[0]||null}}var Fb={dtstart:null,cache:!1,unfold:!1,forceset:!1,compatible:!1,tzid:null};function MI(r,e){var t=[],n=[],s=[],a=[],o=za(r),l=o.dtstart,c=o.tzid,f=NI(r,e.unfold);return f.forEach(function(p){var _;if(!!p){var T=PI(p),O=T.name,b=T.parms,x=T.value;switch(O.toUpperCase()){case"RRULE":if(b.length)throw new Error("unsupported RRULE parm: ".concat(b.join(",")));t.push(Va(p));break;case"RDATE":var I=(_=/RDATE(?:;TZID=([^:=]+))?/i.exec(p))!==null&&_!==void 0?_:[],G=I[1];G&&!c&&(c=G),n=n.concat(Lb(x,b));break;case"EXRULE":if(b.length)throw new Error("unsupported EXRULE parm: ".concat(b.join(",")));s.push(Va(x));break;case"EXDATE":a=a.concat(Lb(x,b));break;case"DTSTART":break;default:throw new Error("unsupported property: "+O)}}}),{dtstart:l,tzid:c,rrulevals:t,rdatevals:n,exrulevals:s,exdatevals:a}}function RI(r,e){var t=MI(r,e),n=t.rrulevals,s=t.rdatevals,a=t.exrulevals,o=t.exdatevals,l=t.dtstart,c=t.tzid,f=e.cache===!1;if(e.compatible&&(e.forceset=!0,e.unfold=!0),e.forceset||n.length>1||s.length||a.length||o.length){var p=new Lh(f);return p.dtstart(l),p.tzid(c||void 0),n.forEach(function(T){p.rrule(new X(Fh(T,l,c),f))}),s.forEach(function(T){p.rdate(T)}),a.forEach(function(T){p.exrule(new X(Fh(T,l,c),f))}),o.forEach(function(T){p.exdate(T)}),e.compatible&&e.dtstart&&p.rdate(l),p}var _=n[0]||{};return new X(Fh(_,_.dtstart||e.dtstart||l,_.tzid||e.tzid||c),f)}function Ru(r,e){return e===void 0&&(e={}),RI(r,xI(e))}function Fh(r,e,t){return Bt(Bt({},r),{dtstart:e,tzid:t})}function xI(r){var e=[],t=Object.keys(r),n=Object.keys(Fb);if(t.forEach(function(s){De(n,s)||e.push(s)}),e.length)throw new Error("Invalid options: "+e.join(", "));return Bt(Bt({},Fb),r)}function AI(r){if(r.indexOf(":")===-1)return{name:"RRULE",value:r};var e=WT(r,":",1),t=e[0],n=e[1];return{name:t,value:n}}function PI(r){var e=AI(r),t=e.name,n=e.value,s=t.split(";");if(!s)throw new Error("empty property name");return{name:s[0].toUpperCase(),parms:s.slice(1),value:n}}function NI(r,e){if(e===void 0&&(e=!1),r=r&&r.trim(),!r)throw new Error("Invalid empty string");if(!e)return r.split(/\s/);for(var t=r.split(`
`),n=0;n<t.length;){var s=t[n]=t[n].replace(/\s+$/g,"");s?n>0&&s[0]===" "?(t[n-1]+=s.slice(1),t.splice(n,1)):n+=1:t.splice(n,1)}return t}function CI(r){r.forEach(function(e){if(!/(VALUE=DATE(-TIME)?)|(TZID=)/.test(e))throw new Error("unsupported RDATE/EXDATE parm: "+e)})}function Lb(r,e){return CI(e),r.split(",").map(function(t){return se.untilStringToDate(t)})}function Yb(r){var e=this;return function(t){if(t!==void 0&&(e["_".concat(r)]=t),e["_".concat(r)]!==void 0)return e["_".concat(r)];for(var n=0;n<e._rrule.length;n++){var s=e._rrule[n].origOptions[r];if(s)return s}}}var Lh=function(r){pi(e,r);function e(t){t===void 0&&(t=!1);var n=r.call(this,{},t)||this;return n.dtstart=Yb.apply(n,["dtstart"]),n.tzid=Yb.apply(n,["tzid"]),n._rrule=[],n._rdate=[],n._exrule=[],n._exdate=[],n}return e.prototype._iter=function(t){return Ib(t,this._rrule,this._exrule,this._rdate,this._exdate,this.tzid())},e.prototype.rrule=function(t){Ub(t,this._rrule)},e.prototype.exrule=function(t){Ub(t,this._exrule)},e.prototype.rdate=function(t){Wb(t,this._rdate)},e.prototype.exdate=function(t){Wb(t,this._exdate)},e.prototype.rrules=function(){return this._rrule.map(function(t){return Ru(t.toString())})},e.prototype.exrules=function(){return this._exrule.map(function(t){return Ru(t.toString())})},e.prototype.rdates=function(){return this._rdate.map(function(t){return new Date(t.getTime())})},e.prototype.exdates=function(){return this._exdate.map(function(t){return new Date(t.getTime())})},e.prototype.valueOf=function(){var t=[];return!this._rrule.length&&this._dtstart&&(t=t.concat(Ka({dtstart:this._dtstart}))),this._rrule.forEach(function(n){t=t.concat(n.toString().split(`
`))}),this._exrule.forEach(function(n){t=t.concat(n.toString().split(`
`).map(function(s){return s.replace(/^RRULE:/,"EXRULE:")}).filter(function(s){return!/^DTSTART/.test(s)}))}),this._rdate.length&&t.push(qb("RDATE",this._rdate,this.tzid())),this._exdate.length&&t.push(qb("EXDATE",this._exdate,this.tzid())),t},e.prototype.toString=function(){return this.valueOf().join(`
`)},e.prototype.clone=function(){var t=new e(!!this._cache);return this._rrule.forEach(function(n){return t.rrule(n.clone())}),this._exrule.forEach(function(n){return t.exrule(n.clone())}),this._rdate.forEach(function(n){return t.rdate(new Date(n.getTime()))}),this._exdate.forEach(function(n){return t.exdate(new Date(n.getTime()))}),t},e}(X);function Ub(r,e){if(!(r instanceof X))throw new TypeError(String(r)+" is not RRule instance");De(e.map(String),String(r))||e.push(r)}function Wb(r,e){if(!(r instanceof Date))throw new TypeError(String(r)+" is not Date instance");De(e.map(Number),Number(r))||(e.push(r),se.sort(e))}function qb(r,e,t){var n=!t||t.toUpperCase()==="UTC",s=n?"".concat(r,":"):"".concat(r,";TZID=").concat(t,":"),a=e.map(function(o){return se.timeToUntilString(o.valueOf(),n)}).join(",");return"".concat(s).concat(a)}function Br(r,e){return r!==null&&e===null?-1:r===null&&e!==null?1:r!==null&&e!==null?r.isValid()&&!e.isValid()?-1:!r.isValid()&&e.isValid()||r.isAfter(e)?1:r.isBefore(e)?-1:0:0}var Mt=class{constructor({rrule:e,baseOnToday:t,referenceDate:n,startDate:s,scheduledDate:a,dueDate:o}){this.rrule=e,this.baseOnToday=t,this.referenceDate=n,this.startDate=s,this.scheduledDate=a,this.dueDate=o}static fromText({recurrenceRuleText:e,startDate:t,scheduledDate:n,dueDate:s}){try{let a=e.match(/^([a-zA-Z0-9, !]+?)( when done)?$/i);if(a==null)return null;let o=a[1].trim(),l=a[2]!==void 0,c=X.parseText(o);if(c!==null){let f=null;s?f=window.moment(s):n?f=window.moment(n):t&&(f=window.moment(t)),!l&&f!==null?c.dtstart=window.moment(f).startOf("day").utc(!0).toDate():c.dtstart=window.moment().startOf("day").utc(!0).toDate();let p=new X(c);return new Mt({rrule:p,baseOnToday:l,referenceDate:f,startDate:t,scheduledDate:n,dueDate:s})}}catch(a){}return null}toText(){let e=this.rrule.toText();return this.baseOnToday&&(e+=" when done"),e}next(){let e=this.nextReferenceDate();if(e!==null){let t=null,n=null,s=null;if(this.referenceDate){if(this.startDate){let a=window.moment.duration(this.startDate.diff(this.referenceDate));t=window.moment(e),t.add(Math.round(a.asDays()),"days")}if(this.scheduledDate){let a=window.moment.duration(this.scheduledDate.diff(this.referenceDate));n=window.moment(e),n.add(Math.round(a.asDays()),"days")}if(this.dueDate){let a=window.moment.duration(this.dueDate.diff(this.referenceDate));s=window.moment(e),s.add(Math.round(a.asDays()),"days")}}return{startDate:t,scheduledDate:n,dueDate:s}}return null}identicalTo(e){return this.baseOnToday!==e.baseOnToday||Br(this.startDate,e.startDate)!==0||Br(this.scheduledDate,e.scheduledDate)!==0||Br(this.dueDate,e.dueDate)!==0?!1:this.toText()===e.toText()}nextReferenceDate(){if(this.baseOnToday){let e=window.moment();return this.nextReferenceDateFromToday(e).toDate()}else return this.nextReferenceDateFromOriginalReferenceDate().toDate()}nextReferenceDateFromToday(e){let t=new X(tr(Pe({},this.rrule.origOptions),{dtstart:e.startOf("day").utc(!0).toDate()}));return this.nextAfter(e.endOf("day"),t)}nextReferenceDateFromOriginalReferenceDate(){var t;let e=window.moment((t=this.referenceDate)!=null?t:void 0).endOf("day");return this.nextAfter(e,this.rrule)}nextAfter(e,t){e.utc(!0);let n=window.moment(t.after(e.toDate())),s=this.toText(),a=s.match(/every( \d+)? month(s)?(.*)?/);a!==null&&(s.includes(" on ")||(n=Mt.nextAfterMonths(e,n,t,a[1])));let o=s.match(/every( \d+)? year(s)?(.*)?/);return o!==null&&(n=Mt.nextAfterYears(e,n,t,o[1])),Mt.addTimezone(n)}static nextAfterMonths(e,t,n,s){let a=1;for(s!==void 0&&(a=Number.parseInt(s.trim(),10));Mt.isSkippingTooManyMonths(e,t,a);)t=Mt.fromOneDayEarlier(e,n);return t}static isSkippingTooManyMonths(e,t,n){let s=t.month()-e.month();return s+=(t.year()-e.year())*12,s>n}static nextAfterYears(e,t,n,s){let a=1;for(s!==void 0&&(a=Number.parseInt(s.trim(),10));Mt.isSkippingTooManyYears(e,t,a);)t=Mt.fromOneDayEarlier(e,n);return t}static isSkippingTooManyYears(e,t,n){return t.year()-e.year()>n}static fromOneDayEarlier(e,t){e.subtract(1,"days").endOf("day");let n=t.origOptions;return n.dtstart=e.startOf("day").toDate(),t=new X(n),window.moment(t.after(e.toDate()))}static addTimezone(e){return window.moment.utc(e).local(!0).startOf("day")}};var Yh=5;function Uh(r,e){let t=[r.startDateSymbol,r.scheduledDateSymbol,r.dueDateSymbol].join("|");return(n,s,a)=>{let o=[];return o=o.concat(FI(n,s,a,t,e)),o=o.concat(LI(n,s,a,r.recurrenceSymbol)),o=o.concat(II(n,s,a,r)),o.length>0&&!o.some(l=>l.suggestionType==="match")&&o.unshift({suggestionType:"empty",displayText:"\u23CE",appendText:`
`}),o=o.slice(0,a.autoSuggestMaxItems),o}}function II(r,e,t,n){let s=c=>Object.values(n.prioritySymbols).some(f=>f.length>0&&c.includes(f)),a=[];if(r.includes(n.dueDateSymbol)||a.push({displayText:`${n.dueDateSymbol} due date`,appendText:`${n.dueDateSymbol} `}),r.includes(n.startDateSymbol)||a.push({displayText:`${n.startDateSymbol} start date`,appendText:`${n.startDateSymbol} `}),r.includes(n.scheduledDateSymbol)||a.push({displayText:`${n.scheduledDateSymbol} scheduled date`,appendText:`${n.scheduledDateSymbol} `}),s(r)||(a.push({displayText:`${n.prioritySymbols.High} high priority`,appendText:`${n.prioritySymbols.High} `}),a.push({displayText:`${n.prioritySymbols.Medium} medium priority`,appendText:`${n.prioritySymbols.Medium} `}),a.push({displayText:`${n.prioritySymbols.Low} low priority`,appendText:`${n.prioritySymbols.Low} `})),r.includes(n.recurrenceSymbol)||a.push({displayText:`${n.recurrenceSymbol} recurring (repeat)`,appendText:`${n.recurrenceSymbol} `}),!r.includes(n.createdDateSymbol)){let f=ir.parseDate("today",!0).format(ie.dateFormat);a.push({textToMatch:`${n.createdDateSymbol} created`,displayText:`${n.createdDateSymbol} created today (${f})`,appendText:`${n.createdDateSymbol} ${f} `})}let o=Wh(r,/([a-zA-Z'_-]*)/g,e),l=[];if(o&&o.length>0){let c=o[0];if(c.length>=Math.max(1,t.autoSuggestMinMatch)){let f=a.filter(p=>(p.textToMatch||p.displayText).toLowerCase().includes(c.toLowerCase()));for(let p of f)l.push({suggestionType:"match",displayText:p.displayText,appendText:p.appendText,insertAt:o.index,insertSkip:c.length})}}return l.length===0&&t.autoSuggestMinMatch===0?a:l}function FI(r,e,t,n,s){let a=["today","tomorrow","Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","next week","next month","next year"],o=[],l=new RegExp(`(${n})\\s*([0-9a-zA-Z ]*)`,"ug"),c=Wh(r,l,e);if(c&&c.length>=2){let f=c[1],p=c[2];if(p.length<t.autoSuggestMinMatch)return[];let _=p&&p.length>1?ir.parseDate(fi(p),!0):null;_&&_.isValid()&&o.push({displayText:`${_.format(ie.dateFormat)}`,appendText:`${f} ${_.format(ie.dateFormat)} `,insertAt:c.index,insertSkip:c[0].length});let T=1,O=a.filter(b=>p&&p.length>=T&&b.toLowerCase().includes(p.toLowerCase())).slice(0,s);O.length===0&&(O=a.slice(0,s));for(let b of O){let I=`${ir.parseDate(b,!0).format(ie.dateFormat)}`;o.push({suggestionType:"match",displayText:`${b} (${I})`,appendText:`${f} ${I} `,insertAt:c.index,insertSkip:c[0].length})}}return o}function LI(r,e,t,n){var c;let s=["every","every day","every week","every month","every month on the","every year","every week on Sunday","every week on Monday","every week on Tuesday","every week on Wednesday","every week on Thursday","every week on Friday","every week on Saturday"],a=[],o=new RegExp(`(${n})\\s*([0-9a-zA-Z ]*)`,"ug"),l=Wh(r,o,e);if(l&&l.length>=2){let f=l[1],p=l[2];if(p.length<t.autoSuggestMinMatch)return[];if(p.length>0){let b=(c=Mt.fromText({recurrenceRuleText:p,startDate:null,scheduledDate:null,dueDate:null}))==null?void 0:c.toText();if(b){let x=`${f} ${b} `;if(a.push({suggestionType:"match",displayText:`\u2705 ${b}`,appendText:x,insertAt:l.index,insertSkip:l[0].length}),l[0]==x)return[]}}let _=1,T=t.autoSuggestMaxItems/2,O=s.filter(b=>p&&p.length>=_&&b.toLowerCase().includes(p.toLowerCase())).slice(0,T);O.length===0&&p.trim().length===0&&(O=s.slice(0,T));for(let b of O)a.push({suggestionType:"match",displayText:`${b}`,appendText:`${f} ${b} `,insertAt:l.index,insertSkip:l[0].length})}return a}function Wh(r,e,t){let n=r.matchAll(e);for(let s of n)if((s==null?void 0:s.index)&&s.index<=t&&t<=s.index+s[0].length)return s}var Za=class{constructor(){this.hideTaskCount=!1;this.hideBacklinks=!1;this.hidePriority=!1;this.hideCreatedDate=!1;this.hideStartDate=!1;this.hideScheduledDate=!1;this.hideDoneDate=!1;this.hideDueDate=!1;this.hideRecurrenceRule=!1;this.hideEditButton=!1;this.hideUrgency=!0;this.shortMode=!1;this.explainQuery=!1}},Bn=class{constructor(e,t){this.defaultLayout=["description","priority","recurrenceRule","createdDate","startDate","scheduledDate","dueDate","doneDate","blockLink"];this.hiddenComponents=[];this.specificClasses=[];e?this.options=e:this.options=new Za,t?this.layoutComponents=t:this.layoutComponents=this.defaultLayout,this.layoutComponents=this.applyOptions(this.options)}applyOptions(e){let t=(a,o,l)=>o?(this.specificClasses.push(`tasks-layout-hide-${l}`),this.hiddenComponents.push(l),a.filter(c=>c!=l)):a,n=(a,o)=>{a&&this.specificClasses.push(`tasks-layout-hide-${o}`)},s=this.layoutComponents;return s=t(s,e.hidePriority,"priority"),s=t(s,e.hideRecurrenceRule,"recurrenceRule"),s=t(s,e.hideCreatedDate,"createdDate"),s=t(s,e.hideStartDate,"startDate"),s=t(s,e.hideScheduledDate,"scheduledDate"),s=t(s,e.hideDueDate,"dueDate"),s=t(s,e.hideDoneDate,"doneDate"),n(e.hideUrgency,"urgency"),n(e.hideBacklinks,"backlinks"),n(e.hideEditButton,"edit-button"),e.shortMode&&this.specificClasses.push("tasks-layout-short-mode"),s}};var qh={prioritySymbols:{High:"\u23EB",Medium:"\u{1F53C}",Low:"\u{1F53D}",None:""},startDateSymbol:"\u{1F6EB}",createdDateSymbol:"\u2795",scheduledDateSymbol:"\u23F3",dueDateSymbol:"\u{1F4C5}",doneDateSymbol:"\u2705",recurrenceSymbol:"\u{1F501}",TaskFormatRegularExpressions:{priorityRegex:/([⏫🔼🔽])$/u,startDateRegex:/🛫 *(\d{4}-\d{2}-\d{2})$/u,createdDateRegex:/➕ *(\d{4}-\d{2}-\d{2})$/u,scheduledDateRegex:/[⏳⌛] *(\d{4}-\d{2}-\d{2})$/u,dueDateRegex:/[📅📆🗓] *(\d{4}-\d{2}-\d{2})$/u,doneDateRegex:/✅ *(\d{4}-\d{2}-\d{2})$/u,recurrenceRegex:/🔁 ?([a-zA-Z0-9, !]+)$/iu}},Es=class{constructor(e){this.symbols=e}serialize(e){let t=new Bn,n="";for(let s of t.layoutComponents)n+=this.componentToString(e,t,s);return n}componentToString(e,t,n){var _;let{prioritySymbols:s,startDateSymbol:a,createdDateSymbol:o,scheduledDateSymbol:l,doneDateSymbol:c,recurrenceSymbol:f,dueDateSymbol:p}=this.symbols;switch(n){case"description":return e.description;case"priority":{let T="";return e.priority==="1"?T=" "+s.High:e.priority==="2"?T=" "+s.Medium:e.priority==="4"&&(T=" "+s.Low),T}case"startDate":return e.startDate?t.options.shortMode?" "+a:` ${a} ${e.startDate.format(ie.dateFormat)}`:"";case"createdDate":return e.createdDate?t.options.shortMode?" "+o:` ${o} ${e.createdDate.format(ie.dateFormat)}`:"";case"scheduledDate":return!e.scheduledDate||e.scheduledDateIsInferred?"":t.options.shortMode?" "+l:` ${l} ${e.scheduledDate.format(ie.dateFormat)}`;case"doneDate":return e.doneDate?t.options.shortMode?" "+c:` ${c} ${e.doneDate.format(ie.dateFormat)}`:"";case"dueDate":return e.dueDate?t.options.shortMode?" "+p:` ${p} ${e.dueDate.format(ie.dateFormat)}`:"";case"recurrenceRule":return e.recurrence?t.options.shortMode?" "+f:` ${f} ${e.recurrence.toText()}`:"";case"blockLink":return(_=e.blockLink)!=null?_:"";default:throw new Error(`Don't know how to render task component of type '${n}'`)}}parsePriority(e){let{prioritySymbols:t}=this.symbols;switch(e){case t.Low:return"4";case t.Medium:return"2";case t.High:return"1";default:return"3"}}deserialize(e){let{TaskFormatRegularExpressions:t}=this.symbols,n,s="3",a=null,o=null,l=null,c=null,f=null,p="",_=null,T="",O=20,b=0;do{n=!1;let x=e.match(t.priorityRegex);x!==null&&(s=this.parsePriority(x[1]),e=e.replace(t.priorityRegex,"").trim(),n=!0);let I=e.match(t.doneDateRegex);I!==null&&(c=window.moment(I[1],ie.dateFormat),e=e.replace(t.doneDateRegex,"").trim(),n=!0);let G=e.match(t.dueDateRegex);G!==null&&(l=window.moment(G[1],ie.dateFormat),e=e.replace(t.dueDateRegex,"").trim(),n=!0);let H=e.match(t.scheduledDateRegex);H!==null&&(o=window.moment(H[1],ie.dateFormat),e=e.replace(t.scheduledDateRegex,"").trim(),n=!0);let W=e.match(t.startDateRegex);W!==null&&(a=window.moment(W[1],ie.dateFormat),e=e.replace(t.startDateRegex,"").trim(),n=!0);let ke=e.match(t.createdDateRegex);ke!==null&&(f=window.moment(ke[1],ie.dateFormat),e=e.replace(t.createdDateRegex,"").trim(),n=!0);let Te=e.match(t.recurrenceRegex);Te!==null&&(p=Te[1].trim(),e=e.replace(t.recurrenceRegex,"").trim(),n=!0);let be=e.match(ie.hashTagsFromEnd);if(be!=null){e=e.replace(ie.hashTagsFromEnd,"").trim(),n=!0;let ee=be[0].trim();T=T.length>0?[ee,T].join(" "):ee}b++}while(n&&b<=O);return p.length>0&&(_=Mt.fromText({recurrenceRuleText:p,startDate:a,scheduledDate:o,dueDate:l})),T.length>0&&(e+=" "+T),{description:e,priority:s,startDate:a,createdDate:f,scheduledDate:o,dueDate:l,doneDate:c,recurrence:_,tags:$e.extractHashtags(e)}}};function Ds(r){let e=["(?:",/(?=[^\]]+\])\[/,"|",/(?=[^)]+\))\(/,")",/ */,r,/ */,/[)\]]/,/(?: *,)?/,/$/].map(t=>t instanceof RegExp?t.source:t).join("");return new RegExp(e,r.flags)}var jh={prioritySymbols:{High:"priority:: high",Medium:"priority:: medium",Low:"priority:: low",None:""},startDateSymbol:"start::",createdDateSymbol:"created::",scheduledDateSymbol:"scheduled::",dueDateSymbol:"due::",doneDateSymbol:"completion::",recurrenceSymbol:"repeat::",TaskFormatRegularExpressions:{priorityRegex:Ds(/priority:: *(high|medium|low)/),startDateRegex:Ds(/start:: *(\d{4}-\d{2}-\d{2})/),createdDateRegex:Ds(/created:: *(\d{4}-\d{2}-\d{2})/),scheduledDateRegex:Ds(/scheduled:: *(\d{4}-\d{2}-\d{2})/),dueDateRegex:Ds(/due:: *(\d{4}-\d{2}-\d{2})/),doneDateRegex:Ds(/completion:: *(\d{4}-\d{2}-\d{2})/),recurrenceRegex:Ds(/repeat:: *([a-zA-Z0-9, !]+)/)}},xu=class extends Es{constructor(){super(jh)}parsePriority(e){switch(e){case"high":return"1";case"medium":return"2";case"low":return"4";default:return"3"}}componentToString(e,t,n){let s=super.componentToString(e,t,n);return s!==""&&!["blockLink","description"].includes(n)?`  [${s.trim()}]`:s}};var Dr=(o=>(o.TODO="TODO",o.DONE="DONE",o.IN_PROGRESS="IN_PROGRESS",o.CANCELLED="CANCELLED",o.NON_TASK="NON_TASK",o.EMPTY="EMPTY",o))(Dr||{}),Rt=class{constructor(e,t,n,s,a="TODO"){this.symbol=e,this.name=t,this.nextStatusSymbol=n,this.availableAsCommand=s,this.type=a}};var Qt=class{get symbol(){return this.configuration.symbol}get name(){return this.configuration.name}get nextStatusSymbol(){return this.configuration.nextStatusSymbol}get availableAsCommand(){return this.configuration.availableAsCommand}get type(){return this.configuration.type}constructor(e){this.configuration=e}static makeDone(){return new Qt(new Rt("x","Done"," ",!0,"DONE"))}static makeEmpty(){return new Qt(new Rt("","EMPTY","",!0,"EMPTY"))}static makeTodo(){return new Qt(new Rt(" ","Todo","x",!0,"TODO"))}static makeCancelled(){return new Qt(new Rt("-","Cancelled"," ",!0,"CANCELLED"))}static makeInProgress(){return new Qt(new Rt("/","In Progress","x",!0,"IN_PROGRESS"))}static getTypeForUnknownSymbol(e){switch(e){case"x":case"X":return"DONE";case"/":return"IN_PROGRESS";case"-":return"CANCELLED";case"":return"EMPTY";case" ":default:return"TODO"}}static getTypeFromStatusTypeString(e){return Dr[e]||"TODO"}static createUnknownStatus(e){return new Qt(new Rt(e,"Unknown","x",!1,"TODO"))}static createFromImportedValue(e){let t=e[0],n=Qt.getTypeFromStatusTypeString(e[3]);return new Qt(new Rt(t,e[1],e[2],!1,n))}isCompleted(){return this.type==="DONE"}previewText(){let e="";return Qt.tasksPluginCanCreateCommandsForStatuses()&&this.availableAsCommand&&(e=" Available as a command."),`- [${this.symbol}] => [${this.nextStatusSymbol}], name: '${this.name}', type: '${this.configuration.type}'.${e}`}static tasksPluginCanCreateCommandsForStatuses(){return!1}},he=Qt;he.DONE=Qt.makeDone(),he.EMPTY=Qt.makeEmpty(),he.TODO=Qt.makeTodo();var Au=class{constructor(e=!1,t=!1){this.ignoreSortInstructions=e,this.showTaskHiddenData=t}};var gt=class{constructor(){this.coreStatuses=[he.makeTodo().configuration,he.makeDone().configuration],this.customStatuses=[he.makeInProgress().configuration,he.makeCancelled().configuration]}static addStatus(e,t){e.push(t)}static replaceStatus(e,t,n){let s=this.findStatusIndex(t,e);return s<=-1?!1:(e.splice(s,1,n),!0)}static findStatusIndex(e,t){let n=new he(e);return t.findIndex(s=>new he(s).previewText()==n.previewText())}static deleteStatus(e,t){let n=this.findStatusIndex(t,e);return n<=-1?!1:(e.splice(n,1),!0)}static deleteAllCustomStatuses(e){e.customStatuses.splice(0)}static resetAllCustomStatuses(e){gt.deleteAllCustomStatuses(e),new gt().customStatuses.forEach(n=>{gt.addStatus(e.customStatuses,n)})}static bulkAddStatusCollection(e,t){let n=[];return t.forEach(s=>{e.customStatuses.find(o=>o.symbol==s[0]&&o.name==s[1]&&o.nextStatusSymbol==s[2])?n.push(`The status ${s[1]} (${s[0]}) is already added.`):gt.addStatus(e.customStatuses,he.createFromImportedValue(s))}),n}static applyToStatusRegistry(e,t){t.clearStatuses(),e.coreStatuses.forEach(n=>{t.add(n)}),e.customStatuses.forEach(n=>{t.add(n)})}};var jb=[{index:9999,internalName:"INTERNAL_TESTING_ENABLED_BY_DEFAULT",displayName:"Test Item. Used to validate the Feature Framework.",description:"Description",enabledByDefault:!0,stable:!1}];var zr=class{constructor(e,t,n,s,a,o){this.internalName=e;this.index=t;this.description=n;this.displayName=s;this.enabledByDefault=a;this.stable=o}static get values(){let e=[];return jb.forEach(t=>{e=[...e,new zr(t.internalName,t.index,t.description,t.displayName,t.enabledByDefault,t.stable)]}),e}static get settingsFlags(){let e={};return zr.values.forEach(t=>{e[t.internalName]=t.enabledByDefault}),e}static fromString(e){for(let t of zr.values)if(e===t.internalName)return t;throw new RangeError(`Illegal argument passed to fromString(): ${e} does not correspond to any available Feature ${this.prototype.constructor.name}`)}};function Pu(r){return r.replace(/([.*+?^${}()|[\]/\\])/g,"\\$1")}var Sr=class{static get(){let{globalFilter:e}=ae();return e}static set(e){dt({globalFilter:e})}static reset(){dt({globalFilter:Sr.empty})}static isEmpty(){return Sr.get()===Sr.empty}static equals(e){return Sr.get()===e}static includedIn(e){let t=Sr.get();return e.includes(t)}static prependTo(e){return Sr.get()+" "+e}static removeAsWordFrom(e){if(Sr.isEmpty())return e;let t=RegExp("(^|\\s)"+Pu(Sr.get())+"($|\\s)","ug");return e.search(t)>-1&&(e=e.replace(t,"$1$2").replace("  "," ").trim()),e}static removeAsSubstringFrom(e){let t=Sr.get();return e.replace(t,"").trim()}static removeAsSubstringFromDependingOnSettings(e){let{removeGlobalFilter:t}=ae();return t?Sr.removeAsSubstringFrom(e):e}},Le=Sr;Le.empty="";var _n={tasksPluginEmoji:{displayName:"Tasks Emoji Format",taskSerializer:new Es(qh),buildSuggestions:Uh(qh,Yh)},dataview:{displayName:"Dataview",taskSerializer:new xu,buildSuggestions:Uh(jh,Yh)}},UI={globalQuery:"",globalFilter:Le.empty,removeGlobalFilter:!1,taskFormat:"tasksPluginEmoji",setCreatedDate:!1,setDoneDate:!0,autoSuggestInEditor:!0,autoSuggestMinMatch:0,autoSuggestMaxItems:6,provideAccessKeys:!0,useFilenameAsScheduledDate:!1,filenameAsDateFolders:[],recurrenceOnNextLine:!1,statusSettings:new gt,features:zr.settingsFlags,generalSettings:{},headingOpened:{},debugSettings:new Au},zn=Pe({},UI),ae=()=>{for(let r in zr.settingsFlags)zn.features[r]===void 0&&(zn.features[r]=zr.settingsFlags[r]);return zn.statusSettings.customStatuses.forEach((r,e,t)=>{var s,a;let n=he.getTypeFromStatusTypeString(r.type);t[e]=new Rt((s=r.symbol)!=null?s:" ",r.name,(a=r.nextStatusSymbol)!=null?a:"x",r.availableAsCommand,n)}),Pe({},zn)},dt=r=>(zn=Pe(Pe({},zn),r),ae());var Ss=(r,e)=>(zn.generalSettings[r]=e,ae()),$b=r=>{var e;return(e=zn.features[r])!=null?e:!1};function Xa(){return _n[ae().taskFormat]}function Gh(){return{source:ae().globalQuery}}var He=class{constructor(){this._registeredStatuses=[];this.addDefaultStatusTypes()}get registeredStatuses(){return this._registeredStatuses.filter(({symbol:e})=>e!==he.EMPTY.symbol)}static getInstance(){return He.instance||(He.instance=new He),He.instance}add(e){this.hasSymbol(e.symbol)||(e instanceof he?this._registeredStatuses.push(e):this._registeredStatuses.push(new he(e)))}bySymbol(e){return this.hasSymbol(e)?this.getSymbol(e):he.EMPTY}bySymbolOrCreate(e){return this.hasSymbol(e)?this.getSymbol(e):he.createUnknownStatus(e)}byName(e){return this._registeredStatuses.filter(({name:t})=>t===e).length>0?this._registeredStatuses.filter(({name:t})=>t===e)[0]:he.EMPTY}resetToDefaultStatuses(){this.clearStatuses(),this.addDefaultStatusTypes()}clearStatuses(){this._registeredStatuses=[]}getNextStatus(e){if(e.nextStatusSymbol!==""){let t=this.bySymbol(e.nextStatusSymbol);if(t!==null)return t}return he.EMPTY}getNextStatusOrCreate(e){let t=this.getNextStatus(e);return t.type!=="EMPTY"?t:he.createUnknownStatus(e.nextStatusSymbol)}findUnknownStatuses(e){let t=e.filter(a=>!this.hasSymbol(a.symbol)),n=new He,s=[];return t.forEach(a=>{if(n.hasSymbol(a.symbol))return;let o=He.copyStatusWithNewName(a,`Unknown (${a.symbol})`);s.push(o),n.add(o)}),s}static copyStatusWithNewName(e,t){let n=new Rt(e.symbol,t,e.nextStatusSymbol,e.availableAsCommand,e.type);return new he(n)}getSymbol(e){return this._registeredStatuses.filter(({symbol:t})=>t===e)[0]}hasSymbol(e){return this._registeredStatuses.find(t=>t.symbol===e)!==void 0}addDefaultStatusTypes(){[he.makeTodo(),he.makeInProgress(),he.makeDone(),he.makeCancelled()].forEach(t=>{this.add(t)})}};var bn=class{static calculate(e){let t=0;if(e.dueDate!==null){let n=Math.round(window.moment().diff(e.dueDate)/bn.milliSecondsPerDay),s;n>=7?s=1:n>=-14?s=(n+14)*.8/21+.2:s=.2,t+=s*bn.dueCoefficient}switch(e.scheduledDate!==null&&window.moment().isSameOrAfter(e.scheduledDate)&&(t+=1*bn.scheduledCoefficient),e.startDate!==null&&window.moment().isBefore(e.startDate)&&(t+=1*bn.startedCoefficient),e.priority){case"1":t+=1*bn.priorityCoefficient;break;case"2":t+=.65*bn.priorityCoefficient;break;case"3":t+=.325*bn.priorityCoefficient;break}return t}},Tn=bn;Tn.dueCoefficient=12,Tn.scheduledCoefficient=5,Tn.startedCoefficient=-3,Tn.priorityCoefficient=6,Tn.milliSecondsPerDay=1e3*60*60*24;var tv=require("obsidian");var to=require("obsidian");var Vb=In(vu()),WI=require("obsidian"),Kb=In(zb());var $h=class extends Kb.EventEmitter2{constructor(){super(...arguments);this.options={minLevels:{"":"info",tasks:"info"}};this.consoleLoggerRegistered=!1;this.arrAvg=t=>t.reduce((n,s)=>n+s,0)/t.length}configure(t){return this.options=Object.assign({},this.options,t),this}getLogger(t){let n="none",s="";for(let a in this.options.minLevels)t.startsWith(a)&&a.length>=s.length&&(n=this.options.minLevels[a],s=a);return new Hh(this,t,n)}onLogEntry(t){return this.on("log",t),this}registerConsoleLogger(){return this.consoleLoggerRegistered?this:(this.onLogEntry(t=>{let n=`[${(0,Vb.default)().format("YYYY-MM-DD-HH:mm:ss.SSS")}][${t.level}][${t.module}]`;switch(t.traceId&&(n+=`[${t.traceId}]`),n+=` ${t.message}`,t.objects===void 0&&(t.objects=""),t.level){case"trace":console.trace(n,t.objects);break;case"debug":console.debug(n,t.objects);break;case"info":console.info(n,t.objects);break;case"warn":console.warn(n,t.objects);break;case"error":console.error(n,t.objects);break;default:console.log(`{${t.level}} ${n}`,t.objects)}}),this.consoleLoggerRegistered=!0,this)}},Nu=new $h,Hh=class{constructor(e,t,n){this.levels={trace:1,debug:2,info:3,warn:4,error:5};this.logManager=e,this.module=t,this.minLevel=this.levelToInt(n)}levelToInt(e){return e.toLowerCase()in this.levels?this.levels[e.toLowerCase()]:99}log(e,t,n){if(this.levelToInt(e)<this.minLevel)return;let a={level:e,module:this.module,message:t,objects:n,traceId:void 0};this.logManager.emit("log",a)}trace(e,t){this.log("trace",e,t)}debug(e,t){this.log("debug",e,t)}info(e,t){this.log("info",e,t)}warn(e,t){this.log("warn",e,t)}error(e,t){this.log("error",e,t)}logWithId(e,t,n,s){if(this.levelToInt(e)<this.minLevel)return;let o={level:e,module:this.module,message:n,objects:s,traceId:t};this.logManager.emit("log",o)}traceWithId(e,t,n){this.logWithId("trace",e,t,n)}debugWithId(e,t,n){this.logWithId("debug",e,t,n)}infoWithId(e,t,n){this.logWithId("info",e,t,n)}warnWithId(e,t,n){this.logWithId("warn",e,t,n)}errorWithId(e,t,n){this.logWithId("error",e,t,n)}};var Ja,Bh,zh,qI=["md"],eo=Nu.getLogger("tasks"),Zb=({metadataCache:r,vault:e,workspace:t})=>{Ja=r,Bh=e,zh=t},Fu=t=>Q(void 0,[t],function*({originalTask:r,newTasks:e}){if(Bh===void 0||Ja===void 0||zh===void 0){Cu("Tasks: cannot use File before initializing it.");return}Array.isArray(e)||(e=[e]),eo.debug(`replaceTaskWithTasks entered. ${r.path}`),Xb({originalTask:r,newTasks:e,vault:Bh,metadataCache:Ja,workspace:zh,previousTries:0})});function Cu(r){console.error(r),new to.Notice(r,15e3)}function Qb(r){console.warn(r),new to.Notice(r,1e4)}function jI(r){eo.debug(r)}var Vn=class extends Error{},Iu=class extends Error{},Xb=o=>Q(void 0,[o],function*({originalTask:r,newTasks:e,vault:t,metadataCache:n,workspace:s,previousTries:a}){eo.debug(`tryRepetitive after ${a} previous tries`);let l=()=>{if(a>10){let f=`Tasks: Could not find the correct task line to update.

The task line not updated is:
${r.originalMarkdown}

In this markdown file:
"${r.taskLocation.path}"

Note: further clicks on this checkbox will usually now be ignored until the file is opened (or certain, specific edits are made - it's complicated).

Recommendations:

1. Close all panes that have the above file open, and then re-open the file.

2. Check for exactly identical copies of the task line, in this file, and see if you can make them different.
`;Cu(f);return}let c=Math.min(Math.pow(10,a),100);eo.debug(`timeout = ${c}`),setTimeout(()=>{Xb({originalTask:r,newTasks:e,vault:t,metadataCache:n,workspace:s,previousTries:a+1})},c)};try{let[c,f,p]=yield Jb(r,t),_=[...p.slice(0,c),...e.map(T=>T.toFileLineString()),...p.slice(c+1)];yield t.modify(f,_.join(`
`))}catch(c){if(c instanceof Vn)return c.message&&Qb(c.message),l();if(c instanceof Iu)return l();c instanceof Error&&Cu(c.message)}});function Jb(r,e){return Q(this,null,function*(){if(Ja===void 0)throw new Vn;let t=e.getAbstractFileByPath(r.path);if(!(t instanceof to.TFile))throw new Vn(`Tasks: No file found for task ${r.description}. Retrying ...`);if(!qI.includes(t.extension))throw new Error(`Tasks: Does not support files with the ${t.extension} file extension.`);let n=Ja.getFileCache(t);if(n==null||n===null)throw new Vn(`Tasks: No file cache found for file ${t.path}. Retrying ...`);let s=n.listItems;if(s===void 0||s.length===0)throw new Vn(`Tasks: No list items found in file cache of ${t.path}. Retrying ...`);let o=(yield e.read(t)).split(`
`),l=GI(r,o,s,jI);if(l===void 0)throw new Iu;return[l,t,o]})}function Vh(r,e){return Q(this,null,function*(){try{let[t,n,s]=yield Jb(r,e);return[t,n]}catch(t){t instanceof Vn?t.message&&Qb(t.message):t instanceof Error&&Cu(t.message)}})}function ev(r,e){return r<e.length}function GI(r,e,t,n){let s=$I(r,e);return s!==void 0||(s=HI(r,e),s!==void 0)?s:BI(r,e,t,n)}function $I(r,e){let t=r.taskLocation.lineNumber;if(ev(t,e)&&e[t]===r.originalMarkdown)return eo.debug(`Found original markdown at original line number ${t}`),t}function HI(r,e){let t=[];for(let n=0;n<e.length;n++)e[n]===r.originalMarkdown&&t.push(n);if(t.length===1)return t[0]}function BI(r,e,t,n){let s,a=0;for(let o of t){let l=o.position.start.line;if(!ev(l,e))return;if(l<r.taskLocation.sectionStart||o.task===void 0)continue;let c=e[l];if(Le.includedIn(c)){if(a===r.taskLocation.sectionIndex){if(c===r.originalMarkdown)s=l;else{n(`Tasks: Unable to find task in file ${r.taskLocation.path}.
Expected task:
${r.originalMarkdown}
Found task:
${c}`);return}break}a++}}return s}var Kn={description:"task-description",priority:"task-priority",dueDate:"task-due",startDate:"task-start",createdDate:"task-created",scheduledDate:"task-scheduled",doneDate:"task-done",recurrenceRule:"task-recurring",blockLink:""},zI=7,VI="far";function KI(r,e,t){return Q(this,null,function*(){yield tv.MarkdownRenderer.renderMarkdown(r,e,t,null)})}function rv(r,e,t=null){return Q(this,null,function*(){var l;t||(t=KI);let n=document.createElement("li");e.parentUlElement.appendChild(n),n.classList.add("task-list-item","plugin-tasks-list-item");let s=document.createElement("span");n.appendChild(s),s.classList.add("tasks-list-text");let a=yield ZI(r,e,s,t);for(let c in a)n.dataset[c]=a[c];let o=document.createElement("input");return n.appendChild(o),o.classList.add("task-list-item-checkbox"),o.type="checkbox",r.status.symbol!==" "&&(o.checked=!0,n.classList.add("is-checked")),o.addEventListener("click",c=>{c.preventDefault(),c.stopPropagation(),o.disabled=!0;let f=r.toggleWithRecurrenceInUsersOrder();Fu({originalTask:r,newTasks:f})}),n.prepend(o),n.setAttribute("data-task",r.status.symbol.trim()),n.setAttribute("data-line",e.listIndex.toString()),n.setAttribute("data-task-status-name",r.status.name),n.setAttribute("data-task-status-type",r.status.type),o.setAttribute("data-line",e.listIndex.toString()),(l=e.layoutOptions)!=null&&l.shortMode&&tF({task:r,element:s,isFilenameUnique:e.isFilenameUnique}),n})}function ZI(r,e,t,n){return Q(this,null,function*(){let s={},a=new Bn(e.layoutOptions),o=_n.tasksPluginEmoji.taskSerializer;for(let l of a.layoutComponents){let c=o.componentToString(r,a,l);if(c){l==="description"&&(c=Le.removeAsSubstringFromDependingOnSettings(c));let f=document.createElement("span");if(t.appendChild(f),f){let p=document.createElement("span");f.appendChild(p),yield QI(p,c,l,r,n);let[_,T]=Kh(l,r);XI(l,p),f.classList.add(..._);for(let O in T)f.dataset[O]=T[O];s=Pe(Pe({},s),T)}}}for(let l of a.hiddenComponents){let[c,f]=Kh(l,r);s=Pe(Pe({},s),f)}if(s.taskPriority===void 0){let[l,c]=Kh("priority",r);s=Pe(Pe({},s),c)}return s})}function QI(r,e,t,n,s){return Q(this,null,function*(){if(t==="description"){let{debugSettings:a}=ae();a.showTaskHiddenData&&(e+=`<br>\u{1F41B} <b>${n.lineNumber}</b> . ${n.sectionStart} . ${n.sectionIndex} . '<code>${n.originalMarkdown}</code>'<br>'<code>${n.path}</code>' > '<code>${n.precedingHeader}</code>'<br>`),yield s(e,r,n.path);let o=r.querySelector("blockquote"),l=o!=null?o:r,c=l.querySelector("p");if(c!==null){for(;c.firstChild;)l.insertBefore(c.firstChild,c);c.remove()}r.querySelectorAll("p").forEach(f=>{f.hasChildNodes()||f.remove()}),r.querySelectorAll(".footnotes").forEach(f=>{f.remove()})}else r.innerHTML=e})}function Kh(r,e){let t=[],n={},s=(a,o)=>{let l=JI(a);l&&(n[o]=l)};switch(r){case"description":t.push(Kn.description);break;case"priority":{let a=null;e.priority==="1"?a="high":e.priority==="2"?a="medium":e.priority==="4"?a="low":a="normal",n.taskPriority=a,t.push(Kn.priority);break}case"createdDate":{let a=e.createdDate;a&&(t.push(Kn.createdDate),s(a,"taskCreated"));break}case"dueDate":{let a=e.dueDate;a&&(t.push(Kn.dueDate),s(a,"taskDue"));break}case"startDate":{let a=e.startDate;a&&(t.push(Kn.startDate),s(a,"taskStart"));break}case"scheduledDate":{let a=e.scheduledDate;a&&(t.push(Kn.scheduledDate),s(a,"taskScheduled"));break}case"doneDate":{let a=e.doneDate;a&&(t.push(Kn.doneDate),s(a,"taskDone"));break}case"recurrenceRule":{t.push(Kn.recurrenceRule);break}}return[t,n]}function XI(r,e){if(r==="description"){let t=e.getElementsByClassName("tag");for(let n=0;n<t.length;n++){let s=t[n].textContent;if(s){let a=eF(s),o=t[n];a&&(o.dataset.tagName=a)}}}}function JI(r){let e=window.moment().startOf("day"),t="",n=e.diff(r,"days");return isNaN(n)?null:n===0?"today":(n>0?t+="past-":n<0&&(t+="future-"),Math.abs(n)<=zI?t+=Math.abs(n).toString()+"d":t+=VI,t)}function eF(r){let e=/["&\x00\r\n]/g,t=r.replace(e,"-");return t=t.replace(/^[-_]+/,""),t.length>0?t:null}function tF({task:r,element:e,isFilenameUnique:t}){let{recurrenceSymbol:n,startDateSymbol:s,createdDateSymbol:a,scheduledDateSymbol:o,dueDateSymbol:l,doneDateSymbol:c}=_n.tasksPluginEmoji.taskSerializer.symbols;e.addEventListener("mouseenter",()=>{let f=e.createDiv();f.addClasses(["tooltip","pop-up"]),r.recurrence&&f.createDiv().setText(`${n} ${r.recurrence.toText()}`),r.createdDate&&f.createDiv().setText(ro({signifier:a,date:r.createdDate})),r.startDate&&f.createDiv().setText(ro({signifier:s,date:r.startDate})),r.scheduledDate&&f.createDiv().setText(ro({signifier:o,date:r.scheduledDate})),r.dueDate&&f.createDiv().setText(ro({signifier:l,date:r.dueDate})),r.doneDate&&f.createDiv().setText(ro({signifier:c,date:r.doneDate}));let p=r.getLinkText({isFilenameUnique:t});p&&f.createDiv().setText(`\u{1F517} ${p}`),e.addEventListener("mouseleave",()=>{f.remove()})})}function ro({signifier:r,date:e}){return`${r} ${e.format(ie.dateFormat)} (${e.from(window.moment().startOf("day"))})`}var Xt=class{static fromPath(e){let{useFilenameAsScheduledDate:t,filenameAsDateFolders:n}=ae();return!t||!this.matchesAnyFolder(n,e)?null:this.extractDateFromPath(e)}static matchesAnyFolder(e,t){return e.length===0?!0:e.some(n=>t.startsWith(n+"/"))}static extractDateFromPath(e){let t=Math.max(0,e.lastIndexOf("/")+1),n=e.lastIndexOf("."),s=e.substring(t,n),a=/(\d{4})-(\d{2})-(\d{2})/.exec(s);if(a||(a=/(\d{4})(\d{2})(\d{2})/.exec(s)),a){let o=window.moment([parseInt(a[1]),parseInt(a[2])-1,parseInt(a[3])]);if(o.isValid())return o}return null}static canApplyFallback({startDate:e,scheduledDate:t,dueDate:n}){return e===null&&n===null&&t===null}static updateTaskPath(e,t,n){let s=e.scheduledDate,a=e.scheduledDateIsInferred;return n===null?a&&(a=!1,s=null):a?s=n:this.canApplyFallback(e)&&(s=n,a=!0),new $e(tr(Pe({},e),{taskLocation:e.taskLocation.fromRenamedFile(t),scheduledDate:s,scheduledDateIsInferred:a}))}static removeInferredStatusIfNeeded(e,t){let n=e.scheduledDateIsInferred?e.scheduledDate:null;return t.map(s=>(n!==null&&!n.isSame(s.scheduledDate,"day")&&(s=new $e(tr(Pe({},s),{scheduledDateIsInferred:!1}))),s))}};var ur=class{},ie=ur;ie.dateFormat="YYYY-MM-DD",ie.indentationRegex=/^([\s\t>]*)/,ie.listMarkerRegex=/([-*]|[0-9]+\.)/,ie.checkboxRegex=/\[(.)\]/u,ie.afterCheckboxRegex=/ *(.*)/u,ie.taskRegex=new RegExp(ur.indentationRegex.source+ur.listMarkerRegex.source+" +"+ur.checkboxRegex.source+ur.afterCheckboxRegex.source,"u"),ie.nonTaskRegex=new RegExp(ur.indentationRegex.source+ur.listMarkerRegex.source+"? *("+ur.checkboxRegex.source+")?"+ur.afterCheckboxRegex.source,"u"),ie.listItemRegex=new RegExp(ur.indentationRegex.source+ur.listMarkerRegex.source),ie.blockLinkRegex=/ \^[a-zA-Z0-9-]+$/u,ie.hashTags=/(^|\s)#[^ !@#$%^&*(),.?":{}|<>]*/g,ie.hashTagsFromEnd=new RegExp(ur.hashTags.source+"$");var $e=class{constructor({status:e,description:t,taskLocation:n,indentation:s,listMarker:a,priority:o,createdDate:l,startDate:c,scheduledDate:f,dueDate:p,doneDate:_,recurrence:T,blockLink:O,tags:b,originalMarkdown:x,scheduledDateIsInferred:I}){this._urgency=null;this.status=e,this.description=t,this.indentation=s,this.listMarker=a,this.taskLocation=n,this.tags=b,this.priority=o,this.createdDate=l,this.startDate=c,this.scheduledDate=f,this.dueDate=p,this.doneDate=_,this.recurrence=T,this.blockLink=O,this.originalMarkdown=x,this.scheduledDateIsInferred=I}static fromLine({line:e,taskLocation:t,fallbackDate:n}){let s=e.match(ie.taskRegex);if(s===null)return null;let a=s[4].trim();if(!Le.includedIn(a))return null;let o=a,l=s[1],c=s[2],f=s[3],p=He.getInstance().bySymbolOrCreate(f),_=o.match(ie.blockLinkRegex),T=_!==null?_[0]:"";T!==""&&(o=o.replace(ie.blockLinkRegex,"").trim());let{taskSerializer:O}=Xa(),b=O.deserialize(o),x=!1;return Xt.canApplyFallback(b)&&n!==null&&(b.scheduledDate=n,x=!0),b.tags=b.tags.map(I=>I.trim()),b.tags=b.tags.filter(I=>!Le.equals(I)),new $e(tr(Pe({},b),{status:p,indentation:l,listMarker:c,taskLocation:t,blockLink:T,originalMarkdown:e,scheduledDateIsInferred:x}))}toLi(e){return Q(this,null,function*(){return rv(this,e)})}toString(){return Xa().taskSerializer.serialize(this)}toFileLineString(){return`${this.indentation}${this.listMarker} [${this.status.symbol}] ${this.toString()}`}toggle(){let e=He.getInstance().getNextStatusOrCreate(this.status),t=null,n=null;if(e.isCompleted()){let{setDoneDate:o}=ae();o&&(t=window.moment()),this.recurrence!==null&&(n=this.recurrence.next())}let s=new $e(tr(Pe({},this),{status:e,doneDate:t})),a=[];if(n!==null){let{setCreatedDate:o}=ae(),l=null;o&&(l=window.moment());let c=He.getInstance().getNextStatusOrCreate(e),f=new $e(tr(Pe(Pe({},this),n),{status:c,blockLink:"",createdDate:l}));a.push(f)}return a.push(s),a}toggleWithRecurrenceInUsersOrder(){let e=this.toggle(),{recurrenceOnNextLine:t}=ae();return t?e.reverse():e}get urgency(){return this._urgency===null&&(this._urgency=Tn.calculate(this)),this._urgency}get path(){return this.taskLocation.path}get filename(){let e=this.path.match(/([^/]+)\.md$/);return e!==null?e[1]:null}get lineNumber(){return this.taskLocation.lineNumber}get sectionStart(){return this.taskLocation.sectionStart}get sectionIndex(){return this.taskLocation.sectionIndex}get precedingHeader(){return this.taskLocation.precedingHeader}getLinkText({isFilenameUnique:e}){let t;return e?t=this.filename:t="/"+this.path,t===null?null:(this.precedingHeader!==null&&this.precedingHeader!==t&&(t=t+" > "+this.precedingHeader),t)}static tasksListsIdentical(e,t){return e.length!==t.length?!1:e.every((n,s)=>n.identicalTo(t[s]))}identicalTo(e){let t=["status","description","path","indentation","listMarker","lineNumber","sectionStart","sectionIndex","precedingHeader","priority","blockLink","scheduledDateIsInferred"];for(let a of t)if(this[a]!==e[a])return!1;if(this.tags.length!==e.tags.length||!this.tags.every(function(a,o){return a===e.tags[o]}))return!1;t=["createdDate","startDate","scheduledDate","dueDate","doneDate"];for(let a of t){let o=this[a],l=e[a];if(Br(o,l)!==0)return!1}let n=this.recurrence,s=e.recurrence;return n===null&&s!==null||n!==null&&s===null?!1:!(n&&s&&!n.identicalTo(s))}static extractHashtags(e){var t,n;return(n=(t=e.match(ie.hashTags))==null?void 0:t.map(s=>s.trim()))!=null?n:[]}};var no=class{constructor(e){this.fetch=e;this._value=void 0}get value(){return this._value===void 0&&(this._value=this.fetch()),this._value}};var It=class{constructor(e,t,n,s,a){this._path=e,this._lineNumber=t,this._sectionStart=n,this._sectionIndex=s,this._precedingHeader=a}static fromUnknownPosition(e){return new It(e,0,0,0,null)}fromRenamedFile(e){return new It(e,this.lineNumber,this.sectionStart,this.sectionIndex,this.precedingHeader)}get path(){return this._path}get lineNumber(){return this._lineNumber}get sectionStart(){return this._sectionStart}get sectionIndex(){return this._sectionIndex}get precedingHeader(){return this._precedingHeader}};var Os=class{constructor({metadataCache:e,vault:t,events:n}){this.metadataCache=e,this.metadataCacheEventReferences=[],this.vault=t,this.vaultEventReferences=[],this.events=n,this.eventsEventReferences=[],this.tasksMutex=new Ro,this.state="Cold",this.tasks=[],this.loadedAfterFirstResolve=!1,this.subscribeToCache(),this.subscribeToVault(),this.subscribeToEvents(),this.loadVault()}unload(){for(let e of this.metadataCacheEventReferences)this.metadataCache.offref(e);for(let e of this.vaultEventReferences)this.vault.offref(e);for(let e of this.eventsEventReferences)this.events.off(e)}getTasks(){return this.tasks}getState(){return this.state}notifySubscribers(){this.events.triggerCacheUpdate({tasks:this.tasks,state:this.state})}subscribeToCache(){let e=this.metadataCache.on("resolved",()=>Q(this,null,function*(){this.loadedAfterFirstResolve||(this.loadedAfterFirstResolve=!0,this.loadVault())}));this.metadataCacheEventReferences.push(e);let t=this.metadataCache.on("changed",n=>{this.tasksMutex.runExclusive(()=>{this.indexFile(n)})});this.metadataCacheEventReferences.push(t)}subscribeToVault(){let{useFilenameAsScheduledDate:e}=ae(),t=this.vault.on("create",a=>{a instanceof gi.TFile&&this.tasksMutex.runExclusive(()=>{this.indexFile(a)})});this.vaultEventReferences.push(t);let n=this.vault.on("delete",a=>{a instanceof gi.TFile&&this.tasksMutex.runExclusive(()=>{this.tasks=this.tasks.filter(o=>o.path!==a.path),this.notifySubscribers()})});this.vaultEventReferences.push(n);let s=this.vault.on("rename",(a,o)=>{a instanceof gi.TFile&&this.tasksMutex.runExclusive(()=>{let l=new no(()=>Xt.fromPath(a.path));this.tasks=this.tasks.map(c=>c.path===o?e?Xt.updateTaskPath(c,a.path,l.value):new $e(tr(Pe({},c),{taskLocation:c.taskLocation.fromRenamedFile(a.path)})):c),this.notifySubscribers()})});this.vaultEventReferences.push(s)}subscribeToEvents(){let e=this.events.onRequestCacheUpdate(t=>{t({tasks:this.tasks,state:this.state})});this.eventsEventReferences.push(e)}loadVault(){return this.tasksMutex.runExclusive(()=>Q(this,null,function*(){this.state="Initializing",yield Promise.all(this.vault.getMarkdownFiles().map(e=>this.indexFile(e))),this.state="Warm",this.notifySubscribers()}))}indexFile(e){return Q(this,null,function*(){let t=this.metadataCache.getFileCache(e);if(t==null)return;let n=this.tasks.filter(o=>o.path===e.path),s=t.listItems,a=[];if(s!==void 0){let o=yield this.vault.cachedRead(e);a=this.getTasksFromFileContent(o,s,t,e)}$e.tasksListsIdentical(n,a)||(this.getState()=="Warm"&&console.debug(`At least one task, its line number or its heading has changed in ${e.path}: triggering a refresh of all active Tasks blocks in Live Preview and Reading mode views.`),this.tasks=this.tasks.filter(o=>o.path!==e.path),this.tasks.push(...a),this.notifySubscribers())})}getTasksFromFileContent(e,t,n,s){let a=[],o=e.split(`
`),l=o.length,c=new no(()=>Xt.fromPath(s.path)),f=null,p=0;for(let _ of t)if(_.task!==void 0){let T=_.position.start.line;if(T>=l)return console.log(`${s.path} Obsidian gave us a line number ${T} past the end of the file. ${l}.`),a;if((f===null||f.position.end.line<T)&&(f=Os.getSection(T,n.sections),p=0),f===null)continue;let O=o[T];if(O===void 0){console.log(`${s.path}: line ${T} - ignoring 'undefined' line.`);continue}let b;try{b=$e.fromLine({line:O,taskLocation:new It(s.path,T,f.position.start.line,p,Os.getPrecedingHeader(T,n.headings)),fallbackDate:c.value})}catch(x){this.reportTaskParsingErrorToUser(x,s,_,O);continue}b!==null&&(p++,a.push(b))}return a}reportTaskParsingErrorToUser(e,t,n,s){let a=`There was an error reading one of the tasks in this vault.
The following task has been ignored, to prevent Tasks queries getting stuck with 'Loading Tasks ...'
Error: ${e}
File: ${t.path}
Line number: ${n.position.start.line}
Task line: ${s}

Please create a bug report for this message at
https://github.com/obsidian-tasks-group/obsidian-tasks/issues/new/choose
to help us find and fix the underlying issue.

Include:
- either a screenshot of the error popup, or copy the text from the console, if on a desktop machine.
- the output from running the Obsidian command 'Show debug info'

The error popup will only be shown when Tasks is starting up, but if the error persists,
it will be shown in the console every time this file is edited during the Obsidian
session.
`;console.error(a),e instanceof Error&&console.error(e.stack),this.state==="Initializing"&&new gi.Notice(a,1e4)}static getSection(e,t){if(t===void 0)return null;for(let n of t)if(n.position.start.line<=e&&n.position.end.line>=e)return n;return null}static getPrecedingHeader(e,t){if(t===void 0)return null;let n=null;for(let s of t){if(s.position.start.line>e)return n;n=s.heading}return n}};var ap=require("obsidian");var bv=require("obsidian");function Rs(){}function Xh(r){return r()}function sv(){return Object.create(null)}function xs(r){r.forEach(Xh)}function av(r){return typeof r=="function"}function ov(r,e){return r!=r?e==e:r!==e||r&&typeof r=="object"||typeof r=="function"}function uv(r){return Object.keys(r).length===0}var lv=!1;function rF(){lv=!0}function nF(){lv=!1}function L(r,e){r.appendChild(e)}function _i(r,e,t){r.insertBefore(e,t||null)}function As(r){r.parentNode.removeChild(r)}function Jh(r,e){for(let t=0;t<r.length;t+=1)r[t]&&r[t].d(e)}function oe(r){return document.createElement(r)}function sF(r){return document.createElementNS("http://www.w3.org/2000/svg",r)}function Jt(r){return document.createTextNode(r)}function Se(){return Jt(" ")}function zt(r,e,t,n){return r.addEventListener(e,t,n),()=>r.removeEventListener(e,t,n)}function cv(r){return function(e){return e.preventDefault(),r.call(this,e)}}function z(r,e,t){t==null?r.removeAttribute(e):r.getAttribute(e)!==t&&r.setAttribute(e,t)}function iF(r){return Array.from(r.childNodes)}function ep(r,e){e=""+e,r.wholeText!==e&&(r.data=e)}function Fr(r,e){r.value=e==null?"":e}function tp(r,e){for(let t=0;t<r.options.length;t+=1){let n=r.options[t];if(n.__value===e){n.selected=!0;return}}r.selectedIndex=-1}function dv(r){let e=r.querySelector(":checked")||r.options[0];return e&&e.__value}function Lr(r,e,t){r.classList[t?"add":"remove"](e)}var Ms=class{constructor(e=!1){this.is_svg=!1,this.is_svg=e,this.e=this.n=null}c(e){this.h(e)}m(e,t,n=null){this.e||(this.is_svg?this.e=sF(t.nodeName):this.e=oe(t.nodeName),this.t=t,this.c(e)),this.i(n)}h(e){this.e.innerHTML=e,this.n=Array.from(this.e.childNodes)}i(e){for(let t=0;t<this.n.length;t+=1)_i(this.t,this.n[t],e)}p(e){this.d(),this.h(e),this.i(this.a)}d(){this.n.forEach(As)}};var ao;function io(r){ao=r}function aF(){if(!ao)throw new Error("Function called outside component initialization");return ao}function rp(r){aF().$$.on_mount.push(r)}var so=[];var Uu=[],Yu=[],iv=[],oF=Promise.resolve(),Qh=!1;function uF(){Qh||(Qh=!0,oF.then(fv))}function oo(r){Yu.push(r)}var Zh=new Set,Lu=0;function fv(){let r=ao;do{for(;Lu<so.length;){let e=so[Lu];Lu++,io(e),lF(e.$$)}for(io(null),so.length=0,Lu=0;Uu.length;)Uu.pop()();for(let e=0;e<Yu.length;e+=1){let t=Yu[e];Zh.has(t)||(Zh.add(t),t())}Yu.length=0}while(so.length);for(;iv.length;)iv.pop()();Qh=!1,Zh.clear(),io(r)}function lF(r){if(r.fragment!==null){r.update(),xs(r.before_update);let e=r.dirty;r.dirty=[-1],r.fragment&&r.fragment.p(r.ctx,e),r.after_update.forEach(oo)}}var cF=new Set;function dF(r,e){r&&r.i&&(cF.delete(r),r.i(e))}var Nj=typeof window!="undefined"?window:typeof globalThis!="undefined"?globalThis:global;function fF(r,e,t,n){let{fragment:s,on_mount:a,on_destroy:o,after_update:l}=r.$$;s&&s.m(e,t),n||oo(()=>{let c=a.map(Xh).filter(av);o?o.push(...c):xs(c),r.$$.on_mount=[]}),l.forEach(oo)}function hv(r,e){let t=r.$$;t.fragment!==null&&(xs(t.on_destroy),t.fragment&&t.fragment.d(e),t.on_destroy=t.fragment=null,t.ctx=[])}function hF(r,e){r.$$.dirty[0]===-1&&(so.push(r),uF(),r.$$.dirty.fill(0)),r.$$.dirty[e/31|0]|=1<<e%31}function pv(r,e,t,n,s,a,o,l=[-1]){let c=ao;io(r);let f=r.$$={fragment:null,ctx:null,props:a,update:Rs,not_equal:s,bound:sv(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(c?c.$$.context:[])),callbacks:sv(),dirty:l,skip_bound:!1,root:e.target||c.$$.root};o&&o(f.root);let p=!1;if(f.ctx=t?t(r,e.props||{},(_,T,...O)=>{let b=O.length?O[0]:T;return f.ctx&&s(f.ctx[_],f.ctx[_]=b)&&(!f.skip_bound&&f.bound[_]&&f.bound[_](b),p&&hF(r,_)),T}):[],f.update(),p=!0,xs(f.before_update),f.fragment=n?n(f.ctx):!1,e.target){if(e.hydrate){rF();let _=iF(e.target);f.fragment&&f.fragment.l(_),_.forEach(As)}else f.fragment&&f.fragment.c();e.intro&&dF(r.$$.fragment),fF(r,e.target,e.anchor,e.customElement),nF(),fv()}io(c)}var pF;typeof HTMLElement=="function"&&(pF=class extends HTMLElement{constructor(){super(),this.attachShadow({mode:"open"})}connectedCallback(){let{on_mount:r}=this.$$;this.$$.on_disconnect=r.map(Xh).filter(av);for(let e in this.$$.slotted)this.appendChild(this.$$.slotted[e])}attributeChangedCallback(r,e,t){this[r]=t}disconnectedCallback(){xs(this.$$.on_disconnect)}$destroy(){hv(this,1),this.$destroy=Rs}$on(r,e){let t=this.$$.callbacks[r]||(this.$$.callbacks[r]=[]);return t.push(e),()=>{let n=t.indexOf(e);n!==-1&&t.splice(n,1)}}$set(r){this.$$set&&!uv(r)&&(this.$$.skip_bound=!0,this.$$set(r),this.$$.skip_bound=!1)}});var Wu=class{$destroy(){hv(this,1),this.$destroy=Rs}$on(e,t){let n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(t),()=>{let s=n.indexOf(t);s!==-1&&n.splice(s,1)}}$set(e){this.$$set&&!uv(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}};var sp=In(yt());function mv(r,e,t){let n=r.slice();return n[45]=e[t],n}function yv(r,e,t){let n=r.slice();return n[48]=e[t].value,n[49]=e[t].label,n[50]=e[t].symbol,n}function mF(r){let e,t=r[50]+"",n;return{c(){e=oe("span"),n=Jt(t)},m(s,a){_i(s,e,a),L(e,n)},p:Rs,d(s){s&&As(e)}}}function gv(r){let e,t,n,s,a,o,l,c,f=r[49]+"",p,_,T=r[50]&&r[50].charCodeAt(0)>=256,O,b,x,I,G=T&&mF(r);return{c(){e=oe("span"),t=oe("input"),o=Se(),l=oe("label"),c=oe("span"),p=Jt(f),_=Se(),G&&G.c(),b=Se(),z(t,"type","radio"),z(t,"id",n="priority-"+r[48]),t.__value=s=r[48],t.value=t.__value,z(t,"accesskey",a=r[15](r[49].charAt(0).toLowerCase())),r[33][0].push(t),z(c,"class","accesskey-first"),z(l,"for",O="priority-"+r[48])},m(H,W){_i(H,e,W),L(e,t),t.checked=t.__value===r[1].priority,L(e,o),L(e,l),L(l,c),L(c,p),L(l,_),G&&G.m(l,null),L(e,b),x||(I=zt(t,"change",r[32]),x=!0)},p(H,W){W[0]&32768&&a!==(a=H[15](H[49].charAt(0).toLowerCase()))&&z(t,"accesskey",a),W[0]&3&&(t.checked=t.__value===H[1].priority),T&&G.p(H,W)},d(H){H&&As(e),r[33][0].splice(r[33][0].indexOf(t),1),G&&G.d(),x=!1,I()}}}function _v(r){let e,t=r[45].name+"",n,s,a=r[45].symbol+"",o,l,c;return{c(){e=oe("option"),n=Jt(t),s=Jt(" ["),o=Jt(a),l=Jt("]"),e.__value=c=r[45],e.value=e.__value},m(f,p){_i(f,e,p),L(e,n),L(e,s),L(e,o),L(e,l)},p(f,p){p[0]&1&&t!==(t=f[45].name+"")&&ep(n,t),p[0]&1&&a!==(a=f[45].symbol+"")&&ep(o,a),p[0]&1&&c!==(c=f[45])&&(e.__value=c,e.value=e.__value)},d(f){f&&As(e)}}}function yF(r){let e,t,n,s,a,o,l,c,f,p,_,T,O,b,x,I,G,H,W,ke,Te,be,ee,ne,Ft,_t,V,q,A,J,Y,ue,y,g,w,k,D,M,E,C,P,N,j,Ee,pe,ce,Ie,K,qe,Xe,ft,Or,at,je,ht,Tt,On,Ii,Ge,Ws,ts,pt,de,Qr,xt,rs,ho,Ur,Mn,bt,Fi,dr,Xr,Ye,Rn,qs,ns,xn,ss,fr,An,po,Jr,mo,hr,pr,B,js,yo,mt,is,Ae,mr=r[20],Lt=[];for(let $=0;$<mr.length;$+=1)Lt[$]=gv(yv(r,mr,$));let tt=r[0],Je=[];for(let $=0;$<tt.length;$+=1)Je[$]=_v(mv(r,tt,$));return{c(){e=oe("div"),t=oe("form"),n=oe("div"),s=oe("label"),s.innerHTML='Descrip<span class="accesskey">t</span>ion',a=Se(),o=oe("textarea"),c=Se(),f=oe("div"),p=oe("label"),_=Jt("Priority"),O=Se();for(let $=0;$<Lt.length;$+=1)Lt[$].c();b=Se(),x=oe("div"),I=oe("label"),I.textContent="Recurs",G=Se(),H=oe("input"),ke=Se(),Te=oe("code"),be=Jt(r[16]),ee=Se(),ne=new Ms(!1),Ft=Se(),_t=oe("label"),_t.textContent="Due",V=Se(),q=oe("input"),J=Se(),Y=oe("code"),ue=Jt(r[19]),y=Se(),g=new Ms(!1),w=Se(),k=oe("label"),k.textContent="Scheduled",D=Se(),M=oe("input"),C=Se(),P=oe("code"),N=Jt(r[18]),j=Se(),Ee=new Ms(!1),pe=Se(),ce=oe("label"),ce.innerHTML='St<span class="accesskey">a</span>rt',Ie=Se(),K=oe("input"),Xe=Se(),ft=oe("code"),Or=Jt(r[17]),at=Se(),je=new Ms(!1),ht=Se(),Tt=oe("div"),On=oe("label"),On.innerHTML=`Only
                    <span class="accesskey-first">future</span> dates:`,Ii=Se(),Ge=oe("input"),ts=Se(),pt=oe("div"),de=oe("label"),de.innerHTML='Stat<span class="accesskey">u</span>s',Qr=Se(),xt=oe("select");for(let $=0;$<Je.length;$+=1)Je[$].c();ho=Se(),Ur=oe("div"),Mn=oe("div"),bt=oe("label"),bt.textContent="Completed:",Fi=Se(),dr=oe("input"),Ye=Se(),Rn=oe("div"),qs=oe("span"),qs.textContent="Created on:",ns=Se(),xn=oe("code"),ss=Se(),fr=oe("div"),An=oe("span"),An.textContent="Done on:",po=Se(),Jr=oe("code"),mo=Se(),hr=oe("div"),pr=oe("button"),B=Jt("Apply"),yo=Se(),mt=oe("button"),mt.textContent="Cancel",z(s,"for","description"),z(o,"id","description"),z(o,"type","text"),z(o,"class","tasks-modal-description"),z(o,"placeholder","Take out the trash"),z(o,"accesskey",l=r[15]("t")),z(n,"class","tasks-modal-section"),z(p,"for",T="priority-"+r[1].priority),z(f,"class","tasks-modal-section tasks-modal-priorities"),z(I,"for","recurrence"),z(I,"class","accesskey-first"),z(H,"id","recurrence"),z(H,"type","text"),z(H,"placeholder","Try 'every 2 weeks on Thursday'."),z(H,"accesskey",W=r[15]("r")),Lr(H,"tasks-modal-error",!r[8]),ne.a=null,z(_t,"for","due"),z(_t,"class","accesskey-first"),z(q,"id","due"),z(q,"type","text"),z(q,"placeholder",np),z(q,"accesskey",A=r[15]("d")),Lr(q,"tasks-modal-error",!r[7]),g.a=null,z(k,"for","scheduled"),z(k,"class","accesskey-first"),z(M,"id","scheduled"),z(M,"type","text"),z(M,"placeholder",np),z(M,"accesskey",E=r[15]("s")),Lr(M,"tasks-modal-error",!r[5]),Ee.a=null,z(ce,"for","start"),z(K,"id","start"),z(K,"type","text"),z(K,"placeholder",np),z(K,"accesskey",qe=r[15]("a")),Lr(K,"tasks-modal-error",!r[3]),je.a=null,z(On,"for","forwardOnly"),z(Ge,"id","forwardOnly"),z(Ge,"type","checkbox"),z(Ge,"class","task-list-item-checkbox tasks-modal-checkbox"),z(Ge,"accesskey",Ws=r[15]("f")),z(x,"class","tasks-modal-section tasks-modal-dates"),z(de,"for","status"),z(xt,"id","status-type"),z(xt,"class","dropdown"),z(xt,"accesskey",rs=r[15]("u")),r[1].status===void 0&&oo(()=>r[39].call(xt)),z(pt,"class","tasks-modal-section"),z(bt,"for","status"),z(dr,"id","status"),z(dr,"type","checkbox"),z(dr,"class","task-list-item-checkbox tasks-modal-checkbox"),dr.checked=Xr=r[1].status.isCompleted(),dr.disabled=!0,z(Ur,"class","tasks-modal-section tasks-modal-status"),pr.disabled=js=!r[14],z(pr,"type","submit"),z(pr,"class","mod-cta"),z(mt,"type","button"),z(hr,"class","tasks-modal-section tasks-modal-buttons"),Lr(t,"with-accesskeys",r[9]),z(e,"class","tasks-modal")},m($,re){_i($,e,re),L(e,t),L(t,n),L(n,s),L(n,a),L(n,o),Fr(o,r[1].description),r[31](o),L(t,c),L(t,f),L(f,p),L(p,_),L(f,O);for(let le=0;le<Lt.length;le+=1)Lt[le].m(f,null);L(t,b),L(t,x),L(x,I),L(x,G),L(x,H),Fr(H,r[1].recurrenceRule),L(x,ke),L(x,Te),L(Te,be),L(Te,ee),ne.m(r[12],Te),L(x,Ft),L(x,_t),L(x,V),L(x,q),Fr(q,r[1].dueDate),L(x,J),L(x,Y),L(Y,ue),L(Y,y),g.m(r[6],Y),L(x,w),L(x,k),L(x,D),L(x,M),Fr(M,r[1].scheduledDate),L(x,C),L(x,P),L(P,N),L(P,j),Ee.m(r[4],P),L(x,pe),L(x,ce),L(x,Ie),L(x,K),Fr(K,r[1].startDate),L(x,Xe),L(x,ft),L(ft,Or),L(ft,at),je.m(r[2],ft),L(x,ht),L(x,Tt),L(Tt,On),L(Tt,Ii),L(Tt,Ge),Ge.checked=r[1].forwardOnly,L(t,ts),L(t,pt),L(pt,de),L(pt,Qr),L(pt,xt);for(let le=0;le<Je.length;le+=1)Je[le].m(xt,null);tp(xt,r[1].status),L(t,ho),L(t,Ur),L(Ur,Mn),L(Mn,bt),L(Mn,Fi),L(Mn,dr),L(Ur,Ye),L(Ur,Rn),L(Rn,qs),L(Rn,ns),L(Rn,xn),xn.innerHTML=r[11],L(Ur,ss),L(Ur,fr),L(fr,An),L(fr,po),L(fr,Jr),Jr.innerHTML=r[13],L(t,mo),L(t,hr),L(hr,pr),L(pr,B),L(hr,yo),L(hr,mt),is||(Ae=[zt(o,"input",r[30]),zt(o,"keydown",r[23]),zt(o,"paste",r[24]),zt(o,"drop",r[24]),zt(f,"keyup",r[21]),zt(H,"input",r[34]),zt(q,"input",r[35]),zt(M,"input",r[36]),zt(K,"input",r[37]),zt(Ge,"change",r[38]),zt(xt,"change",r[39]),zt(mt,"click",r[22]),zt(t,"submit",cv(r[25]))],is=!0)},p($,re){if(re[0]&32768&&l!==(l=$[15]("t"))&&z(o,"accesskey",l),re[0]&3&&Fr(o,$[1].description),re[0]&3&&T!==(T="priority-"+$[1].priority)&&z(p,"for",T),re[0]&1081346){mr=$[20];let le;for(le=0;le<mr.length;le+=1){let jt=yv($,mr,le);Lt[le]?Lt[le].p(jt,re):(Lt[le]=gv(jt),Lt[le].c(),Lt[le].m(f,null))}for(;le<Lt.length;le+=1)Lt[le].d(1);Lt.length=mr.length}if(re[0]&32768&&W!==(W=$[15]("r"))&&z(H,"accesskey",W),re[0]&3&&H.value!==$[1].recurrenceRule&&Fr(H,$[1].recurrenceRule),re[0]&256&&Lr(H,"tasks-modal-error",!$[8]),re[0]&4096&&ne.p($[12]),re[0]&32768&&A!==(A=$[15]("d"))&&z(q,"accesskey",A),re[0]&3&&q.value!==$[1].dueDate&&Fr(q,$[1].dueDate),re[0]&128&&Lr(q,"tasks-modal-error",!$[7]),re[0]&64&&g.p($[6]),re[0]&32768&&E!==(E=$[15]("s"))&&z(M,"accesskey",E),re[0]&3&&M.value!==$[1].scheduledDate&&Fr(M,$[1].scheduledDate),re[0]&32&&Lr(M,"tasks-modal-error",!$[5]),re[0]&16&&Ee.p($[4]),re[0]&32768&&qe!==(qe=$[15]("a"))&&z(K,"accesskey",qe),re[0]&3&&K.value!==$[1].startDate&&Fr(K,$[1].startDate),re[0]&8&&Lr(K,"tasks-modal-error",!$[3]),re[0]&4&&je.p($[2]),re[0]&32768&&Ws!==(Ws=$[15]("f"))&&z(Ge,"accesskey",Ws),re[0]&3&&(Ge.checked=$[1].forwardOnly),re[0]&1){tt=$[0];let le;for(le=0;le<tt.length;le+=1){let jt=mv($,tt,le);Je[le]?Je[le].p(jt,re):(Je[le]=_v(jt),Je[le].c(),Je[le].m(xt,null))}for(;le<Je.length;le+=1)Je[le].d(1);Je.length=tt.length}re[0]&32768&&rs!==(rs=$[15]("u"))&&z(xt,"accesskey",rs),re[0]&3&&tp(xt,$[1].status),re[0]&3&&Xr!==(Xr=$[1].status.isCompleted())&&(dr.checked=Xr),re[0]&2048&&(xn.innerHTML=$[11]),re[0]&8192&&(Jr.innerHTML=$[13]),re[0]&16384&&js!==(js=!$[14])&&(pr.disabled=js),re[0]&512&&Lr(t,"with-accesskeys",$[9])},i:Rs,o:Rs,d($){$&&As(e),r[31](null),Jh(Lt,$),Jh(Je,$),is=!1,xs(Ae)}}}var np="Try 'Monday' or 'tomorrow', or [td|tm|yd|tw|nw|we] then space.";function gF(r,e,t){let n;var s;let{task:a}=e,{onSubmit:o}=e,{statusOptions:l}=e,{prioritySymbols:c,recurrenceSymbol:f,startDateSymbol:p,scheduledDateSymbol:_,dueDateSymbol:T}=_n.tasksPluginEmoji.taskSerializer.symbols,O,b={description:"",status:he.TODO,priority:"none",recurrenceRule:"",createdDate:"",startDate:"",scheduledDate:"",dueDate:"",doneDate:"",forwardOnly:!0},x=!0,I="",G="",H=!0,W="",ke=!0,Te="",be=!0,ee="",ne=!0,Ft="",_t=!1,V=!0,q=!0,A=[{value:"low",label:"Low",symbol:c.Low},{value:"none",label:"Normal",symbol:c.None},{value:"medium",label:"Medium",symbol:c.Medium},{value:"high",label:"High",symbol:c.High}];function J(K,qe,Xe=void 0){if(!qe)return`<i>no ${K} date</i>`;let ft=sp.parseDate(qe,Xe,{forwardDate:Xe!=null});return ft!==null?window.moment(ft).format("YYYY-MM-DD"):`<i>invalid ${K} date</i>`}function Y(K,qe){return J(K,qe,b.forwardOnly?new Date:void 0)}function ue(K){let qe=null,Xe=sp.parseDate(K,new Date,{forwardDate:b.forwardOnly});return Xe!==null&&(qe=window.moment(Xe)),qe}rp(()=>{let{provideAccessKeys:K}=ae();t(9,V=K);let qe=Le.removeAsWordFrom(a.description);(qe!=a.description||!Le.includedIn(a.description))&&(_t=!0);let Xe="none";a.priority==="4"?Xe="low":a.priority==="2"?Xe="medium":a.priority==="1"&&(Xe="high"),t(1,b={description:qe,status:a.status,priority:Xe,recurrenceRule:a.recurrence?a.recurrence.toText():"",createdDate:a.createdDate?a.createdDate.format("YYYY-MM-DD"):"",startDate:a.startDate?a.startDate.format("YYYY-MM-DD"):"",scheduledDate:a.scheduledDate?a.scheduledDate.format("YYYY-MM-DD"):"",dueDate:a.dueDate?a.dueDate.format("YYYY-MM-DD"):"",doneDate:a.doneDate?a.doneDate.format("YYYY-MM-DD"):"",forwardOnly:!0}),setTimeout(()=>{O.focus()},10)});let y=K=>{if(K.key&&!K.altKey&&!K.ctrlKey){let qe=A.find(Xe=>Xe.label.charAt(0).toLowerCase()==K.key);qe&&t(1,b.priority=qe.value,b)}},g=()=>{o([])},w=K=>{K.key==="Enter"&&(K.preventDefault(),q&&D())},k=()=>{setTimeout(()=>{t(1,b.description=b.description.replace(/[\r\n]+/g," "),b)},0)},D=()=>{let K=b.description.trim();_t&&(K=Le.prependTo(K));let qe=ue(b.startDate),Xe=ue(b.scheduledDate),ft=ue(b.dueDate),Or=null;b.recurrenceRule&&(Or=Mt.fromText({recurrenceRuleText:b.recurrenceRule,startDate:qe,scheduledDate:Xe,dueDate:ft}));let at;switch(b.priority){case"low":at="4";break;case"medium":at="2";break;case"high":at="1";break;default:at="3"}let je=new $e(Object.assign(Object.assign({},a),{description:K,status:b.status,priority:at,recurrence:Or,startDate:qe,scheduledDate:Xe,dueDate:ft,doneDate:window.moment(b.doneDate,"YYYY-MM-DD").isValid()?window.moment(b.doneDate,"YYYY-MM-DD"):null}));o([je])},M=[[]];function E(){b.description=this.value,t(1,b),t(6,Te),t(2,G),t(4,W),t(0,l)}function C(K){Uu[K?"unshift":"push"](()=>{O=K,t(10,O)})}function P(){b.priority=this.__value,t(1,b),t(6,Te),t(2,G),t(4,W),t(0,l)}function N(){b.recurrenceRule=this.value,t(1,b),t(6,Te),t(2,G),t(4,W),t(0,l)}function j(){b.dueDate=this.value,t(1,b),t(6,Te),t(2,G),t(4,W),t(0,l)}function Ee(){b.scheduledDate=this.value,t(1,b),t(6,Te),t(2,G),t(4,W),t(0,l)}function pe(){b.startDate=this.value,t(1,b),t(6,Te),t(2,G),t(4,W),t(0,l)}function ce(){b.forwardOnly=this.checked,t(1,b),t(6,Te),t(2,G),t(4,W),t(0,l)}function Ie(){b.status=dv(this),t(1,b),t(6,Te),t(2,G),t(4,W),t(0,l)}return r.$$set=K=>{"task"in K&&t(26,a=K.task),"onSubmit"in K&&t(27,o=K.onSubmit),"statusOptions"in K&&t(0,l=K.statusOptions)},r.$$.update=()=>{if(r.$$.dirty[0]&512){e:t(15,n=K=>V?K:null)}if(r.$$.dirty[0]&66){e:t(1,b.dueDate=fi(b.dueDate),b),t(6,Te=Y("due",b.dueDate)),t(7,be=!Te.includes("invalid"))}if(r.$$.dirty[0]&6){e:t(1,b.startDate=fi(b.startDate),b),t(2,G=Y("start",b.startDate)),t(3,H=!G.includes("invalid"))}if(r.$$.dirty[0]&18){e:t(1,b.scheduledDate=fi(b.scheduledDate),b),t(4,W=Y("scheduled",b.scheduledDate)),t(5,ke=!W.includes("invalid"))}if(r.$$.dirty[0]&268435458){e:if(t(8,ne=!0),!b.recurrenceRule)t(12,ee="<i>not recurring</>");else{let K=t(28,s=Mt.fromText({recurrenceRuleText:b.recurrenceRule,startDate:null,scheduledDate:null,dueDate:null}))===null||s===void 0?void 0:s.toText();K?t(12,ee=K):(t(12,ee="<i>invalid recurrence rule</i>"),t(8,ne=!1))}}if(r.$$.dirty[0]&2){e:t(29,x=b.description.trim()!=="")}if(r.$$.dirty[0]&536871336){e:t(14,q=be&&ne&&ke&&H&&x)}if(r.$$.dirty[0]&2){e:t(11,I=J("created",b.createdDate)),t(13,Ft=J("done",b.doneDate))}},[l,b,G,H,W,ke,Te,be,ne,V,O,I,ee,Ft,q,n,f,p,_,T,A,y,g,w,k,D,a,o,s,x,E,C,P,M,N,j,Ee,pe,ce,Ie]}var ip=class extends Wu{constructor(e){super(),pv(this,e,gF,yF,ov,{task:26,onSubmit:27,statusOptions:0},null,[-1,-1])}},Tv=ip;var Zn=class extends bv.Modal{constructor({app:t,task:n,onSubmit:s}){super(t);this.task=n,this.onSubmit=a=>{a.length&&s(a),this.close()}}onOpen(){this.titleEl.setText("Create or edit Task");let{contentEl:t}=this,n=this.getKnownStatusesAndCurrentTaskStatusIfNotKnown();new Tv({target:t,props:{task:this.task,statusOptions:n,onSubmit:this.onSubmit}})}getKnownStatusesAndCurrentTaskStatusIfNotKnown(){let t=He.getInstance().registeredStatuses;return He.getInstance().bySymbol(this.task.status.symbol)===he.EMPTY&&t.push(this.task.status),t}onClose(){let{contentEl:t}=this;t.empty()}};var qu=({line:r,path:e})=>{var b,x;let t=Xt.fromPath(e),n=$e.fromLine({line:r,taskLocation:It.fromUnknownPosition(e),fallbackDate:t});if(n!==null)return n;let{setCreatedDate:s}=ae(),a=null;s&&(a=window.moment());let o=r.match(ie.nonTaskRegex);if(o===null)return console.error("Tasks: Cannot create task on line:",r),new $e({status:he.TODO,description:"",taskLocation:It.fromUnknownPosition(e),indentation:"",listMarker:"-",priority:"3",createdDate:a,startDate:null,scheduledDate:null,dueDate:null,doneDate:null,recurrence:null,blockLink:"",tags:[],originalMarkdown:"",scheduledDateIsInferred:!1});let l=o[1],c=(b=o[2])!=null?b:"-",f=(x=o[4])!=null?x:" ",p=He.getInstance().bySymbolOrCreate(f),_=o[5],T=r.match(ie.blockLinkRegex),O=T!==null?T[0]:"";return O!==""&&(_=_.replace(ie.blockLinkRegex,"")),new $e({status:p,description:_,taskLocation:It.fromUnknownPosition(e),indentation:l,listMarker:c,blockLink:O,priority:"3",createdDate:a,startDate:null,scheduledDate:null,dueDate:null,doneDate:null,recurrence:null,tags:[],originalMarkdown:"",scheduledDateIsInferred:!1})};var vv=(r,e,t,n)=>{var _;if(r)return t instanceof ap.MarkdownView;if(!(t instanceof ap.MarkdownView))return;let s=(_=t.file)==null?void 0:_.path;if(s===void 0)return;let o=e.getCursor().line,l=e.getLine(o),c=qu({line:l,path:s}),f=T=>{let O=Xt.removeInferredStatusIfNeeded(c,T).map(b=>b.toFileLineString()).join(`
`);e.setLine(o,O)};new Zn({app:n,task:c,onSubmit:f}).open()};var op=require("obsidian");var wv=(r,e,t)=>{var c;if(r)return t instanceof op.MarkdownView;if(!(t instanceof op.MarkdownView))return;let n=(c=t.file)==null?void 0:c.path;if(n===void 0)return;let s=e.getCursor(),a=s.line,o=e.getLine(a),l=_F(o,n);e.setLine(a,l.text),e.setCursor(TF(s,l))},_F=(r,e)=>{let t=$e.fromLine({line:r,taskLocation:It.fromUnknownPosition(e),fallbackDate:null});if(t!==null){let n=t.toggleWithRecurrenceInUsersOrder().map(s=>s.toFileLineString());return{text:n.join(`
`),moveTo:{line:n.length-1}}}else{let n=r.match(ie.taskRegex);if(n!==null){let s=n[3],o=He.getInstance().bySymbol(s).nextStatusSymbol;return{text:r.replace(ie.taskRegex,`$1- [${o}] $4`)}}else if(ie.listItemRegex.test(r)){let s=r.replace(ie.listItemRegex,"$1$2 [ ]");return{text:s,moveTo:{ch:s.length}}}else{let s=r.replace(ie.indentationRegex,"$1- ");return{text:s,moveTo:{ch:s.length}}}}},TF=(r,e)=>{var a;let t={line:0,ch:r.ch},n=Pe(Pe({},t),(a=e.moveTo)!=null?a:{}),s=e.text.split(`
`)[n.line].length;return{line:r.line+n.line,ch:Math.min(n.ch,s)}};var ju=class{get app(){return this.plugin.app}constructor({plugin:e}){this.plugin=e,e.addCommand({id:"edit-task",name:"Create or edit task",icon:"pencil",editorCheckCallback:(t,n,s)=>vv(t,n,s,this.app)}),e.addCommand({id:"toggle-done",name:"Toggle task done",icon:"check-in-circle",editorCheckCallback:wv})}};var Gu=class{constructor({obsidianEvents:e}){this.obsidianEvents=e}onCacheUpdate(e){return this.obsidianEvents.on("obsidian-tasks-plugin:cache-update",e)}triggerCacheUpdate(e){this.obsidianEvents.trigger("obsidian-tasks-plugin:cache-update",e)}onRequestCacheUpdate(e){return this.obsidianEvents.on("obsidian-tasks-plugin:request-cache-update",e)}triggerRequestCacheUpdate(e){this.obsidianEvents.trigger("obsidian-tasks-plugin:request-cache-update",e)}off(e){this.obsidianEvents.offref(e)}};var $u=class{constructor({plugin:e}){this.markdownPostProcessor=this._markdownPostProcessor.bind(this);e.registerMarkdownPostProcessor(this._markdownPostProcessor.bind(this))}_markdownPostProcessor(e,t){return Q(this,null,function*(){var f;let n=e.findAll(".task-list-item").filter(p=>{var O;let _=(O=p.textContent)==null?void 0:O.split(`
`);if(_===void 0)return!1;let T=null;for(let b=0;b<_.length;b=b+1)if(_[b]!==""){T=_[b];break}return T===null?!1:Le.includedIn(T)});if(n.length===0)return;let s=t.sourcePath,a=t.getSectionInfo(e);if(a===null)return;let o=a.text.split(`
`),l=0,c=[];for(let p=a.lineStart;p<=a.lineEnd;p++){let _=o[p];if(_===void 0)continue;let T=null,O=$e.fromLine({line:_,taskLocation:new It(s,p,a.lineStart,l,T),fallbackDate:null});O!==null&&(c.push(O),l++)}for(let p=0;p<n.length;p++){let _=c[p],T=n[p];if(_===void 0||T===void 0)continue;let O=(f=T.getAttr("data-line"))!=null?f:"0",b=Number.parseInt(O,10),x=yield _.toLi({parentUlElement:e,listIndex:b}),I=T.childNodes;for(let W=0;W<I.length;W=W+1){let ke=I[W];ke.nodeName.toLowerCase()==="div"?x.prepend(ke):ke.nodeName.toLowerCase()==="ul"&&x.append(ke)}let G=T.querySelectorAll("[data-footnote-id]"),H=x.querySelectorAll("[data-footnote-id]");if(G.length===H.length)for(let W=0;W<G.length;W++)H[W].replaceWith(G[W]);T.replaceWith(x)}})}};var kv=require("@codemirror/view"),Ev=require("obsidian");var Dv=()=>kv.ViewPlugin.fromClass(up),up=class{constructor(e){this.view=e,this.handleClickEvent=this.handleClickEvent.bind(this),this.view.dom.addEventListener("click",this.handleClickEvent)}destroy(){this.view.dom.removeEventListener("click",this.handleClickEvent)}handleClickEvent(e){let{target:t}=e;if(!t||!(t instanceof HTMLInputElement)||t.type!=="checkbox")return!1;let n=t.closest("ul.plugin-tasks-query-result, div.callout-content");if(n){if(n.matches("div.callout-content")){let T=`obsidian-tasks-plugin warning: Tasks cannot add or remove completion dates or make the next copy of a recurring task for tasks written inside a callout when you click their checkboxes in Live Preview. 
If you wanted Tasks to do these things, please undo your change, then either click the line of the task and use the "Toggle Task Done" command, or switch to Reading View to click the checkbox.`;console.warn(T),new Ev.Notice(T,45e3)}return!1}let{state:s}=this.view,a=this.view.posAtDOM(t),o=s.doc.lineAt(a),l=$e.fromLine({line:o.text,taskLocation:It.fromUnknownPosition(""),fallbackDate:null});if(console.debug(`Live Preview Extension: toggle called. Position: ${a} Line: ${o.text}`),l===null)return!1;e.preventDefault();let f=l.toggleWithRecurrenceInUsersOrder().map(T=>T.toFileLineString()).join(s.lineBreak),p=s.update({changes:{from:o.from,to:o.to,insert:f}});this.view.dispatch(p);let _=t.checked;return setTimeout(()=>{t.checked=_},1),!0}};var Ni=require("obsidian");var vn=class{constructor(e,t,n){this.property=e,this.comparator=vn.maybeReverse(n,t)}static maybeReverse(e,t){return e?vn.makeReversedComparator(t):t}static makeReversedComparator(e){return(t,n)=>e(t,n)*-1}};var Ti=class{constructor(e,t,n){this.property=e,this.grouper=t,this.reverse=n}};var Be=class{canCreateFilterForLine(e){return Be.lineMatchesFilter(this.filterRegExp(),e)}static lineMatchesFilter(e,t){return e?e.test(t):!1}static getMatch(e,t){return e?t.match(e):null}fieldNameSingular(){return this.fieldName()}fieldNameSingularEscaped(){return Pu(this.fieldNameSingular())}supportsSorting(){return!1}parseSortLine(e){return!this.supportsSorting()||!this.canCreateSorterForLine(e)?null:this.createSorterFromLine(e)}canCreateSorterForLine(e){return this.supportsSorting()?Be.lineMatchesFilter(this.sorterRegExp(),e):!1}createSorterFromLine(e){if(!this.supportsSorting())return null;let t=Be.getMatch(this.sorterRegExp(),e);if(t===null)return null;let n=!!t[1];return this.createSorter(n)}sorterRegExp(){if(!this.supportsSorting())throw Error(`sorterRegExp() unimplemented for ${this.fieldNameSingular()}`);return new RegExp(`^sort by ${this.fieldNameSingularEscaped()}( reverse)?`)}comparator(){throw Error(`comparator() unimplemented for ${this.fieldNameSingular()}`)}createSorter(e){return new vn(this.fieldNameSingular(),this.comparator(),e)}createNormalSorter(){return this.createSorter(!1)}createReverseSorter(){return this.createSorter(!0)}supportsGrouping(){return!1}parseGroupLine(e){return!this.supportsGrouping()||!this.canCreateGrouperForLine(e)?null:this.createGrouperFromLine(e)}canCreateGrouperForLine(e){return this.supportsGrouping()?Be.lineMatchesFilter(this.grouperRegExp(),e):!1}createGrouperFromLine(e){if(!this.supportsGrouping())return null;let t=Be.getMatch(this.grouperRegExp(),e);if(t===null)return null;let n=!!t[1];return this.createGrouper(n)}grouperRegExp(){if(!this.supportsGrouping())throw Error(`grouperRegExp() unimplemented for ${this.fieldNameSingular()}`);return new RegExp(`^group by ${this.fieldNameSingularEscaped()}( reverse)?$`)}grouper(){throw Error(`grouper() unimplemented for ${this.fieldNameSingular()}`)}createGrouper(e){return new Ti(this.fieldNameSingular(),this.grouper(),e)}createNormalGrouper(){return this.createGrouper(!1)}createReverseGrouper(){return this.createGrouper(!0)}};var Qe=class{constructor(e,t=[],n=""){this.description=e,this.symbol=n,this.children=t}static booleanAnd(e){return this.combineOrCreateExplanation("All of",e,"AND")}static booleanOr(e){return this.combineOrCreateExplanation("At least one of",e,"OR")}static booleanNot(e){return new Qe("None of",e,"NOT")}static booleanXor(e){return new Qe("Exactly one of",e,"XOR")}asString(e=""){if(this.children.length==0)return e+this.description;let t=e;this.symbol===""?t+=this.description:(t+=this.symbol,this.children.length>1&&(t+=` (${this.description})`),t+=":");let n=e+"  ";for(let s=0;s<this.children.length;s++)t+=`
${this.children[s].asString(n)}`;return t}static combineOrCreateExplanation(e,t,n){if(t.length===2){let s=t[0],a=t[1];if(s.symbol===n&&a.symbol==="")return s.children.push(a),s}return new Qe(e,t,n)}};var er=class{constructor(e,t,n){this.instruction=e,this.explanation=n,this.filterFunction=t}explainFilterIndented(e){let t=this.explanation;return t.asString()===this.instruction?`${e}${this.instruction}
`:`${e}${this.instruction} =>
${t.asString("  ")}
`}},ze=class{constructor(e){this.instruction=e}get filter(){return this._filter}set filter(e){this._filter=e}get filterFunction(){if(this._filter)return this._filter.filterFunction}static fromFilter(e){let t=new ze(e.instruction);return t.filter=e,t}static fromError(e,t){let n=new ze(e);return n.error=t,n}};var Hu=class{constructor(e,t){this._instruction=e,this._filter=t}canCreateFilterForLine(e){return e==this._instruction}createFilterOrErrorMessage(e){let t=new ze(e);return e===this._instruction?(t.filter=new er(e,this._filter,new Qe(e)),t):(t.error=`do not understand filter: ${e}`,t)}};var Vr=class{constructor(){this._filters=[]}add(e,t){this._filters.push(new Hu(e,t))}canCreateFilterForLine(e){for(let t of this._filters)if(t.canCreateFilterForLine(e))return!0;return!1}createFilterOrErrorMessage(e){for(let n of this._filters){let s=n.createFilterOrErrorMessage(e);if(s.error===void 0)return s}let t=new ze(e);return t.error=`do not understand filter: ${e}`,t}};var Qn=class extends Be{constructor(){super(...arguments);this._filters=new Vr}canCreateFilterForLine(t){return this._filters.canCreateFilterForLine(t)}createFilterOrErrorMessage(t){return this._filters.createFilterOrErrorMessage(t)}filterRegExp(){return null}};var Kr=class extends Qn{constructor(){super(),this._filters.add("done",e=>e.status.type==="DONE"||e.status.type==="CANCELLED"||e.status.type==="NON_TASK"),this._filters.add("not done",e=>e.status.type==="TODO"||e.status.type==="IN_PROGRESS")}fieldName(){return"status"}supportsSorting(){return!0}comparator(){return(e,t)=>{let n=Kr.oldStatusName(e),s=Kr.oldStatusName(t);return n<s?1:n>s?-1:0}}static oldStatusName(e){return e.status.symbol===" "?"Todo":"Done"}supportsGrouping(){return!0}grouper(){return e=>[Kr.oldStatusName(e)]}};var qt=class extends Be{constructor(t=null){super();t!==null?this.filterInstructions=t:(this.filterInstructions=new Vr,this.filterInstructions.add(`has ${this.fieldName()} date`,n=>this.date(n)!==null),this.filterInstructions.add(`no ${this.fieldName()} date`,n=>this.date(n)===null),this.filterInstructions.add(`${this.fieldName()} date is invalid`,n=>{let s=this.date(n);return s!==null&&!s.isValid()}))}canCreateFilterForLine(t){return this.filterInstructions.canCreateFilterForLine(t)?!0:super.canCreateFilterForLine(t)}createFilterOrErrorMessage(t){let n=this.filterInstructions.createFilterOrErrorMessage(t);if(n.filter!==void 0)return n;let s=new ze(t),a=Be.getMatch(this.filterRegExp(),t);if(a!==null){let o=a[1],l=a[2],c=a[3],f=ir.parseDateRange(c);if(!f.isValid()){let p=ir.parseDate(o);p.isValid()&&(f=new Ht(p,p))}if(!f.isValid())s.error="do not understand "+this.fieldName()+" date";else{let p=this.buildFilterFunction(l,f),_=qt.buildExplanation(this.fieldNameForExplanation(),l,this.filterResultIfFieldMissing(),f);s.filter=new er(t,p,_)}}else s.error="do not understand query filter ("+this.fieldName()+" date)";return s}buildFilterFunction(t,n){let s;return t==="before"?s=a=>a?a.isBefore(n.start):this.filterResultIfFieldMissing():t==="after"?s=a=>a?a.isAfter(n.end):this.filterResultIfFieldMissing():s=a=>a?a.isSameOrAfter(n.start)&&a.isSameOrBefore(n.end):this.filterResultIfFieldMissing(),this.getFilter(s)}getFilter(t){return n=>t(this.date(n))}filterRegExp(){return new RegExp(`^${this.fieldNameForFilterInstruction()} ((before|after|on|in)? ?(.*))`)}fieldNameForFilterInstruction(){return this.fieldName()}static buildExplanation(t,n,s,a){let o,l="YYYY-MM-DD (dddd Do MMMM YYYY)",c;switch(n){case"before":o=n,c=a.start.format(l);break;case"after":o=n,c=a.end.format(l);break;default:if(a.start.isSame(a.end))o="on",c=a.start.format(l);else{let p=`${t} date is between:`,_=[new Qe(`${a.start.format(l)} and`),new Qe(`${a.end.format(l)} inclusive`)];return s&&_.push(new Qe(`OR no ${t} date`)),new Qe(p,_)}break}let f=`${t} date is ${o} ${c}`;return s&&(f+=` OR no ${t} date`),new Qe(f)}fieldNameForExplanation(){return this.fieldName()}supportsSorting(){return!0}comparator(){return(t,n)=>Br(this.date(t),this.date(n))}supportsGrouping(){return!0}grouper(){return t=>{let n=this.date(t);return n===null?["No "+this.fieldName()+" date"]:[n.format("YYYY-MM-DD dddd")]}}};var bi=class extends qt{fieldName(){return"due"}date(e){return e.dueDate}filterResultIfFieldMissing(){return!1}};var lp=class extends Be{createFilterOrErrorMessage(e){let t=new ze(e),n=Be.getMatch(this.filterRegExp(),e);if(n!==null){let s=n[5],a=null;switch(s){case"low":a="4";break;case"none":a="3";break;case"medium":a="2";break;case"high":a="1";break}if(a===null)return t.error="do not understand priority",t;let o=e,l;switch(n[3]){case"above":l=c=>c.priority.localeCompare(a)<0;break;case"below":l=c=>c.priority.localeCompare(a)>0;break;case"not":l=c=>c.priority!==a;break;default:l=c=>c.priority===a,o=`${this.fieldName()} is ${s}`}t.filter=new er(e,l,new Qe(o))}else t.error="do not understand query filter (priority)";return t}fieldName(){return"priority"}filterRegExp(){return lp.priorityRegexp}supportsSorting(){return!0}comparator(){return(e,t)=>e.priority.localeCompare(t.priority)}supportsGrouping(){return!0}grouper(){return e=>{let t="ERROR";switch(e.priority){case"1":t="High";break;case"2":t="Medium";break;case"3":t="None";break;case"4":t="Low";break}return[`Priority ${e.priority}: ${t}`]}}},Ps=lp;Ps.priorityRegexp=/^priority(\s+is)?(\s+(above|below|not))?(\s+(low|none|medium|high))$/;var vi=class{matchesAnyOf(e){return e.some(t=>this.matches(t))}};var wi=class extends vi{constructor(t){super();this.stringToFind=t}matches(t){return wi.stringIncludesCaseInsensitive(t,this.stringToFind)}static stringIncludesCaseInsensitive(t,n){return t.toLocaleLowerCase().includes(n.toLocaleLowerCase())}};var ki=class extends vi{constructor(t){super();this.regex=t}static validateAndConstruct(t){let n=/\/((?![*+?])(?:[^\r\n[/\\]|\\.|\[(?:[^\r\n\]\\]|\\.)*])+)\/((?:g(?:im?|mi?)?|i(?:gm?|mg?)?|m(?:gi?|ig?)?)?)/,s=t.match(n);if(s!==null){let a=new RegExp(s[1],s[2]);return new ki(a)}else return null}matches(t){return t.match(this.regex)!==null}};var Ke=class extends Be{createFilterOrErrorMessage(e){let t=Be.getMatch(this.filterRegExp(),e);if(t===null)return ze.fromError(e,`do not understand query filter (${this.fieldName()})`);let[n,s,a]=t,o=null;if(s.includes("include"))o=new wi(a);else if(s.includes("regex")&&(o=ki.validateAndConstruct(a),o===null))return ze.fromError(e,`cannot parse regex (${this.fieldName()}); check your leading and trailing slashes for your query`);if(o===null)return ze.fromError(e,`do not understand query filter (${this.fieldName()})`);let l=s.match(/not/)!==null,c=new er(e,this.getFilter(o,l),new Qe(e));return ze.fromFilter(c)}fieldPattern(){return this.fieldNameSingularEscaped()}filterOperatorPattern(){return"includes|does not include|regex matches|regex does not match"}filterRegExp(){return new RegExp(`^(?:${this.fieldPattern()}) (${this.filterOperatorPattern()}) (.*)`)}getFilter(e,t){return n=>{let s=e.matches(this.value(n));return t?!s:s}}comparator(){return(e,t)=>this.value(e).localeCompare(this.value(t),void 0,{numeric:!0})}grouper(){return e=>[this.value(e)]}static escapeMarkdownCharacters(e){return e.replace(/\\/g,"\\\\").replace(/_/g,"\\_")}};var Ei=class extends Ke{fieldName(){return"path"}value(e){return e.path}supportsSorting(){return!0}supportsGrouping(){return!0}grouper(){return e=>[Ke.escapeMarkdownCharacters(e.path.replace(".md",""))]}};var Di=class extends Be{canCreateFilterForLine(e){return!1}createFilterOrErrorMessage(e){return ze.fromError(e,"Filtering by urgency is not yet supported")}fieldName(){return"urgency"}filterRegExp(){throw Error(`filterRegExp() unimplemented for ${this.fieldName()}`)}supportsSorting(){return!0}comparator(){return(e,t)=>t.urgency-e.urgency}supportsGrouping(){return!0}grouper(){return e=>[`${e.urgency.toFixed(2)}`]}};var Si=class{static by(e,t){let n=[new Di().comparator(),new Kr().comparator(),new bi().comparator(),new Ps().comparator(),new Ei().comparator()],s=[];for(let a of e)s.push(a.comparator);return t.sort(Si.makeCompositeComparator([...s,...n]))}static makeCompositeComparator(e){return(t,n)=>{for(let s of e){let a=s(t,n);if(a!==0)return a}return 0}}};var Bu=class{constructor(e,t,n){this.nestingLevel=e,this.displayName=t,this.property=n}};var zu=class{constructor(e,t){this.lastHeadingAtLevel=new Array;this.groupers=t;let s=e.keys().next().value.length;for(let a=0;a<s;a++)this.lastHeadingAtLevel.push("")}getHeadingsForTaskGroup(e){let t=new Array;for(let n=0;n<e.length;n++){let s=e[n];if(s!=this.lastHeadingAtLevel[n]){t.push(new Bu(n,s,this.groupers[n].property));for(let a=n;a<e.length;a++)this.lastHeadingAtLevel[a]="";this.lastHeadingAtLevel[n]=s}}return t}};var Vu=class{constructor(e){this.children=new Map;this.values=[];this.values=e}generateAllPaths(e=[]){let t=new Map;if(this.children.size==0)return t.set([...e],this.values),t;for(let[n,s]of this.children)e.push(n),s.generateAllPaths(e).forEach((o,l)=>t.set(l,o)),e.pop();return t}};var Ku=class extends Vu{},Zu=class{constructor(e,t){this.root=new Ku(t),this.buildGroupingTree(e)}buildGroupingTree(e){let t=[this.root];for(let n of e){let s=[];for(let a of t)for(let o of a.values){let l=n.grouper(o);for(let c of l){let f=a.children.get(c);f===void 0&&(f=new Ku([]),a.children.set(c,f),s.push(f)),f.values.push(o)}}t=s}}generateTaskTreeStorage(){return this.root.generateAllPaths()}};var Qu=class{constructor(e,t){this.groups=e,this.groupHeadings=[],this.tasks=t}setGroupHeadings(e){for(let t of e)this.groupHeadings.push(t)}applyTaskLimit(e){this.tasks=this.tasks.slice(0,e)}tasksAsStringOfLines(){let e="";for(let t of this.tasks)e+=t.toFileLineString()+`
`;return e}toString(){let e=`
`;e+=`Group names: [${this.groups}]
`;for(let t of this.groupHeadings)e+=`${"#".repeat(4+t.nestingLevel)} [${t.property}] ${t.displayName}
`;return e+=this.tasksAsStringOfLines(),e}};var Xu=class{constructor(e,t){this._groups=new Array;this._totalTaskCount=0;this._totalTaskCount=t.length,this._groupers=e;let s=new Zu(e,t).generateTaskTreeStorage();this.addTaskGroups(s),this.sortTaskGroups(),this.setGroupsHeadings(s)}get groupers(){return this._groupers}get groups(){return this._groups}totalTasksCount(){return this._totalTaskCount}toString(){let e="";e+=`Groupers (if any):
`;for(let n of this._groupers){let s=n.reverse?" reverse":"";e+=`- ${n.property}${s}
`}for(let n of this.groups)e+=n.toString(),e+=`
---
`;return e+=`
${this.totalTasksCount()} tasks
`,e}addTaskGroups(e){for(let[t,n]of e){let s=new Qu(t,n);this.addTaskGroup(s)}}addTaskGroup(e){this._groups.push(e)}sortTaskGroups(){let e=(t,n)=>{let s=t.groups,a=n.groups;for(let o=0;o<s.length;o++){let l=this._groupers[o],c=s[o].localeCompare(a[o],void 0,{numeric:!0});if(c!==0)return l.reverse?-c:c}return 0};this._groups.sort(e)}setGroupsHeadings(e){let t=new zu(e,this._groupers);for(let n of this._groups)n.setGroupHeadings(t.getHeadingsForTaskGroup(n.groups))}applyTaskLimit(e){this._groupers.length!==0&&(this._groups.forEach(t=>{t.applyTaskLimit(e)}),this.calculateTotalTaskCount())}calculateTotalTaskCount(){let e=[];this._groups.forEach(n=>{e=[...e,...n.tasks]});let t=[...new Set(e)];this._totalTaskCount=t.length}};var Ns=class extends Ke{fieldName(){return"description"}value(e){return Le.removeAsSubstringFrom(e.description)}supportsSorting(){return!0}comparator(){return(e,t)=>{let n=Ns.cleanDescription(e.description),s=Ns.cleanDescription(t.description);return n.localeCompare(s,void 0,{numeric:!0})}}static cleanDescription(e){e=Le.removeAsSubstringFrom(e);let t=/^\[\[?([^\]]*)]]?/,n=e.match(t);if(n!==null){let s=n[1];e=s.substring(s.indexOf("|")+1)+e.replace(t,"")}return e=this.replaceFormatting(e,/^\*\*([^*]+)\*\*/),e=this.replaceFormatting(e,/^\*([^*]+)\*/),e=this.replaceFormatting(e,/^==([^=]+)==/),e=this.replaceFormatting(e,/^__([^_]+)__/),e=this.replaceFormatting(e,/^_([^_]+)_/),e}static replaceFormatting(e,t){let n=e.match(t);return n!==null&&(e=n[1]+e.replace(t,"")),e}};var Ju=class extends qt{fieldName(){return"created"}date(e){return e.createdDate}filterResultIfFieldMissing(){return!1}};var el=class extends qt{fieldName(){return"done"}date(e){return e.doneDate}filterResultIfFieldMissing(){return!1}};var tl=class extends Qn{constructor(){super(),this._filters.add("exclude sub-items",e=>{if(e.indentation==="")return!0;let t=e.indentation.lastIndexOf(">");return t===-1?!1:/^ ?$/.test(e.indentation.slice(t+1))})}fieldName(){return"exclude"}};var rl=class extends Ke{fieldName(){return"heading"}value(e){return e.precedingHeader?e.precedingHeader:""}supportsSorting(){return!0}supportsGrouping(){return!0}grouper(){return e=>e.precedingHeader===null||e.precedingHeader.length===0?["(No heading)"]:[e.precedingHeader]}};var nl=class extends qt{fieldName(){return"scheduled"}date(e){return e.scheduledDate}filterResultIfFieldMissing(){return!1}};var sl=class extends qt{fieldName(){return"start"}fieldNameForFilterInstruction(){return"starts"}date(e){return e.startDate}filterResultIfFieldMissing(){return!0}};var Oi=class extends qt{constructor(){let e=new Vr;e.add("has happens date",t=>this.dates(t).some(n=>n!==null)),e.add("no happens date",t=>!this.dates(t).some(n=>n!==null)),super(e)}fieldName(){return"happens"}fieldNameForExplanation(){return"due, start or scheduled"}date(e){return this.earliestDate(e)}dates(e){return Array.of(e.startDate,e.scheduledDate,e.dueDate)}earliestDate(e){return new Oi().dates(e).sort(Br)[0]}filterResultIfFieldMissing(){return!1}getFilter(e){return t=>this.dates(t).some(n=>e(n))}};var il=class extends Qn{constructor(){super(),this._filters.add("is recurring",e=>e.recurrence!==null),this._filters.add("is not recurring",e=>e.recurrence===null)}fieldName(){return"recurring"}supportsSorting(){return!0}comparator(){return(e,t)=>e.recurrence!==null&&t.recurrence===null?-1:e.recurrence===null&&t.recurrence!==null?1:0}supportsGrouping(){return!0}grouper(){return e=>e.recurrence!==null?["Recurring"]:["Not Recurring"]}};var al=class extends Ke{fieldNamePlural(){return this.fieldNameSingular()+"s"}fieldName(){return`${this.fieldNameSingular()}/${this.fieldNamePlural()}`}fieldPattern(){return`${this.fieldNameSingular()}|${this.fieldNamePlural()}`}filterOperatorPattern(){return`${super.filterOperatorPattern()}|include|do not include`}value(e){return this.values(e).join(", ")}getFilter(e,t){return n=>{let s=e.matchesAnyOf(this.values(n));return t?!s:s}}createGrouper(e){return new Ti(this.fieldNamePlural(),this.grouper(),e)}grouperRegExp(){if(!this.supportsGrouping())throw Error(`grouperRegExp() unimplemented for ${this.fieldNameSingular()}`);return new RegExp(`^group by ${this.fieldNamePlural()}( reverse)?$`)}};var Cs=class extends al{constructor(){super();this.filterInstructions=new Vr,this.filterInstructions.add(`has ${this.fieldNameSingular()}`,t=>this.values(t).length>0),this.filterInstructions.add(`has ${this.fieldNamePlural()}`,t=>this.values(t).length>0),this.filterInstructions.add(`no ${this.fieldNameSingular()}`,t=>this.values(t).length===0),this.filterInstructions.add(`no ${this.fieldNamePlural()}`,t=>this.values(t).length===0)}createFilterOrErrorMessage(t){let n=this.filterInstructions.createFilterOrErrorMessage(t);return n.filter!==void 0?n:super.createFilterOrErrorMessage(t)}canCreateFilterForLine(t){return this.filterInstructions.canCreateFilterForLine(t)?!0:super.canCreateFilterForLine(t)}fieldNameSingular(){return"tag"}values(t){return t.tags}supportsSorting(){return!0}createSorterFromLine(t){let n=t.match(this.sorterRegExp());if(n===null)return null;let s=!!n[1],a=isNaN(+n[2])?1:+n[2],o=Cs.makeCompareByTagComparator(a);return new vn(this.fieldNameSingular(),o,s)}sorterRegExp(){return/^sort by tag( reverse)?[\s]*(\d+)?/}comparator(){return Cs.makeCompareByTagComparator(1)}static makeCompareByTagComparator(t){return(n,s)=>{if(n.tags.length===0&&s.tags.length===0)return 0;if(n.tags.length===0)return 1;if(s.tags.length===0)return-1;let a=t-1;if(n.tags.length<t&&s.tags.length>=t)return 1;if(s.tags.length<t&&n.tags.length>=t)return-1;if(n.tags.length<t&&s.tags.length<t)return 0;let o=n.tags[a],l=s.tags[a];return o.localeCompare(l,void 0,{numeric:!0})}}supportsGrouping(){return!0}grouper(){return t=>t.tags.length==0?["(No tags)"]:t.tags}};var Yv=In(Lv());var cl=class extends Be{constructor(){super(...arguments);this.basicBooleanRegexp=/(.*(AND|OR|XOR|NOT)\s*[("].*|\(.+\))/g;this.supportedOperators=["AND","OR","XOR","NOT"];this.subFields={}}filterRegExp(){return this.basicBooleanRegexp}createFilterOrErrorMessage(t){return this.parseLine(t)}fieldName(){return"boolean query"}parseLine(t){let n=new ze(t);if(t.length===0)return n.error="empty line",n;let s=this.preprocessExpression(t);try{let a=(0,Yv.parse)(s);for(let c of a)if(c.name==="IDENTIFIER"&&c.value){let f=c.value.trim();if(!(f in this.subFields)){let p=dl(f);if(p===null)return n.error=`couldn't parse sub-expression '${f}'`,n;if(p.error)return n.error=`couldn't parse sub-expression '${f}': ${p.error}`,n;p.filter&&(this.subFields[f]=p.filter)}}else if(c.name==="OPERATOR"){if(c.value==null)return n.error="empty operator in boolean query",n;if(!this.supportedOperators.includes(c.value))return n.error=`unknown boolean operator '${c.value}'`,n}let o=c=>this.filterTaskWithParsedQuery(c,a),l=this.constructExplanation(a);return n.filter=new er(t,o,l),n}catch(a){let o=a instanceof Error?a.message:"unknown error type";return n.error=`malformed boolean query -- ${o} (check the documentation for guidelines)`,n}return n}preprocessExpression(t){return t.replace(/\(([^()]+)\)/g,'("$1")')}filterTaskWithParsedQuery(t,n){let s=l=>l==="true",a=l=>l?"true":"false",o=[];for(let l of n)if(l.name==="IDENTIFIER"){if(l.value==null)throw Error("null token value");let f=this.subFields[l.value.trim()].filterFunction(t);o.push(a(f))}else if(l.name==="OPERATOR")if(l.value==="NOT"){let c=s(o.pop());o.push(a(!c))}else if(l.value==="OR"){let c=s(o.pop()),f=s(o.pop());o.push(a(c||f))}else if(l.value==="AND"){let c=s(o.pop()),f=s(o.pop());o.push(a(c&&f))}else if(l.value==="XOR"){let c=s(o.pop()),f=s(o.pop());o.push(a(c&&!f||!c&&f))}else throw Error("Unsupported operator: "+l.value);else throw Error("Unsupported token type: "+l);return s(o[0])}constructExplanation(t){let n=[];for(let s of t)if(s.name==="IDENTIFIER"){if(s.value==null)throw Error("null token value");let a=this.subFields[s.value.trim()];n.push(a.explanation)}else if(s.name==="OPERATOR")if(s.value==="NOT"){let a=n.pop();n.push(Qe.booleanNot([a]))}else if(s.value==="OR"){let a=n.pop(),o=n.pop();n.push(Qe.booleanOr([o,a]))}else if(s.value==="AND"){let a=n.pop(),o=n.pop();n.push(Qe.booleanAnd([o,a]))}else if(s.value==="XOR"){let a=n.pop(),o=n.pop();n.push(Qe.booleanXor([o,a]))}else throw Error("Unsupported operator: "+s.value);else throw Error("Unsupported token type: "+s);return n[0]}};var fl=class extends Ke{fieldName(){return"filename"}value(e){let t=e.filename;return t===null?"":t+".md"}supportsSorting(){return!0}supportsGrouping(){return!0}grouper(){return e=>{let t=e.filename;return t===null?["Unknown Location"]:["[["+t+"]]"]}}};var hl=class extends Ke{constructor(){super()}fieldName(){return"status.name"}value(e){return e.status.name}supportsSorting(){return!0}supportsGrouping(){return!0}};var Jn=class extends Be{canCreateFilterForLine(e){let t=new RegExp(`^(?:${this.fieldNameSingularEscaped()})`);return Be.lineMatchesFilter(t,e)}createFilterOrErrorMessage(e){let t=Be.getMatch(this.filterRegExp(),e);if(t===null)return this.helpMessage(e);let[n,s,a]=t,o=Dr[a.toUpperCase()];if(!o)return this.helpMessage(e);let l;switch(s){case"is":l=c=>c.status.type===o;break;case"is not":l=c=>c.status.type!==o;break;default:return this.helpMessage(e)}return ze.fromFilter(new er(e,l,new Qe(e)))}filterRegExp(){return new RegExp(`^(?:${this.fieldNameSingularEscaped()}) (is|is not) ([^ ]+)$`)}helpMessage(e){let t=Object.values(Dr).filter(s=>s!=="EMPTY").join(" "),n=`Invalid ${this.fieldNameSingular()} instruction: '${e}'.
    Allowed options: 'is' and 'is not' (without quotes).
    Allowed values:  ${t}
                     Note: values are case-insensitive,
                           so 'in_progress' works too, for example.
    Example:         ${this.fieldNameSingular()} is not NON_TASK`;return ze.fromError(e,n)}fieldName(){return"status.type"}value(e){return e.status.type}supportsSorting(){return!0}comparator(){return(e,t)=>{let n=Jn.groupName(e),s=Jn.groupName(t);return n.localeCompare(s,void 0,{numeric:!0})}}supportsGrouping(){return!0}grouper(){return e=>[Jn.groupName(e)]}static groupName(e){let t;switch(e.status.type){case"IN_PROGRESS":t="1";break;case"TODO":t="2";break;case"DONE":t="3";break;case"CANCELLED":t="4";break;case"NON_TASK":t="5";break;case"EMPTY":t="6";break}return t+" "+e.status.type}};var pl=class extends Ke{fieldName(){return"recurrence"}value(e){return e.recurrence!==null?e.recurrence.toText():""}supportsGrouping(){return!0}grouper(){return e=>e.recurrence!==null?[e.recurrence.toText()]:["None"]}};var ml=class extends Ke{fieldName(){return"folder"}value(e){let t=e.path,n=e.filename+".md",s=t.substring(0,t.lastIndexOf(n));return s===""?"/":s}supportsGrouping(){return!0}grouper(){return e=>[Ke.escapeMarkdownCharacters(this.value(e))]}};var yl=class extends Ke{fieldName(){return"root"}value(e){let t=e.path.replace(/\\/g,"/");t.charAt(0)==="/"&&(t=t.substring(1));let n=t.indexOf("/");return n==-1?"/":t.substring(0,n+1)}supportsGrouping(){return!0}grouper(){return e=>[Ke.escapeMarkdownCharacters(this.value(e))]}};var gl=class extends Ke{fieldName(){return"backlink"}value(e){let t=e.getLinkText({isFilenameUnique:!0});return t===null?"Unknown Location":t}createFilterOrErrorMessage(e){return ze.fromError(e,"backlink field does not support filtering")}canCreateFilterForLine(e){return!1}supportsGrouping(){return!0}grouper(){return e=>{let t=e.filename;if(t===null)return["Unknown Location"];let n=Ke.escapeMarkdownCharacters(t);return e.precedingHeader&&e.precedingHeader!==t&&(n+=" > "+e.precedingHeader),[n]}}};var vp=[()=>new hl,()=>new Jn,()=>new Kr,()=>new il,()=>new Ps,()=>new Oi,()=>new Ju,()=>new sl,()=>new nl,()=>new bi,()=>new el,()=>new Ei,()=>new ml,()=>new yl,()=>new gl,()=>new Ns,()=>new Cs,()=>new rl,()=>new tl,()=>new fl,()=>new Di,()=>new pl,()=>new cl];function dl(r){for(let e of vp){let t=e();if(t.canCreateFilterForLine(r))return t.createFilterOrErrorMessage(r)}return null}function Uv(r){let e=/^sort by /;if(r.match(e)===null)return null;for(let t of vp){let s=t().parseSortLine(r);if(s)return s}return null}function Wv(r){let e=/^group by /;if(r.match(e)===null)return null;for(let t of vp){let s=t().parseGroupLine(r);if(s)return s}return null}var Sn=class{constructor({source:e}){this._limit=void 0;this._taskGroupLimit=void 0;this._layoutOptions=new Za;this._filters=[];this._error=void 0;this._sorting=[];this._grouping=[];this.hideOptionsRegexp=/^(hide|show) (task count|backlink|priority|created date|start date|scheduled date|done date|due date|recurrence rule|edit button|urgency)/;this.shortModeRegexp=/^short/;this.explainQueryRegexp=/^explain/;this.limitRegexp=/^limit (groups )?(to )?(\d+)( tasks?)?/;this.commentRegexp=/^#.*/;this.source=e,e.split(`
`).map(t=>t.trim()).forEach(t=>{switch(!0){case t==="":break;case this.shortModeRegexp.test(t):this._layoutOptions.shortMode=!0;break;case this.explainQueryRegexp.test(t):this._layoutOptions.explainQuery=!0;break;case this.limitRegexp.test(t):this.parseLimit({line:t});break;case this.parseSortBy({line:t}):break;case this.parseGroupBy({line:t}):break;case this.hideOptionsRegexp.test(t):this.parseHideOptions({line:t});break;case this.commentRegexp.test(t):break;case this.parseFilter(t):break;default:this._error=`do not understand query: ${t}`}})}append(e){return this.source===""?e:e.source===""?this:new Sn({source:`${this.source}
${e.source}`})}explainQuery(){let e="",t=this.filters.length;if(t===0)e+="No filters supplied. All tasks will match the query.";else for(let s=0;s<t;s++)s>0&&(e+=`
`),e+=this.filters[s].explainFilterIndented("");e+=this.explainQueryLimits();let{debugSettings:n}=ae();return n.ignoreSortInstructions&&(e+=`

NOTE: All sort instructions, including default sort order, are disabled, due to 'ignoreSortInstructions' setting.`),e}explainQueryLimits(){let e="";function t(n){let s=`

At most ${n} task`;return n!==1&&(s+="s"),s}return this._limit!==void 0&&(e+=t(this._limit),e+=`.
`),this._taskGroupLimit!==void 0&&(e+=t(this._taskGroupLimit),e+=` per group (if any "group by" options are supplied).
`),e}get limit(){return this._limit}get layoutOptions(){return this._layoutOptions}get filters(){return this._filters}get sorting(){return this._sorting}get grouping(){return this._grouping}get error(){return this._error}applyQueryToTasks(e){this.filters.forEach(o=>{e=e.filter(o.filterFunction)});let{debugSettings:t}=ae(),s=(t.ignoreSortInstructions?e:Si.by(this.sorting,e)).slice(0,this.limit),a=new Xu(this.grouping,s);return this._taskGroupLimit!==void 0&&a.applyTaskLimit(this._taskGroupLimit),a}parseHideOptions({line:e}){let t=e.match(this.hideOptionsRegexp);if(t!==null){let n=t[1]==="hide";switch(t[2]){case"task count":this._layoutOptions.hideTaskCount=n;break;case"backlink":this._layoutOptions.hideBacklinks=n;break;case"priority":this._layoutOptions.hidePriority=n;break;case"created date":this._layoutOptions.hideCreatedDate=n;break;case"start date":this._layoutOptions.hideStartDate=n;break;case"scheduled date":this._layoutOptions.hideScheduledDate=n;break;case"due date":this._layoutOptions.hideDueDate=n;break;case"done date":this._layoutOptions.hideDoneDate=n;break;case"recurrence rule":this._layoutOptions.hideRecurrenceRule=n;break;case"edit button":this._layoutOptions.hideEditButton=n;break;case"urgency":this._layoutOptions.hideUrgency=n;break;default:this._error="do not understand hide/show option"}}}parseFilter(e){let t=dl(e);return t!=null?(t.filter?this._filters.push(t.filter):this._error=t.error,!0):!1}parseLimit({line:e}){let t=e.match(this.limitRegexp);if(t===null){this._error="do not understand query limit";return}let n=Number.parseInt(t[3],10);t[1]!==void 0?this._taskGroupLimit=n:this._limit=n}parseSortBy({line:e}){let t=Uv(e);return t?(this._sorting.push(t),!0):!1}parseGroupBy({line:e}){let t=Wv(e);return t?(this._grouping.push(t),!0):!1}};function qv(r){let e="";Le.isEmpty()||(e+=`Only tasks containing the global filter '${Le.get()}'.

`);let t=new Sn(Gh());return t.source.trim()!==""&&(e+=`Explanation of the global query:

${t.explainQuery()}
`),e+=`Explanation of this Tasks code block query:

${new Sn({source:r}).explainQuery()}`,e}function _l(r){return new Sn(Gh()).append(new Sn({source:r}))}var Tl=class{constructor({plugin:e,events:t}){this.addQueryRenderChild=this._addQueryRenderChild.bind(this);this.app=e.app,this.events=t,e.registerMarkdownCodeBlockProcessor("tasks",this._addQueryRenderChild.bind(this))}_addQueryRenderChild(e,t,n){return Q(this,null,function*(){n.addChild(new wp({app:this.app,events:this.events,container:t,source:e,filePath:n.sourcePath}))})}},wp=class extends Ni.MarkdownRenderChild{constructor({app:t,events:n,container:s,source:a,filePath:o}){super(s);switch(this.app=t,this.events=n,this.source=a,this.filePath=o,this.containerEl.className){case"block-language-tasks":this.query=_l(this.source),this.queryType="tasks";break;default:this.query=_l(this.source),this.queryType="tasks";break}}onload(){this.events.triggerRequestCacheUpdate(this.render.bind(this)),this.renderEventRef=this.events.onCacheUpdate(this.render.bind(this)),this.reloadQueryAtMidnight()}onunload(){this.renderEventRef!==void 0&&this.events.off(this.renderEventRef),this.queryReloadTimeout!==void 0&&clearTimeout(this.queryReloadTimeout)}reloadQueryAtMidnight(){let t=new Date;t.setHours(24,0,0,0);let n=new Date,s=t.getTime()-n.getTime();this.queryReloadTimeout=setTimeout(()=>{this.query=_l(this.source),this.events.triggerRequestCacheUpdate(this.render.bind(this)),this.reloadQueryAtMidnight()},s+1e3)}render(s){return Q(this,arguments,function*({tasks:t,state:n}){var o;let a=this.containerEl.createEl("div");if(n==="Warm"&&this.query.error===void 0){console.debug(`Render ${this.queryType} called for a block in active file "${this.filePath}", to select from ${t.length} tasks: plugin state: ${n}`),this.query.layoutOptions.explainQuery&&this.createExplanation(a);let l=this.query.applyQueryToTasks(t);for(let f of l.groups){this.addGroupHeadings(a,f.groupHeadings);let{taskList:p}=yield this.createTasksList({tasks:f.tasks,content:a});a.appendChild(p)}let c=l.totalTasksCount();console.debug(`${c} of ${t.length} tasks displayed in a block in "${this.filePath}"`),this.addTaskCount(a,c)}else this.query.error!==void 0?a.createDiv().innerHTML=`<pre>Tasks query: ${this.query.error.replace(/\n/g,"<br>")}</pre>`:a.setText("Loading Tasks ...");(o=this.containerEl.firstChild)==null||o.replaceWith(a)})}createExplanation(t){let n=qv(this.source),s=t.createEl("pre");s.addClasses(["plugin-tasks-query-explanation"]),s.setText(n),t.appendChild(s)}createTasksList(s){return Q(this,arguments,function*({tasks:t,content:n}){let a=t.length,o=new Bn(this.query.layoutOptions),l=n.createEl("ul");l.addClasses(["contains-task-list","plugin-tasks-query-result"]),l.addClasses(o.specificClasses);let c=this.getGroupingAttribute();c&&c.length>0&&(l.dataset.taskGroupBy=c);for(let f=0;f<a;f++){let p=t[f],_=this.isFilenameUnique({task:p}),T=yield p.toLi({parentUlElement:l,listIndex:f,layoutOptions:this.query.layoutOptions,isFilenameUnique:_,taskLayout:o});T.querySelectorAll("[data-footnote-id]").forEach(I=>I.remove());let b=this.query.layoutOptions.shortMode,x=T.createSpan("task-extras");this.query.layoutOptions.hideUrgency||this.addUrgency(x,p),this.query.layoutOptions.hideBacklinks||this.addBacklinks(x,p,b,_),this.query.layoutOptions.hideEditButton||this.addEditButton(x,p),l.appendChild(T)}return{taskList:l,tasksCount:a}})}addEditButton(t,n){t.createEl("a",{cls:"tasks-edit"}).onClickEvent(a=>{a.preventDefault();let o=c=>{Fu({originalTask:n,newTasks:Xt.removeInferredStatusIfNeeded(n,c)})};new Zn({app:this.app,task:n,onSubmit:o}).open()})}addUrgency(t,n){let s=new Intl.NumberFormat().format(n.urgency);t.createSpan({text:s,cls:"tasks-urgency"})}addGroupHeadings(t,n){for(let s of n)this.addGroupHeading(t,s)}addGroupHeading(t,n){return Q(this,null,function*(){let s="h6";n.nestingLevel===0?s="h4":n.nestingLevel===1&&(s="h5");let a=t.createEl(s,{cls:"tasks-group-heading"});yield Ni.MarkdownRenderer.renderMarkdown(n.displayName,a,this.filePath,this)})}addBacklinks(t,n,s,a){var p;let o=t.createSpan({cls:"tasks-backlink"});s||o.append(" (");let l=o.createEl("a");l.rel="noopener",l.target="_blank",l.addClass("internal-link"),s&&l.addClass("internal-link-short-mode");let c;s?c=" \u{1F517}":c=(p=n.getLinkText({isFilenameUnique:a}))!=null?p:"",l.setText(c);let f=this.app.vault;l.addEventListener("click",_=>Q(this,null,function*(){let T=yield Vh(n,f);if(T){let[O,b]=T;yield this.app.workspace.getLeaf(Ni.Keymap.isModEvent(_)).openFile(b,{eState:{line:O}})}})),l.addEventListener("mousedown",_=>Q(this,null,function*(){if(_.button===1){let T=yield Vh(n,f);if(T){let[O,b]=T;yield this.app.workspace.getLeaf("tab").openFile(b,{eState:{line:O}})}}})),s||o.append(")")}addTaskCount(t,n){this.query.layoutOptions.hideTaskCount||t.createDiv({text:`${n} task${n!==1?"s":""}`,cls:"tasks-count"})}isFilenameUnique({task:t}){let n=t.path.match(/([^/]*)\..+$/i);if(n===null)return;let s=n[1];return this.app.vault.getMarkdownFiles().filter(o=>{if(o.basename===s)return!0}).length<2}getGroupingAttribute(){let t=[];for(let n of this.query.grouping)t.push(n.property);return t.join(",")}};var Ce=require("obsidian");function jv(){return[[" ","Unchecked","x","TODO"],["x","Checked"," ","DONE"],[">","Rescheduled","x","TODO"],["<","Scheduled","x","TODO"],["!","Important","x","TODO"],["-","Cancelled"," ","CANCELLED"],["/","In Progress","x","IN_PROGRESS"],["?","Question","x","TODO"],["*","Star","x","TODO"],["n","Note","x","TODO"],["l","Location","x","TODO"],["i","Information","x","TODO"],["I","Idea","x","TODO"],["S","Amount","x","TODO"],["p","Pro","x","TODO"],["c","Con","x","TODO"],["b","Bookmark","x","TODO"],['"',"Quote","x","TODO"],["0","Speech bubble 0","0","NON_TASK"],["1","Speech bubble 1","1","NON_TASK"],["2","Speech bubble 2","2","NON_TASK"],["3","Speech bubble 3","3","NON_TASK"],["4","Speech bubble 4","4","NON_TASK"],["5","Speech bubble 5","5","NON_TASK"],["6","Speech bubble 6","6","NON_TASK"],["7","Speech bubble 7","7","NON_TASK"],["8","Speech bubble 8","8","NON_TASK"],["9","Speech bubble 9","9","NON_TASK"]]}function Gv(){return[[" ","incomplete","x","TODO"],["x","complete / done"," ","DONE"],["-","cancelled"," ","CANCELLED"],[">","deferred","x","TODO"],["/","in progress, or half-done","x","IN_PROGRESS"],["!","Important","x","TODO"],["?","question","x","TODO"],["R","review","x","TODO"],["+","Inbox / task that should be processed later","x","TODO"],["b","bookmark","x","TODO"],["B","brainstorm","x","TODO"],["D","deferred or scheduled","x","TODO"],["I","Info","x","TODO"],["i","idea","x","TODO"],["N","note","x","TODO"],["Q","quote","x","TODO"],["W","win / success / reward","x","TODO"],["P","pro","x","TODO"],["C","con","x","TODO"]]}function $v(){return[[" ","Unchecked","x","TODO"],["x","Checked"," ","DONE"],["-","Cancelled"," ","CANCELLED"],["/","In Progress","x","IN_PROGRESS"],[">","Deferred","x","TODO"],["!","Important","x","TODO"],["?","Question","x","TODO"],["r","Review","x","TODO"]]}function Hv(){return[[" ","Unchecked","x","TODO"],["x","Regular"," ","DONE"],["X","Checked"," ","DONE"],["-","Dropped"," ","CANCELLED"],[">","Forward","x","TODO"],["D","Date","x","TODO"],["?","Question","x","TODO"],["/","Half Done","x","IN_PROGRESS"],["+","Add","x","TODO"],["R","Research","x","TODO"],["!","Important","x","TODO"],["i","Idea","x","TODO"],["B","Brainstorm","x","TODO"],["P","Pro","x","TODO"],["C","Con","x","TODO"],["Q","Quote","x","TODO"],["N","Note","x","TODO"],["b","Bookmark","x","TODO"],["I","Information","x","TODO"],["p","Paraphrase","x","TODO"],["L","Location","x","TODO"],["E","Example","x","TODO"],["A","Answer","x","TODO"],["r","Reward","x","TODO"],["c","Choice","x","TODO"],["d","Doing","x","IN_PROGRESS"],["T","Time","x","TODO"],["@","Character / Person","x","TODO"],["t","Talk","x","TODO"],["O","Outline / Plot","x","TODO"],["~","Conflict","x","TODO"],["W","World","x","TODO"],["f","Clue / Find","x","TODO"],["F","Foreshadow","x","TODO"],["H","Favorite / Health","x","TODO"],["&","Symbolism","x","TODO"],["s","Secret","x","TODO"]]}function Bv(){return[[" ","Unchecked","x","TODO"],["x","Checked"," ","DONE"],[">","Rescheduled","x","TODO"],["<","Scheduled","x","TODO"],["!","Important","x","TODO"],["-","Cancelled"," ","CANCELLED"],["/","In Progress","x","IN_PROGRESS"],["?","Question","x","TODO"],["*","Star","x","TODO"],["n","Note","x","TODO"],["l","Location","x","TODO"],["i","Information","x","TODO"],["I","Idea","x","TODO"],["S","Amount","x","TODO"],["p","Pro","x","TODO"],["c","Con","x","TODO"],["b","Bookmark","x","TODO"],["f","Fire","x","TODO"],["k","Key","x","TODO"],["w","Win","x","TODO"],["u","Up","x","TODO"],["d","Down","x","TODO"]]}function zv(){return[[" ","to-do","x","TODO"],["/","incomplete","x","IN_PROGRESS"],["x","done"," ","DONE"],["-","canceled"," ","CANCELLED"],[">","forwarded","x","TODO"],["<","scheduling","x","TODO"],["?","question","x","TODO"],["!","important","x","TODO"],["*","star","x","TODO"],['"',"quote","x","TODO"],["l","location","x","TODO"],["b","bookmark","x","TODO"],["i","information","x","TODO"],["S","savings","x","TODO"],["I","idea","x","TODO"],["p","pros","x","TODO"],["c","cons","x","TODO"],["f","fire","x","TODO"],["k","key","x","TODO"],["w","win","x","TODO"],["u","up","x","TODO"],["d","down","x","TODO"]]}function Vv(){return[[" ","to-do","x","TODO"],["/","incomplete","x","IN_PROGRESS"],["x","done"," ","DONE"],["-","canceled"," ","CANCELLED"],[">","forwarded","x","TODO"],["<","scheduling","x","TODO"],["?","question","x","TODO"],["!","important","x","TODO"],["*","star","x","TODO"],['"',"quote","x","TODO"],["l","location","x","TODO"],["b","bookmark","x","TODO"],["i","information","x","TODO"],["S","savings","x","TODO"],["I","idea","x","TODO"],["p","pros","x","TODO"],["c","cons","x","TODO"],["f","fire","x","TODO"],["k","key","x","TODO"],["w","win","x","TODO"],["u","up","x","TODO"],["d","down","x","TODO"]]}var Kv=[{text:"Core Statuses",level:"h3",class:"",open:!0,notice:{class:"setting-item-description",text:null,html:"<p>These are the core statuses that Tasks supports natively, with no need for custom CSS styling or theming.</p><p>You can add edit and add your own custom statuses in the section below.</p>"},settings:[{name:"",description:"",type:"function",initialValue:"",placeholder:"",settingName:"insertTaskCoreStatusSettings",featureFlag:"",notice:null}]},{text:"Custom Statuses",level:"h3",class:"",open:!0,notice:{class:"setting-item-description",text:null,html:`<p>You should first <b>select and install a CSS Snippet or Theme</b> to style custom checkboxes.</p><p>Then, use the buttons below to set up your custom statuses, to match your chosen CSS checkboxes.</p><p><b>Note</b> Any statuses with the same symbol as any earlier statuses will be ignored. You can confirm the actually loaded statuses by running the 'Create or edit task' command and looking at the Status drop-down.</p><p></p><p>See the <a href="https://publish.obsidian.md/tasks/Getting+Started/Statuses">documentation</a> to get started!</p>`},settings:[{name:"",description:"",type:"function",initialValue:"",placeholder:"",settingName:"insertCustomTaskStatusSettings",featureFlag:"",notice:null}]}];var Yr=require("obsidian");var Ys=class{validate(e){let t=[];return t.push(...this.validateSymbol(e)),t.push(...this.validateName(e)),t.push(...this.validateNextSymbol(e)),t}validateStatusCollectionEntry(e){let[t,n,s,a]=e,o=[];if(o.push(...this.validateType(a)),t===s&&a!=="NON_TASK"&&o.push(`Status symbol '${t}' toggles to itself`),o.length>0)return o;let l=he.createFromImportedValue(e).configuration;return o.push(...this.validateSymbolTypeConventions(l)),o.push(...this.validate(l)),o}validateSymbol(e){return Ys.validateOneSymbol(e.symbol,"Task Status Symbol")}validateNextSymbol(e){return Ys.validateOneSymbol(e.nextStatusSymbol,"Task Next Status Symbol")}validateName(e){let t=[];return e.name.length===0&&t.push("Task Status Name cannot be empty."),t}validateType(e){let t=Dr[e],n=[];return t||n.push(`Status Type "${e}" is not a valid type`),t=="EMPTY"&&n.push('Status Type "EMPTY" is not permitted in user data'),n}validateSymbolTypeConventions(e){let t=[],n=e.symbol,s=new He,a=n==="X"?"x":n,o=s.bySymbol(a);return o.type!=="EMPTY"&&(e.nextStatusSymbol!==o.nextStatusSymbol&&t.push(`Next Status Symbol for symbol '${n}': '${e.nextStatusSymbol}' is inconsistent with convention '${o.nextStatusSymbol}'`),e.type!==o.type&&t.push(`Status Type for symbol '${n}': '${e.type}' is inconsistent with convention '${o.type}'`)),t}static validateOneSymbol(e,t){let n=[];return e.length===0&&n.push(`${t} cannot be empty.`),e.length>1&&n.push(`${t} ("${e}") must be a single character.`),n}};var Us=new Ys,cr=class extends Yr.Modal{constructor(t,n,s){super(t.app);this.plugin=t;this.saved=!1;this.error=!1;this.statusSymbol=n.symbol,this.statusName=n.name,this.statusNextSymbol=n.nextStatusSymbol,this.statusAvailableAsCommand=n.availableAsCommand,this.type=n.type,this.isCoreStatus=s}statusConfiguration(){return new Rt(this.statusSymbol,this.statusName,this.statusNextSymbol,this.statusAvailableAsCommand,this.type)}display(){return Q(this,null,function*(){let{contentEl:t}=this;t.empty();let n=t.createDiv(),s;new Yr.Setting(n).setName("Task Status Symbol").setDesc("This is the character between the square braces. (It can only be edited for Custom statuses, and not Core statuses.)").addText(f=>{s=f,f.setValue(this.statusSymbol).onChange(p=>{this.statusSymbol=p,cr.setValid(f,Us.validateSymbol(this.statusConfiguration()))})}).setDisabled(this.isCoreStatus).then(f=>{cr.setValid(s,Us.validateSymbol(this.statusConfiguration()))});let a;new Yr.Setting(n).setName("Task Status Name").setDesc("This is the friendly name of the task status.").addText(f=>{a=f,f.setValue(this.statusName).onChange(p=>{this.statusName=p,cr.setValid(f,Us.validateName(this.statusConfiguration()))})}).then(f=>{cr.setValid(a,Us.validateName(this.statusConfiguration()))});let o;new Yr.Setting(n).setName("Task Next Status Symbol").setDesc("When clicked on this is the symbol that should be used next.").addText(f=>{o=f,f.setValue(this.statusNextSymbol).onChange(p=>{this.statusNextSymbol=p,cr.setValid(f,Us.validateNextSymbol(this.statusConfiguration()))})}).then(f=>{cr.setValid(o,Us.validateNextSymbol(this.statusConfiguration()))}),new Yr.Setting(n).setName("Task Status Type").setDesc("Control how the status behaves for searching and toggling.").addDropdown(f=>{["TODO","IN_PROGRESS","DONE","CANCELLED","NON_TASK"].forEach(_=>{f.addOption(_,_)}),f.setValue(this.type).onChange(_=>{this.type=he.getTypeFromStatusTypeString(_)})}),he.tasksPluginCanCreateCommandsForStatuses()&&new Yr.Setting(n).setName("Available as command").setDesc("If enabled this status will be available as a command so you can assign a hotkey and toggle the status using it.").addToggle(f=>{f.setValue(this.statusAvailableAsCommand).onChange(p=>Q(this,null,function*(){this.statusAvailableAsCommand=p}))});let l=t.createDiv(),c=new Yr.Setting(l);c.addButton(f=>(f.setTooltip("Save").setIcon("checkmark").onClick(()=>Q(this,null,function*(){let p=Us.validate(this.statusConfiguration());if(p.length>0){let _=p.join(`
`)+`

Fix errors before saving.`;new Yr.Notice(_);return}this.saved=!0,this.close()})),f)),c.addExtraButton(f=>(f.setIcon("cross").setTooltip("Cancel").onClick(()=>{this.saved=!1,this.close()}),f))})}onOpen(){this.display()}static setValidationError(t){t.inputEl.addClass("tasks-settings-is-invalid")}static removeValidationError(t){t.inputEl.removeClass("tasks-settings-is-invalid")}static setValid(t,n){n.length===0?cr.removeValidationError(t):cr.setValidationError(t)}};var es=class extends Ce.PluginSettingTab{constructor({plugin:t}){super(t.app,t);this.customFunctions={insertTaskCoreStatusSettings:this.insertTaskCoreStatusSettings.bind(this),insertCustomTaskStatusSettings:this.insertCustomTaskStatusSettings.bind(this)};this.plugin=t}saveSettings(t){return Q(this,null,function*(){yield this.plugin.saveSettings(),t&&this.display()})}display(){let{containerEl:t}=this;t.empty(),this.containerEl.addClass("tasks-settings"),t.createEl("h3",{text:"Tasks Settings"}),t.createEl("p",{cls:"tasks-setting-important",text:"Changing any settings requires a restart of obsidian."}),t.createEl("h4",{text:"Task Format Settings"}),new Ce.Setting(t).setName("Task Format").setDesc(es.createFragmentWithHTML('<p>The format that Tasks uses to read and write tasks.</p><p><b>Important:</b> Tasks currently only supports one format at a time. Selecting Dataview will currently <b>stop Tasks reading its own emoji signifiers</b>.</p><p>See the <a href="https://publish.obsidian.md/tasks/Reference/Task+Formats/About+Task+Formats">documentation</a>.</p>')).addDropdown(s=>{for(let a of Object.keys(_n))s.addOption(a,_n[a].displayName);s.setValue(ae().taskFormat).onChange(a=>Q(this,null,function*(){dt({taskFormat:a}),yield this.plugin.saveSettings()}))}),t.createEl("h4",{text:"Global filter Settings"}),new Ce.Setting(t).setName("Global task filter").setDesc(es.createFragmentWithHTML('<p><b>Recommended: Leave empty if you want all checklist items in your vault to be tasks managed by this plugin.</b></p><p>Use a global filter if you want Tasks to only act on a subset of your "<code>- [ ]</code>" checklist items, so that a checklist item must include the specified string in its description in order to be considered a task.<p><p>For example, if you set the global filter to <code>#task</code>, the Tasks plugin will only handle checklist items tagged with <code>#task</code>.</br>Other checklist items will remain normal checklist items and not appear in queries or get a done date set.</p><p>See the <a href="https://publish.obsidian.md/tasks/Getting+Started/Global+Filter">documentation</a>.</p>')).addText(s=>{s.setPlaceholder("e.g. #task or TODO").setValue(Le.get()).onChange(a=>Q(this,null,function*(){Le.set(a),yield this.plugin.saveSettings()}))}),new Ce.Setting(t).setName("Remove global filter from description").setDesc("Enabling this removes the string that you set as global filter from the task description when displaying a task.").addToggle(s=>{let a=ae();s.setValue(a.removeGlobalFilter).onChange(o=>Q(this,null,function*(){dt({removeGlobalFilter:o}),yield this.plugin.saveSettings()}))}),t.createEl("h4",{text:"Global Query"}),PF(new Ce.Setting(t).setDesc(es.createFragmentWithHTML('<p>A query that is automatically included at the start of every Tasks block in the vault. Useful for adding default filters, or layout options.</p><p>See the <a href="https://publish.obsidian.md/tasks/Queries/Global+Query">documentation</a>.</p>')).addTextArea(s=>{let a=ae();s.inputEl.rows=4,s.setPlaceholder(`# For example...
path does not include _templates/
limit 300
show urgency`).setValue(a.globalQuery).onChange(o=>Q(this,null,function*(){dt({globalQuery:o}),yield this.plugin.saveSettings()}))})),t.createEl("h4",{text:"Task Statuses"});let{headingOpened:n}=ae();Kv.forEach(s=>{this.addOneSettingsBlock(t,s,n)}),t.createEl("h4",{text:"Date Settings"}),new Ce.Setting(t).setName("Set created date on every added task").setDesc("Enabling this will add a timestamp \u2795 YYYY-MM-DD before other date values, when a task is created with 'Create or edit task', or by completing a recurring task.").addToggle(s=>{let a=ae();s.setValue(a.setCreatedDate).onChange(o=>Q(this,null,function*(){dt({setCreatedDate:o}),yield this.plugin.saveSettings()}))}),new Ce.Setting(t).setName("Set done date on every completed task").setDesc("Enabling this will add a timestamp \u2705 YYYY-MM-DD at the end when a task is toggled to done.").addToggle(s=>{let a=ae();s.setValue(a.setDoneDate).onChange(o=>Q(this,null,function*(){dt({setDoneDate:o}),yield this.plugin.saveSettings()}))}),new Ce.Setting(t).setName("Use filename as Scheduled date for undated tasks").setDesc(es.createFragmentWithHTML('Save time entering Scheduled (\u23F3) dates.</br>If this option is enabled, any undated tasks will be given a default Scheduled date extracted from their file name.</br>The date in the file name must be in one of <code>YYYY-MM-DD</code> or <code>YYYYMMDD</code> formats.</br>Undated tasks have none of Due (\u{1F4C5} ), Scheduled (\u23F3) and Start (\u{1F6EB}) dates.</br><p>See the <a href="https://publish.obsidian.md/tasks/Getting+Started/Use+Filename+as+Default+Date">documentation</a>.</p>')).addToggle(s=>{let a=ae();s.setValue(a.useFilenameAsScheduledDate).onChange(o=>Q(this,null,function*(){dt({useFilenameAsScheduledDate:o}),yield this.plugin.saveSettings()}))}),new Ce.Setting(t).setName("Folders with default Scheduled dates").setDesc("Leave empty if you want to use default Scheduled dates everywhere, or enter a comma-separated list of folders.").addText(s=>Q(this,null,function*(){let a=ae();yield this.plugin.saveSettings(),s.setValue(es.renderFolderArray(a.filenameAsDateFolders)).onChange(o=>Q(this,null,function*(){let l=es.parseCommaSeparatedFolders(o);dt({filenameAsDateFolders:l}),yield this.plugin.saveSettings()}))})),t.createEl("h4",{text:"Recurring task Settings"}),new Ce.Setting(t).setName("Next recurrence appears on the line below").setDesc("Enabling this will make the next recurrence of a task appear on the line below the completed task. Otherwise the next recurrence will appear before the completed one.").addToggle(s=>{let{recurrenceOnNextLine:a}=ae();s.setValue(a).onChange(o=>Q(this,null,function*(){dt({recurrenceOnNextLine:o}),yield this.plugin.saveSettings()}))}),t.createEl("h4",{text:"Auto-suggest Settings"}),new Ce.Setting(t).setName("Auto-suggest task content").setDesc("Enabling this will open an intelligent suggest menu while typing inside a recognized task line.").addToggle(s=>{let a=ae();s.setValue(a.autoSuggestInEditor).onChange(o=>Q(this,null,function*(){dt({autoSuggestInEditor:o}),yield this.plugin.saveSettings()}))}),new Ce.Setting(t).setName("Minimum match length for auto-suggest").setDesc("If higher than 0, auto-suggest will be triggered only when the beginning of any supported keywords is recognized.").addSlider(s=>{let a=ae();s.setLimits(0,3,1).setValue(a.autoSuggestMinMatch).setDynamicTooltip().onChange(o=>Q(this,null,function*(){dt({autoSuggestMinMatch:o}),yield this.plugin.saveSettings()}))}),new Ce.Setting(t).setName("Maximum number of auto-suggestions to show").setDesc('How many suggestions should be shown when an auto-suggest menu pops up (including the "\u23CE" option).').addSlider(s=>{let a=ae();s.setLimits(3,12,1).setValue(a.autoSuggestMaxItems).setDynamicTooltip().onChange(o=>Q(this,null,function*(){dt({autoSuggestMaxItems:o}),yield this.plugin.saveSettings()}))}),t.createEl("h4",{text:"Dialog Settings"}),new Ce.Setting(t).setName("Provide access keys in dialogs").setDesc("If the access keys (keyboard shortcuts) for various controls in dialog boxes conflict with system keyboard shortcuts or assistive technology functionality that is important for you, you may want to deactivate them here.").addToggle(s=>{let a=ae();s.setValue(a.provideAccessKeys).onChange(o=>Q(this,null,function*(){dt({provideAccessKeys:o}),yield this.plugin.saveSettings()}))})}addOneSettingsBlock(t,n,s){let a=t.createEl("details",{cls:"tasks-nested-settings",attr:Pe({},n.open||s[n.text]?{open:!0}:{})});a.empty(),a.ontoggle=()=>{s[n.text]=a.open,dt({headingOpened:s}),this.plugin.saveSettings()};let o=a.createEl("summary");if(new Ce.Setting(o).setHeading().setName(n.text),o.createDiv("collapser").createDiv("handle"),n.notice!==null){let l=a.createEl("div",{cls:n.notice.class,text:n.notice.text});n.notice.html!==null&&l.insertAdjacentHTML("beforeend",n.notice.html)}n.settings.forEach(l=>{if(!(l.featureFlag!==""&&!$b(l.featureFlag))&&(l.type==="checkbox"?new Ce.Setting(a).setName(l.name).setDesc(l.description).addToggle(c=>{let f=ae();f.generalSettings[l.settingName]||Ss(l.settingName,l.initialValue),c.setValue(f.generalSettings[l.settingName]).onChange(p=>Q(this,null,function*(){Ss(l.settingName,p),yield this.plugin.saveSettings()}))}):l.type==="text"?new Ce.Setting(a).setName(l.name).setDesc(l.description).addText(c=>{let f=ae();f.generalSettings[l.settingName]||Ss(l.settingName,l.initialValue);let p=_=>Q(this,null,function*(){Ss(l.settingName,_),yield this.plugin.saveSettings()});c.setPlaceholder(l.placeholder.toString()).setValue(f.generalSettings[l.settingName].toString()).onChange((0,Ce.debounce)(p,500,!0))}):l.type==="textarea"?new Ce.Setting(a).setName(l.name).setDesc(l.description).addTextArea(c=>{let f=ae();f.generalSettings[l.settingName]||Ss(l.settingName,l.initialValue);let p=_=>Q(this,null,function*(){Ss(l.settingName,_),yield this.plugin.saveSettings()});c.setPlaceholder(l.placeholder.toString()).setValue(f.generalSettings[l.settingName].toString()).onChange((0,Ce.debounce)(p,500,!0)),c.inputEl.rows=8,c.inputEl.cols=40}):l.type==="function"&&this.customFunctions[l.settingName](a,this),l.notice!==null)){let c=a.createEl("p",{cls:l.notice.class,text:l.notice.text});l.notice.html!==null&&c.insertAdjacentHTML("beforeend",l.notice.html)}})}static parseCommaSeparatedFolders(t){return t.split(",").map(n=>n.trim()).map(n=>n.replace(/^\/|\/$/g,"")).filter(n=>n!=="")}static renderFolderArray(t){return t.join(",")}insertTaskCoreStatusSettings(t,n){let{statusSettings:s}=ae();s.coreStatuses.forEach(a=>{Zv(t,a,s.coreStatuses,s,n,n.plugin,!0)})}insertCustomTaskStatusSettings(t,n){let{statusSettings:s}=ae();s.customStatuses.forEach(f=>{Zv(t,f,s.customStatuses,s,n,n.plugin,!1)}),t.createEl("div"),new Ce.Setting(t).addButton(f=>{f.setButtonText("Add New Task Status").setCta().onClick(()=>Q(this,null,function*(){gt.addStatus(s.customStatuses,new Rt("","","",!1,"TODO")),yield Ci(s,n)}))}).infoEl.remove();let o=[["AnuPpuccin Theme",jv()],["Aura Theme",Gv()],["Ebullientworks Theme",$v()],["ITS Theme & SlRvb Checkboxes",Hv()],["Minimal Theme",zv()],["Things Theme",Vv()],["LYT Mode Theme (Dark mode only)",Bv()]];for(let[f,p]of o)new Ce.Setting(t).addButton(T=>{let O=`${f}: Add ${p.length} supported Statuses`;T.setButtonText(O).onClick(()=>Q(this,null,function*(){yield AF(p,s,n)}))}).infoEl.remove();new Ce.Setting(t).addButton(f=>{f.setButtonText("Add All Unknown Status Types").setCta().onClick(()=>Q(this,null,function*(){let _=this.plugin.getTasks().map(O=>O.status),T=He.getInstance().findUnknownStatuses(_);T.length!==0&&(T.forEach(O=>{gt.addStatus(s.customStatuses,O)}),yield Ci(s,n))}))}).infoEl.remove(),new Ce.Setting(t).addButton(f=>{f.setButtonText("Reset Custom Status Types to Defaults").setWarning().onClick(()=>Q(this,null,function*(){gt.resetAllCustomStatuses(s),yield Ci(s,n)}))}).infoEl.remove()}},fo=es;fo.createFragmentWithHTML=t=>createFragment(n=>n.createDiv().innerHTML=t);function Zv(r,e,t,n,s,a,o){let l=r.createEl("pre");l.addClass("row-for-status"),l.textContent=new he(e).previewText();let c=new Ce.Setting(r);c.infoEl.replaceWith(l),o||c.addExtraButton(f=>{f.setIcon("cross").setTooltip("Delete").onClick(()=>Q(this,null,function*(){gt.deleteStatus(t,e)&&(yield Ci(n,s))}))}),c.addExtraButton(f=>{f.setIcon("pencil").setTooltip("Edit").onClick(()=>Q(this,null,function*(){let p=new cr(a,e,o);p.onClose=()=>Q(this,null,function*(){p.saved&&gt.replaceStatus(t,e,p.statusConfiguration())&&(yield Ci(n,s))}),p.open()}))}),c.infoEl.remove()}function AF(r,e,t){return Q(this,null,function*(){gt.bulkAddStatusCollection(e,r).forEach(s=>{new Ce.Notice(s)}),yield Ci(e,t)})}function Ci(r,e){return Q(this,null,function*(){dt({statusSettings:r}),gt.applyToStatusRegistry(r,He.getInstance()),yield e.saveSettings(!0)})}function PF(r){let{settingEl:e,infoEl:t,controlEl:n}=r,s=n.querySelector("textarea");console.log({settingEl:e,infoEl:t,controlEl:n,textEl:s}),s!==null&&(e.style.display="block",t.style.marginRight="0px",s.style.minWidth="-webkit-fill-available")}var Qv=require("obsidian");var bl=class extends Qv.EditorSuggest{constructor(t,n){super(t);this.settings=n}onTrigger(t,n,s){if(!this.settings.autoSuggestInEditor)return null;let a=n.getLine(t.line);return Le.includedIn(a)&&a.match(ie.taskRegex)?{start:{line:t.line,ch:0},end:{line:t.line,ch:a.length},query:a}:null}getSuggestions(t){var o,l,c;let n=t.query,s=t.editor.getCursor();return((c=(l=(o=Xa()).buildSuggestions)==null?void 0:l.call(o,n,s.ch,this.settings))!=null?c:[]).map(f=>tr(Pe({},f),{context:t}))}renderSuggestion(t,n){n.setText(t.displayText)}selectSuggestion(t,n){var c,f,p;let s=t.context.editor;if(t.suggestionType==="empty"){this.close();let _=new KeyboardEvent("keydown",{code:"Enter",key:"Enter"});(f=(c=s==null?void 0:s.cm)==null?void 0:c.contentDOM)==null||f.dispatchEvent(_);return}let a=t.context.editor.getCursor(),o={line:a.line,ch:(p=t.insertAt)!=null?p:a.ch},l=t.insertSkip?{line:a.line,ch:o.ch+t.insertSkip}:void 0;t.context.editor.replaceRange(t.appendText,o,l),t.context.editor.setCursor({line:a.line,ch:o.ch+t.appendText.length})}};var Xv=(r,e)=>{let t,n=new Promise((o,l)=>{t=o});return e(r,o=>{let l=o.map(c=>c.toFileLineString()).join(`
`);t(l)}).open(),n};var Jv=(r,e)=>{let t=qu({line:"",path:""});return new Zn({app:r,task:t,onSubmit:e})};var ew=r=>({createTaskLineModal:()=>Xv(r,Jv)});var vl=class extends tw.Plugin{get apiV1(){return ew(app)}onload(){return Q(this,null,function*(){Nu.registerConsoleLogger(),console.log('loading plugin "tasks"'),yield this.loadSettings(),this.addSettingTab(new fo({plugin:this})),Zb({metadataCache:this.app.metadataCache,vault:this.app.vault,workspace:this.app.workspace}),yield this.loadTaskStatuses();let t=new Gu({obsidianEvents:this.app.workspace});this.cache=new Os({metadataCache:this.app.metadataCache,vault:this.app.vault,events:t}),this.inlineRenderer=new $u({plugin:this}),this.queryRenderer=new Tl({plugin:this,events:t}),this.registerEditorExtension(Dv()),this.registerEditorSuggest(new bl(this.app,ae())),new ju({plugin:this})})}loadTaskStatuses(){return Q(this,null,function*(){let{statusSettings:t}=ae();gt.applyToStatusRegistry(t,He.getInstance())})}onunload(){var t;console.log('unloading plugin "tasks"'),(t=this.cache)==null||t.unload()}loadSettings(){return Q(this,null,function*(){let t=yield this.loadData();dt(t),yield this.loadTaskStatuses()})}saveSettings(){return Q(this,null,function*(){yield this.saveData(ae())})}getTasks(){var t;return(t=this.cache)==null?void 0:t.getTasks()}};
/*!
 * EventEmitter2
 * https://github.com/hij1nx/EventEmitter2
 *
 * Copyright (c) 2013 hij1nx
 * Licensed under the MIT license.
 */
//! authors : Tim Wood, Iskren Chernev, Moment.js contributors
//! license : MIT
//! moment.js
//! momentjs.com
//! version : 2.29.4
