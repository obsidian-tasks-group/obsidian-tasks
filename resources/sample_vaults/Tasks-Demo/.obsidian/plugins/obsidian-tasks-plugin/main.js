/*
THIS IS A GENERATED/BUNDLED FILE BY ESBUILD
if you want to view the source visit the plugins github repository
*/

/*
License obsidian-tasks:
MIT License

Copyright (c) 2021 Martin Schenck

Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the "Software"), to deal
in the Software without restriction, including without limitation the rights
to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the Software is
furnished to do so, subject to the following conditions:

The above copyright notice and this permission notice shall be included in all
copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
SOFTWARE.
*/

/*
License rrule (included library):
rrule.js: Library for working with recurrence rules for calendar dates.
=======================================================================

Copyright 2010, Jakub Roztocil <jakub@roztocil.name> and Lars Schöning

Redistribution and use in source and binary forms, with or without
modification, are permitted provided that the following conditions are met:

    1. Redistributions of source code must retain the above copyright notice,
       this list of conditions and the following disclaimer.

    2. Redistributions in binary form must reproduce the above copyright
       notice, this list of conditions and the following disclaimer in the
       documentation and/or other materials provided with the distribution.

    3. Neither the name of The author nor the names of its contributors may
       be used to endorse or promote products derived from this software
       without specific prior written permission.

THIS SOFTWARE IS PROVIDED BY THE AUTHOR AND CONTRIBUTORS "AS IS" AND
ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED
WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE
DISCLAIMED. IN NO EVENT SHALL THE AUTHOR AND CONTRIBUTORS BE LIABLE FOR
ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES
(INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;
LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON
ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT
(INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.



./rrule.js and ./test/tests.js is based on python-dateutil. LICENCE:

python-dateutil - Extensions to the standard Python datetime module.
====================================================================

Copyright (c) 2003-2011 - Gustavo Niemeyer <gustavo@niemeyer.net>
Copyright (c) 2012 - Tomi Pieviläinen <tomi.pievilainen@iki.fi>

All rights reserved.

Redistribution and use in source and binary forms, with or without
modification, are permitted provided that the following conditions are met:

    * Redistributions of source code must retain the above copyright notice,
      this list of conditions and the following disclaimer.
    * Redistributions in binary form must reproduce the above copyright notice,
      this list of conditions and the following disclaimer in the documentation
      and/or other materials provided with the distribution.
    * Neither the name of the copyright holder nor the names of its
      contributors may be used to endorse or promote products derived from
      this software without specific prior written permission.

THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS
"AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT
LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR
A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR
CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/

/*
License chrono-node (included library):
The MIT License

Copyright (c) 2014, Wanasit Tanakitrungruang

Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the "Software"), to deal
in the Software without restriction, including without limitation the rights
to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the Software is
furnished to do so, subject to the following conditions:

The above copyright notice and this permission notice shall be included in
all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
THE SOFTWARE.
*/

"use strict";var g_=Object.create;var Nn=Object.defineProperty,__=Object.defineProperties,T_=Object.getOwnPropertyDescriptor,b_=Object.getOwnPropertyDescriptors,v_=Object.getOwnPropertyNames,Bd=Object.getOwnPropertySymbols,E_=Object.getPrototypeOf,Hd=Object.prototype.hasOwnProperty,R_=Object.prototype.propertyIsEnumerable;var Gd=(r,e,t)=>e in r?Nn(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,$e=(r,e)=>{for(var t in e||(e={}))Hd.call(e,t)&&Gd(r,t,e[t]);if(Bd)for(var t of Bd(e))R_.call(e,t)&&Gd(r,t,e[t]);return r},Ut=(r,e)=>__(r,b_(e));var h=(r,e)=>()=>(e||r((e={exports:{}}).exports,e),e.exports),w_=(r,e)=>{for(var t in e)Nn(r,t,{get:e[t],enumerable:!0})},zd=(r,e,t,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of v_(e))!Hd.call(r,i)&&i!==t&&Nn(r,i,{get:()=>e[i],enumerable:!(n=T_(e,i))||n.enumerable});return r};var as=(r,e,t)=>(t=r!=null?g_(E_(r)):{},zd(e||!r||!r.__esModule?Nn(t,"default",{value:r,enumerable:!0}):t,r)),M_=r=>zd(Nn({},"__esModule",{value:!0}),r);var ae=(r,e,t)=>new Promise((n,i)=>{var s=u=>{try{o(t.next(u))}catch(l){i(l)}},a=u=>{try{o(t.throw(u))}catch(l){i(l)}},o=u=>u.done?n(u.value):Promise.resolve(u.value).then(s,a);o((t=t.apply(r,e)).next())});var Ef=h((gA,ps)=>{var ef,tf,rf,nf,sf,af,of,uf,lf,ds,Xa,cf,df,ff,Xr,pf,hf,mf,yf,gf,_f,Tf,bf,vf,fs;(function(r){var e=typeof global=="object"?global:typeof self=="object"?self:typeof this=="object"?this:{};typeof define=="function"&&define.amd?define("tslib",["exports"],function(n){r(t(e,t(n)))}):typeof ps=="object"&&typeof ps.exports=="object"?r(t(e,t(ps.exports))):r(t(e));function t(n,i){return n!==e&&(typeof Object.create=="function"?Object.defineProperty(n,"__esModule",{value:!0}):n.__esModule=!0),function(s,a){return n[s]=i?i(s,a):a}}})(function(r){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(n[s]=i[s])};ef=function(n,i){if(typeof i!="function"&&i!==null)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");e(n,i);function s(){this.constructor=n}n.prototype=i===null?Object.create(i):(s.prototype=i.prototype,new s)},tf=Object.assign||function(n){for(var i,s=1,a=arguments.length;s<a;s++){i=arguments[s];for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])}return n},rf=function(n,i){var s={};for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&i.indexOf(a)<0&&(s[a]=n[a]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,a=Object.getOwnPropertySymbols(n);o<a.length;o++)i.indexOf(a[o])<0&&Object.prototype.propertyIsEnumerable.call(n,a[o])&&(s[a[o]]=n[a[o]]);return s},nf=function(n,i,s,a){var o=arguments.length,u=o<3?i:a===null?a=Object.getOwnPropertyDescriptor(i,s):a,l;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")u=Reflect.decorate(n,i,s,a);else for(var c=n.length-1;c>=0;c--)(l=n[c])&&(u=(o<3?l(u):o>3?l(i,s,u):l(i,s))||u);return o>3&&u&&Object.defineProperty(i,s,u),u},sf=function(n,i){return function(s,a){i(s,a,n)}},af=function(n,i){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(n,i)},of=function(n,i,s,a){function o(u){return u instanceof s?u:new s(function(l){l(u)})}return new(s||(s=Promise))(function(u,l){function c(p){try{f(a.next(p))}catch(y){l(y)}}function d(p){try{f(a.throw(p))}catch(y){l(y)}}function f(p){p.done?u(p.value):o(p.value).then(c,d)}f((a=a.apply(n,i||[])).next())})},uf=function(n,i){var s={label:0,sent:function(){if(u[0]&1)throw u[1];return u[1]},trys:[],ops:[]},a,o,u,l;return l={next:c(0),throw:c(1),return:c(2)},typeof Symbol=="function"&&(l[Symbol.iterator]=function(){return this}),l;function c(f){return function(p){return d([f,p])}}function d(f){if(a)throw new TypeError("Generator is already executing.");for(;s;)try{if(a=1,o&&(u=f[0]&2?o.return:f[0]?o.throw||((u=o.return)&&u.call(o),0):o.next)&&!(u=u.call(o,f[1])).done)return u;switch(o=0,u&&(f=[f[0]&2,u.value]),f[0]){case 0:case 1:u=f;break;case 4:return s.label++,{value:f[1],done:!1};case 5:s.label++,o=f[1],f=[0];continue;case 7:f=s.ops.pop(),s.trys.pop();continue;default:if(u=s.trys,!(u=u.length>0&&u[u.length-1])&&(f[0]===6||f[0]===2)){s=0;continue}if(f[0]===3&&(!u||f[1]>u[0]&&f[1]<u[3])){s.label=f[1];break}if(f[0]===6&&s.label<u[1]){s.label=u[1],u=f;break}if(u&&s.label<u[2]){s.label=u[2],s.ops.push(f);break}u[2]&&s.ops.pop(),s.trys.pop();continue}f=i.call(n,s)}catch(p){f=[6,p],o=0}finally{a=u=0}if(f[0]&5)throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}},lf=function(n,i){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(i,s)&&fs(i,n,s)},fs=Object.create?function(n,i,s,a){a===void 0&&(a=s);var o=Object.getOwnPropertyDescriptor(i,s);(!o||("get"in o?!i.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return i[s]}}),Object.defineProperty(n,a,o)}:function(n,i,s,a){a===void 0&&(a=s),n[a]=i[s]},ds=function(n){var i=typeof Symbol=="function"&&Symbol.iterator,s=i&&n[i],a=0;if(s)return s.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&a>=n.length&&(n=void 0),{value:n&&n[a++],done:!n}}};throw new TypeError(i?"Object is not iterable.":"Symbol.iterator is not defined.")},Xa=function(n,i){var s=typeof Symbol=="function"&&n[Symbol.iterator];if(!s)return n;var a=s.call(n),o,u=[],l;try{for(;(i===void 0||i-- >0)&&!(o=a.next()).done;)u.push(o.value)}catch(c){l={error:c}}finally{try{o&&!o.done&&(s=a.return)&&s.call(a)}finally{if(l)throw l.error}}return u},cf=function(){for(var n=[],i=0;i<arguments.length;i++)n=n.concat(Xa(arguments[i]));return n},df=function(){for(var n=0,i=0,s=arguments.length;i<s;i++)n+=arguments[i].length;for(var a=Array(n),o=0,i=0;i<s;i++)for(var u=arguments[i],l=0,c=u.length;l<c;l++,o++)a[o]=u[l];return a},ff=function(n,i,s){if(s||arguments.length===2)for(var a=0,o=i.length,u;a<o;a++)(u||!(a in i))&&(u||(u=Array.prototype.slice.call(i,0,a)),u[a]=i[a]);return n.concat(u||Array.prototype.slice.call(i))},Xr=function(n){return this instanceof Xr?(this.v=n,this):new Xr(n)},pf=function(n,i,s){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var a=s.apply(n,i||[]),o,u=[];return o={},l("next"),l("throw"),l("return"),o[Symbol.asyncIterator]=function(){return this},o;function l(m){a[m]&&(o[m]=function(g){return new Promise(function(A,x){u.push([m,g,A,x])>1||c(m,g)})})}function c(m,g){try{d(a[m](g))}catch(A){y(u[0][3],A)}}function d(m){m.value instanceof Xr?Promise.resolve(m.value.v).then(f,p):y(u[0][2],m)}function f(m){c("next",m)}function p(m){c("throw",m)}function y(m,g){m(g),u.shift(),u.length&&c(u[0][0],u[0][1])}},hf=function(n){var i,s;return i={},a("next"),a("throw",function(o){throw o}),a("return"),i[Symbol.iterator]=function(){return this},i;function a(o,u){i[o]=n[o]?function(l){return(s=!s)?{value:Xr(n[o](l)),done:o==="return"}:u?u(l):l}:u}},mf=function(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=n[Symbol.asyncIterator],s;return i?i.call(n):(n=typeof ds=="function"?ds(n):n[Symbol.iterator](),s={},a("next"),a("throw"),a("return"),s[Symbol.asyncIterator]=function(){return this},s);function a(u){s[u]=n[u]&&function(l){return new Promise(function(c,d){l=n[u](l),o(c,d,l.done,l.value)})}}function o(u,l,c,d){Promise.resolve(d).then(function(f){u({value:f,done:c})},l)}},yf=function(n,i){return Object.defineProperty?Object.defineProperty(n,"raw",{value:i}):n.raw=i,n};var t=Object.create?function(n,i){Object.defineProperty(n,"default",{enumerable:!0,value:i})}:function(n,i){n.default=i};gf=function(n){if(n&&n.__esModule)return n;var i={};if(n!=null)for(var s in n)s!=="default"&&Object.prototype.hasOwnProperty.call(n,s)&&fs(i,n,s);return t(i,n),i},_f=function(n){return n&&n.__esModule?n:{default:n}},Tf=function(n,i,s,a){if(s==="a"&&!a)throw new TypeError("Private accessor was defined without a getter");if(typeof i=="function"?n!==i||!a:!i.has(n))throw new TypeError("Cannot read private member from an object whose class did not declare it");return s==="m"?a:s==="a"?a.call(n):a?a.value:i.get(n)},bf=function(n,i,s,a,o){if(a==="m")throw new TypeError("Private method is not writable");if(a==="a"&&!o)throw new TypeError("Private accessor was defined without a setter");if(typeof i=="function"?n!==i||!o:!i.has(n))throw new TypeError("Cannot write private member to an object whose class did not declare it");return a==="a"?o.call(n,s):o?o.value=s:i.set(n,s),s},vf=function(n,i){if(i===null||typeof i!="object"&&typeof i!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof n=="function"?i===n:n.has(i)},r("__extends",ef),r("__assign",tf),r("__rest",rf),r("__decorate",nf),r("__param",sf),r("__metadata",af),r("__awaiter",of),r("__generator",uf),r("__exportStar",lf),r("__createBinding",fs),r("__values",ds),r("__read",Xa),r("__spread",cf),r("__spreadArrays",df),r("__spreadArray",ff),r("__await",Xr),r("__asyncGenerator",pf),r("__asyncDelegator",hf),r("__asyncValues",mf),r("__makeTemplateObject",yf),r("__importStar",gf),r("__importDefault",_f),r("__classPrivateFieldGet",Tf),r("__classPrivateFieldSet",bf),r("__classPrivateFieldIn",vf)})});var Q=h(mr=>{"use strict";Object.defineProperty(mr,"__esModule",{value:!0});mr.matchAnyPattern=mr.extractTerms=mr.repeatedTimeunitPattern=void 0;function yT(r,e){let t=e.replace(/\((?!\?)/g,"(?:");return`${r}${t}\\s{0,5}(?:,?\\s{0,5}${t}){0,10}`}mr.repeatedTimeunitPattern=yT;function yp(r){let e;return r instanceof Array?e=[...r]:r instanceof Map?e=Array.from(r.keys()):e=Object.keys(r),e}mr.extractTerms=yp;function gT(r){return`(?:${yp(r).sort((t,n)=>n.length-t.length).join("|").replace(/\./g,"\\.")})`}mr.matchAnyPattern=gT});var K=h((co,fo)=>{(function(r,e){typeof co=="object"&&typeof fo!="undefined"?fo.exports=e():typeof define=="function"&&define.amd?define(e):(r=typeof globalThis!="undefined"?globalThis:r||self).dayjs=e()})(co,function(){"use strict";var r=1e3,e=6e4,t=36e5,n="millisecond",i="second",s="minute",a="hour",o="day",u="week",l="month",c="quarter",d="year",f="date",p="Invalid Date",y=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,m=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,g={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_")},A=function(D,v,_){var P=String(D);return!P||P.length>=v?D:""+Array(v+1-P.length).join(_)+D},x={s:A,z:function(D){var v=-D.utcOffset(),_=Math.abs(v),P=Math.floor(_/60),E=_%60;return(v<=0?"+":"-")+A(P,2,"0")+":"+A(E,2,"0")},m:function D(v,_){if(v.date()<_.date())return-D(_,v);var P=12*(_.year()-v.year())+(_.month()-v.month()),E=v.clone().add(P,l),S=_-E<0,O=v.clone().add(P+(S?-1:1),l);return+(-(P+(_-E)/(S?E-O:O-E))||0)},a:function(D){return D<0?Math.ceil(D)||0:Math.floor(D)},p:function(D){return{M:l,y:d,w:u,d:o,D:f,h:a,m:s,s:i,ms:n,Q:c}[D]||String(D||"").toLowerCase().replace(/s$/,"")},u:function(D){return D===void 0}},C="en",z={};z[C]=g;var ne=function(D){return D instanceof ge},fe=function(D,v,_){var P;if(!D)return C;if(typeof D=="string")z[D]&&(P=D),v&&(z[D]=v,P=D);else{var E=D.name;z[E]=D,P=E}return!_&&P&&(C=P),P||!_&&C},ee=function(D,v){if(ne(D))return D.clone();var _=typeof v=="object"?v:{};return _.date=D,_.args=arguments,new ge(_)},M=x;M.l=fe,M.i=ne,M.w=function(D,v){return ee(D,{locale:v.$L,utc:v.$u,x:v.$x,$offset:v.$offset})};var ge=function(){function D(_){this.$L=fe(_.locale,null,!0),this.parse(_)}var v=D.prototype;return v.parse=function(_){this.$d=function(P){var E=P.date,S=P.utc;if(E===null)return new Date(NaN);if(M.u(E))return new Date;if(E instanceof Date)return new Date(E);if(typeof E=="string"&&!/Z$/i.test(E)){var O=E.match(y);if(O){var W=O[2]-1||0,te=(O[7]||"0").substring(0,3);return S?new Date(Date.UTC(O[1],W,O[3]||1,O[4]||0,O[5]||0,O[6]||0,te)):new Date(O[1],W,O[3]||1,O[4]||0,O[5]||0,O[6]||0,te)}}return new Date(E)}(_),this.$x=_.x||{},this.init()},v.init=function(){var _=this.$d;this.$y=_.getFullYear(),this.$M=_.getMonth(),this.$D=_.getDate(),this.$W=_.getDay(),this.$H=_.getHours(),this.$m=_.getMinutes(),this.$s=_.getSeconds(),this.$ms=_.getMilliseconds()},v.$utils=function(){return M},v.isValid=function(){return this.$d.toString()!==p},v.isSame=function(_,P){var E=ee(_);return this.startOf(P)<=E&&E<=this.endOf(P)},v.isAfter=function(_,P){return ee(_)<this.startOf(P)},v.isBefore=function(_,P){return this.endOf(P)<ee(_)},v.$g=function(_,P,E){return M.u(_)?this[P]:this.set(E,_)},v.unix=function(){return Math.floor(this.valueOf()/1e3)},v.valueOf=function(){return this.$d.getTime()},v.startOf=function(_,P){var E=this,S=!!M.u(P)||P,O=M.p(_),W=function(ft,Ne){var Ce=M.w(E.$u?Date.UTC(E.$y,Ne,ft):new Date(E.$y,Ne,ft),E);return S?Ce:Ce.endOf(o)},te=function(ft,Ne){return M.w(E.toDate()[ft].apply(E.toDate("s"),(S?[0,0,0,0]:[23,59,59,999]).slice(Ne)),E)},ue=this.$W,se=this.$M,dt=this.$D,Le="set"+(this.$u?"UTC":"");switch(O){case d:return S?W(1,0):W(31,11);case l:return S?W(1,se):W(0,se+1);case u:var ar=this.$locale().weekStart||0,or=(ue<ar?ue+7:ue)-ar;return W(S?dt-or:dt+(6-or),se);case o:case f:return te(Le+"Hours",0);case a:return te(Le+"Minutes",1);case s:return te(Le+"Seconds",2);case i:return te(Le+"Milliseconds",3);default:return this.clone()}},v.endOf=function(_){return this.startOf(_,!1)},v.$set=function(_,P){var E,S=M.p(_),O="set"+(this.$u?"UTC":""),W=(E={},E[o]=O+"Date",E[f]=O+"Date",E[l]=O+"Month",E[d]=O+"FullYear",E[a]=O+"Hours",E[s]=O+"Minutes",E[i]=O+"Seconds",E[n]=O+"Milliseconds",E)[S],te=S===o?this.$D+(P-this.$W):P;if(S===l||S===d){var ue=this.clone().set(f,1);ue.$d[W](te),ue.init(),this.$d=ue.set(f,Math.min(this.$D,ue.daysInMonth())).$d}else W&&this.$d[W](te);return this.init(),this},v.set=function(_,P){return this.clone().$set(_,P)},v.get=function(_){return this[M.p(_)]()},v.add=function(_,P){var E,S=this;_=Number(_);var O=M.p(P),W=function(se){var dt=ee(S);return M.w(dt.date(dt.date()+Math.round(se*_)),S)};if(O===l)return this.set(l,this.$M+_);if(O===d)return this.set(d,this.$y+_);if(O===o)return W(1);if(O===u)return W(7);var te=(E={},E[s]=e,E[a]=t,E[i]=r,E)[O]||1,ue=this.$d.getTime()+_*te;return M.w(ue,this)},v.subtract=function(_,P){return this.add(-1*_,P)},v.format=function(_){var P=this,E=this.$locale();if(!this.isValid())return E.invalidDate||p;var S=_||"YYYY-MM-DDTHH:mm:ssZ",O=M.z(this),W=this.$H,te=this.$m,ue=this.$M,se=E.weekdays,dt=E.months,Le=function(Ne,Ce,ur,Pr){return Ne&&(Ne[Ce]||Ne(P,S))||ur[Ce].substr(0,Pr)},ar=function(Ne){return M.s(W%12||12,Ne,"0")},or=E.meridiem||function(Ne,Ce,ur){var Pr=Ne<12?"AM":"PM";return ur?Pr.toLowerCase():Pr},ft={YY:String(this.$y).slice(-2),YYYY:this.$y,M:ue+1,MM:M.s(ue+1,2,"0"),MMM:Le(E.monthsShort,ue,dt,3),MMMM:Le(dt,ue),D:this.$D,DD:M.s(this.$D,2,"0"),d:String(this.$W),dd:Le(E.weekdaysMin,this.$W,se,2),ddd:Le(E.weekdaysShort,this.$W,se,3),dddd:se[this.$W],H:String(W),HH:M.s(W,2,"0"),h:ar(1),hh:ar(2),a:or(W,te,!0),A:or(W,te,!1),m:String(te),mm:M.s(te,2,"0"),s:String(this.$s),ss:M.s(this.$s,2,"0"),SSS:M.s(this.$ms,3,"0"),Z:O};return S.replace(m,function(Ne,Ce){return Ce||ft[Ne]||O.replace(":","")})},v.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},v.diff=function(_,P,E){var S,O=M.p(P),W=ee(_),te=(W.utcOffset()-this.utcOffset())*e,ue=this-W,se=M.m(this,W);return se=(S={},S[d]=se/12,S[l]=se,S[c]=se/3,S[u]=(ue-te)/6048e5,S[o]=(ue-te)/864e5,S[a]=ue/t,S[s]=ue/e,S[i]=ue/r,S)[O]||ue,E?se:M.a(se)},v.daysInMonth=function(){return this.endOf(l).$D},v.$locale=function(){return z[this.$L]},v.locale=function(_,P){if(!_)return this.$L;var E=this.clone(),S=fe(_,P,!0);return S&&(E.$L=S),E},v.clone=function(){return M.w(this.$d,this)},v.toDate=function(){return new Date(this.valueOf())},v.toJSON=function(){return this.isValid()?this.toISOString():null},v.toISOString=function(){return this.$d.toISOString()},v.toString=function(){return this.$d.toUTCString()},D}(),ce=ge.prototype;return ee.prototype=ce,[["$ms",n],["$s",i],["$m",s],["$H",a],["$W",o],["$M",l],["$y",d],["$D",f]].forEach(function(D){ce[D[1]]=function(v){return this.$g(v,D[0],D[1])}}),ee.extend=function(D,v){return D.$i||(D(v,ge,ee),D.$i=!0),ee},ee.locale=fe,ee.isDayjs=ne,ee.unix=function(D){return ee(1e3*D)},ee.en=z[C],ee.Ls=z,ee.p={},ee})});var Se=h(yr=>{"use strict";var _T=yr&&yr.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(yr,"__esModule",{value:!0});yr.findYearClosestToRef=yr.findMostLikelyADYear=void 0;var TT=_T(K());function bT(r){return r<100&&(r>50?r=r+1900:r=r+2e3),r}yr.findMostLikelyADYear=bT;function vT(r,e,t){let n=TT.default(r),i=n;i=i.month(t-1),i=i.date(e),i=i.year(n.year());let s=i.add(1,"y"),a=i.add(-1,"y");return Math.abs(s.diff(n))<Math.abs(i.diff(n))?i=s:Math.abs(a.diff(n))<Math.abs(i.diff(n))&&(i=a),i.year()}yr.findYearClosestToRef=vT});var Ie=h(q=>{"use strict";Object.defineProperty(q,"__esModule",{value:!0});q.parseTimeUnits=q.TIME_UNITS_PATTERN=q.parseYear=q.YEAR_PATTERN=q.parseOrdinalNumberPattern=q.ORDINAL_NUMBER_PATTERN=q.parseNumberPattern=q.NUMBER_PATTERN=q.TIME_UNIT_DICTIONARY=q.ORDINAL_WORD_DICTIONARY=q.INTEGER_WORD_DICTIONARY=q.MONTH_DICTIONARY=q.FULL_MONTH_NAME_DICTIONARY=q.WEEKDAY_DICTIONARY=void 0;var Es=Q(),ET=Se();q.WEEKDAY_DICTIONARY={sunday:0,sun:0,"sun.":0,monday:1,mon:1,"mon.":1,tuesday:2,tue:2,"tue.":2,wednesday:3,wed:3,"wed.":3,thursday:4,thurs:4,"thurs.":4,thur:4,"thur.":4,thu:4,"thu.":4,friday:5,fri:5,"fri.":5,saturday:6,sat:6,"sat.":6};q.FULL_MONTH_NAME_DICTIONARY={january:1,february:2,march:3,april:4,may:5,june:6,july:7,august:8,september:9,october:10,november:11,december:12};q.MONTH_DICTIONARY=Object.assign(Object.assign({},q.FULL_MONTH_NAME_DICTIONARY),{jan:1,"jan.":1,feb:2,"feb.":2,mar:3,"mar.":3,apr:4,"apr.":4,jun:6,"jun.":6,jul:7,"jul.":7,aug:8,"aug.":8,sep:9,"sep.":9,sept:9,"sept.":9,oct:10,"oct.":10,nov:11,"nov.":11,dec:12,"dec.":12});q.INTEGER_WORD_DICTIONARY={one:1,two:2,three:3,four:4,five:5,six:6,seven:7,eight:8,nine:9,ten:10,eleven:11,twelve:12};q.ORDINAL_WORD_DICTIONARY={first:1,second:2,third:3,fourth:4,fifth:5,sixth:6,seventh:7,eighth:8,ninth:9,tenth:10,eleventh:11,twelfth:12,thirteenth:13,fourteenth:14,fifteenth:15,sixteenth:16,seventeenth:17,eighteenth:18,nineteenth:19,twentieth:20,"twenty first":21,"twenty-first":21,"twenty second":22,"twenty-second":22,"twenty third":23,"twenty-third":23,"twenty fourth":24,"twenty-fourth":24,"twenty fifth":25,"twenty-fifth":25,"twenty sixth":26,"twenty-sixth":26,"twenty seventh":27,"twenty-seventh":27,"twenty eighth":28,"twenty-eighth":28,"twenty ninth":29,"twenty-ninth":29,thirtieth:30,"thirty first":31,"thirty-first":31};q.TIME_UNIT_DICTIONARY={sec:"second",second:"second",seconds:"second",min:"minute",mins:"minute",minute:"minute",minutes:"minute",h:"hour",hr:"hour",hrs:"hour",hour:"hour",hours:"hour",day:"d",days:"d",week:"week",weeks:"week",month:"month",months:"month",qtr:"quarter",quarter:"quarter",quarters:"quarter",y:"year",yr:"year",year:"year",years:"year"};q.NUMBER_PATTERN=`(?:${Es.matchAnyPattern(q.INTEGER_WORD_DICTIONARY)}|[0-9]+|[0-9]+\\.[0-9]+|half(?:\\s{0,2}an?)?|an?\\b(?:\\s{0,2}few)?|few|several|a?\\s{0,2}couple\\s{0,2}(?:of)?)`;function _p(r){let e=r.toLowerCase();return q.INTEGER_WORD_DICTIONARY[e]!==void 0?q.INTEGER_WORD_DICTIONARY[e]:e==="a"||e==="an"?1:e.match(/few/)?3:e.match(/half/)?.5:e.match(/couple/)?2:e.match(/several/)?7:parseFloat(e)}q.parseNumberPattern=_p;q.ORDINAL_NUMBER_PATTERN=`(?:${Es.matchAnyPattern(q.ORDINAL_WORD_DICTIONARY)}|[0-9]{1,2}(?:st|nd|rd|th)?)`;function RT(r){let e=r.toLowerCase();return q.ORDINAL_WORD_DICTIONARY[e]!==void 0?q.ORDINAL_WORD_DICTIONARY[e]:(e=e.replace(/(?:st|nd|rd|th)$/i,""),parseInt(e))}q.parseOrdinalNumberPattern=RT;q.YEAR_PATTERN="(?:[1-9][0-9]{0,3}\\s{0,2}(?:BE|AD|BC|BCE|CE)|[1-2][0-9]{3}|[5-9][0-9])";function wT(r){if(/BE/i.test(r))return r=r.replace(/BE/i,""),parseInt(r)-543;if(/BCE?/i.test(r))return r=r.replace(/BCE?/i,""),-parseInt(r);if(/(AD|CE)/i.test(r))return r=r.replace(/(AD|CE)/i,""),parseInt(r);let e=parseInt(r);return ET.findMostLikelyADYear(e)}q.parseYear=wT;var Tp=`(${q.NUMBER_PATTERN})\\s{0,3}(${Es.matchAnyPattern(q.TIME_UNIT_DICTIONARY)})`,gp=new RegExp(Tp,"i");q.TIME_UNITS_PATTERN=Es.repeatedTimeunitPattern("(?:(?:about|around)\\s{0,3})?",Tp);function MT(r){let e={},t=r,n=gp.exec(t);for(;n;)DT(e,n),t=t.substring(n[0].length).trim(),n=gp.exec(t);return e}q.parseTimeUnits=MT;function DT(r,e){let t=_p(e[1]),n=q.TIME_UNIT_DICTIONARY[e[2].toLowerCase()];r[n]=t}});var bp=h((po,ho)=>{(function(r,e){typeof po=="object"&&typeof ho!="undefined"?ho.exports=e():typeof define=="function"&&define.amd?define(e):(r=typeof globalThis!="undefined"?globalThis:r||self).dayjs_plugin_quarterOfYear=e()})(po,function(){"use strict";var r="month",e="quarter";return function(t,n){var i=n.prototype;i.quarter=function(o){return this.$utils().u(o)?Math.ceil((this.month()+1)/3):this.month(this.month()%3+3*(o-1))};var s=i.add;i.add=function(o,u){return o=Number(o),this.$utils().p(u)===e?this.add(3*o,r):s.bind(this)(o,u)};var a=i.startOf;i.startOf=function(o,u){var l=this.$utils(),c=!!l.u(u)||u;if(l.p(o)===e){var d=this.quarter()-1;return c?this.month(3*d).startOf(r).startOf("day"):this.month(3*d+2).endOf(r).endOf("day")}return a.bind(this)(o,u)}}})});var it=h(Pt=>{"use strict";Object.defineProperty(Pt,"__esModule",{value:!0});Pt.implySimilarTime=Pt.assignSimilarTime=Pt.assignSimilarDate=Pt.assignTheNextDay=void 0;var vp=Ee();function PT(r,e){e=e.add(1,"day"),Ep(r,e),Rp(r,e)}Pt.assignTheNextDay=PT;function Ep(r,e){r.assign("day",e.date()),r.assign("month",e.month()+1),r.assign("year",e.year())}Pt.assignSimilarDate=Ep;function OT(r,e){r.assign("hour",e.hour()),r.assign("minute",e.minute()),r.assign("second",e.second()),r.assign("millisecond",e.millisecond()),r.get("hour")<12?r.assign("meridiem",vp.Meridiem.AM):r.assign("meridiem",vp.Meridiem.PM)}Pt.assignSimilarTime=OT;function Rp(r,e){r.imply("hour",e.hour()),r.imply("minute",e.minute()),r.imply("second",e.second()),r.imply("millisecond",e.millisecond())}Pt.implySimilarTime=Rp});var wp=h(Sr=>{"use strict";Object.defineProperty(Sr,"__esModule",{value:!0});Sr.toTimezoneOffset=Sr.TIMEZONE_ABBR_MAP=void 0;Sr.TIMEZONE_ABBR_MAP={ACDT:630,ACST:570,ADT:-180,AEDT:660,AEST:600,AFT:270,AKDT:-480,AKST:-540,ALMT:360,AMST:-180,AMT:-240,ANAST:720,ANAT:720,AQTT:300,ART:-180,AST:-240,AWDT:540,AWST:480,AZOST:0,AZOT:-60,AZST:300,AZT:240,BNT:480,BOT:-240,BRST:-120,BRT:-180,BST:60,BTT:360,CAST:480,CAT:120,CCT:390,CDT:-300,CEST:120,CET:60,CHADT:825,CHAST:765,CKT:-600,CLST:-180,CLT:-240,COT:-300,CST:-360,CVT:-60,CXT:420,ChST:600,DAVT:420,EASST:-300,EAST:-360,EAT:180,ECT:-300,EDT:-240,EEST:180,EET:120,EGST:0,EGT:-60,EST:-300,ET:-300,FJST:780,FJT:720,FKST:-180,FKT:-240,FNT:-120,GALT:-360,GAMT:-540,GET:240,GFT:-180,GILT:720,GMT:0,GST:240,GYT:-240,HAA:-180,HAC:-300,HADT:-540,HAE:-240,HAP:-420,HAR:-360,HAST:-600,HAT:-90,HAY:-480,HKT:480,HLV:-210,HNA:-240,HNC:-360,HNE:-300,HNP:-480,HNR:-420,HNT:-150,HNY:-540,HOVT:420,ICT:420,IDT:180,IOT:360,IRDT:270,IRKST:540,IRKT:540,IRST:210,IST:330,JST:540,KGT:360,KRAST:480,KRAT:480,KST:540,KUYT:240,LHDT:660,LHST:630,LINT:840,MAGST:720,MAGT:720,MART:-510,MAWT:300,MDT:-360,MESZ:120,MEZ:60,MHT:720,MMT:390,MSD:240,MSK:180,MST:-420,MUT:240,MVT:300,MYT:480,NCT:660,NDT:-90,NFT:690,NOVST:420,NOVT:360,NPT:345,NST:-150,NUT:-660,NZDT:780,NZST:720,OMSST:420,OMST:420,PDT:-420,PET:-300,PETST:720,PETT:720,PGT:600,PHOT:780,PHT:480,PKT:300,PMDT:-120,PMST:-180,PONT:660,PST:-480,PT:-480,PWT:540,PYST:-180,PYT:-240,RET:240,SAMT:240,SAST:120,SBT:660,SCT:240,SGT:480,SRT:-180,SST:-660,TAHT:-600,TFT:300,TJT:300,TKT:780,TLT:540,TMT:300,TVT:720,ULAT:480,UTC:0,UYST:-120,UYT:-180,UZT:300,VET:-210,VLAST:660,VLAT:660,VUT:660,WAST:120,WAT:60,WEST:60,WESZ:60,WET:0,WEZ:0,WFT:720,WGST:-120,WGT:-180,WIB:420,WIT:540,WITA:480,WST:780,WT:0,YAKST:600,YAKT:600,YAPT:600,YEKST:360,YEKT:360};function AT(r){var e;return r==null?null:typeof r=="number"?r:(e=Sr.TIMEZONE_ABBR_MAP[r])!==null&&e!==void 0?e:null}Sr.toTimezoneOffset=AT});var he=h(Ot=>{"use strict";var Mp=Ot&&Ot.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Ot,"__esModule",{value:!0});Ot.ParsingResult=Ot.ParsingComponents=Ot.ReferenceWithTimezone=void 0;var kT=Mp(bp()),Rs=Mp(K()),mo=it(),NT=wp();Rs.default.extend(kT.default);var yo=class{constructor(e){var t;e=e!=null?e:new Date,e instanceof Date?this.instant=e:(this.instant=(t=e.instant)!==null&&t!==void 0?t:new Date,this.timezoneOffset=NT.toTimezoneOffset(e.timezone))}};Ot.ReferenceWithTimezone=yo;var Ir=class{constructor(e,t){if(this.reference=e,this.knownValues={},this.impliedValues={},t)for(let i in t)this.knownValues[i]=t[i];let n=Rs.default(e.instant);this.imply("day",n.date()),this.imply("month",n.month()+1),this.imply("year",n.year()),this.imply("hour",12),this.imply("minute",0),this.imply("second",0),this.imply("millisecond",0)}get(e){return e in this.knownValues?this.knownValues[e]:e in this.impliedValues?this.impliedValues[e]:null}isCertain(e){return e in this.knownValues}getCertainComponents(){return Object.keys(this.knownValues)}imply(e,t){return e in this.knownValues?this:(this.impliedValues[e]=t,this)}assign(e,t){return this.knownValues[e]=t,delete this.impliedValues[e],this}delete(e){delete this.knownValues[e],delete this.impliedValues[e]}clone(){let e=new Ir(this.reference);e.knownValues={},e.impliedValues={};for(let t in this.knownValues)e.knownValues[t]=this.knownValues[t];for(let t in this.impliedValues)e.impliedValues[t]=this.impliedValues[t];return e}isOnlyDate(){return!this.isCertain("hour")&&!this.isCertain("minute")&&!this.isCertain("second")}isOnlyTime(){return!this.isCertain("weekday")&&!this.isCertain("day")&&!this.isCertain("month")}isOnlyWeekdayComponent(){return this.isCertain("weekday")&&!this.isCertain("day")&&!this.isCertain("month")}isOnlyDayMonthComponent(){return this.isCertain("day")&&this.isCertain("month")&&!this.isCertain("year")}isValidDate(){let e=this.dateWithoutTimezoneAdjustment();return!(e.getFullYear()!==this.get("year")||e.getMonth()!==this.get("month")-1||e.getDate()!==this.get("day")||this.get("hour")!=null&&e.getHours()!=this.get("hour")||this.get("minute")!=null&&e.getMinutes()!=this.get("minute"))}toString(){return`[ParsingComponents {knownValues: ${JSON.stringify(this.knownValues)}, impliedValues: ${JSON.stringify(this.impliedValues)}}, reference: ${JSON.stringify(this.reference)}]`}dayjs(){return Rs.default(this.date())}date(){let e=this.dateWithoutTimezoneAdjustment();return new Date(e.getTime()+this.getSystemTimezoneAdjustmentMinute(e)*6e4)}dateWithoutTimezoneAdjustment(){let e=new Date(this.get("year"),this.get("month")-1,this.get("day"),this.get("hour"),this.get("minute"),this.get("second"),this.get("millisecond"));return e.setFullYear(this.get("year")),e}getSystemTimezoneAdjustmentMinute(e){var t,n;(!e||e.getTime()<0)&&(e=new Date);let i=-e.getTimezoneOffset(),s=(n=(t=this.get("timezoneOffset"))!==null&&t!==void 0?t:this.reference.timezoneOffset)!==null&&n!==void 0?n:i;return i-s}static createRelativeFromReference(e,t){let n=Rs.default(e.instant);for(let s in t)n=n.add(t[s],s);let i=new Ir(e);return t.hour||t.minute||t.second?(mo.assignSimilarTime(i,n),mo.assignSimilarDate(i,n),e.timezoneOffset!==null&&i.assign("timezoneOffset",-e.instant.getTimezoneOffset())):(mo.implySimilarTime(i,n),e.timezoneOffset!==null&&i.imply("timezoneOffset",-e.instant.getTimezoneOffset()),t.d?(i.assign("day",n.date()),i.assign("month",n.month()+1),i.assign("year",n.year())):(t.week&&i.imply("weekday",n.day()),i.imply("day",n.date()),t.month?(i.assign("month",n.month()+1),i.assign("year",n.year())):(i.imply("month",n.month()+1),t.year?i.assign("year",n.year()):i.imply("year",n.year())))),i}};Ot.ParsingComponents=Ir;var $n=class{constructor(e,t,n,i,s){this.reference=e,this.refDate=e.instant,this.index=t,this.text=n,this.start=i||new Ir(e),this.end=s}clone(){let e=new $n(this.reference,this.index,this.text);return e.start=this.start?this.start.clone():null,e.end=this.end?this.end.clone():null,e}date(){return this.start.date()}toString(){return`[ParsingResult {index: ${this.index}, text: '${this.text}', ...}]`}};Ot.ParsingResult=$n});var R=h(ws=>{"use strict";Object.defineProperty(ws,"__esModule",{value:!0});ws.AbstractParserWithWordBoundaryChecking=void 0;var go=class{constructor(){this.cachedInnerPattern=null,this.cachedPattern=null}patternLeftBoundary(){return"(\\W|^)"}pattern(e){let t=this.innerPattern(e);return t==this.cachedInnerPattern?this.cachedPattern:(this.cachedPattern=new RegExp(`${this.patternLeftBoundary()}${t.source}`,t.flags),this.cachedInnerPattern=t,this.cachedPattern)}extract(e,t){var n;let i=(n=t[1])!==null&&n!==void 0?n:"";t.index=t.index+i.length,t[0]=t[0].substring(i.length);for(let s=2;s<t.length;s++)t[s-1]=t[s];return this.innerExtract(e,t)}};ws.AbstractParserWithWordBoundaryChecking=go});var Dp=h(bo=>{"use strict";Object.defineProperty(bo,"__esModule",{value:!0});var To=Ie(),CT=he(),xT=R(),ST=new RegExp(`(?:within|in|for)\\s*(?:(?:about|around|roughly|approximately|just)\\s*(?:~\\s*)?)?(${To.TIME_UNITS_PATTERN})(?=\\W|$)`,"i"),IT=new RegExp(`(?:(?:about|around|roughly|approximately|just)\\s*(?:~\\s*)?)?(${To.TIME_UNITS_PATTERN})(?=\\W|$)`,"i"),_o=class extends xT.AbstractParserWithWordBoundaryChecking{innerPattern(e){return e.option.forwardDate?IT:ST}innerExtract(e,t){let n=To.parseTimeUnits(t[1]);return CT.ParsingComponents.createRelativeFromReference(e.reference,n)}};bo.default=_o});var Cp=h(Eo=>{"use strict";Object.defineProperty(Eo,"__esModule",{value:!0});var UT=Se(),kp=Ie(),Np=Ie(),Ms=Ie(),FT=Q(),qT=R(),WT=new RegExp(`(?:on\\s{0,3})?(${Ms.ORDINAL_NUMBER_PATTERN})(?:\\s{0,3}(?:to|\\-|\\\u2013|until|through|till)?\\s{0,3}(${Ms.ORDINAL_NUMBER_PATTERN}))?(?:-|/|\\s{0,3}(?:of)?\\s{0,3})(${FT.matchAnyPattern(kp.MONTH_DICTIONARY)})(?:(?:-|/|,?\\s{0,3})(${Np.YEAR_PATTERN}(?![^\\s]\\d)))?(?=\\W|$)`,"i"),Pp=1,Op=2,LT=3,Ap=4,vo=class extends qT.AbstractParserWithWordBoundaryChecking{innerPattern(){return WT}innerExtract(e,t){let n=e.createParsingResult(t.index,t[0]),i=kp.MONTH_DICTIONARY[t[LT].toLowerCase()],s=Ms.parseOrdinalNumberPattern(t[Pp]);if(s>31)return t.index=t.index+t[Pp].length,null;if(n.start.assign("month",i),n.start.assign("day",s),t[Ap]){let a=Np.parseYear(t[Ap]);n.start.assign("year",a)}else{let a=UT.findYearClosestToRef(e.refDate,s,i);n.start.imply("year",a)}if(t[Op]){let a=Ms.parseOrdinalNumberPattern(t[Op]);n.end=n.start.clone(),n.end.assign("day",a)}return n}};Eo.default=vo});var Fp=h(wo=>{"use strict";Object.defineProperty(wo,"__esModule",{value:!0});var YT=Se(),Ip=Ie(),Ds=Ie(),Up=Ie(),$T=Q(),jT=R(),BT=new RegExp(`(${$T.matchAnyPattern(Ip.MONTH_DICTIONARY)})(?:-|/|\\s*,?\\s*)(${Ds.ORDINAL_NUMBER_PATTERN})(?!\\s*(?:am|pm))\\s*(?:(?:to|\\-)\\s*(${Ds.ORDINAL_NUMBER_PATTERN})\\s*)?(?:(?:-|/|\\s*,?\\s*)(${Up.YEAR_PATTERN}))?(?=\\W|$)(?!\\:\\d)`,"i"),GT=1,HT=2,xp=3,Sp=4,Ro=class extends jT.AbstractParserWithWordBoundaryChecking{innerPattern(){return BT}innerExtract(e,t){let n=Ip.MONTH_DICTIONARY[t[GT].toLowerCase()],i=Ds.parseOrdinalNumberPattern(t[HT]);if(i>31)return null;let s=e.createParsingComponents({day:i,month:n});if(t[Sp]){let u=Up.parseYear(t[Sp]);s.assign("year",u)}else{let u=YT.findYearClosestToRef(e.refDate,i,n);s.imply("year",u)}if(!t[xp])return s;let a=Ds.parseOrdinalNumberPattern(t[xp]),o=e.createParsingResult(t.index,t[0]);return o.start=s,o.end=s.clone(),o.end.assign("day",a),o}};wo.default=Ro});var Lp=h(Po=>{"use strict";Object.defineProperty(Po,"__esModule",{value:!0});var Mo=Ie(),zT=Se(),KT=Q(),Wp=Ie(),VT=R(),ZT=new RegExp(`((?:in)\\s*)?(${KT.matchAnyPattern(Mo.MONTH_DICTIONARY)})\\s*(?:[,-]?\\s*(${Wp.YEAR_PATTERN})?)?(?=[^\\s\\w]|\\s+[^0-9]|\\s+$|$)`,"i"),XT=1,QT=2,qp=3,Do=class extends VT.AbstractParserWithWordBoundaryChecking{innerPattern(){return ZT}innerExtract(e,t){let n=t[QT].toLowerCase();if(t[0].length<=3&&!Mo.FULL_MONTH_NAME_DICTIONARY[n])return null;let i=e.createParsingResult(t.index+(t[XT]||"").length,t.index+t[0].length);i.start.imply("day",1);let s=Mo.MONTH_DICTIONARY[n];if(i.start.assign("month",s),t[qp]){let a=Wp.parseYear(t[qp]);i.start.assign("year",a)}else{let a=zT.findYearClosestToRef(e.refDate,1,s);i.start.imply("year",a)}return i}};Po.default=Do});var jp=h(Ao=>{"use strict";Object.defineProperty(Ao,"__esModule",{value:!0});var $p=Ie(),JT=Q(),eb=R(),tb=new RegExp(`([0-9]{4})[\\.\\/\\s](?:(${JT.matchAnyPattern($p.MONTH_DICTIONARY)})|([0-9]{1,2}))[\\.\\/\\s]([0-9]{1,2})(?=\\W|$)`,"i"),rb=1,nb=2,Yp=3,ib=4,Oo=class extends eb.AbstractParserWithWordBoundaryChecking{innerPattern(){return tb}innerExtract(e,t){let n=t[Yp]?parseInt(t[Yp]):$p.MONTH_DICTIONARY[t[nb].toLowerCase()];if(n<1||n>12)return null;let i=parseInt(t[rb]);return{day:parseInt(t[ib]),month:n,year:i}}};Ao.default=Oo});var Bp=h(No=>{"use strict";Object.defineProperty(No,"__esModule",{value:!0});var sb=R(),ab=new RegExp("([0-9]|0[1-9]|1[012])/([0-9]{4})","i"),ob=1,ub=2,ko=class extends sb.AbstractParserWithWordBoundaryChecking{innerPattern(){return ab}innerExtract(e,t){let n=parseInt(t[ub]),i=parseInt(t[ob]);return e.createParsingComponents().imply("day",1).assign("month",i).assign("year",n)}};No.default=ko});var Ur=h(As=>{"use strict";Object.defineProperty(As,"__esModule",{value:!0});As.AbstractTimeExpressionParser=void 0;var Be=Ee();function lb(r,e,t,n){return new RegExp(`${r}${e}(\\d{1,4})(?:(?:\\.|:|\uFF1A)(\\d{1,2})(?:(?::|\uFF1A)(\\d{2})(?:\\.(\\d{1,6}))?)?)?(?:\\s*(a\\.m\\.|p\\.m\\.|am?|pm?))?${t}`,n)}function cb(r,e){return new RegExp(`^(${r})(\\d{1,4})(?:(?:\\.|\\:|\\\uFF1A)(\\d{1,2})(?:(?:\\.|\\:|\\\uFF1A)(\\d{1,2})(?:\\.(\\d{1,6}))?)?)?(?:\\s*(a\\.m\\.|p\\.m\\.|am?|pm?))?${e}`,"i")}var Gp=2,rn=3,Ps=4,Os=5,jn=6,Co=class{constructor(e=!1){this.cachedPrimaryPrefix=null,this.cachedPrimarySuffix=null,this.cachedPrimaryTimePattern=null,this.cachedFollowingPhase=null,this.cachedFollowingSuffix=null,this.cachedFollowingTimePatten=null,this.strictMode=e}patternFlags(){return"i"}primaryPatternLeftBoundary(){return"(^|\\s|T|\\b)"}primarySuffix(){return"(?=\\W|$)"}followingSuffix(){return"(?=\\W|$)"}pattern(e){return this.getPrimaryTimePatternThroughCache()}extract(e,t){let n=this.extractPrimaryTimeComponents(e,t);if(!n)return t.index+=t[0].length,null;let i=t.index+t[1].length,s=t[0].substring(t[1].length),a=e.createParsingResult(i,s,n);t.index+=t[0].length;let o=e.text.substring(t.index),l=this.getFollowingTimePatternThroughCache().exec(o);return s.match(/^\d{3,4}/)&&l&&l[0].match(/^\s*([+-])\s*\d{2,4}$/)?null:!l||l[0].match(/^\s*([+-])\s*\d{3,4}$/)?this.checkAndReturnWithoutFollowingPattern(a):(a.end=this.extractFollowingTimeComponents(e,l,a),a.end&&(a.text+=l[0]),this.checkAndReturnWithFollowingPattern(a))}extractPrimaryTimeComponents(e,t,n=!1){let i=e.createParsingComponents(),s=0,a=null,o=parseInt(t[Gp]);if(o>100){if(this.strictMode||t[rn]!=null)return null;s=o%100,o=Math.floor(o/100)}if(o>24)return null;if(t[rn]!=null){if(t[rn].length==1&&!t[jn])return null;s=parseInt(t[rn])}if(s>=60)return null;if(o>12&&(a=Be.Meridiem.PM),t[jn]!=null){if(o>12)return null;let u=t[jn][0].toLowerCase();u=="a"&&(a=Be.Meridiem.AM,o==12&&(o=0)),u=="p"&&(a=Be.Meridiem.PM,o!=12&&(o+=12))}if(i.assign("hour",o),i.assign("minute",s),a!==null?i.assign("meridiem",a):o<12?i.imply("meridiem",Be.Meridiem.AM):i.imply("meridiem",Be.Meridiem.PM),t[Os]!=null){let u=parseInt(t[Os].substring(0,3));if(u>=1e3)return null;i.assign("millisecond",u)}if(t[Ps]!=null){let u=parseInt(t[Ps]);if(u>=60)return null;i.assign("second",u)}return i}extractFollowingTimeComponents(e,t,n){let i=e.createParsingComponents();if(t[Os]!=null){let u=parseInt(t[Os].substring(0,3));if(u>=1e3)return null;i.assign("millisecond",u)}if(t[Ps]!=null){let u=parseInt(t[Ps]);if(u>=60)return null;i.assign("second",u)}let s=parseInt(t[Gp]),a=0,o=-1;if(t[rn]!=null?a=parseInt(t[rn]):s>100&&(a=s%100,s=Math.floor(s/100)),a>=60||s>24)return null;if(s>=12&&(o=Be.Meridiem.PM),t[jn]!=null){if(s>12)return null;let u=t[jn][0].toLowerCase();u=="a"&&(o=Be.Meridiem.AM,s==12&&(s=0,i.isCertain("day")||i.imply("day",i.get("day")+1))),u=="p"&&(o=Be.Meridiem.PM,s!=12&&(s+=12)),n.start.isCertain("meridiem")||(o==Be.Meridiem.AM?(n.start.imply("meridiem",Be.Meridiem.AM),n.start.get("hour")==12&&n.start.assign("hour",0)):(n.start.imply("meridiem",Be.Meridiem.PM),n.start.get("hour")!=12&&n.start.assign("hour",n.start.get("hour")+12)))}return i.assign("hour",s),i.assign("minute",a),o>=0?i.assign("meridiem",o):n.start.isCertain("meridiem")&&n.start.get("hour")>12?n.start.get("hour")-12>s?i.imply("meridiem",Be.Meridiem.AM):s<=12&&(i.assign("hour",s+12),i.assign("meridiem",Be.Meridiem.PM)):s>12?i.imply("meridiem",Be.Meridiem.PM):s<=12&&i.imply("meridiem",Be.Meridiem.AM),i.date().getTime()<n.start.date().getTime()&&i.imply("day",i.get("day")+1),i}checkAndReturnWithoutFollowingPattern(e){if(e.text.match(/^\d$/)||e.text.match(/^\d\d\d+$/)||e.text.match(/\d[apAP]$/))return null;let t=e.text.match(/[^\d:.](\d[\d.]+)$/);if(t){let n=t[1];if(this.strictMode||n.includes(".")&&!n.match(/\d(\.\d{2})+$/)||parseInt(n)>24)return null}return e}checkAndReturnWithFollowingPattern(e){if(e.text.match(/^\d+-\d+$/))return null;let t=e.text.match(/[^\d:.](\d[\d.]+)\s*-\s*(\d[\d.]+)$/);if(t){if(this.strictMode)return null;let n=t[1],i=t[2];if(i.includes(".")&&!i.match(/\d(\.\d{2})+$/))return null;let s=parseInt(i),a=parseInt(n);if(s>24||a>24)return null}return e}getPrimaryTimePatternThroughCache(){let e=this.primaryPrefix(),t=this.primarySuffix();return this.cachedPrimaryPrefix===e&&this.cachedPrimarySuffix===t?this.cachedPrimaryTimePattern:(this.cachedPrimaryTimePattern=lb(this.primaryPatternLeftBoundary(),e,t,this.patternFlags()),this.cachedPrimaryPrefix=e,this.cachedPrimarySuffix=t,this.cachedPrimaryTimePattern)}getFollowingTimePatternThroughCache(){let e=this.followingPhase(),t=this.followingSuffix();return this.cachedFollowingPhase===e&&this.cachedFollowingSuffix===t?this.cachedFollowingTimePatten:(this.cachedFollowingTimePatten=cb(e,t),this.cachedFollowingPhase=e,this.cachedFollowingSuffix=t,this.cachedFollowingTimePatten)}};As.AbstractTimeExpressionParser=Co});var Hp=h(So=>{"use strict";Object.defineProperty(So,"__esModule",{value:!0});var ks=Ee(),db=Ur(),xo=class extends db.AbstractTimeExpressionParser{constructor(e){super(e)}followingPhase(){return"\\s*(?:\\-|\\\u2013|\\~|\\\u301C|to|\\?)\\s*"}primaryPrefix(){return"(?:(?:at|from)\\s*)??"}primarySuffix(){return"(?:\\s*(?:o\\W*clock|at\\s*night|in\\s*the\\s*(?:morning|afternoon)))?(?!/)(?=\\W|$)"}extractPrimaryTimeComponents(e,t){let n=super.extractPrimaryTimeComponents(e,t);if(n){if(t[0].endsWith("night")){let i=n.get("hour");i>=6&&i<12?(n.assign("hour",n.get("hour")+12),n.assign("meridiem",ks.Meridiem.PM)):i<6&&n.assign("meridiem",ks.Meridiem.AM)}if(t[0].endsWith("afternoon")){n.assign("meridiem",ks.Meridiem.PM);let i=n.get("hour");i>=0&&i<=6&&n.assign("hour",n.get("hour")+12)}t[0].endsWith("morning")&&(n.assign("meridiem",ks.Meridiem.AM),n.get("hour")<12&&n.assign("hour",n.get("hour")))}return n}};So.default=xo});var st=h(nn=>{"use strict";Object.defineProperty(nn,"__esModule",{value:!0});nn.addImpliedTimeUnits=nn.reverseTimeUnits=void 0;function fb(r){let e={};for(let t in r)e[t]=-r[t];return e}nn.reverseTimeUnits=fb;function pb(r,e){let t=r.clone(),n=r.dayjs();for(let i in e)n=n.add(e[i],i);return("day"in e||"d"in e||"week"in e||"month"in e||"year"in e)&&(t.imply("day",n.date()),t.imply("month",n.month()+1),t.imply("year",n.year())),("second"in e||"minute"in e||"hour"in e)&&(t.imply("second",n.second()),t.imply("minute",n.minute()),t.imply("hour",n.hour())),t}nn.addImpliedTimeUnits=pb});var zp=h(Fo=>{"use strict";Object.defineProperty(Fo,"__esModule",{value:!0});var Uo=Ie(),hb=he(),mb=R(),yb=st(),gb=new RegExp(`(${Uo.TIME_UNITS_PATTERN})\\s{0,5}(?:ago|before|earlier)(?=(?:\\W|$))`,"i"),_b=new RegExp(`(${Uo.TIME_UNITS_PATTERN})\\s{0,5}ago(?=(?:\\W|$))`,"i"),Io=class extends mb.AbstractParserWithWordBoundaryChecking{constructor(e){super(),this.strictMode=e}innerPattern(){return this.strictMode?_b:gb}innerExtract(e,t){let n=Uo.parseTimeUnits(t[1]),i=yb.reverseTimeUnits(n);return hb.ParsingComponents.createRelativeFromReference(e.reference,i)}};Fo.default=Io});var Kp=h(Lo=>{"use strict";Object.defineProperty(Lo,"__esModule",{value:!0});var Wo=Ie(),Tb=he(),bb=R(),vb=new RegExp(`(${Wo.TIME_UNITS_PATTERN})\\s{0,5}(?:later|after|from now|henceforth|forward|out)(?=(?:\\W|$))`,"i"),Eb=new RegExp("("+Wo.TIME_UNITS_PATTERN+")(later|from now)(?=(?:\\W|$))","i"),Rb=1,qo=class extends bb.AbstractParserWithWordBoundaryChecking{constructor(e){super(),this.strictMode=e}innerPattern(){return this.strictMode?Eb:vb}innerExtract(e,t){let n=Wo.parseTimeUnits(t[Rb]);return Tb.ParsingComponents.createRelativeFromReference(e.reference,n)}};Lo.default=qo});var an=h(sn=>{"use strict";Object.defineProperty(sn,"__esModule",{value:!0});sn.MergingRefiner=sn.Filter=void 0;var Yo=class{refine(e,t){return t.filter(n=>this.isValid(e,n))}};sn.Filter=Yo;var $o=class{refine(e,t){if(t.length<2)return t;let n=[],i=t[0],s=null;for(let a=1;a<t.length;a++){s=t[a];let o=e.text.substring(i.index+i.text.length,s.index);if(!this.shouldMergeResults(o,i,s,e))n.push(i),i=s;else{let u=i,l=s,c=this.mergeResults(o,u,l,e);e.debug(()=>{console.log(`${this.constructor.name} merged ${u} and ${l} into ${c}`)}),i=c}}return i!=null&&n.push(i),n}};sn.MergingRefiner=$o});var At=h(Bo=>{"use strict";Object.defineProperty(Bo,"__esModule",{value:!0});var wb=an(),jo=class extends wb.MergingRefiner{shouldMergeResults(e,t,n){return!t.end&&!n.end&&e.match(this.patternBetween())!=null}mergeResults(e,t,n){if(!t.start.isOnlyWeekdayComponent()&&!n.start.isOnlyWeekdayComponent()&&(n.start.getCertainComponents().forEach(s=>{t.start.isCertain(s)||t.start.assign(s,n.start.get(s))}),t.start.getCertainComponents().forEach(s=>{n.start.isCertain(s)||n.start.assign(s,t.start.get(s))})),t.start.date().getTime()>n.start.date().getTime()){let s=t.start.dayjs(),a=n.start.dayjs();t.start.isOnlyWeekdayComponent()&&s.add(-7,"days").isBefore(a)?(s=s.add(-7,"days"),t.start.imply("day",s.date()),t.start.imply("month",s.month()+1),t.start.imply("year",s.year())):n.start.isOnlyWeekdayComponent()&&a.add(7,"days").isAfter(s)?(a=a.add(7,"days"),n.start.imply("day",a.date()),n.start.imply("month",a.month()+1),n.start.imply("year",a.year())):[n,t]=[t,n]}let i=t.clone();return i.start=t.start,i.end=n.start,i.index=Math.min(t.index,n.index),t.index<n.index?i.text=t.text+e+n.text:i.text=n.text+e+t.text,i}};Bo.default=jo});var Vp=h(Bn=>{"use strict";var Mb=Bn&&Bn.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Bn,"__esModule",{value:!0});var Db=Mb(At()),Go=class extends Db.default{patternBetween(){return/^\s*(to|-)\s*$/i}};Bn.default=Go});var Zp=h(on=>{"use strict";Object.defineProperty(on,"__esModule",{value:!0});on.mergeDateTimeComponent=on.mergeDateTimeResult=void 0;var Pb=Ee();function Ob(r,e){let t=r.clone(),n=r.start,i=e.start;if(t.start=Ho(n,i),r.end!=null||e.end!=null){let s=r.end==null?r.start:r.end,a=e.end==null?e.start:e.end,o=Ho(s,a);r.end==null&&o.date().getTime()<t.start.date().getTime()&&(o.isCertain("day")?o.assign("day",o.get("day")+1):o.imply("day",o.get("day")+1)),t.end=o}return t}on.mergeDateTimeResult=Ob;function Ho(r,e){let t=r.clone();return e.isCertain("hour")?(t.assign("hour",e.get("hour")),t.assign("minute",e.get("minute")),e.isCertain("second")?(t.assign("second",e.get("second")),e.isCertain("millisecond")?t.assign("millisecond",e.get("millisecond")):t.imply("millisecond",e.get("millisecond"))):(t.imply("second",e.get("second")),t.imply("millisecond",e.get("millisecond")))):(t.imply("hour",e.get("hour")),t.imply("minute",e.get("minute")),t.imply("second",e.get("second")),t.imply("millisecond",e.get("millisecond"))),e.isCertain("timezoneOffset")&&t.assign("timezoneOffset",e.get("timezoneOffset")),e.isCertain("meridiem")?t.assign("meridiem",e.get("meridiem")):e.get("meridiem")!=null&&t.get("meridiem")==null&&t.imply("meridiem",e.get("meridiem")),t.get("meridiem")==Pb.Meridiem.PM&&t.get("hour")<12&&(e.isCertain("hour")?t.assign("hour",t.get("hour")+12):t.imply("hour",t.get("hour")+12)),t}on.mergeDateTimeComponent=Ho});var jt=h(Ko=>{"use strict";Object.defineProperty(Ko,"__esModule",{value:!0});var Ab=an(),Xp=Zp(),zo=class extends Ab.MergingRefiner{shouldMergeResults(e,t,n){return(t.start.isOnlyDate()&&n.start.isOnlyTime()||n.start.isOnlyDate()&&t.start.isOnlyTime())&&e.match(this.patternBetween())!=null}mergeResults(e,t,n){let i=t.start.isOnlyDate()?Xp.mergeDateTimeResult(t,n):Xp.mergeDateTimeResult(n,t);return i.index=t.index,i.text=t.text+e+n.text,i}};Ko.default=zo});var Qp=h(Gn=>{"use strict";var kb=Gn&&Gn.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Gn,"__esModule",{value:!0});var Nb=kb(jt()),Vo=class extends Nb.default{patternBetween(){return new RegExp("^\\s*(T|at|after|before|on|of|,|-)?\\s*$")}};Gn.default=Vo});var Jp=h(Xo=>{"use strict";Object.defineProperty(Xo,"__esModule",{value:!0});var Cb=new RegExp("^\\s*,?\\s*\\(?([A-Z]{2,4})\\)?(?=\\W|$)","i"),xb={ACDT:630,ACST:570,ADT:-180,AEDT:660,AEST:600,AFT:270,AKDT:-480,AKST:-540,ALMT:360,AMST:-180,AMT:-240,ANAST:720,ANAT:720,AQTT:300,ART:-180,AST:-240,AWDT:540,AWST:480,AZOST:0,AZOT:-60,AZST:300,AZT:240,BNT:480,BOT:-240,BRST:-120,BRT:-180,BST:60,BTT:360,CAST:480,CAT:120,CCT:390,CDT:-300,CEST:120,CET:60,CHADT:825,CHAST:765,CKT:-600,CLST:-180,CLT:-240,COT:-300,CST:-360,CVT:-60,CXT:420,ChST:600,DAVT:420,EASST:-300,EAST:-360,EAT:180,ECT:-300,EDT:-240,EEST:180,EET:120,EGST:0,EGT:-60,EST:-300,ET:-300,FJST:780,FJT:720,FKST:-180,FKT:-240,FNT:-120,GALT:-360,GAMT:-540,GET:240,GFT:-180,GILT:720,GMT:0,GST:240,GYT:-240,HAA:-180,HAC:-300,HADT:-540,HAE:-240,HAP:-420,HAR:-360,HAST:-600,HAT:-90,HAY:-480,HKT:480,HLV:-210,HNA:-240,HNC:-360,HNE:-300,HNP:-480,HNR:-420,HNT:-150,HNY:-540,HOVT:420,ICT:420,IDT:180,IOT:360,IRDT:270,IRKST:540,IRKT:540,IRST:210,IST:330,JST:540,KGT:360,KRAST:480,KRAT:480,KST:540,KUYT:240,LHDT:660,LHST:630,LINT:840,MAGST:720,MAGT:720,MART:-510,MAWT:300,MDT:-360,MESZ:120,MEZ:60,MHT:720,MMT:390,MSD:240,MSK:240,MST:-420,MUT:240,MVT:300,MYT:480,NCT:660,NDT:-90,NFT:690,NOVST:420,NOVT:360,NPT:345,NST:-150,NUT:-660,NZDT:780,NZST:720,OMSST:420,OMST:420,PDT:-420,PET:-300,PETST:720,PETT:720,PGT:600,PHOT:780,PHT:480,PKT:300,PMDT:-120,PMST:-180,PONT:660,PST:-480,PT:-480,PWT:540,PYST:-180,PYT:-240,RET:240,SAMT:240,SAST:120,SBT:660,SCT:240,SGT:480,SRT:-180,SST:-660,TAHT:-600,TFT:300,TJT:300,TKT:780,TLT:540,TMT:300,TVT:720,ULAT:480,UTC:0,UYST:-120,UYT:-180,UZT:300,VET:-210,VLAST:660,VLAT:660,VUT:660,WAST:120,WAT:60,WEST:60,WESZ:60,WET:0,WEZ:0,WFT:720,WGST:-120,WGT:-180,WIB:420,WIT:540,WITA:480,WST:780,WT:0,YAKST:600,YAKT:600,YAPT:600,YEKST:360,YEKT:360},Zo=class{constructor(e){this.timezone=Object.assign(Object.assign({},xb),e)}refine(e,t){var n;let i=(n=e.option.timezones)!==null&&n!==void 0?n:{};return t.forEach(s=>{var a,o;let u=e.text.substring(s.index+s.text.length),l=Cb.exec(u);if(!l)return;let c=l[1].toUpperCase(),d=(o=(a=i[c])!==null&&a!==void 0?a:this.timezone[c])!==null&&o!==void 0?o:null;if(d===null)return;e.debug(()=>{console.log(`Extracting timezone: '${c}' into: ${d} for: ${s.start}`)});let f=s.start.get("timezoneOffset");f!==null&&d!=f&&(s.start.isCertain("timezoneOffset")||c!=l[1])||s.start.isOnlyDate()&&c!=l[1]||(s.text+=l[0],s.start.isCertain("timezoneOffset")||s.start.assign("timezoneOffset",d),s.end!=null&&!s.end.isCertain("timezoneOffset")&&s.end.assign("timezoneOffset",d))}),t}};Xo.default=Zo});var Ns=h(Jo=>{"use strict";Object.defineProperty(Jo,"__esModule",{value:!0});var Sb=new RegExp("^\\s*(?:\\(?(?:GMT|UTC)\\s?)?([+-])(\\d{1,2})(?::?(\\d{2}))?\\)?","i"),Ib=1,Ub=2,Fb=3,Qo=class{refine(e,t){return t.forEach(function(n){if(n.start.isCertain("timezoneOffset"))return;let i=e.text.substring(n.index+n.text.length),s=Sb.exec(i);if(!s)return;e.debug(()=>{console.log(`Extracting timezone: '${s[0]}' into : ${n}`)});let a=parseInt(s[Ub]),o=parseInt(s[Fb]||"0"),u=a*60+o;u>14*60||(s[Ib]==="-"&&(u=-u),n.end!=null&&n.end.assign("timezoneOffset",u),n.start.assign("timezoneOffset",u),n.text+=s[0])}),t}};Jo.default=Qo});var eh=h(tu=>{"use strict";Object.defineProperty(tu,"__esModule",{value:!0});var eu=class{refine(e,t){if(t.length<2)return t;let n=[],i=t[0];for(let s=1;s<t.length;s++){let a=t[s];a.index<i.index+i.text.length?a.text.length>i.text.length&&(i=a):(n.push(i),i=a)}return i!=null&&n.push(i),n}};tu.default=eu});var th=h(Hn=>{"use strict";var qb=Hn&&Hn.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Hn,"__esModule",{value:!0});var Wb=qb(K()),ru=class{refine(e,t){return e.option.forwardDate&&t.forEach(function(n){let i=Wb.default(e.refDate);if(n.start.isOnlyDayMonthComponent()&&i.isAfter(n.start.dayjs()))for(let s=0;s<3&&i.isAfter(n.start.dayjs());s++)n.start.imply("year",n.start.get("year")+1),e.debug(()=>{console.log(`Forward yearly adjusted for ${n} (${n.start})`)}),n.end&&!n.end.isCertain("year")&&(n.end.imply("year",n.end.get("year")+1),e.debug(()=>{console.log(`Forward yearly adjusted for ${n} (${n.end})`)}));n.start.isOnlyWeekdayComponent()&&i.isAfter(n.start.dayjs())&&(i.day()>=n.start.get("weekday")?i=i.day(n.start.get("weekday")+7):i=i.day(n.start.get("weekday")),n.start.imply("day",i.date()),n.start.imply("month",i.month()+1),n.start.imply("year",i.year()),e.debug(()=>{console.log(`Forward weekly adjusted for ${n} (${n.start})`)}),n.end&&n.end.isOnlyWeekdayComponent()&&(i.day()>n.end.get("weekday")?i=i.day(n.end.get("weekday")+7):i=i.day(n.end.get("weekday")),n.end.imply("day",i.date()),n.end.imply("month",i.month()+1),n.end.imply("year",i.year()),e.debug(()=>{console.log(`Forward weekly adjusted for ${n} (${n.end})`)})))}),t}};Hn.default=ru});var rh=h(iu=>{"use strict";Object.defineProperty(iu,"__esModule",{value:!0});var Lb=an(),nu=class extends Lb.Filter{constructor(e){super(),this.strictMode=e}isValid(e,t){return t.text.replace(" ","").match(/^\d*(\.\d*)?$/)?(e.debug(()=>{console.log(`Removing unlikely result '${t.text}'`)}),!1):t.start.isValidDate()?t.end&&!t.end.isValidDate()?(e.debug(()=>{console.log(`Removing invalid result: ${t} (${t.end})`)}),!1):this.strictMode?this.isStrictModeValid(e,t):!0:(e.debug(()=>{console.log(`Removing invalid result: ${t} (${t.start})`)}),!1)}isStrictModeValid(e,t){return t.start.isOnlyWeekdayComponent()?(e.debug(()=>{console.log(`(Strict) Removing weekday only component: ${t} (${t.end})`)}),!1):t.start.isOnlyTime()&&(!t.start.isCertain("hour")||!t.start.isCertain("minute"))?(e.debug(()=>{console.log(`(Strict) Removing uncertain time component: ${t} (${t.end})`)}),!1):!0}};iu.default=nu});var ou=h(au=>{"use strict";Object.defineProperty(au,"__esModule",{value:!0});var Yb=R(),$b=new RegExp("([0-9]{4})\\-([0-9]{1,2})\\-([0-9]{1,2})(?:T([0-9]{1,2}):([0-9]{1,2})(?::([0-9]{1,2})(?:\\.(\\d{1,4}))?)?(?:Z|([+-]\\d{2}):?(\\d{2})?)?)?(?=\\W|$)","i"),jb=1,Bb=2,Gb=3,nh=4,Hb=5,ih=6,sh=7,ah=8,oh=9,su=class extends Yb.AbstractParserWithWordBoundaryChecking{innerPattern(){return $b}innerExtract(e,t){let n={};if(n.year=parseInt(t[jb]),n.month=parseInt(t[Bb]),n.day=parseInt(t[Gb]),t[nh]!=null)if(n.hour=parseInt(t[nh]),n.minute=parseInt(t[Hb]),t[ih]!=null&&(n.second=parseInt(t[ih])),t[sh]!=null&&(n.millisecond=parseInt(t[sh])),t[ah]==null)n.timezoneOffset=0;else{let i=parseInt(t[ah]),s=0;t[oh]!=null&&(s=parseInt(t[oh]));let a=i*60;a<0?a-=s:a+=s,n.timezoneOffset=a}return n}};au.default=su});var uh=h(lu=>{"use strict";Object.defineProperty(lu,"__esModule",{value:!0});var zb=an(),uu=class extends zb.MergingRefiner{mergeResults(e,t,n){let i=n.clone();return i.index=t.index,i.text=t.text+e+i.text,i.start.assign("weekday",t.start.get("weekday")),i.end&&i.end.assign("weekday",t.start.get("weekday")),i}shouldMergeResults(e,t,n){return t.start.isOnlyWeekdayComponent()&&!t.start.isCertain("hour")&&n.start.isCertain("day")&&e.match(/^,?\s*$/)!=null}};lu.default=uu});var Bt=h(un=>{"use strict";var Fr=un&&un.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(un,"__esModule",{value:!0});un.includeCommonConfiguration=void 0;var Kb=Fr(Jp()),Vb=Fr(Ns()),lh=Fr(eh()),Zb=Fr(th()),Xb=Fr(rh()),Qb=Fr(ou()),Jb=Fr(uh());function ev(r,e=!1){return r.parsers.unshift(new Qb.default),r.refiners.unshift(new Jb.default),r.refiners.unshift(new Kb.default),r.refiners.unshift(new Vb.default),r.refiners.unshift(new lh.default),r.refiners.push(new lh.default),r.refiners.push(new Zb.default),r.refiners.push(new Xb.default(e)),r}un.includeCommonConfiguration=ev});var Ht=h(X=>{"use strict";var tv=X&&X.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(X,"__esModule",{value:!0});X.noon=X.morning=X.midnight=X.yesterdayEvening=X.evening=X.lastNight=X.tonight=X.theDayAfter=X.tomorrow=X.theDayBefore=X.yesterday=X.today=X.now=void 0;var kt=he(),ln=tv(K()),Gt=it(),zn=Ee();function rv(r){let e=ln.default(r.instant),t=new kt.ParsingComponents(r,{});return Gt.assignSimilarDate(t,e),Gt.assignSimilarTime(t,e),r.timezoneOffset!==null&&t.assign("timezoneOffset",e.utcOffset()),t}X.now=rv;function nv(r){let e=ln.default(r.instant),t=new kt.ParsingComponents(r,{});return Gt.assignSimilarDate(t,e),Gt.implySimilarTime(t,e),t}X.today=nv;function iv(r){return ch(r,1)}X.yesterday=iv;function ch(r,e){return cu(r,-e)}X.theDayBefore=ch;function sv(r){return cu(r,1)}X.tomorrow=sv;function cu(r,e){let t=ln.default(r.instant),n=new kt.ParsingComponents(r,{});return t=t.add(e,"day"),Gt.assignSimilarDate(n,t),Gt.implySimilarTime(n,t),n}X.theDayAfter=cu;function av(r,e=22){let t=ln.default(r.instant),n=new kt.ParsingComponents(r,{});return n.imply("hour",e),n.imply("meridiem",zn.Meridiem.PM),Gt.assignSimilarDate(n,t),n}X.tonight=av;function ov(r,e=0){let t=ln.default(r.instant),n=new kt.ParsingComponents(r,{});return t.hour()<6&&(t=t.add(-1,"day")),Gt.assignSimilarDate(n,t),n.imply("hour",e),n}X.lastNight=ov;function uv(r,e=20){let t=new kt.ParsingComponents(r,{});return t.imply("meridiem",zn.Meridiem.PM),t.imply("hour",e),t}X.evening=uv;function lv(r,e=20){let t=ln.default(r.instant),n=new kt.ParsingComponents(r,{});return t=t.add(-1,"day"),Gt.assignSimilarDate(n,t),n.imply("hour",e),n.imply("meridiem",zn.Meridiem.PM),n}X.yesterdayEvening=lv;function cv(r){let e=new kt.ParsingComponents(r,{});return e.imply("hour",0),e.imply("minute",0),e.imply("second",0),e}X.midnight=cv;function dv(r,e=6){let t=new kt.ParsingComponents(r,{});return t.imply("meridiem",zn.Meridiem.AM),t.imply("hour",e),t}X.morning=dv;function fv(r){let e=new kt.ParsingComponents(r,{});return e.imply("meridiem",zn.Meridiem.AM),e.imply("hour",12),e}X.noon=fv});var dh=h(mt=>{"use strict";var pv=mt&&mt.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t),Object.defineProperty(r,n,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),hv=mt&&mt.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),mv=mt&&mt.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&pv(e,r,t);return hv(e,r),e},yv=mt&&mt.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(mt,"__esModule",{value:!0});var gv=yv(K()),_v=R(),Tv=it(),Kn=mv(Ht()),bv=/(now|today|tonight|tomorrow|tmr|tmrw|yesterday|last\s*night)(?=\W|$)/i,du=class extends _v.AbstractParserWithWordBoundaryChecking{innerPattern(e){return bv}innerExtract(e,t){let n=gv.default(e.refDate),i=t[0].toLowerCase(),s=e.createParsingComponents();switch(i){case"now":return Kn.now(e.reference);case"today":return Kn.today(e.reference);case"yesterday":return Kn.yesterday(e.reference);case"tomorrow":case"tmr":case"tmrw":return Kn.tomorrow(e.reference);case"tonight":return Kn.tonight(e.reference);default:i.match(/last\s*night/)&&(n.hour()>6&&(n=n.add(-1,"day")),Tv.assignSimilarDate(s,n),s.imply("hour",0));break}return s}};mt.default=du});var fh=h(Vn=>{"use strict";var vv=Vn&&Vn.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Vn,"__esModule",{value:!0});var Cs=Ee(),Ev=R(),Rv=vv(K()),wv=it(),Mv=/(?:this)?\s{0,3}(morning|afternoon|evening|night|midnight|noon)(?=\W|$)/i,fu=class extends Ev.AbstractParserWithWordBoundaryChecking{innerPattern(){return Mv}innerExtract(e,t){let n=Rv.default(e.refDate),i=e.createParsingComponents();switch(t[1].toLowerCase()){case"afternoon":i.imply("meridiem",Cs.Meridiem.PM),i.imply("hour",15);break;case"evening":case"night":i.imply("meridiem",Cs.Meridiem.PM),i.imply("hour",20);break;case"midnight":wv.assignTheNextDay(i,n),i.imply("hour",0),i.imply("minute",0),i.imply("second",0);break;case"morning":i.imply("meridiem",Cs.Meridiem.AM),i.imply("hour",6);break;case"noon":i.imply("meridiem",Cs.Meridiem.AM),i.imply("hour",12);break}return i}};Vn.default=fu});var qr=h(gr=>{"use strict";var Dv=gr&&gr.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(gr,"__esModule",{value:!0});gr.toDayJSClosestWeekday=gr.toDayJSWeekday=void 0;var ph=Dv(K());function Pv(r,e,t){if(!t)return hh(r,e);let n=ph.default(r);switch(t){case"this":n=n.day(e);break;case"next":n=n.day(e+7);break;case"last":n=n.day(e-7);break}return n}gr.toDayJSWeekday=Pv;function hh(r,e){let t=ph.default(r),n=t.day();return Math.abs(e-7-n)<Math.abs(e-n)?t=t.day(e-7):Math.abs(e+7-n)<Math.abs(e-n)?t=t.day(e+7):t=t.day(e),t}gr.toDayJSClosestWeekday=hh});var yh=h(hu=>{"use strict";Object.defineProperty(hu,"__esModule",{value:!0});var mh=Ie(),Ov=Q(),Av=R(),kv=qr(),Nv=new RegExp(`(?:(?:\\,|\\(|\\\uFF08)\\s*)?(?:on\\s*?)?(?:(this|last|past|next)\\s*)?(${Ov.matchAnyPattern(mh.WEEKDAY_DICTIONARY)})(?:\\s*(?:\\,|\\)|\\\uFF09))?(?:\\s*(this|last|past|next)\\s*week)?(?=\\W|$)`,"i"),Cv=1,xv=2,Sv=3,pu=class extends Av.AbstractParserWithWordBoundaryChecking{innerPattern(){return Nv}innerExtract(e,t){let n=t[xv].toLowerCase(),i=mh.WEEKDAY_DICTIONARY[n],s=t[Cv],a=t[Sv],o=s||a;o=o||"",o=o.toLowerCase();let u=null;o=="last"||o=="past"?u="last":o=="next"?u="next":o=="this"&&(u="this");let l=kv.toDayJSWeekday(e.refDate,i,u);return e.createParsingComponents().assign("weekday",i).imply("day",l.date()).imply("month",l.month()+1).imply("year",l.year())}};hu.default=pu});var Th=h(Zn=>{"use strict";var Iv=Zn&&Zn.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Zn,"__esModule",{value:!0});var _h=Ie(),gh=he(),Uv=Iv(K()),Fv=R(),qv=Q(),Wv=new RegExp(`(this|last|past|next|after\\s*this)\\s*(${qv.matchAnyPattern(_h.TIME_UNIT_DICTIONARY)})(?=\\s*)(?=\\W|$)`,"i"),Lv=1,Yv=2,mu=class extends Fv.AbstractParserWithWordBoundaryChecking{innerPattern(){return Wv}innerExtract(e,t){let n=t[Lv].toLowerCase(),i=t[Yv].toLowerCase(),s=_h.TIME_UNIT_DICTIONARY[i];if(n=="next"||n.startsWith("after")){let u={};return u[s]=1,gh.ParsingComponents.createRelativeFromReference(e.reference,u)}if(n=="last"||n=="past"){let u={};return u[s]=-1,gh.ParsingComponents.createRelativeFromReference(e.reference,u)}let a=e.createParsingComponents(),o=Uv.default(e.reference.instant);return i.match(/week/i)?(o=o.add(-o.get("d"),"d"),a.imply("day",o.date()),a.imply("month",o.month()+1),a.imply("year",o.year())):i.match(/month/i)?(o=o.add(-o.date()+1,"d"),a.imply("day",o.date()),a.assign("year",o.year()),a.assign("month",o.month()+1)):i.match(/year/i)&&(o=o.add(-o.date()+1,"d"),o=o.add(-o.month(),"month"),a.imply("day",o.date()),a.imply("month",o.month()+1),a.assign("year",o.year())),a}};Zn.default=mu});var yt=h(fn=>{"use strict";Object.defineProperty(fn,"__esModule",{value:!0});fn.ParsingContext=fn.Chrono=void 0;var cn=he(),$v=yu(),dn=class{constructor(e){e=e||$v.createCasualConfiguration(),this.parsers=[...e.parsers],this.refiners=[...e.refiners]}clone(){return new dn({parsers:[...this.parsers],refiners:[...this.refiners]})}parseDate(e,t,n){let i=this.parse(e,t,n);return i.length>0?i[0].start.date():null}parse(e,t,n){let i=new xs(e,t,n),s=[];return this.parsers.forEach(a=>{let o=dn.executeParser(i,a);s=s.concat(o)}),s.sort((a,o)=>a.index-o.index),this.refiners.forEach(function(a){s=a.refine(i,s)}),s}static executeParser(e,t){let n=[],i=t.pattern(e),s=e.text,a=e.text,o=i.exec(a);for(;o;){let u=o.index+s.length-a.length;o.index=u;let l=t.extract(e,o);if(!l){a=s.substring(o.index+1),o=i.exec(a);continue}let c=null;l instanceof cn.ParsingResult?c=l:l instanceof cn.ParsingComponents?(c=e.createParsingResult(o.index,o[0]),c.start=l):c=e.createParsingResult(o.index,o[0],l),e.debug(()=>console.log(`${t.constructor.name} extracted result ${c}`)),n.push(c),a=s.substring(u+c.text.length),o=i.exec(a)}return n}};fn.Chrono=dn;var xs=class{constructor(e,t,n){this.text=e,this.reference=new cn.ReferenceWithTimezone(t),this.option=n!=null?n:{},this.refDate=this.reference.instant}createParsingComponents(e){return e instanceof cn.ParsingComponents?e:new cn.ParsingComponents(this.reference,e)}createParsingResult(e,t,n,i){let s=typeof t=="string"?t:this.text.substring(e,t),a=n?this.createParsingComponents(n):null,o=i?this.createParsingComponents(i):null;return new cn.ParsingResult(this.reference,e,s,a,o)}debug(e){this.option.debug&&(this.option.debug instanceof Function?this.option.debug(e):this.option.debug.debug(e))}};fn.ParsingContext=xs});var Wr=h(Tu=>{"use strict";Object.defineProperty(Tu,"__esModule",{value:!0});var bh=Se(),jv=new RegExp("([^\\d]|^)([0-3]{0,1}[0-9]{1})[\\/\\.\\-]([0-3]{0,1}[0-9]{1})(?:[\\/\\.\\-]([0-9]{4}|[0-9]{2}))?(\\W|$)","i"),Ss=1,vh=5,Eh=2,Rh=3,gu=4,_u=class{constructor(e){this.groupNumberMonth=e?Rh:Eh,this.groupNumberDay=e?Eh:Rh}pattern(){return jv}extract(e,t){if(t[Ss]=="/"||t[vh]=="/"){t.index+=t[0].length;return}let n=t.index+t[Ss].length,i=t[0].substr(t[Ss].length,t[0].length-t[Ss].length-t[vh].length);if(i.match(/^\d\.\d$/)||i.match(/^\d\.\d{1,2}\.\d{1,2}\s*$/)||!t[gu]&&t[0].indexOf("/")<0)return;let s=e.createParsingResult(n,i),a=parseInt(t[this.groupNumberMonth]),o=parseInt(t[this.groupNumberDay]);if((a<1||a>12)&&a>12)if(o>=1&&o<=12&&a<=31)[o,a]=[a,o];else return null;if(o<1||o>31)return null;if(s.start.assign("day",o),s.start.assign("month",a),t[gu]){let u=parseInt(t[gu]),l=bh.findMostLikelyADYear(u);s.start.assign("year",l)}else{let u=bh.findYearClosestToRef(e.refDate,o,a);s.start.imply("year",u)}return s}};Tu.default=_u});var Mh=h(vu=>{"use strict";Object.defineProperty(vu,"__esModule",{value:!0});var wh=Ie(),Bv=he(),Gv=R(),Hv=st(),zv=new RegExp(`(this|last|past|next|after|\\+|-)\\s*(${wh.TIME_UNITS_PATTERN})(?=\\W|$)`,"i"),bu=class extends Gv.AbstractParserWithWordBoundaryChecking{innerPattern(){return zv}innerExtract(e,t){let n=t[1].toLowerCase(),i=wh.parseTimeUnits(t[2]);switch(n){case"last":case"past":case"-":i=Hv.reverseTimeUnits(i);break}return Bv.ParsingComponents.createRelativeFromReference(e.reference,i)}};vu.default=bu});var Ph=h(wu=>{"use strict";Object.defineProperty(wu,"__esModule",{value:!0});var Kv=an(),Eu=he(),Vv=Ie(),Zv=st();function Dh(r){return r.text.match(/\s+(before|from)$/i)!=null}function Xv(r){return r.text.match(/\s+(after|since)$/i)!=null}var Ru=class extends Kv.MergingRefiner{patternBetween(){return/^\s*$/i}shouldMergeResults(e,t,n){return!e.match(this.patternBetween())||!Dh(t)&&!Xv(t)?!1:!!n.start.get("day")&&!!n.start.get("month")&&!!n.start.get("year")}mergeResults(e,t,n){let i=Vv.parseTimeUnits(t.text);Dh(t)&&(i=Zv.reverseTimeUnits(i));let s=Eu.ParsingComponents.createRelativeFromReference(new Eu.ReferenceWithTimezone(n.start.date()),i);return new Eu.ParsingResult(n.reference,t.index,`${t.text}${e}${n.text}`,s)}};wu.default=Ru});var yu=h(Te=>{"use strict";var we=Te&&Te.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Te,"__esModule",{value:!0});Te.createConfiguration=Te.createCasualConfiguration=Te.parseDate=Te.parse=Te.GB=Te.strict=Te.casual=void 0;var Qv=we(Dp()),Jv=we(Cp()),e1=we(Fp()),t1=we(Lp()),r1=we(jp()),n1=we(Bp()),i1=we(Hp()),s1=we(zp()),a1=we(Kp()),o1=we(Vp()),u1=we(Qp()),l1=Bt(),c1=we(dh()),d1=we(fh()),f1=we(yh()),p1=we(Th()),Mu=yt(),h1=we(Wr()),m1=we(Mh()),y1=we(Ph());Te.casual=new Mu.Chrono(Oh(!1));Te.strict=new Mu.Chrono(Is(!0,!1));Te.GB=new Mu.Chrono(Is(!1,!0));function g1(r,e,t){return Te.casual.parse(r,e,t)}Te.parse=g1;function _1(r,e,t){return Te.casual.parseDate(r,e,t)}Te.parseDate=_1;function Oh(r=!1){let e=Is(!1,r);return e.parsers.unshift(new c1.default),e.parsers.unshift(new d1.default),e.parsers.unshift(new t1.default),e.parsers.unshift(new p1.default),e.parsers.unshift(new m1.default),e}Te.createCasualConfiguration=Oh;function Is(r=!0,e=!1){return l1.includeCommonConfiguration({parsers:[new h1.default(e),new Qv.default,new Jv.default,new e1.default,new f1.default,new r1.default,new n1.default,new i1.default(r),new s1.default(r),new a1.default(r)],refiners:[new y1.default,new u1.default,new o1.default]},r)}Te.createConfiguration=Is});var Ah=h(Pu=>{"use strict";Object.defineProperty(Pu,"__esModule",{value:!0});var T1=Ur(),Du=class extends T1.AbstractTimeExpressionParser{primaryPrefix(){return"(?:(?:um|von)\\s*)?"}followingPhase(){return"\\s*(?:\\-|\\\u2013|\\~|\\\u301C|bis)\\s*"}extractPrimaryTimeComponents(e,t){return t[0].match(/^\s*\d{4}\s*$/)?null:super.extractPrimaryTimeComponents(e,t)}};Pu.default=Du});var Xn=h(re=>{"use strict";Object.defineProperty(re,"__esModule",{value:!0});re.parseTimeUnits=re.TIME_UNITS_PATTERN=re.parseYear=re.YEAR_PATTERN=re.parseNumberPattern=re.NUMBER_PATTERN=re.TIME_UNIT_DICTIONARY=re.INTEGER_WORD_DICTIONARY=re.MONTH_DICTIONARY=re.WEEKDAY_DICTIONARY=void 0;var Ou=Q(),b1=Se();re.WEEKDAY_DICTIONARY={sonntag:0,so:0,montag:1,mo:1,dienstag:2,di:2,mittwoch:3,mi:3,donnerstag:4,do:4,freitag:5,fr:5,samstag:6,sa:6};re.MONTH_DICTIONARY={januar:1,j\u00E4nner:1,janner:1,jan:1,"jan.":1,februar:2,feber:2,feb:2,"feb.":2,m\u00E4rz:3,maerz:3,m\u00E4r:3,"m\xE4r.":3,mrz:3,"mrz.":3,april:4,apr:4,"apr.":4,mai:5,juni:6,jun:6,"jun.":6,juli:7,jul:7,"jul.":7,august:8,aug:8,"aug.":8,september:9,sep:9,"sep.":9,sept:9,"sept.":9,oktober:10,okt:10,"okt.":10,november:11,nov:11,"nov.":11,dezember:12,dez:12,"dez.":12};re.INTEGER_WORD_DICTIONARY={eins:1,eine:1,einem:1,einen:1,einer:1,zwei:2,drei:3,vier:4,f\u00FCnf:5,fuenf:5,sechs:6,sieben:7,acht:8,neun:9,zehn:10,elf:11,zw\u00F6lf:12,zwoelf:12};re.TIME_UNIT_DICTIONARY={sek:"second",sekunde:"second",sekunden:"second",min:"minute",minute:"minute",minuten:"minute",h:"hour",std:"hour",stunde:"hour",stunden:"hour",tag:"d",tage:"d",tagen:"d",woche:"week",wochen:"week",monat:"month",monate:"month",monaten:"month",monats:"month",quartal:"quarter",quartals:"quarter",quartale:"quarter",quartalen:"quarter",a:"year",j:"year",jr:"year",jahr:"year",jahre:"year",jahren:"year",jahres:"year"};re.NUMBER_PATTERN=`(?:${Ou.matchAnyPattern(re.INTEGER_WORD_DICTIONARY)}|[0-9]+|[0-9]+\\.[0-9]+|half(?:\\s*an?)?|an?\\b(?:\\s*few)?|few|several|a?\\s*couple\\s*(?:of)?)`;function Nh(r){let e=r.toLowerCase();return re.INTEGER_WORD_DICTIONARY[e]!==void 0?re.INTEGER_WORD_DICTIONARY[e]:e==="a"||e==="an"?1:e.match(/few/)?3:e.match(/half/)?.5:e.match(/couple/)?2:e.match(/several/)?7:parseFloat(e)}re.parseNumberPattern=Nh;re.YEAR_PATTERN="(?:[0-9]{1,4}(?:\\s*[vn]\\.?\\s*(?:C(?:hr)?|(?:u\\.?|d\\.?(?:\\s*g\\.?)?)?\\s*Z)\\.?|\\s*(?:u\\.?|d\\.?(?:\\s*g\\.)?)\\s*Z\\.?)?)";function v1(r){if(/v/i.test(r))return-parseInt(r.replace(/[^0-9]+/gi,""));if(/n/i.test(r))return parseInt(r.replace(/[^0-9]+/gi,""));if(/z/i.test(r))return parseInt(r.replace(/[^0-9]+/gi,""));let e=parseInt(r);return b1.findMostLikelyADYear(e)}re.parseYear=v1;var Ch=`(${re.NUMBER_PATTERN})\\s{0,5}(${Ou.matchAnyPattern(re.TIME_UNIT_DICTIONARY)})\\s{0,5}`,kh=new RegExp(Ch,"i");re.TIME_UNITS_PATTERN=Ou.repeatedTimeunitPattern("",Ch);function E1(r){let e={},t=r,n=kh.exec(t);for(;n;)R1(e,n),t=t.substring(n[0].length),n=kh.exec(t);return e}re.parseTimeUnits=E1;function R1(r,e){let t=Nh(e[1]),n=re.TIME_UNIT_DICTIONARY[e[2].toLowerCase()];r[n]=t}});var Sh=h(ku=>{"use strict";Object.defineProperty(ku,"__esModule",{value:!0});var xh=Xn(),w1=Q(),M1=R(),D1=qr(),P1=new RegExp(`(?:(?:\\,|\\(|\\\uFF08)\\s*)?(?:a[mn]\\s*?)?(?:(diese[mn]|letzte[mn]|n(?:\xE4|ae)chste[mn])\\s*)?(${w1.matchAnyPattern(xh.WEEKDAY_DICTIONARY)})(?:\\s*(?:\\,|\\)|\\\uFF09))?(?:\\s*(diese|letzte|n(?:\xE4|ae)chste)\\s*woche)?(?=\\W|$)`,"i"),O1=1,A1=3,k1=2,Au=class extends M1.AbstractParserWithWordBoundaryChecking{innerPattern(){return P1}innerExtract(e,t){let n=t[k1].toLowerCase(),i=xh.WEEKDAY_DICTIONARY[n],s=t[O1],a=t[A1],o=s||a;o=o||"",o=o.toLowerCase();let u=null;o.match(/letzte/)?u="last":o.match(/chste/)?u="next":o.match(/diese/)&&(u="this");let l=D1.toDayJSWeekday(e.refDate,i,u);return e.createParsingComponents().assign("weekday",i).imply("day",l.date()).imply("month",l.month()+1).imply("year",l.year())}};ku.default=Au});var qh=h(Nu=>{"use strict";Object.defineProperty(Nu,"__esModule",{value:!0});var _r=Ee(),N1=new RegExp("(^|\\s|T)(?:(?:um|von)\\s*)?(\\d{1,2})(?:h|:)?(?:(\\d{1,2})(?:m|:)?)?(?:(\\d{1,2})(?:s)?)?(?:\\s*Uhr)?(?:\\s*(morgens|vormittags|nachmittags|abends|nachts|am\\s+(?:Morgen|Vormittag|Nachmittag|Abend)|in\\s+der\\s+Nacht))?(?=\\W|$)","i"),C1=new RegExp("^\\s*(\\-|\\\u2013|\\~|\\\u301C|bis(?:\\s+um)?|\\?)\\s*(\\d{1,2})(?:h|:)?(?:(\\d{1,2})(?:m|:)?)?(?:(\\d{1,2})(?:s)?)?(?:\\s*Uhr)?(?:\\s*(morgens|vormittags|nachmittags|abends|nachts|am\\s+(?:Morgen|Vormittag|Nachmittag|Abend)|in\\s+der\\s+Nacht))?(?=\\W|$)","i"),x1=2,Ih=3,Uh=4,Fh=5,pn=class{pattern(e){return N1}extract(e,t){let n=e.createParsingResult(t.index+t[1].length,t[0].substring(t[1].length));if(n.text.match(/^\d{4}$/)||(n.start=pn.extractTimeComponent(n.start.clone(),t),!n.start))return t.index+=t[0].length,null;let i=e.text.substring(t.index+t[0].length),s=C1.exec(i);return s&&(n.end=pn.extractTimeComponent(n.start.clone(),s),n.end&&(n.text+=s[0])),n}static extractTimeComponent(e,t){let n=0,i=0,s=null;if(n=parseInt(t[x1]),t[Ih]!=null&&(i=parseInt(t[Ih])),i>=60||n>24)return null;if(n>=12&&(s=_r.Meridiem.PM),t[Fh]!=null){if(n>12)return null;let a=t[Fh].toLowerCase();a.match(/morgen|vormittag/)&&(s=_r.Meridiem.AM,n==12&&(n=0)),a.match(/nachmittag|abend/)&&(s=_r.Meridiem.PM,n!=12&&(n+=12)),a.match(/nacht/)&&(n==12?(s=_r.Meridiem.AM,n=0):n<6?s=_r.Meridiem.AM:(s=_r.Meridiem.PM,n+=12))}if(e.assign("hour",n),e.assign("minute",i),s!==null?e.assign("meridiem",s):n<12?e.imply("meridiem",_r.Meridiem.AM):e.imply("meridiem",_r.Meridiem.PM),t[Uh]!=null){let a=parseInt(t[Uh]);if(a>=60)return null;e.assign("second",a)}return e}};Nu.default=pn});var Wh=h(Qn=>{"use strict";var S1=Qn&&Qn.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Qn,"__esModule",{value:!0});var I1=S1(At()),Cu=class extends I1.default{patternBetween(){return/^\s*(bis(?:\s*(?:am|zum))?|-)\s*$/i}};Qn.default=Cu});var Lh=h(Jn=>{"use strict";var U1=Jn&&Jn.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Jn,"__esModule",{value:!0});var F1=U1(jt()),xu=class extends F1.default{patternBetween(){return new RegExp("^\\s*(T|um|am|,|-)?\\s*$")}};Jn.default=xu});var Su=h(ti=>{"use strict";var q1=ti&&ti.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(ti,"__esModule",{value:!0});var W1=q1(K()),Lr=Ee(),L1=R(),Y1=it(),$1=st(),ei=class extends L1.AbstractParserWithWordBoundaryChecking{innerPattern(e){return/(diesen)?\s*(morgen|vormittag|mittags?|nachmittag|abend|nacht|mitternacht)(?=\W|$)/i}innerExtract(e,t){let n=W1.default(e.refDate),i=t[2].toLowerCase(),s=e.createParsingComponents();return Y1.implySimilarTime(s,n),ei.extractTimeComponents(s,i)}static extractTimeComponents(e,t){switch(t){case"morgen":e.imply("hour",6),e.imply("minute",0),e.imply("second",0),e.imply("meridiem",Lr.Meridiem.AM);break;case"vormittag":e.imply("hour",9),e.imply("minute",0),e.imply("second",0),e.imply("meridiem",Lr.Meridiem.AM);break;case"mittag":case"mittags":e.imply("hour",12),e.imply("minute",0),e.imply("second",0),e.imply("meridiem",Lr.Meridiem.AM);break;case"nachmittag":e.imply("hour",15),e.imply("minute",0),e.imply("second",0),e.imply("meridiem",Lr.Meridiem.PM);break;case"abend":e.imply("hour",18),e.imply("minute",0),e.imply("second",0),e.imply("meridiem",Lr.Meridiem.PM);break;case"nacht":e.imply("hour",22),e.imply("minute",0),e.imply("second",0),e.imply("meridiem",Lr.Meridiem.PM);break;case"mitternacht":e.get("hour")>1&&(e=$1.addImpliedTimeUnits(e,{day:1})),e.imply("hour",0),e.imply("minute",0),e.imply("second",0),e.imply("meridiem",Lr.Meridiem.AM);break}return e}};ti.default=ei});var jh=h(gt=>{"use strict";var j1=gt&&gt.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t),Object.defineProperty(r,n,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),B1=gt&&gt.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),G1=gt&&gt.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&j1(e,r,t);return B1(e,r),e},$h=gt&&gt.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(gt,"__esModule",{value:!0});var H1=$h(K()),z1=R(),Yr=it(),K1=$h(Su()),Yh=G1(Ht()),V1=new RegExp("(jetzt|heute|morgen|\xFCbermorgen|uebermorgen|gestern|vorgestern|letzte\\s*nacht)(?:\\s*(morgen|vormittag|mittags?|nachmittag|abend|nacht|mitternacht))?(?=\\W|$)","i"),Z1=1,X1=2,Iu=class extends z1.AbstractParserWithWordBoundaryChecking{innerPattern(e){return V1}innerExtract(e,t){let n=H1.default(e.refDate),i=(t[Z1]||"").toLowerCase(),s=(t[X1]||"").toLowerCase(),a=e.createParsingComponents();switch(i){case"jetzt":a=Yh.now(e.reference);break;case"heute":a=Yh.today(e.reference);break;case"morgen":Yr.assignTheNextDay(a,n);break;case"\xFCbermorgen":case"uebermorgen":n=n.add(1,"day"),Yr.assignTheNextDay(a,n);break;case"gestern":n=n.add(-1,"day"),Yr.assignSimilarDate(a,n),Yr.implySimilarTime(a,n);break;case"vorgestern":n=n.add(-2,"day"),Yr.assignSimilarDate(a,n),Yr.implySimilarTime(a,n);break;default:i.match(/letzte\s*nacht/)&&(n.hour()>6&&(n=n.add(-1,"day")),Yr.assignSimilarDate(a,n),a.imply("hour",0));break}return s&&(a=K1.default.extractTimeComponents(a,s)),a}};gt.default=Iu});var Vh=h(Fu=>{"use strict";Object.defineProperty(Fu,"__esModule",{value:!0});var Q1=Se(),zh=Xn(),Kh=Xn(),J1=Q(),eE=R(),tE=new RegExp(`(?:am\\s*?)?(?:den\\s*?)?([0-9]{1,2})\\.(?:\\s*(?:bis(?:\\s*(?:am|zum))?|\\-|\\\u2013|\\s)\\s*([0-9]{1,2})\\.?)?\\s*(${J1.matchAnyPattern(zh.MONTH_DICTIONARY)})(?:(?:-|/|,?\\s*)(${Kh.YEAR_PATTERN}(?![^\\s]\\d)))?(?=\\W|$)`,"i"),Bh=1,Gh=2,rE=3,Hh=4,Uu=class extends eE.AbstractParserWithWordBoundaryChecking{innerPattern(){return tE}innerExtract(e,t){let n=e.createParsingResult(t.index,t[0]),i=zh.MONTH_DICTIONARY[t[rE].toLowerCase()],s=parseInt(t[Bh]);if(s>31)return t.index=t.index+t[Bh].length,null;if(n.start.assign("month",i),n.start.assign("day",s),t[Hh]){let a=Kh.parseYear(t[Hh]);n.start.assign("year",a)}else{let a=Q1.findYearClosestToRef(e.refDate,s,i);n.start.imply("year",a)}if(t[Gh]){let a=parseInt(t[Gh]);n.end=n.start.clone(),n.end.assign("day",a)}return n}};Fu.default=Uu});var Zh=h(Wu=>{"use strict";Object.defineProperty(Wu,"__esModule",{value:!0});var Us=Xn(),nE=he(),iE=R(),sE=st(),aE=Q(),qu=class extends iE.AbstractParserWithWordBoundaryChecking{constructor(){super()}innerPattern(){return new RegExp(`(?:\\s*((?:n\xE4chste|kommende|folgende|letzte|vergangene|vorige|vor(?:her|an)gegangene)(?:s|n|m|r)?|vor|in)\\s*)?(${Us.NUMBER_PATTERN})?(?:\\s*(n\xE4chste|kommende|folgende|letzte|vergangene|vorige|vor(?:her|an)gegangene)(?:s|n|m|r)?)?\\s*(${aE.matchAnyPattern(Us.TIME_UNIT_DICTIONARY)})`,"i")}innerExtract(e,t){let n=t[2]?Us.parseNumberPattern(t[2]):1,i=Us.TIME_UNIT_DICTIONARY[t[4].toLowerCase()],s={};s[i]=n;let a=t[1]||t[3]||"";if(a=a.toLowerCase(),!!a)return(/vor/.test(a)||/letzte/.test(a)||/vergangen/.test(a))&&(s=sE.reverseTimeUnits(s)),nE.ParsingComponents.createRelativeFromReference(e.reference,s)}};Wu.default=qu});var Jh=h(Me=>{"use strict";var _t=Me&&Me.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Me,"__esModule",{value:!0});Me.createConfiguration=Me.createCasualConfiguration=Me.parseDate=Me.parse=Me.strict=Me.casual=void 0;var oE=Bt(),Xh=yt(),uE=_t(Wr()),lE=_t(ou()),cE=_t(Ah()),dE=_t(Sh()),fE=_t(qh()),pE=_t(Wh()),hE=_t(Lh()),mE=_t(jh()),yE=_t(Su()),gE=_t(Vh()),_E=_t(Zh());Me.casual=new Xh.Chrono(Qh());Me.strict=new Xh.Chrono(Lu(!0));function TE(r,e,t){return Me.casual.parse(r,e,t)}Me.parse=TE;function bE(r,e,t){return Me.casual.parseDate(r,e,t)}Me.parseDate=bE;function Qh(r=!0){let e=Lu(!1,r);return e.parsers.unshift(new yE.default),e.parsers.unshift(new mE.default),e.parsers.unshift(new _E.default),e}Me.createCasualConfiguration=Qh;function Lu(r=!0,e=!0){return oE.includeCommonConfiguration({parsers:[new lE.default,new uE.default(e),new cE.default,new fE.default,new gE.default,new dE.default],refiners:[new pE.default,new hE.default]},r)}Me.createConfiguration=Lu});var tm=h(Tt=>{"use strict";var vE=Tt&&Tt.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t),Object.defineProperty(r,n,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),EE=Tt&&Tt.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),RE=Tt&&Tt.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&vE(e,r,t);return EE(e,r),e},wE=Tt&&Tt.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Tt,"__esModule",{value:!0});var ME=wE(K()),DE=Ee(),PE=R(),em=it(),Fs=RE(Ht()),Yu=class extends PE.AbstractParserWithWordBoundaryChecking{innerPattern(e){return/(maintenant|aujourd'hui|demain|hier|cette\s*nuit|la\s*veille)(?=\W|$)/i}innerExtract(e,t){let n=ME.default(e.refDate),i=t[0].toLowerCase(),s=e.createParsingComponents();switch(i){case"maintenant":return Fs.now(e.reference);case"aujourd'hui":return Fs.today(e.reference);case"hier":return Fs.yesterday(e.reference);case"demain":return Fs.tomorrow(e.reference);default:i.match(/cette\s*nuit/)?(em.assignSimilarDate(s,n),s.imply("hour",22),s.imply("meridiem",DE.Meridiem.PM)):i.match(/la\s*veille/)&&(n=n.add(-1,"day"),em.assignSimilarDate(s,n),s.imply("hour",0))}return s}};Tt.default=Yu});var rm=h(ju=>{"use strict";Object.defineProperty(ju,"__esModule",{value:!0});var ri=Ee(),OE=R(),$u=class extends OE.AbstractParserWithWordBoundaryChecking{innerPattern(e){return/(cet?)?\s*(matin|soir|après-midi|aprem|a midi|à minuit)(?=\W|$)/i}innerExtract(e,t){let n=t[2].toLowerCase(),i=e.createParsingComponents();switch(n){case"apr\xE8s-midi":case"aprem":i.imply("hour",14),i.imply("minute",0),i.imply("meridiem",ri.Meridiem.PM);break;case"soir":i.imply("hour",18),i.imply("minute",0),i.imply("meridiem",ri.Meridiem.PM);break;case"matin":i.imply("hour",8),i.imply("minute",0),i.imply("meridiem",ri.Meridiem.AM);break;case"a midi":i.imply("hour",12),i.imply("minute",0),i.imply("meridiem",ri.Meridiem.AM);break;case"\xE0 minuit":i.imply("hour",0),i.imply("meridiem",ri.Meridiem.AM);break}return i}};ju.default=$u});var nm=h(Gu=>{"use strict";Object.defineProperty(Gu,"__esModule",{value:!0});var AE=Ur(),Bu=class extends AE.AbstractTimeExpressionParser{primaryPrefix(){return"(?:(?:[\xE0a])\\s*)?"}followingPhase(){return"\\s*(?:\\-|\\\u2013|\\~|\\\u301C|[\xE0a]|\\?)\\s*"}extractPrimaryTimeComponents(e,t){return t[0].match(/^\s*\d{4}\s*$/)?null:super.extractPrimaryTimeComponents(e,t)}};Gu.default=Bu});var im=h(ni=>{"use strict";var kE=ni&&ni.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(ni,"__esModule",{value:!0});var NE=kE(jt()),Hu=class extends NE.default{patternBetween(){return new RegExp("^\\s*(T|\xE0|a|vers|de|,|-)?\\s*$")}};ni.default=Hu});var sm=h(ii=>{"use strict";var CE=ii&&ii.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(ii,"__esModule",{value:!0});var xE=CE(At()),zu=class extends xE.default{patternBetween(){return/^\s*(à|a|-)\s*$/i}};ii.default=zu});var Tr=h(V=>{"use strict";Object.defineProperty(V,"__esModule",{value:!0});V.parseTimeUnits=V.TIME_UNITS_PATTERN=V.parseYear=V.YEAR_PATTERN=V.parseOrdinalNumberPattern=V.ORDINAL_NUMBER_PATTERN=V.parseNumberPattern=V.NUMBER_PATTERN=V.TIME_UNIT_DICTIONARY=V.INTEGER_WORD_DICTIONARY=V.MONTH_DICTIONARY=V.WEEKDAY_DICTIONARY=void 0;var Ku=Q();V.WEEKDAY_DICTIONARY={dimanche:0,dim:0,lundi:1,lun:1,mardi:2,mar:2,mercredi:3,mer:3,jeudi:4,jeu:4,vendredi:5,ven:5,samedi:6,sam:6};V.MONTH_DICTIONARY={janvier:1,jan:1,"jan.":1,f\u00E9vrier:2,f\u00E9v:2,"f\xE9v.":2,fevrier:2,fev:2,"fev.":2,mars:3,mar:3,"mar.":3,avril:4,avr:4,"avr.":4,mai:5,juin:6,jun:6,juillet:7,juil:7,jul:7,"jul.":7,ao\u00FBt:8,aout:8,septembre:9,sep:9,"sep.":9,sept:9,"sept.":9,octobre:10,oct:10,"oct.":10,novembre:11,nov:11,"nov.":11,d\u00E9cembre:12,decembre:12,dec:12,"dec.":12};V.INTEGER_WORD_DICTIONARY={un:1,deux:2,trois:3,quatre:4,cinq:5,six:6,sept:7,huit:8,neuf:9,dix:10,onze:11,douze:12,treize:13};V.TIME_UNIT_DICTIONARY={sec:"second",seconde:"second",secondes:"second",min:"minute",mins:"minute",minute:"minute",minutes:"minute",h:"hour",hr:"hour",hrs:"hour",heure:"hour",heures:"hour",jour:"d",jours:"d",semaine:"week",semaines:"week",mois:"month",trimestre:"quarter",trimestres:"quarter",ans:"year",ann\u00E9e:"year",ann\u00E9es:"year"};V.NUMBER_PATTERN=`(?:${Ku.matchAnyPattern(V.INTEGER_WORD_DICTIONARY)}|[0-9]+|[0-9]+\\.[0-9]+|une?\\b|quelques?|demi-?)`;function om(r){let e=r.toLowerCase();return V.INTEGER_WORD_DICTIONARY[e]!==void 0?V.INTEGER_WORD_DICTIONARY[e]:e==="une"||e==="un"?1:e.match(/quelques?/)?3:e.match(/demi-?/)?.5:parseFloat(e)}V.parseNumberPattern=om;V.ORDINAL_NUMBER_PATTERN="(?:[0-9]{1,2}(?:er)?)";function SE(r){let e=r.toLowerCase();return e=e.replace(/(?:er)$/i,""),parseInt(e)}V.parseOrdinalNumberPattern=SE;V.YEAR_PATTERN="(?:[1-9][0-9]{0,3}\\s*(?:AC|AD|p\\.\\s*C(?:hr?)?\\.\\s*n\\.)|[1-2][0-9]{3}|[5-9][0-9])";function IE(r){if(/AC/i.test(r))return r=r.replace(/BC/i,""),-parseInt(r);if(/AD/i.test(r)||/C/i.test(r))return r=r.replace(/[^\d]+/i,""),parseInt(r);let e=parseInt(r);return e<100&&(e>50?e=e+1900:e=e+2e3),e}V.parseYear=IE;var um=`(${V.NUMBER_PATTERN})\\s{0,5}(${Ku.matchAnyPattern(V.TIME_UNIT_DICTIONARY)})\\s{0,5}`,am=new RegExp(um,"i");V.TIME_UNITS_PATTERN=Ku.repeatedTimeunitPattern("",um);function UE(r){let e={},t=r,n=am.exec(t);for(;n;)FE(e,n),t=t.substring(n[0].length),n=am.exec(t);return e}V.parseTimeUnits=UE;function FE(r,e){let t=om(e[1]),n=V.TIME_UNIT_DICTIONARY[e[2].toLowerCase()];r[n]=t}});var cm=h(Zu=>{"use strict";Object.defineProperty(Zu,"__esModule",{value:!0});var lm=Tr(),qE=Q(),WE=R(),LE=qr(),YE=new RegExp(`(?:(?:\\,|\\(|\\\uFF08)\\s*)?(?:(?:ce)\\s*)?(${qE.matchAnyPattern(lm.WEEKDAY_DICTIONARY)})(?:\\s*(?:\\,|\\)|\\\uFF09))?(?:\\s*(dernier|prochain)\\s*)?(?=\\W|\\d|$)`,"i"),$E=1,jE=2,Vu=class extends WE.AbstractParserWithWordBoundaryChecking{innerPattern(){return YE}innerExtract(e,t){let n=t[$E].toLowerCase(),i=lm.WEEKDAY_DICTIONARY[n];if(i===void 0)return null;let s=t[jE];s=s||"",s=s.toLowerCase();let a=null;s=="dernier"?a="last":s=="prochain"&&(a="next");let o=LE.toDayJSWeekday(e.refDate,i,a);return e.createParsingComponents().assign("weekday",i).imply("day",o.date()).imply("month",o.month()+1).imply("year",o.year())}};Zu.default=Vu});var hm=h(Xu=>{"use strict";Object.defineProperty(Xu,"__esModule",{value:!0});var si=Ee(),BE=new RegExp("(^|\\s|T)(?:(?:[\xE0a])\\s*)?(\\d{1,2})(?:h|:)?(?:(\\d{1,2})(?:m|:)?)?(?:(\\d{1,2})(?:s|:)?)?(?:\\s*(A\\.M\\.|P\\.M\\.|AM?|PM?))?(?=\\W|$)","i"),GE=new RegExp("^\\s*(\\-|\\\u2013|\\~|\\\u301C|[\xE0a]|\\?)\\s*(\\d{1,2})(?:h|:)?(?:(\\d{1,2})(?:m|:)?)?(?:(\\d{1,2})(?:s|:)?)?(?:\\s*(A\\.M\\.|P\\.M\\.|AM?|PM?))?(?=\\W|$)","i"),HE=2,dm=3,fm=4,pm=5,hn=class{pattern(e){return BE}extract(e,t){let n=e.createParsingResult(t.index+t[1].length,t[0].substring(t[1].length));if(n.text.match(/^\d{4}$/)||(n.start=hn.extractTimeComponent(n.start.clone(),t),!n.start))return t.index+=t[0].length,null;let i=e.text.substring(t.index+t[0].length),s=GE.exec(i);return s&&(n.end=hn.extractTimeComponent(n.start.clone(),s),n.end&&(n.text+=s[0])),n}static extractTimeComponent(e,t){let n=0,i=0,s=null;if(n=parseInt(t[HE]),t[dm]!=null&&(i=parseInt(t[dm])),i>=60||n>24)return null;if(n>=12&&(s=si.Meridiem.PM),t[pm]!=null){if(n>12)return null;let a=t[pm][0].toLowerCase();a=="a"&&(s=si.Meridiem.AM,n==12&&(n=0)),a=="p"&&(s=si.Meridiem.PM,n!=12&&(n+=12))}if(e.assign("hour",n),e.assign("minute",i),s!==null?e.assign("meridiem",s):n<12?e.imply("meridiem",si.Meridiem.AM):e.imply("meridiem",si.Meridiem.PM),t[fm]!=null){let a=parseInt(t[fm]);if(a>=60)return null;e.assign("second",a)}return e}};Xu.default=hn});var bm=h(Ju=>{"use strict";Object.defineProperty(Ju,"__esModule",{value:!0});var zE=Se(),_m=Tr(),Tm=Tr(),qs=Tr(),KE=Q(),VE=R(),ZE=new RegExp(`(?:on\\s*?)?(${qs.ORDINAL_NUMBER_PATTERN})(?:\\s*(?:au|\\-|\\\u2013|jusqu'au?|\\s)\\s*(${qs.ORDINAL_NUMBER_PATTERN}))?(?:-|/|\\s*(?:de)?\\s*)(${KE.matchAnyPattern(_m.MONTH_DICTIONARY)})(?:(?:-|/|,?\\s*)(${Tm.YEAR_PATTERN}(?![^\\s]\\d)))?(?=\\W|$)`,"i"),mm=1,ym=2,XE=3,gm=4,Qu=class extends VE.AbstractParserWithWordBoundaryChecking{innerPattern(){return ZE}innerExtract(e,t){let n=e.createParsingResult(t.index,t[0]),i=_m.MONTH_DICTIONARY[t[XE].toLowerCase()],s=qs.parseOrdinalNumberPattern(t[mm]);if(s>31)return t.index=t.index+t[mm].length,null;if(n.start.assign("month",i),n.start.assign("day",s),t[gm]){let a=Tm.parseYear(t[gm]);n.start.assign("year",a)}else{let a=zE.findYearClosestToRef(e.refDate,s,i);n.start.imply("year",a)}if(t[ym]){let a=qs.parseOrdinalNumberPattern(t[ym]);n.end=n.start.clone(),n.end.assign("day",a)}return n}};Ju.default=Qu});var Em=h(tl=>{"use strict";Object.defineProperty(tl,"__esModule",{value:!0});var vm=Tr(),QE=he(),JE=R(),e0=st(),el=class extends JE.AbstractParserWithWordBoundaryChecking{constructor(){super()}innerPattern(){return new RegExp(`il y a\\s*(${vm.TIME_UNITS_PATTERN})(?=(?:\\W|$))`,"i")}innerExtract(e,t){let n=vm.parseTimeUnits(t[1]),i=e0.reverseTimeUnits(n);return QE.ParsingComponents.createRelativeFromReference(e.reference,i)}};tl.default=el});var wm=h(nl=>{"use strict";Object.defineProperty(nl,"__esModule",{value:!0});var Rm=Tr(),t0=he(),r0=R(),rl=class extends r0.AbstractParserWithWordBoundaryChecking{innerPattern(){return new RegExp(`(?:dans|en|pour|pendant|de)\\s*(${Rm.TIME_UNITS_PATTERN})(?=\\W|$)`,"i")}innerExtract(e,t){let n=Rm.parseTimeUnits(t[1]);return t0.ParsingComponents.createRelativeFromReference(e.reference,n)}};nl.default=rl});var Mm=h(sl=>{"use strict";Object.defineProperty(sl,"__esModule",{value:!0});var Ws=Tr(),n0=he(),i0=R(),s0=st(),a0=Q(),il=class extends i0.AbstractParserWithWordBoundaryChecking{constructor(){super()}innerPattern(){return new RegExp(`(?:les?|la|l'|du|des?)\\s*(${Ws.NUMBER_PATTERN})?(?:\\s*(prochaine?s?|derni[e\xE8]re?s?|pass[\xE9e]e?s?|pr[\xE9e]c[\xE9e]dents?|suivante?s?))?\\s*(${a0.matchAnyPattern(Ws.TIME_UNIT_DICTIONARY)})(?:\\s*(prochaine?s?|derni[e\xE8]re?s?|pass[\xE9e]e?s?|pr[\xE9e]c[\xE9e]dents?|suivante?s?))?`,"i")}innerExtract(e,t){let n=t[1]?Ws.parseNumberPattern(t[1]):1,i=Ws.TIME_UNIT_DICTIONARY[t[3].toLowerCase()],s={};s[i]=n;let a=t[2]||t[4]||"";if(a=a.toLowerCase(),!!a)return(/derni[eè]re?s?/.test(a)||/pass[ée]e?s?/.test(a)||/pr[ée]c[ée]dents?/.test(a))&&(s=s0.reverseTimeUnits(s)),n0.ParsingComponents.createRelativeFromReference(e.reference,s)}};sl.default=il});var Om=h(De=>{"use strict";var at=De&&De.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(De,"__esModule",{value:!0});De.createConfiguration=De.createCasualConfiguration=De.parseDate=De.parse=De.strict=De.casual=void 0;var o0=Bt(),Dm=yt(),u0=at(tm()),l0=at(rm()),c0=at(Wr()),d0=at(nm()),f0=at(im()),p0=at(sm()),h0=at(cm()),m0=at(hm()),y0=at(bm()),g0=at(Em()),_0=at(wm()),T0=at(Mm());De.casual=new Dm.Chrono(Pm());De.strict=new Dm.Chrono(al(!0));function b0(r,e,t){return De.casual.parse(r,e,t)}De.parse=b0;function v0(r,e,t){return De.casual.parseDate(r,e,t)}De.parseDate=v0;function Pm(r=!0){let e=al(!1,r);return e.parsers.unshift(new u0.default),e.parsers.unshift(new l0.default),e.parsers.unshift(new T0.default),e}De.createCasualConfiguration=Pm;function al(r=!0,e=!0){return o0.includeCommonConfiguration({parsers:[new c0.default(e),new y0.default,new d0.default,new m0.default,new g0.default,new _0.default,new h0.default],refiners:[new f0.default,new p0.default]},r)}De.createConfiguration=al});var Am=h(Ls=>{"use strict";Object.defineProperty(Ls,"__esModule",{value:!0});Ls.toHankaku=void 0;function E0(r){return String(r).replace(/\u2019/g,"'").replace(/\u201D/g,'"').replace(/\u3000/g," ").replace(/\uFFE5/g,"\xA5").replace(/[\uFF01\uFF03-\uFF06\uFF08\uFF09\uFF0C-\uFF19\uFF1C-\uFF1F\uFF21-\uFF3B\uFF3D\uFF3F\uFF41-\uFF5B\uFF5D\uFF5E]/g,R0)}Ls.toHankaku=E0;function R0(r){return String.fromCharCode(r.charCodeAt(0)-65248)}});var Nm=h(ai=>{"use strict";var w0=ai&&ai.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(ai,"__esModule",{value:!0});var ol=Am(),M0=Se(),D0=w0(K()),P0=/(?:(?:([同今本])|((昭和|平成|令和)?([0-9０-９]{1,4}|元)))年\s*)?([0-9０-９]{1,2})月\s*([0-9０-９]{1,2})日/i,km=1,O0=2,ul=3,A0=4,k0=5,N0=6,ll=class{pattern(){return P0}extract(e,t){let n=parseInt(ol.toHankaku(t[k0])),i=parseInt(ol.toHankaku(t[N0])),s=e.createParsingComponents({day:i,month:n});if(t[km]&&t[km].match("\u540C|\u4ECA|\u672C")){let a=D0.default(e.refDate);s.assign("year",a.year())}if(t[O0]){let a=t[A0],o=a=="\u5143"?1:parseInt(ol.toHankaku(a));t[ul]=="\u4EE4\u548C"?o+=2018:t[ul]=="\u5E73\u6210"?o+=1988:t[ul]=="\u662D\u548C"&&(o+=1925),s.assign("year",o)}else{let a=M0.findYearClosestToRef(e.refDate,i,n);s.imply("year",a)}return s}};ai.default=ll});var Cm=h(oi=>{"use strict";var C0=oi&&oi.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(oi,"__esModule",{value:!0});var x0=C0(At()),cl=class extends x0.default{patternBetween(){return/^\s*(から|ー|-)\s*$/i}};oi.default=cl});var Sm=h(bt=>{"use strict";var S0=bt&&bt.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t),Object.defineProperty(r,n,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),I0=bt&&bt.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),U0=bt&&bt.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&S0(e,r,t);return I0(e,r),e},F0=bt&&bt.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(bt,"__esModule",{value:!0});var q0=F0(K()),xm=Ee(),dl=U0(Ht()),W0=/今日|当日|昨日|明日|今夜|今夕|今晩|今朝/i,fl=class{pattern(){return W0}extract(e,t){let n=t[0],i=q0.default(e.refDate),s=e.createParsingComponents();switch(n){case"\u6628\u65E5":return dl.yesterday(e.reference);case"\u660E\u65E5":return dl.tomorrow(e.reference);case"\u4ECA\u65E5":case"\u5F53\u65E5":return dl.today(e.reference)}return n=="\u4ECA\u591C"||n=="\u4ECA\u5915"||n=="\u4ECA\u6669"?(s.imply("hour",22),s.assign("meridiem",xm.Meridiem.PM)):n.match("\u4ECA\u671D")&&(s.imply("hour",6),s.assign("meridiem",xm.Meridiem.AM)),s.assign("day",i.date()),s.assign("month",i.month()+1),s.assign("year",i.year()),s}};bt.default=fl});var Fm=h(Pe=>{"use strict";var pl=Pe&&Pe.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Pe,"__esModule",{value:!0});Pe.createConfiguration=Pe.createCasualConfiguration=Pe.parseDate=Pe.parse=Pe.strict=Pe.casual=void 0;var L0=pl(Nm()),Y0=pl(Cm()),$0=pl(Sm()),Im=yt();Pe.casual=new Im.Chrono(Um());Pe.strict=new Im.Chrono(hl());function j0(r,e,t){return Pe.casual.parse(r,e,t)}Pe.parse=j0;function B0(r,e,t){return Pe.casual.parseDate(r,e,t)}Pe.parseDate=B0;function Um(){let r=hl();return r.parsers.unshift(new $0.default),r}Pe.createCasualConfiguration=Um;function hl(){return{parsers:[new L0.default],refiners:[new Y0.default]}}Pe.createConfiguration=hl});var Ys=h(Nt=>{"use strict";Object.defineProperty(Nt,"__esModule",{value:!0});Nt.parseYear=Nt.YEAR_PATTERN=Nt.MONTH_DICTIONARY=Nt.WEEKDAY_DICTIONARY=void 0;Nt.WEEKDAY_DICTIONARY={domingo:0,dom:0,segunda:1,"segunda-feira":1,seg:1,ter\u00E7a:2,"ter\xE7a-feira":2,ter:2,quarta:3,"quarta-feira":3,qua:3,quinta:4,"quinta-feira":4,qui:4,sexta:5,"sexta-feira":5,sex:5,s\u00E1bado:6,sabado:6,sab:6};Nt.MONTH_DICTIONARY={janeiro:1,jan:1,"jan.":1,fevereiro:2,fev:2,"fev.":2,mar\u00E7o:3,mar:3,"mar.":3,abril:4,abr:4,"abr.":4,maio:5,mai:5,"mai.":5,junho:6,jun:6,"jun.":6,julho:7,jul:7,"jul.":7,agosto:8,ago:8,"ago.":8,setembro:9,set:9,"set.":9,outubro:10,out:10,"out.":10,novembro:11,nov:11,"nov.":11,dezembro:12,dez:12,"dez.":12};Nt.YEAR_PATTERN="[0-9]{1,4}(?![^\\s]\\d)(?:\\s*[a|d]\\.?\\s*c\\.?|\\s*a\\.?\\s*d\\.?)?";function G0(r){if(r.match(/^[0-9]{1,4}$/)){let e=parseInt(r);return e<100&&(e>50?e=e+1900:e=e+2e3),e}return r.match(/a\.?\s*c\.?/i)?(r=r.replace(/a\.?\s*c\.?/i,""),-parseInt(r)):parseInt(r)}Nt.parseYear=G0});var Wm=h(yl=>{"use strict";Object.defineProperty(yl,"__esModule",{value:!0});var qm=Ys(),H0=Q(),z0=R(),K0=qr(),V0=new RegExp(`(?:(?:\\,|\\(|\\\uFF08)\\s*)?(?:(este|esta|passado|pr[o\xF3]ximo)\\s*)?(${H0.matchAnyPattern(qm.WEEKDAY_DICTIONARY)})(?:\\s*(?:\\,|\\)|\\\uFF09))?(?:\\s*(este|esta|passado|pr[\xF3o]ximo)\\s*semana)?(?=\\W|\\d|$)`,"i"),Z0=1,X0=2,Q0=3,ml=class extends z0.AbstractParserWithWordBoundaryChecking{innerPattern(){return V0}innerExtract(e,t){let n=t[X0].toLowerCase(),i=qm.WEEKDAY_DICTIONARY[n];if(i===void 0)return null;let s=t[Z0],a=t[Q0],o=s||a||"";o=o.toLowerCase();let u=null;o=="passado"?u="this":o=="pr\xF3ximo"||o=="proximo"?u="next":o=="este"&&(u="this");let l=K0.toDayJSWeekday(e.refDate,i,u);return e.createParsingComponents().assign("weekday",i).imply("day",l.date()).imply("month",l.month()+1).imply("year",l.year())}};yl.default=ml});var Lm=h(_l=>{"use strict";Object.defineProperty(_l,"__esModule",{value:!0});var J0=Ur(),gl=class extends J0.AbstractTimeExpressionParser{primaryPrefix(){return"(?:(?:ao?|\xE0s?|das|da|de|do)\\s*)?"}followingPhase(){return"\\s*(?:\\-|\\\u2013|\\~|\\\u301C|a(?:o)?|\\?)\\s*"}};_l.default=gl});var Ym=h(ui=>{"use strict";var eR=ui&&ui.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(ui,"__esModule",{value:!0});var tR=eR(jt()),Tl=class extends tR.default{patternBetween(){return new RegExp("^\\s*(?:,|\xE0)?\\s*$")}};ui.default=Tl});var $m=h(li=>{"use strict";var rR=li&&li.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(li,"__esModule",{value:!0});var nR=rR(At()),bl=class extends nR.default{patternBetween(){return/^\s*(?:-)\s*$/i}};li.default=bl});var Km=h(El=>{"use strict";Object.defineProperty(El,"__esModule",{value:!0});var iR=Se(),Hm=Ys(),zm=Ys(),sR=Q(),aR=R(),oR=new RegExp(`([0-9]{1,2})(?:\xBA|\xAA|\xB0)?(?:\\s*(?:desde|de|\\-|\\\u2013|ao?|\\s)\\s*([0-9]{1,2})(?:\xBA|\xAA|\xB0)?)?\\s*(?:de)?\\s*(?:-|/|\\s*(?:de|,)?\\s*)(${sR.matchAnyPattern(Hm.MONTH_DICTIONARY)})(?:\\s*(?:de|,)?\\s*(${zm.YEAR_PATTERN}))?(?=\\W|$)`,"i"),jm=1,Bm=2,uR=3,Gm=4,vl=class extends aR.AbstractParserWithWordBoundaryChecking{innerPattern(){return oR}innerExtract(e,t){let n=e.createParsingResult(t.index,t[0]),i=Hm.MONTH_DICTIONARY[t[uR].toLowerCase()],s=parseInt(t[jm]);if(s>31)return t.index=t.index+t[jm].length,null;if(n.start.assign("month",i),n.start.assign("day",s),t[Gm]){let a=zm.parseYear(t[Gm]);n.start.assign("year",a)}else{let a=iR.findYearClosestToRef(e.refDate,s,i);n.start.imply("year",a)}if(t[Bm]){let a=parseInt(t[Bm]);n.end=n.start.clone(),n.end.assign("day",a)}return n}};El.default=vl});var Vm=h(zt=>{"use strict";var lR=zt&&zt.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t),Object.defineProperty(r,n,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),cR=zt&&zt.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),dR=zt&&zt.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&lR(e,r,t);return cR(e,r),e};Object.defineProperty(zt,"__esModule",{value:!0});var fR=R(),$s=dR(Ht()),Rl=class extends fR.AbstractParserWithWordBoundaryChecking{innerPattern(e){return/(agora|hoje|amanha|amanhã|ontem)(?=\W|$)/i}innerExtract(e,t){let n=t[0].toLowerCase(),i=e.createParsingComponents();switch(n){case"agora":return $s.now(e.reference);case"hoje":return $s.today(e.reference);case"amanha":case"amanh\xE3":return $s.tomorrow(e.reference);case"ontem":return $s.yesterday(e.reference)}return i}};zt.default=Rl});var Zm=h(ci=>{"use strict";var pR=ci&&ci.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(ci,"__esModule",{value:!0});var js=Ee(),hR=R(),mR=it(),yR=pR(K()),wl=class extends hR.AbstractParserWithWordBoundaryChecking{innerPattern(){return/(?:esta\s*)?(manha|manhã|tarde|meia-noite|meio-dia|noite)(?=\W|$)/i}innerExtract(e,t){let n=yR.default(e.refDate),i=e.createParsingComponents();switch(t[1].toLowerCase()){case"tarde":i.imply("meridiem",js.Meridiem.PM),i.imply("hour",15);break;case"noite":i.imply("meridiem",js.Meridiem.PM),i.imply("hour",22);break;case"manha":case"manh\xE3":i.imply("meridiem",js.Meridiem.AM),i.imply("hour",6);break;case"meia-noite":mR.assignTheNextDay(i,n),i.imply("hour",0),i.imply("minute",0),i.imply("second",0);break;case"meio-dia":i.imply("meridiem",js.Meridiem.AM),i.imply("hour",12);break}return i}};ci.default=wl});var Jm=h(Oe=>{"use strict";var br=Oe&&Oe.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Oe,"__esModule",{value:!0});Oe.createConfiguration=Oe.createCasualConfiguration=Oe.parseDate=Oe.parse=Oe.strict=Oe.casual=void 0;var gR=Bt(),Xm=yt(),_R=br(Wr()),TR=br(Wm()),bR=br(Lm()),vR=br(Ym()),ER=br($m()),RR=br(Km()),wR=br(Vm()),MR=br(Zm());Oe.casual=new Xm.Chrono(Qm());Oe.strict=new Xm.Chrono(Ml(!0));function DR(r,e,t){return Oe.casual.parse(r,e,t)}Oe.parse=DR;function PR(r,e,t){return Oe.casual.parseDate(r,e,t)}Oe.parseDate=PR;function Qm(r=!0){let e=Ml(!1,r);return e.parsers.push(new wR.default),e.parsers.push(new MR.default),e}Oe.createCasualConfiguration=Qm;function Ml(r=!0,e=!0){return gR.includeCommonConfiguration({parsers:[new _R.default(e),new TR.default,new bR.default,new RR.default],refiners:[new vR.default,new ER.default]},r)}Oe.createConfiguration=Ml});var ey=h(di=>{"use strict";var OR=di&&di.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(di,"__esModule",{value:!0});var AR=OR(At()),Dl=class extends AR.default{patternBetween(){return/^\s*(tot|-)\s*$/i}};di.default=Dl});var ty=h(fi=>{"use strict";var kR=fi&&fi.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(fi,"__esModule",{value:!0});var NR=kR(jt()),Pl=class extends NR.default{patternBetween(){return new RegExp("^\\s*(om|na|voor|in de|,|-)?\\s*$")}};fi.default=Pl});var ry=h(Kt=>{"use strict";var CR=Kt&&Kt.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t),Object.defineProperty(r,n,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),xR=Kt&&Kt.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),SR=Kt&&Kt.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&CR(e,r,t);return xR(e,r),e};Object.defineProperty(Kt,"__esModule",{value:!0});var IR=R(),Bs=SR(Ht()),Ol=class extends IR.AbstractParserWithWordBoundaryChecking{innerPattern(e){return/(nu|vandaag|morgen|morgend|gisteren)(?=\W|$)/i}innerExtract(e,t){let n=t[0].toLowerCase(),i=e.createParsingComponents();switch(n){case"nu":return Bs.now(e.reference);case"vandaag":return Bs.today(e.reference);case"morgen":case"morgend":return Bs.tomorrow(e.reference);case"gisteren":return Bs.yesterday(e.reference)}return i}};Kt.default=Ol});var ny=h(pi=>{"use strict";var UR=pi&&pi.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(pi,"__esModule",{value:!0});var Gs=Ee(),FR=R(),qR=UR(K()),WR=it(),LR=1,YR=2,Al=class extends FR.AbstractParserWithWordBoundaryChecking{innerPattern(){return/(deze)?\s*(namiddag|avond|middernacht|ochtend|middag|'s middags|'s avonds|'s ochtends)(?=\W|$)/i}innerExtract(e,t){let n=qR.default(e.refDate),i=e.createParsingComponents();switch(t[LR]==="deze"&&(i.assign("day",e.refDate.getDate()),i.assign("month",e.refDate.getMonth()+1),i.assign("year",e.refDate.getFullYear())),t[YR].toLowerCase()){case"namiddag":case"'s namiddags":i.imply("meridiem",Gs.Meridiem.PM),i.imply("hour",15);break;case"avond":case"'s avonds'":i.imply("meridiem",Gs.Meridiem.PM),i.imply("hour",20);break;case"middernacht":WR.assignTheNextDay(i,n),i.imply("hour",0),i.imply("minute",0),i.imply("second",0);break;case"ochtend":case"'s ochtends":i.imply("meridiem",Gs.Meridiem.AM),i.imply("hour",6);break;case"middag":case"'s middags":i.imply("meridiem",Gs.Meridiem.AM),i.imply("hour",12);break}return i}};pi.default=Al});var Qe=h(j=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0});j.parseTimeUnits=j.TIME_UNITS_PATTERN=j.parseYear=j.YEAR_PATTERN=j.parseOrdinalNumberPattern=j.ORDINAL_NUMBER_PATTERN=j.parseNumberPattern=j.NUMBER_PATTERN=j.TIME_UNIT_DICTIONARY=j.ORDINAL_WORD_DICTIONARY=j.INTEGER_WORD_DICTIONARY=j.MONTH_DICTIONARY=j.WEEKDAY_DICTIONARY=void 0;var Hs=Q(),$R=Se();j.WEEKDAY_DICTIONARY={zondag:0,zon:0,"zon.":0,zo:0,"zo.":0,maandag:1,ma:1,"ma.":1,dinsdag:2,din:2,"din.":2,di:2,"di.":2,woensdag:3,woe:3,"woe.":3,wo:3,"wo.":3,donderdag:4,dond:4,"dond.":4,do:4,"do.":4,vrijdag:5,vrij:5,"vrij.":5,vr:5,"vr.":5,zaterdag:6,zat:6,"zat.":6,za:6,"za.":6};j.MONTH_DICTIONARY={januari:1,jan:1,"jan.":1,februari:2,feb:2,"feb.":2,maart:3,mar:3,"mar.":3,april:4,apr:4,"apr.":4,mei:5,juni:6,jun:6,"jun.":6,juli:7,jul:7,"jul.":7,augustus:8,aug:8,"aug.":8,september:9,sep:9,"sep.":9,sept:9,"sept.":9,oktober:10,okt:10,"okt.":10,november:11,nov:11,"nov.":11,december:12,dec:12,"dec.":12};j.INTEGER_WORD_DICTIONARY={een:1,twee:2,drie:3,vier:4,vijf:5,zes:6,zeven:7,acht:8,negen:9,tien:10,elf:11,twaalf:12};j.ORDINAL_WORD_DICTIONARY={eerste:1,tweede:2,derde:3,vierde:4,vijfde:5,zesde:6,zevende:7,achtste:8,negende:9,tiende:10,elfde:11,twaalfde:12,dertiende:13,veertiende:14,vijftiende:15,zestiende:16,zeventiende:17,achttiende:18,negentiende:19,twintigste:20,eenentwintigste:21,twee\u00EBntwintigste:22,drieentwintigste:23,vierentwintigste:24,vijfentwintigste:25,zesentwintigste:26,zevenentwintigste:27,achtentwintig:28,negenentwintig:29,dertigste:30,eenendertigste:31};j.TIME_UNIT_DICTIONARY={sec:"second",second:"second",seconden:"second",min:"minute",mins:"minute",minute:"minute",minuut:"minute",minuten:"minute",minuutje:"minute",h:"hour",hr:"hour",hrs:"hour",uur:"hour",u:"hour",uren:"hour",dag:"d",dagen:"d",week:"week",weken:"week",maand:"month",maanden:"month",jaar:"year",jr:"year",jaren:"year"};j.NUMBER_PATTERN=`(?:${Hs.matchAnyPattern(j.INTEGER_WORD_DICTIONARY)}|[0-9]+|[0-9]+[\\.,][0-9]+|halve?|half|paar)`;function sy(r){let e=r.toLowerCase();return j.INTEGER_WORD_DICTIONARY[e]!==void 0?j.INTEGER_WORD_DICTIONARY[e]:e==="paar"?2:e==="half"||e.match(/halve?/)?.5:parseFloat(e.replace(",","."))}j.parseNumberPattern=sy;j.ORDINAL_NUMBER_PATTERN=`(?:${Hs.matchAnyPattern(j.ORDINAL_WORD_DICTIONARY)}|[0-9]{1,2}(?:ste|de)?)`;function jR(r){let e=r.toLowerCase();return j.ORDINAL_WORD_DICTIONARY[e]!==void 0?j.ORDINAL_WORD_DICTIONARY[e]:(e=e.replace(/(?:ste|de)$/i,""),parseInt(e))}j.parseOrdinalNumberPattern=jR;j.YEAR_PATTERN="(?:[1-9][0-9]{0,3}\\s*(?:voor Christus|na Christus)|[1-2][0-9]{3}|[5-9][0-9])";function BR(r){if(/voor Christus/i.test(r))return r=r.replace(/voor Christus/i,""),-parseInt(r);if(/na Christus/i.test(r))return r=r.replace(/na Christus/i,""),parseInt(r);let e=parseInt(r);return $R.findMostLikelyADYear(e)}j.parseYear=BR;var ay=`(${j.NUMBER_PATTERN})\\s{0,5}(${Hs.matchAnyPattern(j.TIME_UNIT_DICTIONARY)})\\s{0,5}`,iy=new RegExp(ay,"i");j.TIME_UNITS_PATTERN=Hs.repeatedTimeunitPattern("(?:(?:binnen|in)\\s*)?",ay);function GR(r){let e={},t=r,n=iy.exec(t);for(;n;)HR(e,n),t=t.substring(n[0].length),n=iy.exec(t);return e}j.parseTimeUnits=GR;function HR(r,e){let t=sy(e[1]),n=j.TIME_UNIT_DICTIONARY[e[2].toLowerCase()];r[n]=t}});var uy=h(Nl=>{"use strict";Object.defineProperty(Nl,"__esModule",{value:!0});var oy=Qe(),zR=he(),KR=R(),kl=class extends KR.AbstractParserWithWordBoundaryChecking{innerPattern(){return new RegExp("(?:binnen|in|binnen de|voor)\\s*("+oy.TIME_UNITS_PATTERN+")(?=\\W|$)","i")}innerExtract(e,t){let n=oy.parseTimeUnits(t[1]);return zR.ParsingComponents.createRelativeFromReference(e.reference,n)}};Nl.default=kl});var cy=h(xl=>{"use strict";Object.defineProperty(xl,"__esModule",{value:!0});var ly=Qe(),VR=Q(),ZR=R(),XR=qr(),QR=new RegExp(`(?:(?:\\,|\\(|\\\uFF08)\\s*)?(?:op\\s*?)?(?:(deze|vorige|volgende)\\s*(?:week\\s*)?)?(${VR.matchAnyPattern(ly.WEEKDAY_DICTIONARY)})(?=\\W|$)`,"i"),JR=1,ew=2,tw=3,Cl=class extends ZR.AbstractParserWithWordBoundaryChecking{innerPattern(){return QR}innerExtract(e,t){let n=t[ew].toLowerCase(),i=ly.WEEKDAY_DICTIONARY[n],s=t[JR],a=t[tw],o=s||a;o=o||"",o=o.toLowerCase();let u=null;o=="vorige"?u="last":o=="volgende"?u="next":o=="deze"&&(u="this");let l=XR.toDayJSWeekday(e.refDate,i,u);return e.createParsingComponents().assign("weekday",i).imply("day",l.date()).imply("month",l.month()+1).imply("year",l.year())}};xl.default=Cl});var yy=h(Il=>{"use strict";Object.defineProperty(Il,"__esModule",{value:!0});var rw=Se(),hy=Qe(),zs=Qe(),my=Qe(),nw=Q(),iw=R(),sw=new RegExp(`(?:on\\s*?)?(${zs.ORDINAL_NUMBER_PATTERN})(?:\\s*(?:tot|\\-|\\\u2013|until|through|till|\\s)\\s*(${zs.ORDINAL_NUMBER_PATTERN}))?(?:-|/|\\s*(?:of)?\\s*)(`+nw.matchAnyPattern(hy.MONTH_DICTIONARY)+`)(?:(?:-|/|,?\\s*)(${my.YEAR_PATTERN}(?![^\\s]\\d)))?(?=\\W|$)`,"i"),aw=3,dy=1,fy=2,py=4,Sl=class extends iw.AbstractParserWithWordBoundaryChecking{innerPattern(){return sw}innerExtract(e,t){let n=hy.MONTH_DICTIONARY[t[aw].toLowerCase()],i=zs.parseOrdinalNumberPattern(t[dy]);if(i>31)return t.index=t.index+t[dy].length,null;let s=e.createParsingComponents({day:i,month:n});if(t[py]){let u=my.parseYear(t[py]);s.assign("year",u)}else{let u=rw.findYearClosestToRef(e.refDate,i,n);s.imply("year",u)}if(!t[fy])return s;let a=zs.parseOrdinalNumberPattern(t[fy]),o=e.createParsingResult(t.index,t[0]);return o.start=s,o.end=s.clone(),o.end.assign("day",a),o}};Il.default=Sl});var by=h(Fl=>{"use strict";Object.defineProperty(Fl,"__esModule",{value:!0});var _y=Qe(),ow=Se(),uw=Q(),Ty=Qe(),lw=R(),cw=new RegExp(`(${uw.matchAnyPattern(_y.MONTH_DICTIONARY)})\\s*(?:[,-]?\\s*(${Ty.YEAR_PATTERN})?)?(?=[^\\s\\w]|\\s+[^0-9]|\\s+$|$)`,"i"),dw=1,gy=2,Ul=class extends lw.AbstractParserWithWordBoundaryChecking{innerPattern(){return cw}innerExtract(e,t){let n=e.createParsingComponents();n.imply("day",1);let i=t[dw],s=_y.MONTH_DICTIONARY[i.toLowerCase()];if(n.assign("month",s),t[gy]){let a=Ty.parseYear(t[gy]);n.assign("year",a)}else{let a=ow.findYearClosestToRef(e.refDate,1,s);n.imply("year",a)}return n}};Fl.default=Ul});var vy=h(Wl=>{"use strict";Object.defineProperty(Wl,"__esModule",{value:!0});var fw=R(),pw=new RegExp("([0-9]|0[1-9]|1[012])/([0-9]{4})","i"),hw=1,mw=2,ql=class extends fw.AbstractParserWithWordBoundaryChecking{innerPattern(){return pw}innerExtract(e,t){let n=parseInt(t[mw]),i=parseInt(t[hw]);return e.createParsingComponents().imply("day",1).assign("month",i).assign("year",n)}};Wl.default=ql});var Ey=h(Yl=>{"use strict";Object.defineProperty(Yl,"__esModule",{value:!0});var yw=Ur(),Ll=class extends yw.AbstractTimeExpressionParser{primaryPrefix(){return"(?:(?:om)\\s*)?"}followingPhase(){return"\\s*(?:\\-|\\\u2013|\\~|\\\u301C|om|\\?)\\s*"}primarySuffix(){return"(?:\\s*(?:uur))?(?!/)(?=\\W|$)"}extractPrimaryTimeComponents(e,t){return t[0].match(/^\s*\d{4}\s*$/)?null:super.extractPrimaryTimeComponents(e,t)}};Yl.default=Ll});var My=h(jl=>{"use strict";Object.defineProperty(jl,"__esModule",{value:!0});var wy=Qe(),gw=Q(),_w=R(),Tw=new RegExp(`([0-9]{4})[\\.\\/\\s](?:(${gw.matchAnyPattern(wy.MONTH_DICTIONARY)})|([0-9]{1,2}))[\\.\\/\\s]([0-9]{1,2})(?=\\W|$)`,"i"),bw=1,vw=2,Ry=3,Ew=4,$l=class extends _w.AbstractParserWithWordBoundaryChecking{innerPattern(){return Tw}innerExtract(e,t){let n=t[Ry]?parseInt(t[Ry]):wy.MONTH_DICTIONARY[t[vw].toLowerCase()];if(n<1||n>12)return null;let i=parseInt(t[bw]);return{day:parseInt(t[Ew]),month:n,year:i}}};jl.default=$l});var Dy=h(hi=>{"use strict";var Rw=hi&&hi.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(hi,"__esModule",{value:!0});var ww=R(),Ks=Ee(),Bl=it(),Mw=Rw(K()),Dw=1,Pw=2,Gl=class extends ww.AbstractParserWithWordBoundaryChecking{innerPattern(e){return/(gisteren|morgen|van)(ochtend|middag|namiddag|avond|nacht)(?=\W|$)/i}innerExtract(e,t){let n=t[Dw].toLowerCase(),i=t[Pw].toLowerCase(),s=e.createParsingComponents(),a=Mw.default(e.refDate);switch(n){case"gisteren":Bl.assignSimilarDate(s,a.add(-1,"day"));break;case"van":Bl.assignSimilarDate(s,a);break;case"morgen":Bl.assignTheNextDay(s,a);break}switch(i){case"ochtend":s.imply("meridiem",Ks.Meridiem.AM),s.imply("hour",6);break;case"middag":s.imply("meridiem",Ks.Meridiem.AM),s.imply("hour",12);break;case"namiddag":s.imply("meridiem",Ks.Meridiem.PM),s.imply("hour",15);break;case"avond":s.imply("meridiem",Ks.Meridiem.PM),s.imply("hour",20);break}return s}};hi.default=Gl});var Oy=h(zl=>{"use strict";Object.defineProperty(zl,"__esModule",{value:!0});var Py=Qe(),Ow=he(),Aw=R(),kw=st(),Nw=new RegExp(`(deze|vorige|afgelopen|komende|over|\\+|-)\\s*(${Py.TIME_UNITS_PATTERN})(?=\\W|$)`,"i"),Hl=class extends Aw.AbstractParserWithWordBoundaryChecking{innerPattern(){return Nw}innerExtract(e,t){let n=t[1].toLowerCase(),i=Py.parseTimeUnits(t[2]);switch(n){case"vorige":case"afgelopen":case"-":i=kw.reverseTimeUnits(i);break}return Ow.ParsingComponents.createRelativeFromReference(e.reference,i)}};zl.default=Hl});var Ny=h(mi=>{"use strict";var Cw=mi&&mi.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(mi,"__esModule",{value:!0});var ky=Qe(),Ay=he(),xw=Cw(K()),Sw=R(),Iw=Q(),Uw=new RegExp(`(dit|deze|komende|volgend|volgende|afgelopen|vorige)\\s*(${Iw.matchAnyPattern(ky.TIME_UNIT_DICTIONARY)})(?=\\s*)(?=\\W|$)`,"i"),Fw=1,qw=2,Kl=class extends Sw.AbstractParserWithWordBoundaryChecking{innerPattern(){return Uw}innerExtract(e,t){let n=t[Fw].toLowerCase(),i=t[qw].toLowerCase(),s=ky.TIME_UNIT_DICTIONARY[i];if(n=="volgend"||n=="volgende"||n=="komende"){let u={};return u[s]=1,Ay.ParsingComponents.createRelativeFromReference(e.reference,u)}if(n=="afgelopen"||n=="vorige"){let u={};return u[s]=-1,Ay.ParsingComponents.createRelativeFromReference(e.reference,u)}let a=e.createParsingComponents(),o=xw.default(e.reference.instant);return i.match(/week/i)?(o=o.add(-o.get("d"),"d"),a.imply("day",o.date()),a.imply("month",o.month()+1),a.imply("year",o.year())):i.match(/maand/i)?(o=o.add(-o.date()+1,"d"),a.imply("day",o.date()),a.assign("year",o.year()),a.assign("month",o.month()+1)):i.match(/jaar/i)&&(o=o.add(-o.date()+1,"d"),o=o.add(-o.month(),"month"),a.imply("day",o.date()),a.imply("month",o.month()+1),a.assign("year",o.year())),a}};mi.default=Kl});var Cy=h(Xl=>{"use strict";Object.defineProperty(Xl,"__esModule",{value:!0});var Zl=Qe(),Ww=he(),Lw=R(),Yw=st(),$w=new RegExp("("+Zl.TIME_UNITS_PATTERN+")(?:geleden|voor|eerder)(?=(?:\\W|$))","i"),jw=new RegExp("("+Zl.TIME_UNITS_PATTERN+")geleden(?=(?:\\W|$))","i"),Vl=class extends Lw.AbstractParserWithWordBoundaryChecking{constructor(e){super(),this.strictMode=e}innerPattern(){return this.strictMode?jw:$w}innerExtract(e,t){let n=Zl.parseTimeUnits(t[1]),i=Yw.reverseTimeUnits(n);return Ww.ParsingComponents.createRelativeFromReference(e.reference,i)}};Xl.default=Vl});var xy=h(ec=>{"use strict";Object.defineProperty(ec,"__esModule",{value:!0});var Jl=Qe(),Bw=he(),Gw=R(),Hw=new RegExp("("+Jl.TIME_UNITS_PATTERN+")(later|na|vanaf nu|voortaan|vooruit|uit)(?=(?:\\W|$))","i"),zw=new RegExp("("+Jl.TIME_UNITS_PATTERN+")(later|vanaf nu)(?=(?:\\W|$))","i"),Kw=1,Ql=class extends Gw.AbstractParserWithWordBoundaryChecking{constructor(e){super(),this.strictMode=e}innerPattern(){return this.strictMode?zw:Hw}innerExtract(e,t){let n=Jl.parseTimeUnits(t[Kw]);return Bw.ParsingComponents.createRelativeFromReference(e.reference,n)}};ec.default=Ql});var Fy=h(Ae=>{"use strict";var Ue=Ae&&Ae.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Ae,"__esModule",{value:!0});Ae.createConfiguration=Ae.createCasualConfiguration=Ae.parseDate=Ae.parse=Ae.strict=Ae.casual=void 0;var Vw=Bt(),Sy=yt(),Zw=Ue(ey()),Xw=Ue(ty()),Qw=Ue(ry()),Jw=Ue(ny()),eM=Ue(Wr()),tM=Ue(uy()),rM=Ue(cy()),nM=Ue(yy()),Iy=Ue(by()),iM=Ue(vy()),sM=Ue(Ey()),aM=Ue(My()),oM=Ue(Dy()),uM=Ue(Oy()),lM=Ue(Ny()),cM=Ue(Cy()),dM=Ue(xy());Ae.casual=new Sy.Chrono(Uy());Ae.strict=new Sy.Chrono(tc(!0));function fM(r,e,t){return Ae.casual.parse(r,e,t)}Ae.parse=fM;function pM(r,e,t){return Ae.casual.parseDate(r,e,t)}Ae.parseDate=pM;function Uy(r=!0){let e=tc(!1,r);return e.parsers.unshift(new Qw.default),e.parsers.unshift(new Jw.default),e.parsers.unshift(new oM.default),e.parsers.unshift(new Iy.default),e.parsers.unshift(new lM.default),e.parsers.unshift(new uM.default),e}Ae.createCasualConfiguration=Uy;function tc(r=!0,e=!0){return Vw.includeCommonConfiguration({parsers:[new eM.default(e),new tM.default,new nM.default,new Iy.default,new rM.default,new aM.default,new iM.default,new sM.default(r),new cM.default(r),new dM.default(r)],refiners:[new Xw.default,new Zw.default]},r)}Ae.createConfiguration=tc});var Yy=h(yi=>{"use strict";var hM=yi&&yi.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(yi,"__esModule",{value:!0});var mM=hM(K()),yM=R(),gM=1,qy=2,_M=3,Wy=4,Ly=5,TM=6,rc=class extends yM.AbstractParserWithWordBoundaryChecking{innerPattern(e){return new RegExp("(\u800C\u5BB6|\u7ACB(?:\u523B|\u5373)|\u5373\u523B)|(\u4ECA|\u660E|\u524D|\u5927\u524D|\u5F8C|\u5927\u5F8C|\u807D|\u6628|\u5C0B|\u7434)(\u65E9|\u671D|\u665A)|(\u4E0A(?:\u5348|\u665D)|\u671D(?:\u65E9)|\u65E9(?:\u4E0A)|\u4E0B(?:\u5348|\u665D)|\u664F(?:\u665D)|\u665A(?:\u4E0A)|\u591C(?:\u665A)?|\u4E2D(?:\u5348)|\u51CC(?:\u6668))|(\u4ECA|\u660E|\u524D|\u5927\u524D|\u5F8C|\u5927\u5F8C|\u807D|\u6628|\u5C0B|\u7434)(?:\u65E5|\u5929)(?:[\\s|,|\uFF0C]*)(?:(\u4E0A(?:\u5348|\u665D)|\u671D(?:\u65E9)|\u65E9(?:\u4E0A)|\u4E0B(?:\u5348|\u665D)|\u664F(?:\u665D)|\u665A(?:\u4E0A)|\u591C(?:\u665A)?|\u4E2D(?:\u5348)|\u51CC(?:\u6668)))?","i")}innerExtract(e,t){let n=t.index,i=e.createParsingResult(n,t[0]),s=mM.default(e.refDate),a=s;if(t[gM])i.start.imply("hour",s.hour()),i.start.imply("minute",s.minute()),i.start.imply("second",s.second()),i.start.imply("millisecond",s.millisecond());else if(t[qy]){let o=t[qy],u=t[_M];o=="\u660E"||o=="\u807D"?s.hour()>1&&(a=a.add(1,"day")):o=="\u6628"||o=="\u5C0B"||o=="\u7434"?a=a.add(-1,"day"):o=="\u524D"?a=a.add(-2,"day"):o=="\u5927\u524D"?a=a.add(-3,"day"):o=="\u5F8C"?a=a.add(2,"day"):o=="\u5927\u5F8C"&&(a=a.add(3,"day")),u=="\u65E9"||u=="\u671D"?i.start.imply("hour",6):u=="\u665A"&&(i.start.imply("hour",22),i.start.imply("meridiem",1))}else if(t[Wy]){let u=t[Wy][0];u=="\u65E9"||u=="\u671D"||u=="\u4E0A"?i.start.imply("hour",6):u=="\u4E0B"||u=="\u664F"?(i.start.imply("hour",15),i.start.imply("meridiem",1)):u=="\u4E2D"?(i.start.imply("hour",12),i.start.imply("meridiem",1)):u=="\u591C"||u=="\u665A"?(i.start.imply("hour",22),i.start.imply("meridiem",1)):u=="\u51CC"&&i.start.imply("hour",0)}else if(t[Ly]){let o=t[Ly];o=="\u660E"||o=="\u807D"?s.hour()>1&&(a=a.add(1,"day")):o=="\u6628"||o=="\u5C0B"||o=="\u7434"?a=a.add(-1,"day"):o=="\u524D"?a=a.add(-2,"day"):o=="\u5927\u524D"?a=a.add(-3,"day"):o=="\u5F8C"?a=a.add(2,"day"):o=="\u5927\u5F8C"&&(a=a.add(3,"day"));let u=t[TM];if(u){let l=u[0];l=="\u65E9"||l=="\u671D"||l=="\u4E0A"?i.start.imply("hour",6):l=="\u4E0B"||l=="\u664F"?(i.start.imply("hour",15),i.start.imply("meridiem",1)):l=="\u4E2D"?(i.start.imply("hour",12),i.start.imply("meridiem",1)):l=="\u591C"||l=="\u665A"?(i.start.imply("hour",22),i.start.imply("meridiem",1)):l=="\u51CC"&&i.start.imply("hour",0)}}return i.start.assign("day",a.date()),i.start.assign("month",a.month()+1),i.start.assign("year",a.year()),i}};yi.default=rc});var mn=h(He=>{"use strict";Object.defineProperty(He,"__esModule",{value:!0});He.zhStringToYear=He.zhStringToNumber=He.WEEKDAY_OFFSET=He.NUMBER=void 0;He.NUMBER={\u96F6:0,\u4E00:1,\u4E8C:2,\u5169:2,\u4E09:3,\u56DB:4,\u4E94:5,\u516D:6,\u4E03:7,\u516B:8,\u4E5D:9,\u5341:10,\u5EFF:20,\u5345:30};He.WEEKDAY_OFFSET={\u5929:0,\u65E5:0,\u4E00:1,\u4E8C:2,\u4E09:3,\u56DB:4,\u4E94:5,\u516D:6};function bM(r){let e=0;for(let t=0;t<r.length;t++){let n=r[t];n==="\u5341"?e=e===0?He.NUMBER[n]:e*He.NUMBER[n]:e+=He.NUMBER[n]}return e}He.zhStringToNumber=bM;function vM(r){let e="";for(let t=0;t<r.length;t++){let n=r[t];e=e+He.NUMBER[n]}return parseInt(e)}He.zhStringToYear=vM});var jy=h(gi=>{"use strict";var EM=gi&&gi.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(gi,"__esModule",{value:!0});var RM=EM(K()),wM=R(),$r=mn(),nc=1,$y=2,ic=3,sc=class extends wM.AbstractParserWithWordBoundaryChecking{innerPattern(){return new RegExp("(\\d{2,4}|["+Object.keys($r.NUMBER).join("")+"]{4}|["+Object.keys($r.NUMBER).join("")+"]{2})?(?:\\s*)(?:\u5E74)?(?:[\\s|,|\uFF0C]*)(\\d{1,2}|["+Object.keys($r.NUMBER).join("")+"]{1,2})(?:\\s*)(?:\u6708)(?:\\s*)(\\d{1,2}|["+Object.keys($r.NUMBER).join("")+"]{1,2})?(?:\\s*)(?:\u65E5|\u865F)?")}innerExtract(e,t){let n=RM.default(e.refDate),i=e.createParsingResult(t.index,t[0]),s=parseInt(t[$y]);if(isNaN(s)&&(s=$r.zhStringToNumber(t[$y])),i.start.assign("month",s),t[ic]){let a=parseInt(t[ic]);isNaN(a)&&(a=$r.zhStringToNumber(t[ic])),i.start.assign("day",a)}else i.start.imply("day",n.date());if(t[nc]){let a=parseInt(t[nc]);isNaN(a)&&(a=$r.zhStringToYear(t[nc])),i.start.assign("year",a)}else i.start.imply("year",n.year());return i}};gi.default=sc});var Gy=h(_i=>{"use strict";var MM=_i&&_i.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(_i,"__esModule",{value:!0});var DM=MM(K()),PM=R(),By=mn(),OM=new RegExp("(\\d+|["+Object.keys(By.NUMBER).join("")+"]+|\u534A|\u5E7E)(?:\\s*)(?:\u500B)?(\u79D2(?:\u9418)?|\u5206\u9418|\u5C0F\u6642|\u9418|\u65E5|\u5929|\u661F\u671F|\u79AE\u62DC|\u6708|\u5E74)(?:(?:\u4E4B|\u904E)?\u5F8C|(?:\u4E4B)?\u5167)","i"),ac=1,AM=2,oc=class extends PM.AbstractParserWithWordBoundaryChecking{innerPattern(){return OM}innerExtract(e,t){let n=e.createParsingResult(t.index,t[0]),i=parseInt(t[ac]);if(isNaN(i)&&(i=By.zhStringToNumber(t[ac])),isNaN(i)){let u=t[ac];if(u==="\u5E7E")i=3;else if(u==="\u534A")i=.5;else return null}let s=DM.default(e.refDate),o=t[AM][0];return o.match(/[日天星禮月年]/)?(o=="\u65E5"||o=="\u5929"?s=s.add(i,"d"):o=="\u661F"||o=="\u79AE"?s=s.add(i*7,"d"):o=="\u6708"?s=s.add(i,"month"):o=="\u5E74"&&(s=s.add(i,"year")),n.start.assign("year",s.year()),n.start.assign("month",s.month()+1),n.start.assign("day",s.date()),n):(o=="\u79D2"?s=s.add(i,"second"):o=="\u5206"?s=s.add(i,"minute"):(o=="\u5C0F"||o=="\u9418")&&(s=s.add(i,"hour")),n.start.imply("year",s.year()),n.start.imply("month",s.month()+1),n.start.imply("day",s.date()),n.start.assign("hour",s.hour()),n.start.assign("minute",s.minute()),n.start.assign("second",s.second()),n)}};_i.default=oc});var zy=h(Ti=>{"use strict";var kM=Ti&&Ti.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Ti,"__esModule",{value:!0});var NM=kM(K()),CM=R(),Hy=mn(),xM=new RegExp("(?<prefix>\u4E0A|\u4ECA|\u4E0B|\u9019|\u5462)(?:\u500B)?(?:\u661F\u671F|\u79AE\u62DC|\u9031)(?<weekday>"+Object.keys(Hy.WEEKDAY_OFFSET).join("|")+")"),uc=class extends CM.AbstractParserWithWordBoundaryChecking{innerPattern(){return xM}innerExtract(e,t){let n=e.createParsingResult(t.index,t[0]),i=t.groups.weekday,s=Hy.WEEKDAY_OFFSET[i];if(s===void 0)return null;let a=null,o=t.groups.prefix;o=="\u4E0A"?a="last":o=="\u4E0B"?a="next":(o=="\u4ECA"||o=="\u9019"||o=="\u5462")&&(a="this");let u=NM.default(e.refDate),l=!1,c=u.day();return a=="last"||a=="past"?(u=u.day(s-7),l=!0):a=="next"?(u=u.day(s+7),l=!0):a=="this"?u=u.day(s):Math.abs(s-7-c)<Math.abs(s-c)?u=u.day(s-7):Math.abs(s+7-c)<Math.abs(s-c)?u=u.day(s+7):u=u.day(s),n.start.assign("weekday",s),l?(n.start.assign("day",u.date()),n.start.assign("month",u.month()+1),n.start.assign("year",u.year())):(n.start.imply("day",u.date()),n.start.imply("month",u.month()+1),n.start.imply("year",u.year())),n}};Ti.default=uc});var Ky=h(bi=>{"use strict";var SM=bi&&bi.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(bi,"__esModule",{value:!0});var IM=SM(K()),UM=R(),ut=mn(),FM=new RegExp("(?:\u7531|\u5F9E|\u81EA)?(?:(\u4ECA|\u660E|\u524D|\u5927\u524D|\u5F8C|\u5927\u5F8C|\u807D|\u6628|\u5C0B|\u7434)(\u65E9|\u671D|\u665A)|(\u4E0A(?:\u5348|\u665D)|\u671D(?:\u65E9)|\u65E9(?:\u4E0A)|\u4E0B(?:\u5348|\u665D)|\u664F(?:\u665D)|\u665A(?:\u4E0A)|\u591C(?:\u665A)?|\u4E2D(?:\u5348)|\u51CC(?:\u6668))|(\u4ECA|\u660E|\u524D|\u5927\u524D|\u5F8C|\u5927\u5F8C|\u807D|\u6628|\u5C0B|\u7434)(?:\u65E5|\u5929)(?:[\\s,\uFF0C]*)(?:(\u4E0A(?:\u5348|\u665D)|\u671D(?:\u65E9)|\u65E9(?:\u4E0A)|\u4E0B(?:\u5348|\u665D)|\u664F(?:\u665D)|\u665A(?:\u4E0A)|\u591C(?:\u665A)?|\u4E2D(?:\u5348)|\u51CC(?:\u6668)))?)?(?:[\\s,\uFF0C]*)(?:(\\d+|["+Object.keys(ut.NUMBER).join("")+"]+)(?:\\s*)(?:\u9EDE|\u6642|:|\uFF1A)(?:\\s*)(\\d+|\u534A|\u6B63|\u6574|["+Object.keys(ut.NUMBER).join("")+"]+)?(?:\\s*)(?:\u5206|:|\uFF1A)?(?:\\s*)(\\d+|["+Object.keys(ut.NUMBER).join("")+"]+)?(?:\\s*)(?:\u79D2)?)(?:\\s*(A.M.|P.M.|AM?|PM?))?","i"),qM=new RegExp("(?:^\\s*(?:\u5230|\u81F3|\\-|\\\u2013|\\~|\\\u301C)\\s*)(?:(\u4ECA|\u660E|\u524D|\u5927\u524D|\u5F8C|\u5927\u5F8C|\u807D|\u6628|\u5C0B|\u7434)(\u65E9|\u671D|\u665A)|(\u4E0A(?:\u5348|\u665D)|\u671D(?:\u65E9)|\u65E9(?:\u4E0A)|\u4E0B(?:\u5348|\u665D)|\u664F(?:\u665D)|\u665A(?:\u4E0A)|\u591C(?:\u665A)?|\u4E2D(?:\u5348)|\u51CC(?:\u6668))|(\u4ECA|\u660E|\u524D|\u5927\u524D|\u5F8C|\u5927\u5F8C|\u807D|\u6628|\u5C0B|\u7434)(?:\u65E5|\u5929)(?:[\\s,\uFF0C]*)(?:(\u4E0A(?:\u5348|\u665D)|\u671D(?:\u65E9)|\u65E9(?:\u4E0A)|\u4E0B(?:\u5348|\u665D)|\u664F(?:\u665D)|\u665A(?:\u4E0A)|\u591C(?:\u665A)?|\u4E2D(?:\u5348)|\u51CC(?:\u6668)))?)?(?:[\\s,\uFF0C]*)(?:(\\d+|["+Object.keys(ut.NUMBER).join("")+"]+)(?:\\s*)(?:\u9EDE|\u6642|:|\uFF1A)(?:\\s*)(\\d+|\u534A|\u6B63|\u6574|["+Object.keys(ut.NUMBER).join("")+"]+)?(?:\\s*)(?:\u5206|:|\uFF1A)?(?:\\s*)(\\d+|["+Object.keys(ut.NUMBER).join("")+"]+)?(?:\\s*)(?:\u79D2)?)(?:\\s*(A.M.|P.M.|AM?|PM?))?","i"),Vs=1,Zs=2,Xs=3,Qs=4,Js=5,ea=6,ot=7,yn=8,ta=9,lc=class extends UM.AbstractParserWithWordBoundaryChecking{innerPattern(){return FM}innerExtract(e,t){if(t.index>0&&e.text[t.index-1].match(/\w/))return null;let n=IM.default(e.refDate),i=e.createParsingResult(t.index,t[0]),s=n.clone();if(t[Vs]){var a=t[Vs];a=="\u660E"||a=="\u807D"?n.hour()>1&&s.add(1,"day"):a=="\u6628"||a=="\u5C0B"||a=="\u7434"?s.add(-1,"day"):a=="\u524D"?s.add(-2,"day"):a=="\u5927\u524D"?s.add(-3,"day"):a=="\u5F8C"?s.add(2,"day"):a=="\u5927\u5F8C"&&s.add(3,"day"),i.start.assign("day",s.date()),i.start.assign("month",s.month()+1),i.start.assign("year",s.year())}else if(t[Qs]){var o=t[Qs];o=="\u660E"||o=="\u807D"?s.add(1,"day"):o=="\u6628"||o=="\u5C0B"||o=="\u7434"?s.add(-1,"day"):o=="\u524D"?s.add(-2,"day"):o=="\u5927\u524D"?s.add(-3,"day"):o=="\u5F8C"?s.add(2,"day"):o=="\u5927\u5F8C"&&s.add(3,"day"),i.start.assign("day",s.date()),i.start.assign("month",s.month()+1),i.start.assign("year",s.year())}else i.start.imply("day",s.date()),i.start.imply("month",s.month()+1),i.start.imply("year",s.year());let u=0,l=0,c=-1;if(t[yn]){var d=parseInt(t[yn]);if(isNaN(d)&&(d=ut.zhStringToNumber(t[yn])),d>=60)return null;i.start.assign("second",d)}if(u=parseInt(t[ea]),isNaN(u)&&(u=ut.zhStringToNumber(t[ea])),t[ot]?t[ot]=="\u534A"?l=30:t[ot]=="\u6B63"||t[ot]=="\u6574"?l=0:(l=parseInt(t[ot]),isNaN(l)&&(l=ut.zhStringToNumber(t[ot]))):u>100&&(l=u%100,u=Math.floor(u/100)),l>=60||u>24)return null;if(u>=12&&(c=1),t[ta]){if(u>12)return null;var f=t[ta][0].toLowerCase();f=="a"&&(c=0,u==12&&(u=0)),f=="p"&&(c=1,u!=12&&(u+=12))}else if(t[Zs]){var p=t[Zs],y=p[0];y=="\u671D"||y=="\u65E9"?(c=0,u==12&&(u=0)):y=="\u665A"&&(c=1,u!=12&&(u+=12))}else if(t[Xs]){var m=t[Xs],g=m[0];g=="\u4E0A"||g=="\u671D"||g=="\u65E9"||g=="\u51CC"?(c=0,u==12&&(u=0)):(g=="\u4E0B"||g=="\u664F"||g=="\u665A")&&(c=1,u!=12&&(u+=12))}else if(t[Js]){var A=t[Js],x=A[0];x=="\u4E0A"||x=="\u671D"||x=="\u65E9"||x=="\u51CC"?(c=0,u==12&&(u=0)):(x=="\u4E0B"||x=="\u664F"||x=="\u665A")&&(c=1,u!=12&&(u+=12))}if(i.start.assign("hour",u),i.start.assign("minute",l),c>=0?i.start.assign("meridiem",c):u<12?i.start.imply("meridiem",0):i.start.imply("meridiem",1),t=qM.exec(e.text.substring(i.index+i.text.length)),!t)return i.text.match(/^\d+$/)?null:i;let C=s.clone();if(i.end=e.createParsingComponents(),t[Vs]){var a=t[Vs];a=="\u660E"||a=="\u807D"?n.hour()>1&&C.add(1,"day"):a=="\u6628"||a=="\u5C0B"||a=="\u7434"?C.add(-1,"day"):a=="\u524D"?C.add(-2,"day"):a=="\u5927\u524D"?C.add(-3,"day"):a=="\u5F8C"?C.add(2,"day"):a=="\u5927\u5F8C"&&C.add(3,"day"),i.end.assign("day",C.date()),i.end.assign("month",C.month()+1),i.end.assign("year",C.year())}else if(t[Qs]){var o=t[Qs];o=="\u660E"||o=="\u807D"?C.add(1,"day"):o=="\u6628"||o=="\u5C0B"||o=="\u7434"?C.add(-1,"day"):o=="\u524D"?C.add(-2,"day"):o=="\u5927\u524D"?C.add(-3,"day"):o=="\u5F8C"?C.add(2,"day"):o=="\u5927\u5F8C"&&C.add(3,"day"),i.end.assign("day",C.date()),i.end.assign("month",C.month()+1),i.end.assign("year",C.year())}else i.end.imply("day",C.date()),i.end.imply("month",C.month()+1),i.end.imply("year",C.year());if(u=0,l=0,c=-1,t[yn]){var d=parseInt(t[yn]);if(isNaN(d)&&(d=ut.zhStringToNumber(t[yn])),d>=60)return null;i.end.assign("second",d)}if(u=parseInt(t[ea]),isNaN(u)&&(u=ut.zhStringToNumber(t[ea])),t[ot]?t[ot]=="\u534A"?l=30:t[ot]=="\u6B63"||t[ot]=="\u6574"?l=0:(l=parseInt(t[ot]),isNaN(l)&&(l=ut.zhStringToNumber(t[ot]))):u>100&&(l=u%100,u=Math.floor(u/100)),l>=60||u>24)return null;if(u>=12&&(c=1),t[ta]){if(u>12)return null;var f=t[ta][0].toLowerCase();f=="a"&&(c=0,u==12&&(u=0)),f=="p"&&(c=1,u!=12&&(u+=12)),i.start.isCertain("meridiem")||(c==0?(i.start.imply("meridiem",0),i.start.get("hour")==12&&i.start.assign("hour",0)):(i.start.imply("meridiem",1),i.start.get("hour")!=12&&i.start.assign("hour",i.start.get("hour")+12)))}else if(t[Zs]){var p=t[Zs],y=p[0];y=="\u671D"||y=="\u65E9"?(c=0,u==12&&(u=0)):y=="\u665A"&&(c=1,u!=12&&(u+=12))}else if(t[Xs]){var m=t[Xs],g=m[0];g=="\u4E0A"||g=="\u671D"||g=="\u65E9"||g=="\u51CC"?(c=0,u==12&&(u=0)):(g=="\u4E0B"||g=="\u664F"||g=="\u665A")&&(c=1,u!=12&&(u+=12))}else if(t[Js]){var A=t[Js],x=A[0];x=="\u4E0A"||x=="\u671D"||x=="\u65E9"||x=="\u51CC"?(c=0,u==12&&(u=0)):(x=="\u4E0B"||x=="\u664F"||x=="\u665A")&&(c=1,u!=12&&(u+=12))}return i.text=i.text+t[0],i.end.assign("hour",u),i.end.assign("minute",l),c>=0?i.end.assign("meridiem",c):i.start.isCertain("meridiem")&&i.start.get("meridiem")==1&&i.start.get("hour")>u?i.end.imply("meridiem",0):u>12&&i.end.imply("meridiem",1),i.end.date().getTime()<i.start.date().getTime()&&i.end.imply("day",i.end.get("day")+1),i}};bi.default=lc});var Zy=h(vi=>{"use strict";var WM=vi&&vi.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(vi,"__esModule",{value:!0});var LM=WM(K()),YM=R(),Vy=mn(),$M=new RegExp("(?:\u661F\u671F|\u79AE\u62DC|\u9031)(?<weekday>"+Object.keys(Vy.WEEKDAY_OFFSET).join("|")+")"),cc=class extends YM.AbstractParserWithWordBoundaryChecking{innerPattern(){return $M}innerExtract(e,t){let n=e.createParsingResult(t.index,t[0]),i=t.groups.weekday,s=Vy.WEEKDAY_OFFSET[i];if(s===void 0)return null;let a=LM.default(e.refDate),o=!1,u=a.day();return Math.abs(s-7-u)<Math.abs(s-u)?a=a.day(s-7):Math.abs(s+7-u)<Math.abs(s-u)?a=a.day(s+7):a=a.day(s),n.start.assign("weekday",s),o?(n.start.assign("day",a.date()),n.start.assign("month",a.month()+1),n.start.assign("year",a.year())):(n.start.imply("day",a.date()),n.start.imply("month",a.month()+1),n.start.imply("year",a.year())),n}};vi.default=cc});var Xy=h(Ei=>{"use strict";var jM=Ei&&Ei.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Ei,"__esModule",{value:!0});var BM=jM(At()),dc=class extends BM.default{patternBetween(){return/^\s*(至|到|\-|\~|～|－|ー)\s*$/i}};Ei.default=dc});var Qy=h(Ri=>{"use strict";var GM=Ri&&Ri.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Ri,"__esModule",{value:!0});var HM=GM(jt()),fc=class extends HM.default{patternBetween(){return/^\s*$/i}};Ri.default=fc});var Jy=h(be=>{"use strict";var Vt=be&&be.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(be,"__esModule",{value:!0});be.createConfiguration=be.createCasualConfiguration=be.parseDate=be.parse=be.strict=be.casual=be.hant=void 0;var pc=yt(),zM=Vt(Ns()),KM=Bt(),VM=Vt(Yy()),ZM=Vt(jy()),XM=Vt(Gy()),QM=Vt(zy()),JM=Vt(Ky()),eD=Vt(Zy()),tD=Vt(Xy()),rD=Vt(Qy());be.hant=new pc.Chrono(hc());be.casual=new pc.Chrono(hc());be.strict=new pc.Chrono(mc());function nD(r,e,t){return be.casual.parse(r,e,t)}be.parse=nD;function iD(r,e,t){return be.casual.parseDate(r,e,t)}be.parseDate=iD;function hc(){let r=mc();return r.parsers.unshift(new VM.default),r}be.createCasualConfiguration=hc;function mc(){let r=KM.includeCommonConfiguration({parsers:[new ZM.default,new QM.default,new eD.default,new JM.default,new XM.default],refiners:[new tD.default,new rD.default]});return r.refiners=r.refiners.filter(e=>!(e instanceof zM.default)),r}be.createConfiguration=mc});var ng=h(wi=>{"use strict";var sD=wi&&wi.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(wi,"__esModule",{value:!0});var aD=sD(K()),oD=R(),uD=1,eg=2,lD=3,tg=4,rg=5,cD=6,yc=class extends oD.AbstractParserWithWordBoundaryChecking{innerPattern(e){return new RegExp("(\u73B0\u5728|\u7ACB(?:\u523B|\u5373)|\u5373\u523B)|(\u4ECA|\u660E|\u524D|\u5927\u524D|\u540E|\u5927\u540E|\u6628)(\u65E9|\u665A)|(\u4E0A(?:\u5348)|\u65E9(?:\u4E0A)|\u4E0B(?:\u5348)|\u665A(?:\u4E0A)|\u591C(?:\u665A)?|\u4E2D(?:\u5348)|\u51CC(?:\u6668))|(\u4ECA|\u660E|\u524D|\u5927\u524D|\u540E|\u5927\u540E|\u6628)(?:\u65E5|\u5929)(?:[\\s|,|\uFF0C]*)(?:(\u4E0A(?:\u5348)|\u65E9(?:\u4E0A)|\u4E0B(?:\u5348)|\u665A(?:\u4E0A)|\u591C(?:\u665A)?|\u4E2D(?:\u5348)|\u51CC(?:\u6668)))?","i")}innerExtract(e,t){let n=t.index,i=e.createParsingResult(n,t[0]),s=aD.default(e.refDate),a=s;if(t[uD])i.start.imply("hour",s.hour()),i.start.imply("minute",s.minute()),i.start.imply("second",s.second()),i.start.imply("millisecond",s.millisecond());else if(t[eg]){let o=t[eg],u=t[lD];o=="\u660E"?s.hour()>1&&(a=a.add(1,"day")):o=="\u6628"?a=a.add(-1,"day"):o=="\u524D"?a=a.add(-2,"day"):o=="\u5927\u524D"?a=a.add(-3,"day"):o=="\u540E"?a=a.add(2,"day"):o=="\u5927\u540E"&&(a=a.add(3,"day")),u=="\u65E9"?i.start.imply("hour",6):u=="\u665A"&&(i.start.imply("hour",22),i.start.imply("meridiem",1))}else if(t[tg]){let u=t[tg][0];u=="\u65E9"||u=="\u4E0A"?i.start.imply("hour",6):u=="\u4E0B"?(i.start.imply("hour",15),i.start.imply("meridiem",1)):u=="\u4E2D"?(i.start.imply("hour",12),i.start.imply("meridiem",1)):u=="\u591C"||u=="\u665A"?(i.start.imply("hour",22),i.start.imply("meridiem",1)):u=="\u51CC"&&i.start.imply("hour",0)}else if(t[rg]){let o=t[rg];o=="\u660E"?s.hour()>1&&(a=a.add(1,"day")):o=="\u6628"?a=a.add(-1,"day"):o=="\u524D"?a=a.add(-2,"day"):o=="\u5927\u524D"?a=a.add(-3,"day"):o=="\u540E"?a=a.add(2,"day"):o=="\u5927\u540E"&&(a=a.add(3,"day"));let u=t[cD];if(u){let l=u[0];l=="\u65E9"||l=="\u4E0A"?i.start.imply("hour",6):l=="\u4E0B"?(i.start.imply("hour",15),i.start.imply("meridiem",1)):l=="\u4E2D"?(i.start.imply("hour",12),i.start.imply("meridiem",1)):l=="\u591C"||l=="\u665A"?(i.start.imply("hour",22),i.start.imply("meridiem",1)):l=="\u51CC"&&i.start.imply("hour",0)}}return i.start.assign("day",a.date()),i.start.assign("month",a.month()+1),i.start.assign("year",a.year()),i}};wi.default=yc});var gn=h(ze=>{"use strict";Object.defineProperty(ze,"__esModule",{value:!0});ze.zhStringToYear=ze.zhStringToNumber=ze.WEEKDAY_OFFSET=ze.NUMBER=void 0;ze.NUMBER={\u96F6:0,"\u3007":0,\u4E00:1,\u4E8C:2,\u4E24:2,\u4E09:3,\u56DB:4,\u4E94:5,\u516D:6,\u4E03:7,\u516B:8,\u4E5D:9,\u5341:10};ze.WEEKDAY_OFFSET={\u5929:0,\u65E5:0,\u4E00:1,\u4E8C:2,\u4E09:3,\u56DB:4,\u4E94:5,\u516D:6};function dD(r){let e=0;for(let t=0;t<r.length;t++){let n=r[t];n==="\u5341"?e=e===0?ze.NUMBER[n]:e*ze.NUMBER[n]:e+=ze.NUMBER[n]}return e}ze.zhStringToNumber=dD;function fD(r){let e="";for(let t=0;t<r.length;t++){let n=r[t];e=e+ze.NUMBER[n]}return parseInt(e)}ze.zhStringToYear=fD});var sg=h(Mi=>{"use strict";var pD=Mi&&Mi.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Mi,"__esModule",{value:!0});var hD=pD(K()),mD=R(),jr=gn(),gc=1,ig=2,_c=3,Tc=class extends mD.AbstractParserWithWordBoundaryChecking{innerPattern(){return new RegExp("(\\d{2,4}|["+Object.keys(jr.NUMBER).join("")+"]{4}|["+Object.keys(jr.NUMBER).join("")+"]{2})?(?:\\s*)(?:\u5E74)?(?:[\\s|,|\uFF0C]*)(\\d{1,2}|["+Object.keys(jr.NUMBER).join("")+"]{1,3})(?:\\s*)(?:\u6708)(?:\\s*)(\\d{1,2}|["+Object.keys(jr.NUMBER).join("")+"]{1,3})?(?:\\s*)(?:\u65E5|\u53F7)?")}innerExtract(e,t){let n=hD.default(e.refDate),i=e.createParsingResult(t.index,t[0]),s=parseInt(t[ig]);if(isNaN(s)&&(s=jr.zhStringToNumber(t[ig])),i.start.assign("month",s),t[_c]){let a=parseInt(t[_c]);isNaN(a)&&(a=jr.zhStringToNumber(t[_c])),i.start.assign("day",a)}else i.start.imply("day",n.date());if(t[gc]){let a=parseInt(t[gc]);isNaN(a)&&(a=jr.zhStringToYear(t[gc])),i.start.assign("year",a)}else i.start.imply("year",n.year());return i}};Mi.default=Tc});var og=h(Di=>{"use strict";var yD=Di&&Di.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Di,"__esModule",{value:!0});var gD=yD(K()),_D=R(),ag=gn(),TD=new RegExp("(\\d+|["+Object.keys(ag.NUMBER).join("")+"]+|\u534A|\u51E0)(?:\\s*)(?:\u4E2A)?(\u79D2(?:\u949F)?|\u5206\u949F|\u5C0F\u65F6|\u949F|\u65E5|\u5929|\u661F\u671F|\u793C\u62DC|\u6708|\u5E74)(?:(?:\u4E4B|\u8FC7)?\u540E|(?:\u4E4B)?\u5185)","i"),bc=1,bD=2,vc=class extends _D.AbstractParserWithWordBoundaryChecking{innerPattern(){return TD}innerExtract(e,t){let n=e.createParsingResult(t.index,t[0]),i=parseInt(t[bc]);if(isNaN(i)&&(i=ag.zhStringToNumber(t[bc])),isNaN(i)){let u=t[bc];if(u==="\u51E0")i=3;else if(u==="\u534A")i=.5;else return null}let s=gD.default(e.refDate),o=t[bD][0];return o.match(/[日天星礼月年]/)?(o=="\u65E5"||o=="\u5929"?s=s.add(i,"d"):o=="\u661F"||o=="\u793C"?s=s.add(i*7,"d"):o=="\u6708"?s=s.add(i,"month"):o=="\u5E74"&&(s=s.add(i,"year")),n.start.assign("year",s.year()),n.start.assign("month",s.month()+1),n.start.assign("day",s.date()),n):(o=="\u79D2"?s=s.add(i,"second"):o=="\u5206"?s=s.add(i,"minute"):(o=="\u5C0F"||o=="\u949F")&&(s=s.add(i,"hour")),n.start.imply("year",s.year()),n.start.imply("month",s.month()+1),n.start.imply("day",s.date()),n.start.assign("hour",s.hour()),n.start.assign("minute",s.minute()),n.start.assign("second",s.second()),n)}};Di.default=vc});var lg=h(Pi=>{"use strict";var vD=Pi&&Pi.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Pi,"__esModule",{value:!0});var ED=vD(K()),RD=R(),ug=gn(),wD=new RegExp("(?<prefix>\u4E0A|\u4E0B|\u8FD9)(?:\u4E2A)?(?:\u661F\u671F|\u793C\u62DC|\u5468)(?<weekday>"+Object.keys(ug.WEEKDAY_OFFSET).join("|")+")"),Ec=class extends RD.AbstractParserWithWordBoundaryChecking{innerPattern(){return wD}innerExtract(e,t){let n=e.createParsingResult(t.index,t[0]),i=t.groups.weekday,s=ug.WEEKDAY_OFFSET[i];if(s===void 0)return null;let a=null,o=t.groups.prefix;o=="\u4E0A"?a="last":o=="\u4E0B"?a="next":o=="\u8FD9"&&(a="this");let u=ED.default(e.refDate),l=!1,c=u.day();return a=="last"||a=="past"?(u=u.day(s-7),l=!0):a=="next"?(u=u.day(s+7),l=!0):a=="this"?u=u.day(s):Math.abs(s-7-c)<Math.abs(s-c)?u=u.day(s-7):Math.abs(s+7-c)<Math.abs(s-c)?u=u.day(s+7):u=u.day(s),n.start.assign("weekday",s),l?(n.start.assign("day",u.date()),n.start.assign("month",u.month()+1),n.start.assign("year",u.year())):(n.start.imply("day",u.date()),n.start.imply("month",u.month()+1),n.start.imply("year",u.year())),n}};Pi.default=Ec});var cg=h(Oi=>{"use strict";var MD=Oi&&Oi.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Oi,"__esModule",{value:!0});var DD=MD(K()),PD=R(),ct=gn(),OD=new RegExp("(?:\u4ECE|\u81EA)?(?:(\u4ECA|\u660E|\u524D|\u5927\u524D|\u540E|\u5927\u540E|\u6628)(\u65E9|\u671D|\u665A)|(\u4E0A(?:\u5348)|\u65E9(?:\u4E0A)|\u4E0B(?:\u5348)|\u665A(?:\u4E0A)|\u591C(?:\u665A)?|\u4E2D(?:\u5348)|\u51CC(?:\u6668))|(\u4ECA|\u660E|\u524D|\u5927\u524D|\u540E|\u5927\u540E|\u6628)(?:\u65E5|\u5929)(?:[\\s,\uFF0C]*)(?:(\u4E0A(?:\u5348)|\u65E9(?:\u4E0A)|\u4E0B(?:\u5348)|\u665A(?:\u4E0A)|\u591C(?:\u665A)?|\u4E2D(?:\u5348)|\u51CC(?:\u6668)))?)?(?:[\\s,\uFF0C]*)(?:(\\d+|["+Object.keys(ct.NUMBER).join("")+"]+)(?:\\s*)(?:\u70B9|\u65F6|:|\uFF1A)(?:\\s*)(\\d+|\u534A|\u6B63|\u6574|["+Object.keys(ct.NUMBER).join("")+"]+)?(?:\\s*)(?:\u5206|:|\uFF1A)?(?:\\s*)(\\d+|["+Object.keys(ct.NUMBER).join("")+"]+)?(?:\\s*)(?:\u79D2)?)(?:\\s*(A.M.|P.M.|AM?|PM?))?","i"),AD=new RegExp("(?:^\\s*(?:\u5230|\u81F3|\\-|\\\u2013|\\~|\\\u301C)\\s*)(?:(\u4ECA|\u660E|\u524D|\u5927\u524D|\u540E|\u5927\u540E|\u6628)(\u65E9|\u671D|\u665A)|(\u4E0A(?:\u5348)|\u65E9(?:\u4E0A)|\u4E0B(?:\u5348)|\u665A(?:\u4E0A)|\u591C(?:\u665A)?|\u4E2D(?:\u5348)|\u51CC(?:\u6668))|(\u4ECA|\u660E|\u524D|\u5927\u524D|\u540E|\u5927\u540E|\u6628)(?:\u65E5|\u5929)(?:[\\s,\uFF0C]*)(?:(\u4E0A(?:\u5348)|\u65E9(?:\u4E0A)|\u4E0B(?:\u5348)|\u665A(?:\u4E0A)|\u591C(?:\u665A)?|\u4E2D(?:\u5348)|\u51CC(?:\u6668)))?)?(?:[\\s,\uFF0C]*)(?:(\\d+|["+Object.keys(ct.NUMBER).join("")+"]+)(?:\\s*)(?:\u70B9|\u65F6|:|\uFF1A)(?:\\s*)(\\d+|\u534A|\u6B63|\u6574|["+Object.keys(ct.NUMBER).join("")+"]+)?(?:\\s*)(?:\u5206|:|\uFF1A)?(?:\\s*)(\\d+|["+Object.keys(ct.NUMBER).join("")+"]+)?(?:\\s*)(?:\u79D2)?)(?:\\s*(A.M.|P.M.|AM?|PM?))?","i"),ra=1,na=2,ia=3,sa=4,aa=5,oa=6,lt=7,_n=8,ua=9,Rc=class extends PD.AbstractParserWithWordBoundaryChecking{innerPattern(){return OD}innerExtract(e,t){if(t.index>0&&e.text[t.index-1].match(/\w/))return null;let n=DD.default(e.refDate),i=e.createParsingResult(t.index,t[0]),s=n.clone();if(t[ra]){let c=t[ra];c=="\u660E"?n.hour()>1&&s.add(1,"day"):c=="\u6628"?s.add(-1,"day"):c=="\u524D"?s.add(-2,"day"):c=="\u5927\u524D"?s.add(-3,"day"):c=="\u540E"?s.add(2,"day"):c=="\u5927\u540E"&&s.add(3,"day"),i.start.assign("day",s.date()),i.start.assign("month",s.month()+1),i.start.assign("year",s.year())}else if(t[sa]){let c=t[sa];c=="\u660E"?s.add(1,"day"):c=="\u6628"?s.add(-1,"day"):c=="\u524D"?s.add(-2,"day"):c=="\u5927\u524D"?s.add(-3,"day"):c=="\u540E"?s.add(2,"day"):c=="\u5927\u540E"&&s.add(3,"day"),i.start.assign("day",s.date()),i.start.assign("month",s.month()+1),i.start.assign("year",s.year())}else i.start.imply("day",s.date()),i.start.imply("month",s.month()+1),i.start.imply("year",s.year());let a=0,o=0,u=-1;if(t[_n]){let c=parseInt(t[_n]);if(isNaN(c)&&(c=ct.zhStringToNumber(t[_n])),c>=60)return null;i.start.assign("second",c)}if(a=parseInt(t[oa]),isNaN(a)&&(a=ct.zhStringToNumber(t[oa])),t[lt]?t[lt]=="\u534A"?o=30:t[lt]=="\u6B63"||t[lt]=="\u6574"?o=0:(o=parseInt(t[lt]),isNaN(o)&&(o=ct.zhStringToNumber(t[lt]))):a>100&&(o=a%100,a=Math.floor(a/100)),o>=60||a>24)return null;if(a>=12&&(u=1),t[ua]){if(a>12)return null;let c=t[ua][0].toLowerCase();c=="a"&&(u=0,a==12&&(a=0)),c=="p"&&(u=1,a!=12&&(a+=12))}else if(t[na]){let d=t[na][0];d=="\u65E9"?(u=0,a==12&&(a=0)):d=="\u665A"&&(u=1,a!=12&&(a+=12))}else if(t[ia]){let d=t[ia][0];d=="\u4E0A"||d=="\u65E9"||d=="\u51CC"?(u=0,a==12&&(a=0)):(d=="\u4E0B"||d=="\u665A")&&(u=1,a!=12&&(a+=12))}else if(t[aa]){let d=t[aa][0];d=="\u4E0A"||d=="\u65E9"||d=="\u51CC"?(u=0,a==12&&(a=0)):(d=="\u4E0B"||d=="\u665A")&&(u=1,a!=12&&(a+=12))}if(i.start.assign("hour",a),i.start.assign("minute",o),u>=0?i.start.assign("meridiem",u):a<12?i.start.imply("meridiem",0):i.start.imply("meridiem",1),t=AD.exec(e.text.substring(i.index+i.text.length)),!t)return i.text.match(/^\d+$/)?null:i;let l=s.clone();if(i.end=e.createParsingComponents(),t[ra]){let c=t[ra];c=="\u660E"?n.hour()>1&&l.add(1,"day"):c=="\u6628"?l.add(-1,"day"):c=="\u524D"?l.add(-2,"day"):c=="\u5927\u524D"?l.add(-3,"day"):c=="\u540E"?l.add(2,"day"):c=="\u5927\u540E"&&l.add(3,"day"),i.end.assign("day",l.date()),i.end.assign("month",l.month()+1),i.end.assign("year",l.year())}else if(t[sa]){let c=t[sa];c=="\u660E"?l.add(1,"day"):c=="\u6628"?l.add(-1,"day"):c=="\u524D"?l.add(-2,"day"):c=="\u5927\u524D"?l.add(-3,"day"):c=="\u540E"?l.add(2,"day"):c=="\u5927\u540E"&&l.add(3,"day"),i.end.assign("day",l.date()),i.end.assign("month",l.month()+1),i.end.assign("year",l.year())}else i.end.imply("day",l.date()),i.end.imply("month",l.month()+1),i.end.imply("year",l.year());if(a=0,o=0,u=-1,t[_n]){let c=parseInt(t[_n]);if(isNaN(c)&&(c=ct.zhStringToNumber(t[_n])),c>=60)return null;i.end.assign("second",c)}if(a=parseInt(t[oa]),isNaN(a)&&(a=ct.zhStringToNumber(t[oa])),t[lt]?t[lt]=="\u534A"?o=30:t[lt]=="\u6B63"||t[lt]=="\u6574"?o=0:(o=parseInt(t[lt]),isNaN(o)&&(o=ct.zhStringToNumber(t[lt]))):a>100&&(o=a%100,a=Math.floor(a/100)),o>=60||a>24)return null;if(a>=12&&(u=1),t[ua]){if(a>12)return null;let c=t[ua][0].toLowerCase();c=="a"&&(u=0,a==12&&(a=0)),c=="p"&&(u=1,a!=12&&(a+=12)),i.start.isCertain("meridiem")||(u==0?(i.start.imply("meridiem",0),i.start.get("hour")==12&&i.start.assign("hour",0)):(i.start.imply("meridiem",1),i.start.get("hour")!=12&&i.start.assign("hour",i.start.get("hour")+12)))}else if(t[na]){let d=t[na][0];d=="\u65E9"?(u=0,a==12&&(a=0)):d=="\u665A"&&(u=1,a!=12&&(a+=12))}else if(t[ia]){let d=t[ia][0];d=="\u4E0A"||d=="\u65E9"||d=="\u51CC"?(u=0,a==12&&(a=0)):(d=="\u4E0B"||d=="\u665A")&&(u=1,a!=12&&(a+=12))}else if(t[aa]){let d=t[aa][0];d=="\u4E0A"||d=="\u65E9"||d=="\u51CC"?(u=0,a==12&&(a=0)):(d=="\u4E0B"||d=="\u665A")&&(u=1,a!=12&&(a+=12))}return i.text=i.text+t[0],i.end.assign("hour",a),i.end.assign("minute",o),u>=0?i.end.assign("meridiem",u):i.start.isCertain("meridiem")&&i.start.get("meridiem")==1&&i.start.get("hour")>a?i.end.imply("meridiem",0):a>12&&i.end.imply("meridiem",1),i.end.date().getTime()<i.start.date().getTime()&&i.end.imply("day",i.end.get("day")+1),i}};Oi.default=Rc});var fg=h(Ai=>{"use strict";var kD=Ai&&Ai.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Ai,"__esModule",{value:!0});var ND=kD(K()),CD=R(),dg=gn(),xD=new RegExp("(?:\u661F\u671F|\u793C\u62DC|\u5468)(?<weekday>"+Object.keys(dg.WEEKDAY_OFFSET).join("|")+")"),wc=class extends CD.AbstractParserWithWordBoundaryChecking{innerPattern(){return xD}innerExtract(e,t){let n=e.createParsingResult(t.index,t[0]),i=t.groups.weekday,s=dg.WEEKDAY_OFFSET[i];if(s===void 0)return null;let a=ND.default(e.refDate),o=!1,u=a.day();return Math.abs(s-7-u)<Math.abs(s-u)?a=a.day(s-7):Math.abs(s+7-u)<Math.abs(s-u)?a=a.day(s+7):a=a.day(s),n.start.assign("weekday",s),o?(n.start.assign("day",a.date()),n.start.assign("month",a.month()+1),n.start.assign("year",a.year())):(n.start.imply("day",a.date()),n.start.imply("month",a.month()+1),n.start.imply("year",a.year())),n}};Ai.default=wc});var pg=h(ki=>{"use strict";var SD=ki&&ki.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(ki,"__esModule",{value:!0});var ID=SD(At()),Mc=class extends ID.default{patternBetween(){return/^\s*(至|到|-|~|～|－|ー)\s*$/i}};ki.default=Mc});var hg=h(Ni=>{"use strict";var UD=Ni&&Ni.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Ni,"__esModule",{value:!0});var FD=UD(jt()),Dc=class extends FD.default{patternBetween(){return/^\s*$/i}};Ni.default=Dc});var mg=h(ve=>{"use strict";var Zt=ve&&ve.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(ve,"__esModule",{value:!0});ve.createConfiguration=ve.createCasualConfiguration=ve.parseDate=ve.parse=ve.strict=ve.casual=ve.hans=void 0;var Pc=yt(),qD=Zt(Ns()),WD=Bt(),LD=Zt(ng()),YD=Zt(sg()),$D=Zt(og()),jD=Zt(lg()),BD=Zt(cg()),GD=Zt(fg()),HD=Zt(pg()),zD=Zt(hg());ve.hans=new Pc.Chrono(Oc());ve.casual=new Pc.Chrono(Oc());ve.strict=new Pc.Chrono(Ac());function KD(r,e,t){return ve.casual.parse(r,e,t)}ve.parse=KD;function VD(r,e,t){return ve.casual.parseDate(r,e,t)}ve.parseDate=VD;function Oc(){let r=Ac();return r.parsers.unshift(new LD.default),r}ve.createCasualConfiguration=Oc;function Ac(){let r=WD.includeCommonConfiguration({parsers:[new YD.default,new jD.default,new GD.default,new BD.default,new $D.default],refiners:[new HD.default,new zD.default]});return r.refiners=r.refiners.filter(e=>!(e instanceof qD.default)),r}ve.createConfiguration=Ac});var gg=h(Je=>{"use strict";var yg=Je&&Je.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t),Object.defineProperty(r,n,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),ZD=Je&&Je.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),XD=Je&&Je.__exportStar||function(r,e){for(var t in r)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&yg(e,r,t)},QD=Je&&Je.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&yg(e,r,t);return ZD(e,r),e};Object.defineProperty(Je,"__esModule",{value:!0});Je.hans=void 0;XD(Jy(),Je);Je.hans=QD(mg())});var Ke=h(F=>{"use strict";Object.defineProperty(F,"__esModule",{value:!0});F.parseTimeUnits=F.TIME_UNITS_PATTERN=F.parseYear=F.YEAR_PATTERN=F.parseOrdinalNumberPattern=F.ORDINAL_NUMBER_PATTERN=F.parseNumberPattern=F.NUMBER_PATTERN=F.TIME_UNIT_DICTIONARY=F.ORDINAL_WORD_DICTIONARY=F.INTEGER_WORD_DICTIONARY=F.MONTH_DICTIONARY=F.FULL_MONTH_NAME_DICTIONARY=F.WEEKDAY_DICTIONARY=F.REGEX_PARTS=void 0;var la=Q(),JD=Se();F.REGEX_PARTS={leftBoundary:"([^\\p{L}\\p{N}_]|^)",rightBoundary:"(?=[^\\p{L}\\p{N}_]|$)",flags:"iu"};F.WEEKDAY_DICTIONARY={\u0432\u043E\u0441\u043A\u0440\u0435\u0441\u0435\u043D\u044C\u0435:0,\u0432\u043E\u0441\u043A\u0440\u0435\u0441\u0435\u043D\u044C\u044F:0,\u0432\u0441\u043A:0,"\u0432\u0441\u043A.":0,\u043F\u043E\u043D\u0435\u0434\u0435\u043B\u044C\u043D\u0438\u043A:1,\u043F\u043E\u043D\u0435\u0434\u0435\u043B\u044C\u043D\u0438\u043A\u0430:1,\u043F\u043D:1,"\u043F\u043D.":1,\u0432\u0442\u043E\u0440\u043D\u0438\u043A:2,\u0432\u0442\u043E\u0440\u043D\u0438\u043A\u0430:2,\u0432\u0442:2,"\u0432\u0442.":2,\u0441\u0440\u0435\u0434\u0430:3,\u0441\u0440\u0435\u0434\u044B:3,\u0441\u0440\u0435\u0434\u0443:3,\u0441\u0440:3,"\u0441\u0440.":3,\u0447\u0435\u0442\u0432\u0435\u0440\u0433:4,\u0447\u0435\u0442\u0432\u0435\u0440\u0433\u0430:4,\u0447\u0442:4,"\u0447\u0442.":4,\u043F\u044F\u0442\u043D\u0438\u0446\u0430:5,\u043F\u044F\u0442\u043D\u0438\u0446\u0443:5,\u043F\u044F\u0442\u043D\u0438\u0446\u044B:5,\u043F\u0442:5,"\u043F\u0442.":5,\u0441\u0443\u0431\u0431\u043E\u0442\u0430:6,\u0441\u0443\u0431\u0431\u043E\u0442\u0443:6,\u0441\u0443\u0431\u0431\u043E\u0442\u044B:6,\u0441\u0431:6,"\u0441\u0431.":6};F.FULL_MONTH_NAME_DICTIONARY={\u044F\u043D\u0432\u0430\u0440\u044C:1,\u044F\u043D\u0432\u0430\u0440\u044F:1,\u044F\u043D\u0432\u0430\u0440\u0435:1,\u0444\u0435\u0432\u0440\u044F\u043B\u044C:2,\u0444\u0435\u0432\u0440\u044F\u043B\u044F:2,\u0444\u0435\u0432\u0440\u044F\u043B\u0435:2,\u043C\u0430\u0440\u0442:3,\u043C\u0430\u0440\u0442\u0430:3,\u043C\u0430\u0440\u0442\u0435:3,\u0430\u043F\u0440\u0435\u043B\u044C:4,\u0430\u043F\u0440\u0435\u043B\u044F:4,\u0430\u043F\u0440\u0435\u043B\u0435:4,\u043C\u0430\u0439:5,\u043C\u0430\u044F:5,\u043C\u0430\u0435:5,\u0438\u044E\u043D\u044C:6,\u0438\u044E\u043D\u044F:6,\u0438\u044E\u043D\u0435:6,\u0438\u044E\u043B\u044C:7,\u0438\u044E\u043B\u044F:7,\u0438\u044E\u043B\u0435:7,\u0430\u0432\u0433\u0443\u0441\u0442:8,\u0430\u0432\u0433\u0443\u0441\u0442\u0430:8,\u0430\u0432\u0433\u0443\u0441\u0442\u0435:8,\u0441\u0435\u043D\u0442\u044F\u0431\u0440\u044C:9,\u0441\u0435\u043D\u0442\u044F\u0431\u0440\u044F:9,\u0441\u0435\u043D\u0442\u044F\u0431\u0440\u0435:9,\u043E\u043A\u0442\u044F\u0431\u0440\u044C:10,\u043E\u043A\u0442\u044F\u0431\u0440\u044F:10,\u043E\u043A\u0442\u044F\u0431\u0440\u0435:10,\u043D\u043E\u044F\u0431\u0440\u044C:11,\u043D\u043E\u044F\u0431\u0440\u044F:11,\u043D\u043E\u044F\u0431\u0440\u0435:11,\u0434\u0435\u043A\u0430\u0431\u0440\u044C:12,\u0434\u0435\u043A\u0430\u0431\u0440\u044F:12,\u0434\u0435\u043A\u0430\u0431\u0440\u0435:12};F.MONTH_DICTIONARY=Object.assign(Object.assign({},F.FULL_MONTH_NAME_DICTIONARY),{\u044F\u043D\u0432:1,"\u044F\u043D\u0432.":1,\u0444\u0435\u0432:2,"\u0444\u0435\u0432.":2,\u043C\u0430\u0440:3,"\u043C\u0430\u0440.":3,\u0430\u043F\u0440:4,"\u0430\u043F\u0440.":4,\u0430\u0432\u0433:8,"\u0430\u0432\u0433.":8,\u0441\u0435\u043D:9,"\u0441\u0435\u043D.":9,\u043E\u043A\u0442:10,"\u043E\u043A\u0442.":10,\u043D\u043E\u044F:11,"\u043D\u043E\u044F.":11,\u0434\u0435\u043A:12,"\u0434\u0435\u043A.":12});F.INTEGER_WORD_DICTIONARY={\u043E\u0434\u0438\u043D:1,\u043E\u0434\u043D\u0430:1,\u043E\u0434\u043D\u043E\u0439:1,\u043E\u0434\u043D\u0443:1,\u0434\u0432\u0435:2,\u0434\u0432\u0430:2,\u0434\u0432\u0443\u0445:2,\u0442\u0440\u0438:3,\u0442\u0440\u0435\u0445:3,\u0442\u0440\u0451\u0445:3,\u0447\u0435\u0442\u044B\u0440\u0435:4,\u0447\u0435\u0442\u044B\u0440\u0435\u0445:4,\u0447\u0435\u0442\u044B\u0440\u0451\u0445:4,\u043F\u044F\u0442\u044C:5,\u043F\u044F\u0442\u0438:5,\u0448\u0435\u0441\u0442\u044C:6,\u0448\u0435\u0441\u0442\u0438:6,\u0441\u0435\u043C\u044C:7,\u0441\u0435\u043C\u0438:7,\u0432\u043E\u0441\u0435\u043C\u044C:8,\u0432\u043E\u0441\u0435\u043C\u044C\u043C\u0438:8,\u0434\u0435\u0432\u044F\u0442\u044C:9,\u0434\u0435\u0432\u044F\u0442\u0438:9,\u0434\u0435\u0441\u044F\u0442\u044C:10,\u0434\u0435\u0441\u044F\u0442\u0438:10,\u043E\u0434\u0438\u043D\u043D\u0430\u0434\u0446\u0430\u0442\u044C:11,\u043E\u0434\u0438\u043D\u043D\u0430\u0434\u0446\u0430\u0442\u0438:11,\u0434\u0432\u0435\u043D\u0430\u0434\u0446\u0430\u0442\u044C:12,\u0434\u0432\u0435\u043D\u0430\u0434\u0446\u0430\u0442\u0438:12};F.ORDINAL_WORD_DICTIONARY={\u043F\u0435\u0440\u0432\u043E\u0435:1,\u043F\u0435\u0440\u0432\u043E\u0433\u043E:1,\u0432\u0442\u043E\u0440\u043E\u0435:2,\u0432\u0442\u043E\u0440\u043E\u0433\u043E:2,\u0442\u0440\u0435\u0442\u044C\u0435:3,\u0442\u0440\u0435\u0442\u044C\u0435\u0433\u043E:3,\u0447\u0435\u0442\u0432\u0435\u0440\u0442\u043E\u0435:4,\u0447\u0435\u0442\u0432\u0435\u0440\u0442\u043E\u0433\u043E:4,\u043F\u044F\u0442\u043E\u0435:5,\u043F\u044F\u0442\u043E\u0433\u043E:5,\u0448\u0435\u0441\u0442\u043E\u0435:6,\u0448\u0435\u0441\u0442\u043E\u0433\u043E:6,\u0441\u0435\u0434\u044C\u043C\u043E\u0435:7,\u0441\u0435\u0434\u044C\u043C\u043E\u0433\u043E:7,\u0432\u043E\u0441\u044C\u043C\u043E\u0435:8,\u0432\u043E\u0441\u044C\u043C\u043E\u0433\u043E:8,\u0434\u0435\u0432\u044F\u0442\u043E\u0435:9,\u0434\u0435\u0432\u044F\u0442\u043E\u0433\u043E:9,\u0434\u0435\u0441\u044F\u0442\u043E\u0435:10,\u0434\u0435\u0441\u044F\u0442\u043E\u0433\u043E:10,\u043E\u0434\u0438\u043D\u043D\u0430\u0434\u0446\u0430\u0442\u043E\u0435:11,\u043E\u0434\u0438\u043D\u043D\u0430\u0434\u0446\u0430\u0442\u043E\u0433\u043E:11,\u0434\u0432\u0435\u043D\u0430\u0434\u0446\u0430\u0442\u043E\u0435:12,\u0434\u0432\u0435\u043D\u0430\u0434\u0446\u0430\u0442\u043E\u0433\u043E:12,\u0442\u0440\u0438\u043D\u0430\u0434\u0446\u0430\u0442\u043E\u0435:13,\u0442\u0440\u0438\u043D\u0430\u0434\u0446\u0430\u0442\u043E\u0433\u043E:13,\u0447\u0435\u0442\u044B\u0440\u043D\u0430\u0434\u0446\u0430\u0442\u043E\u0435:14,\u0447\u0435\u0442\u044B\u0440\u043D\u0430\u0434\u0446\u0430\u0442\u043E\u0433\u043E:14,\u043F\u044F\u0442\u043D\u0430\u0434\u0446\u0430\u0442\u043E\u0435:15,\u043F\u044F\u0442\u043D\u0430\u0434\u0446\u0430\u0442\u043E\u0433\u043E:15,\u0448\u0435\u0441\u0442\u043D\u0430\u0434\u0446\u0430\u0442\u043E\u0435:16,\u0448\u0435\u0441\u0442\u043D\u0430\u0434\u0446\u0430\u0442\u043E\u0433\u043E:16,\u0441\u0435\u043C\u043D\u0430\u0434\u0446\u0430\u0442\u043E\u0435:17,\u0441\u0435\u043C\u043D\u0430\u0434\u0446\u0430\u0442\u043E\u0433\u043E:17,\u0432\u043E\u0441\u0435\u043C\u043D\u0430\u0434\u0446\u0430\u0442\u043E\u0435:18,\u0432\u043E\u0441\u0435\u043C\u043D\u0430\u0434\u0446\u0430\u0442\u043E\u0433\u043E:18,\u0434\u0435\u0432\u044F\u0442\u043D\u0430\u0434\u0446\u0430\u0442\u043E\u0435:19,\u0434\u0435\u0432\u044F\u0442\u043D\u0430\u0434\u0446\u0430\u0442\u043E\u0433\u043E:19,\u0434\u0432\u0430\u0434\u0446\u0430\u0442\u043E\u0435:20,\u0434\u0432\u0430\u0434\u0446\u0430\u0442\u043E\u0433\u043E:20,"\u0434\u0432\u0430\u0434\u0446\u0430\u0442\u044C \u043F\u0435\u0440\u0432\u043E\u0435":21,"\u0434\u0432\u0430\u0434\u0446\u0430\u0442\u044C \u043F\u0435\u0440\u0432\u043E\u0433\u043E":21,"\u0434\u0432\u0430\u0434\u0446\u0430\u0442\u044C \u0432\u0442\u043E\u0440\u043E\u0435":22,"\u0434\u0432\u0430\u0434\u0446\u0430\u0442\u044C \u0432\u0442\u043E\u0440\u043E\u0433\u043E":22,"\u0434\u0432\u0430\u0434\u0446\u0430\u0442\u044C \u0442\u0440\u0435\u0442\u044C\u0435":23,"\u0434\u0432\u0430\u0434\u0446\u0430\u0442\u044C \u0442\u0440\u0435\u0442\u044C\u0435\u0433\u043E":23,"\u0434\u0432\u0430\u0434\u0446\u0430\u0442\u044C \u0447\u0435\u0442\u0432\u0435\u0440\u0442\u043E\u0435":24,"\u0434\u0432\u0430\u0434\u0446\u0430\u0442\u044C \u0447\u0435\u0442\u0432\u0435\u0440\u0442\u043E\u0433\u043E":24,"\u0434\u0432\u0430\u0434\u0446\u0430\u0442\u044C \u043F\u044F\u0442\u043E\u0435":25,"\u0434\u0432\u0430\u0434\u0446\u0430\u0442\u044C \u043F\u044F\u0442\u043E\u0433\u043E":25,"\u0434\u0432\u0430\u0434\u0446\u0430\u0442\u044C \u0448\u0435\u0441\u0442\u043E\u0435":26,"\u0434\u0432\u0430\u0434\u0446\u0430\u0442\u044C \u0448\u0435\u0441\u0442\u043E\u0433\u043E":26,"\u0434\u0432\u0430\u0434\u0446\u0430\u0442\u044C \u0441\u0435\u0434\u044C\u043C\u043E\u0435":27,"\u0434\u0432\u0430\u0434\u0446\u0430\u0442\u044C \u0441\u0435\u0434\u044C\u043C\u043E\u0433\u043E":27,"\u0434\u0432\u0430\u0434\u0446\u0430\u0442\u044C \u0432\u043E\u0441\u044C\u043C\u043E\u0435":28,"\u0434\u0432\u0430\u0434\u0446\u0430\u0442\u044C \u0432\u043E\u0441\u044C\u043C\u043E\u0433\u043E":28,"\u0434\u0432\u0430\u0434\u0446\u0430\u0442\u044C \u0434\u0435\u0432\u044F\u0442\u043E\u0435":29,"\u0434\u0432\u0430\u0434\u0446\u0430\u0442\u044C \u0434\u0435\u0432\u044F\u0442\u043E\u0433\u043E":29,\u0442\u0440\u0438\u0434\u0446\u0430\u0442\u043E\u0435:30,\u0442\u0440\u0438\u0434\u0446\u0430\u0442\u043E\u0433\u043E:30,"\u0442\u0440\u0438\u0434\u0446\u0430\u0442\u044C \u043F\u0435\u0440\u0432\u043E\u0435":31,"\u0442\u0440\u0438\u0434\u0446\u0430\u0442\u044C \u043F\u0435\u0440\u0432\u043E\u0433\u043E":31};F.TIME_UNIT_DICTIONARY={\u0441\u0435\u043A:"second",\u0441\u0435\u043A\u0443\u043D\u0434\u0430:"second",\u0441\u0435\u043A\u0443\u043D\u0434:"second",\u0441\u0435\u043A\u0443\u043D\u0434\u044B:"second",\u0441\u0435\u043A\u0443\u043D\u0434\u0443:"second",\u0441\u0435\u043A\u0443\u043D\u0434\u043E\u0447\u043A\u0430:"second",\u0441\u0435\u043A\u0443\u043D\u0434\u043E\u0447\u043A\u0438:"second",\u0441\u0435\u043A\u0443\u043D\u0434\u043E\u0447\u0435\u043A:"second",\u0441\u0435\u043A\u0443\u043D\u0434\u043E\u0447\u043A\u0443:"second",\u043C\u0438\u043D:"minute",\u043C\u0438\u043D\u0443\u0442\u0430:"minute",\u043C\u0438\u043D\u0443\u0442:"minute",\u043C\u0438\u043D\u0443\u0442\u044B:"minute",\u043C\u0438\u043D\u0443\u0442\u0443:"minute",\u043C\u0438\u043D\u0443\u0442\u043E\u043A:"minute",\u043C\u0438\u043D\u0443\u0442\u043A\u0438:"minute",\u043C\u0438\u043D\u0443\u0442\u043A\u0443:"minute",\u0447\u0430\u0441:"hour",\u0447\u0430\u0441\u043E\u0432:"hour",\u0447\u0430\u0441\u0430:"hour",\u0447\u0430\u0441\u0443:"hour",\u0447\u0430\u0441\u0438\u043A\u043E\u0432:"hour",\u0447\u0430\u0441\u0438\u043A\u0430:"hour",\u0447\u0430\u0441\u0438\u043A\u0435:"hour",\u0447\u0430\u0441\u0438\u043A:"hour",\u0434\u0435\u043D\u044C:"d",\u0434\u043D\u044F:"d",\u0434\u043D\u0435\u0439:"d",\u0441\u0443\u0442\u043E\u043A:"d",\u0441\u0443\u0442\u043A\u0438:"d",\u043D\u0435\u0434\u0435\u043B\u044F:"week",\u043D\u0435\u0434\u0435\u043B\u0435:"week",\u043D\u0435\u0434\u0435\u043B\u0438:"week",\u043D\u0435\u0434\u0435\u043B\u044E:"week",\u043D\u0435\u0434\u0435\u043B\u044C:"week",\u043D\u0435\u0434\u0435\u043B\u044C\u043A\u0435:"week",\u043D\u0435\u0434\u0435\u043B\u044C\u043A\u0438:"week",\u043D\u0435\u0434\u0435\u043B\u0435\u043A:"week",\u043C\u0435\u0441\u044F\u0446:"month",\u043C\u0435\u0441\u044F\u0446\u0435:"month",\u043C\u0435\u0441\u044F\u0446\u0435\u0432:"month",\u043C\u0435\u0441\u044F\u0446\u0430:"month",\u043A\u0432\u0430\u0440\u0442\u0430\u043B:"quarter",\u043A\u0432\u0430\u0440\u0442\u0430\u043B\u0435:"quarter",\u043A\u0432\u0430\u0440\u0442\u0430\u043B\u043E\u0432:"quarter",\u0433\u043E\u0434:"year",\u0433\u043E\u0434\u0430:"year",\u0433\u043E\u0434\u0443:"year",\u0433\u043E\u0434\u043E\u0432:"year",\u043B\u0435\u0442:"year",\u0433\u043E\u0434\u0438\u043A:"year",\u0433\u043E\u0434\u0438\u043A\u0430:"year",\u0433\u043E\u0434\u0438\u043A\u043E\u0432:"year"};F.NUMBER_PATTERN=`(?:${la.matchAnyPattern(F.INTEGER_WORD_DICTIONARY)}|[0-9]+|[0-9]+\\.[0-9]+|\u043F\u043E\u043B|\u043D\u0435\u0441\u043A\u043E\u043B\u044C\u043A\u043E|\u043F\u0430\u0440(?:\u044B|\u0443)|\\s{0,3})`;function Tg(r){let e=r.toLowerCase();return F.INTEGER_WORD_DICTIONARY[e]!==void 0?F.INTEGER_WORD_DICTIONARY[e]:e.match(/несколько/)?3:e.match(/пол/)?.5:e.match(/пар/)?2:e===""?1:parseFloat(e)}F.parseNumberPattern=Tg;F.ORDINAL_NUMBER_PATTERN=`(?:${la.matchAnyPattern(F.ORDINAL_WORD_DICTIONARY)}|[0-9]{1,2}(?:\u0433\u043E|\u043E\u0433\u043E|\u0435|\u043E\u0435)?)`;function eP(r){let e=r.toLowerCase();return F.ORDINAL_WORD_DICTIONARY[e]!==void 0?F.ORDINAL_WORD_DICTIONARY[e]:(e=e.replace(/(?:st|nd|rd|th)$/i,""),parseInt(e))}F.parseOrdinalNumberPattern=eP;var kc="(?:\\s+(?:\u0433\u043E\u0434\u0443|\u0433\u043E\u0434\u0430|\u0433\u043E\u0434|\u0433|\u0433.))?";F.YEAR_PATTERN=`(?:[1-9][0-9]{0,3}${kc}\\s*(?:\u043D.\u044D.|\u0434\u043E \u043D.\u044D.|\u043D. \u044D.|\u0434\u043E \u043D. \u044D.)|[1-2][0-9]{3}${kc}|[5-9][0-9]${kc})`;function tP(r){if(/(год|года|г|г.)/i.test(r)&&(r=r.replace(/(год|года|г|г.)/i,"")),/(до н.э.|до н. э.)/i.test(r))return r=r.replace(/(до н.э.|до н. э.)/i,""),-parseInt(r);if(/(н. э.|н.э.)/i.test(r))return r=r.replace(/(н. э.|н.э.)/i,""),parseInt(r);let e=parseInt(r);return JD.findMostLikelyADYear(e)}F.parseYear=tP;var bg=`(${F.NUMBER_PATTERN})\\s{0,3}(${la.matchAnyPattern(F.TIME_UNIT_DICTIONARY)})`,_g=new RegExp(bg,"i");F.TIME_UNITS_PATTERN=la.repeatedTimeunitPattern("(?:(?:\u043E\u043A\u043E\u043B\u043E|\u043F\u0440\u0438\u043C\u0435\u0440\u043D\u043E)\\s{0,3})?",bg);function rP(r){let e={},t=r,n=_g.exec(t);for(;n;)nP(e,n),t=t.substring(n[0].length).trim(),n=_g.exec(t);return e}F.parseTimeUnits=rP;function nP(r,e){let t=Tg(e[1]),n=F.TIME_UNIT_DICTIONARY[e[2].toLowerCase()];r[n]=t}});var Eg=h(Cc=>{"use strict";Object.defineProperty(Cc,"__esModule",{value:!0});var Ci=Ke(),iP=he(),sP=R(),vg=`(?:(?:\u043E\u043A\u043E\u043B\u043E|\u043F\u0440\u0438\u043C\u0435\u0440\u043D\u043E)\\s*(?:~\\s*)?)?(${Ci.TIME_UNITS_PATTERN})${Ci.REGEX_PARTS.rightBoundary}`,aP=new RegExp(`(?:\u0432 \u0442\u0435\u0447\u0435\u043D\u0438\u0435|\u0432 \u0442\u0435\u0447\u0435\u043D\u0438\u0438)\\s*${vg}`,Ci.REGEX_PARTS.flags),oP=new RegExp(vg,"i"),Nc=class extends sP.AbstractParserWithWordBoundaryChecking{patternLeftBoundary(){return Ci.REGEX_PARTS.leftBoundary}innerPattern(e){return e.option.forwardDate?oP:aP}innerExtract(e,t){let n=Ci.parseTimeUnits(t[1]);return iP.ParsingComponents.createRelativeFromReference(e.reference,n)}};Cc.default=Nc});var Pg=h(Sc=>{"use strict";Object.defineProperty(Sc,"__esModule",{value:!0});var uP=Se(),xi=Ke(),Dg=Ke(),ca=Ke(),lP=Q(),cP=R(),dP=new RegExp(`(?:\u0441)?\\s*(${ca.ORDINAL_NUMBER_PATTERN})(?:\\s{0,3}(?:\u043F\u043E|-|\u2013|\u0434\u043E)?\\s{0,3}(${ca.ORDINAL_NUMBER_PATTERN}))?(?:-|\\/|\\s{0,3}(?:of)?\\s{0,3})(${lP.matchAnyPattern(xi.MONTH_DICTIONARY)})(?:(?:-|\\/|,?\\s{0,3})(${Dg.YEAR_PATTERN}(?![^\\s]\\d)))?${xi.REGEX_PARTS.rightBoundary}`,xi.REGEX_PARTS.flags),Rg=1,wg=2,fP=3,Mg=4,xc=class extends cP.AbstractParserWithWordBoundaryChecking{patternLeftBoundary(){return xi.REGEX_PARTS.leftBoundary}innerPattern(){return dP}innerExtract(e,t){let n=e.createParsingResult(t.index,t[0]),i=xi.MONTH_DICTIONARY[t[fP].toLowerCase()],s=ca.parseOrdinalNumberPattern(t[Rg]);if(s>31)return t.index=t.index+t[Rg].length,null;if(n.start.assign("month",i),n.start.assign("day",s),t[Mg]){let a=Dg.parseYear(t[Mg]);n.start.assign("year",a)}else{let a=uP.findYearClosestToRef(e.refDate,s,i);n.start.imply("year",a)}if(t[wg]){let a=ca.parseOrdinalNumberPattern(t[wg]);n.end=n.start.clone(),n.end.assign("day",a)}return n}};Sc.default=xc});var kg=h(Uc=>{"use strict";Object.defineProperty(Uc,"__esModule",{value:!0});var Si=Ke(),pP=Se(),hP=Q(),Ag=Ke(),mP=R(),yP=new RegExp(`((?:\u0432)\\s*)?(${hP.matchAnyPattern(Si.MONTH_DICTIONARY)})\\s*(?:[,-]?\\s*(${Ag.YEAR_PATTERN})?)?(?=[^\\s\\w]|\\s+[^0-9]|\\s+$|$)`,Si.REGEX_PARTS.flags),gP=2,Og=3,Ic=class extends mP.AbstractParserWithWordBoundaryChecking{patternLeftBoundary(){return Si.REGEX_PARTS.leftBoundary}innerPattern(){return yP}innerExtract(e,t){let n=t[gP].toLowerCase();if(t[0].length<=3&&!Si.FULL_MONTH_NAME_DICTIONARY[n])return null;let i=e.createParsingResult(t.index,t.index+t[0].length);i.start.imply("day",1);let s=Si.MONTH_DICTIONARY[n];if(i.start.assign("month",s),t[Og]){let a=Ag.parseYear(t[Og]);i.start.assign("year",a)}else{let a=pP.findYearClosestToRef(e.refDate,1,s);i.start.imply("year",a)}return i}};Uc.default=Ic});var Cg=h(qc=>{"use strict";Object.defineProperty(qc,"__esModule",{value:!0});var da=Ee(),_P=Ur(),Ng=Ke(),Fc=class extends _P.AbstractTimeExpressionParser{constructor(e){super(e)}patternFlags(){return Ng.REGEX_PARTS.flags}primaryPatternLeftBoundary(){return"(^|\\s|T|(?:[^\\p{L}\\p{N}_]))"}followingPhase(){return"\\s*(?:\\-|\\\u2013|\\~|\\\u301C|\u0434\u043E|\u0438|\u043F\u043E|\\?)\\s*"}primaryPrefix(){return"(?:(?:\u0432|\u0441)\\s*)??"}primarySuffix(){return`(?:\\s*(?:\u0443\u0442\u0440\u0430|\u0432\u0435\u0447\u0435\u0440\u0430|\u043F\u043E\u0441\u043B\u0435 \u043F\u043E\u043B\u0443\u0434\u043D\u044F))?(?!\\/)${Ng.REGEX_PARTS.rightBoundary}`}extractPrimaryTimeComponents(e,t){let n=super.extractPrimaryTimeComponents(e,t);if(n){if(t[0].endsWith("\u0432\u0435\u0447\u0435\u0440\u0430")){let i=n.get("hour");i>=6&&i<12?(n.assign("hour",n.get("hour")+12),n.assign("meridiem",da.Meridiem.PM)):i<6&&n.assign("meridiem",da.Meridiem.AM)}if(t[0].endsWith("\u043F\u043E\u0441\u043B\u0435 \u043F\u043E\u043B\u0443\u0434\u043D\u044F")){n.assign("meridiem",da.Meridiem.PM);let i=n.get("hour");i>=0&&i<=6&&n.assign("hour",n.get("hour")+12)}t[0].endsWith("\u0443\u0442\u0440\u0430")&&(n.assign("meridiem",da.Meridiem.AM),n.get("hour")<12&&n.assign("hour",n.get("hour")))}return n}};qc.default=Fc});var xg=h(Lc=>{"use strict";Object.defineProperty(Lc,"__esModule",{value:!0});var fa=Ke(),TP=he(),bP=R(),vP=st(),EP=new RegExp(`(${fa.TIME_UNITS_PATTERN})\\s{0,5}\u043D\u0430\u0437\u0430\u0434(?=(?:\\W|$))`,fa.REGEX_PARTS.flags),Wc=class extends bP.AbstractParserWithWordBoundaryChecking{patternLeftBoundary(){return fa.REGEX_PARTS.leftBoundary}innerPattern(){return EP}innerExtract(e,t){let n=fa.parseTimeUnits(t[1]),i=vP.reverseTimeUnits(n);return TP.ParsingComponents.createRelativeFromReference(e.reference,i)}};Lc.default=Wc});var Sg=h(Ii=>{"use strict";var RP=Ii&&Ii.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Ii,"__esModule",{value:!0});var wP=RP(At()),Yc=class extends wP.default{patternBetween(){return/^\s*(и до|и по|до|по|-)\s*$/i}};Ii.default=Yc});var Ig=h(Ui=>{"use strict";var MP=Ui&&Ui.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Ui,"__esModule",{value:!0});var DP=MP(jt()),$c=class extends DP.default{patternBetween(){return new RegExp("^\\s*(T|\u0432|,|-)?\\s*$")}};Ui.default=$c});var Ug=h(Xt=>{"use strict";var PP=Xt&&Xt.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t),Object.defineProperty(r,n,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),OP=Xt&&Xt.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),AP=Xt&&Xt.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&PP(e,r,t);return OP(e,r),e};Object.defineProperty(Xt,"__esModule",{value:!0});var kP=R(),Fi=AP(Ht()),jc=Ke(),NP=new RegExp(`(?:\u0441|\u0441\u043E)?\\s*(\u0441\u0435\u0433\u043E\u0434\u043D\u044F|\u0432\u0447\u0435\u0440\u0430|\u0437\u0430\u0432\u0442\u0440\u0430|\u043F\u043E\u0441\u043B\u0435\u0437\u0430\u0432\u0442\u0440\u0430|\u043F\u043E\u0437\u0430\u0432\u0447\u0435\u0440\u0430)${jc.REGEX_PARTS.rightBoundary}`,jc.REGEX_PARTS.flags),Bc=class extends kP.AbstractParserWithWordBoundaryChecking{patternLeftBoundary(){return jc.REGEX_PARTS.leftBoundary}innerPattern(e){return NP}innerExtract(e,t){let n=t[1].toLowerCase(),i=e.createParsingComponents();switch(n){case"\u0441\u0435\u0433\u043E\u0434\u043D\u044F":return Fi.today(e.reference);case"\u0432\u0447\u0435\u0440\u0430":return Fi.yesterday(e.reference);case"\u0437\u0430\u0432\u0442\u0440\u0430":return Fi.tomorrow(e.reference);case"\u043F\u043E\u0441\u043B\u0435\u0437\u0430\u0432\u0442\u0440\u0430":return Fi.theDayAfter(e.reference,2);case"\u043F\u043E\u0437\u0430\u0432\u0447\u0435\u0440\u0430":return Fi.theDayBefore(e.reference,2)}return i}};Xt.default=Bc});var Fg=h(vt=>{"use strict";var CP=vt&&vt.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t),Object.defineProperty(r,n,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),xP=vt&&vt.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),SP=vt&&vt.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&CP(e,r,t);return xP(e,r),e},IP=vt&&vt.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(vt,"__esModule",{value:!0});var UP=R(),Br=SP(Ht()),FP=it(),qP=IP(K()),Gc=Ke(),WP=new RegExp(`(\u0441\u0435\u0439\u0447\u0430\u0441|\u043F\u0440\u043E\u0448\u043B\u044B\u043C\\s*\u0432\u0435\u0447\u0435\u0440\u043E\u043C|\u043F\u0440\u043E\u0448\u043B\u043E\u0439\\s*\u043D\u043E\u0447\u044C\u044E|\u0441\u043B\u0435\u0434\u0443\u044E\u0449\u0435\u0439\\s*\u043D\u043E\u0447\u044C\u044E|\u0441\u0435\u0433\u043E\u0434\u043D\u044F\\s*\u043D\u043E\u0447\u044C\u044E|\u044D\u0442\u043E\u0439\\s*\u043D\u043E\u0447\u044C\u044E|\u043D\u043E\u0447\u044C\u044E|\u044D\u0442\u0438\u043C \u0443\u0442\u0440\u043E\u043C|\u0443\u0442\u0440\u043E\u043C|\u0443\u0442\u0440\u0430|\u0432\\s*\u043F\u043E\u043B\u0434\u0435\u043D\u044C|\u0432\u0435\u0447\u0435\u0440\u043E\u043C|\u0432\u0435\u0447\u0435\u0440\u0430|\u0432\\s*\u043F\u043E\u043B\u043D\u043E\u0447\u044C)${Gc.REGEX_PARTS.rightBoundary}`,Gc.REGEX_PARTS.flags),Hc=class extends UP.AbstractParserWithWordBoundaryChecking{patternLeftBoundary(){return Gc.REGEX_PARTS.leftBoundary}innerPattern(){return WP}innerExtract(e,t){let n=qP.default(e.refDate),i=t[0].toLowerCase(),s=e.createParsingComponents();if(i==="\u0441\u0435\u0439\u0447\u0430\u0441")return Br.now(e.reference);if(i==="\u0432\u0435\u0447\u0435\u0440\u043E\u043C"||i==="\u0432\u0435\u0447\u0435\u0440\u0430")return Br.evening(e.reference);if(i.endsWith("\u0443\u0442\u0440\u043E\u043C")||i.endsWith("\u0443\u0442\u0440\u0430"))return Br.morning(e.reference);if(i.match(/в\s*полдень/))return Br.noon(e.reference);if(i.match(/прошлой\s*ночью/))return Br.lastNight(e.reference);if(i.match(/прошлым\s*вечером/))return Br.yesterdayEvening(e.reference);if(i.match(/следующей\s*ночью/)){let a=n.hour()<22?1:2;n=n.add(a,"day"),FP.assignSimilarDate(s,n),s.imply("hour",0)}return i.match(/в\s*полночь/)||i.endsWith("\u043D\u043E\u0447\u044C\u044E")?Br.midnight(e.reference):s}};vt.default=Hc});var qg=h(Kc=>{"use strict";Object.defineProperty(Kc,"__esModule",{value:!0});var qi=Ke(),LP=Q(),YP=R(),$P=qr(),jP=new RegExp(`(?:(?:,|\\(|\uFF08)\\s*)?(?:\u0432\\s*?)?(?:(\u044D\u0442\u0443|\u044D\u0442\u043E\u0442|\u043F\u0440\u043E\u0448\u043B\u044B\u0439|\u043F\u0440\u043E\u0448\u043B\u0443\u044E|\u0441\u043B\u0435\u0434\u0443\u044E\u0449\u0438\u0439|\u0441\u043B\u0435\u0434\u0443\u044E\u0449\u0443\u044E|\u0441\u043B\u0435\u0434\u0443\u044E\u0449\u0435\u0433\u043E)\\s*)?(${LP.matchAnyPattern(qi.WEEKDAY_DICTIONARY)})(?:\\s*(?:,|\\)|\uFF09))?(?:\\s*\u043D\u0430\\s*(\u044D\u0442\u043E\u0439|\u043F\u0440\u043E\u0448\u043B\u043E\u0439|\u0441\u043B\u0435\u0434\u0443\u044E\u0449\u0435\u0439)\\s*\u043D\u0435\u0434\u0435\u043B\u0435)?${qi.REGEX_PARTS.rightBoundary}`,qi.REGEX_PARTS.flags),BP=1,GP=2,HP=3,zc=class extends YP.AbstractParserWithWordBoundaryChecking{innerPattern(){return jP}patternLeftBoundary(){return qi.REGEX_PARTS.leftBoundary}innerExtract(e,t){let n=t[GP].toLowerCase(),i=qi.WEEKDAY_DICTIONARY[n],s=t[BP],a=t[HP],o=s||a;o=o||"",o=o.toLowerCase();let u=null;o=="\u043F\u0440\u043E\u0448\u043B\u044B\u0439"||o=="\u043F\u0440\u043E\u0448\u043B\u0443\u044E"||o=="\u043F\u0440\u043E\u0448\u043B\u043E\u0439"?u="last":o=="\u0441\u043B\u0435\u0434\u0443\u044E\u0449\u0438\u0439"||o=="\u0441\u043B\u0435\u0434\u0443\u044E\u0449\u0443\u044E"||o=="\u0441\u043B\u0435\u0434\u0443\u044E\u0449\u0435\u0439"||o=="\u0441\u043B\u0435\u0434\u0443\u044E\u0449\u0435\u0433\u043E"?u="next":(o=="\u044D\u0442\u043E\u0442"||o=="\u044D\u0442\u0443"||o=="\u044D\u0442\u043E\u0439")&&(u="this");let l=$P.toDayJSWeekday(e.refDate,i,u);return e.createParsingComponents().assign("weekday",i).imply("day",l.date()).imply("month",l.month()+1).imply("year",l.year())}};Kc.default=zc});var Lg=h(Li=>{"use strict";var zP=Li&&Li.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Li,"__esModule",{value:!0});var Wi=Ke(),Wg=he(),KP=zP(K()),VP=R(),ZP=Q(),XP=new RegExp(`(\u0432 \u043F\u0440\u043E\u0448\u043B\u043E\u043C|\u043D\u0430 \u043F\u0440\u043E\u0448\u043B\u043E\u0439|\u043D\u0430 \u0441\u043B\u0435\u0434\u0443\u044E\u0449\u0435\u0439|\u0432 \u0441\u043B\u0435\u0434\u0443\u044E\u0449\u0435\u043C|\u043D\u0430 \u044D\u0442\u043E\u0439|\u0432 \u044D\u0442\u043E\u043C)\\s*(${ZP.matchAnyPattern(Wi.TIME_UNIT_DICTIONARY)})(?=\\s*)${Wi.REGEX_PARTS.rightBoundary}`,Wi.REGEX_PARTS.flags),QP=1,JP=2,Vc=class extends VP.AbstractParserWithWordBoundaryChecking{patternLeftBoundary(){return Wi.REGEX_PARTS.leftBoundary}innerPattern(){return XP}innerExtract(e,t){let n=t[QP].toLowerCase(),i=t[JP].toLowerCase(),s=Wi.TIME_UNIT_DICTIONARY[i];if(n=="\u043D\u0430 \u0441\u043B\u0435\u0434\u0443\u044E\u0449\u0435\u0439"||n=="\u0432 \u0441\u043B\u0435\u0434\u0443\u044E\u0449\u0435\u043C"){let u={};return u[s]=1,Wg.ParsingComponents.createRelativeFromReference(e.reference,u)}if(n=="\u0432 \u043F\u0440\u043E\u0448\u043B\u043E\u043C"||n=="\u043D\u0430 \u043F\u0440\u043E\u0448\u043B\u043E\u0439"){let u={};return u[s]=-1,Wg.ParsingComponents.createRelativeFromReference(e.reference,u)}let a=e.createParsingComponents(),o=KP.default(e.reference.instant);return s.match(/week/i)?(o=o.add(-o.get("d"),"d"),a.imply("day",o.date()),a.imply("month",o.month()+1),a.imply("year",o.year())):s.match(/month/i)?(o=o.add(-o.date()+1,"d"),a.imply("day",o.date()),a.assign("year",o.year()),a.assign("month",o.month()+1)):s.match(/year/i)&&(o=o.add(-o.date()+1,"d"),o=o.add(-o.month(),"month"),a.imply("day",o.date()),a.imply("month",o.month()+1),a.assign("year",o.year())),a}};Li.default=Vc});var Yg=h(Xc=>{"use strict";Object.defineProperty(Xc,"__esModule",{value:!0});var Yi=Ke(),eO=he(),tO=R(),rO=st(),nO=new RegExp(`(\u044D\u0442\u0438|\u043F\u043E\u0441\u043B\u0435\u0434\u043D\u0438\u0435|\u043F\u0440\u043E\u0448\u043B\u044B\u0435|\u0441\u043B\u0435\u0434\u0443\u044E\u0449\u0438\u0435|\u043F\u043E\u0441\u043B\u0435|\u0447\u0435\u0440\u0435\u0437|\\+|-)\\s*(${Yi.TIME_UNITS_PATTERN})${Yi.REGEX_PARTS.rightBoundary}`,Yi.REGEX_PARTS.flags),Zc=class extends tO.AbstractParserWithWordBoundaryChecking{patternLeftBoundary(){return Yi.REGEX_PARTS.leftBoundary}innerPattern(){return nO}innerExtract(e,t){let n=t[1].toLowerCase(),i=Yi.parseTimeUnits(t[2]);switch(n){case"\u043F\u043E\u0441\u043B\u0435\u0434\u043D\u0438\u0435":case"\u043F\u0440\u043E\u0448\u043B\u044B\u0435":case"-":i=rO.reverseTimeUnits(i);break}return eO.ParsingComponents.createRelativeFromReference(e.reference,i)}};Xc.default=Zc});var Bg=h(ke=>{"use strict";var et=ke&&ke.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(ke,"__esModule",{value:!0});ke.createConfiguration=ke.createCasualConfiguration=ke.parseDate=ke.parse=ke.strict=ke.casual=void 0;var iO=et(Eg()),sO=et(Pg()),aO=et(kg()),oO=et(Cg()),uO=et(xg()),lO=et(Sg()),cO=et(Ig()),dO=Bt(),fO=et(Ug()),pO=et(Fg()),hO=et(qg()),mO=et(Lg()),$g=yt(),yO=et(Wr()),gO=et(Yg());ke.casual=new $g.Chrono(jg());ke.strict=new $g.Chrono(Qc(!0));function _O(r,e,t){return ke.casual.parse(r,e,t)}ke.parse=_O;function TO(r,e,t){return ke.casual.parseDate(r,e,t)}ke.parseDate=TO;function jg(){let r=Qc(!1);return r.parsers.unshift(new fO.default),r.parsers.unshift(new pO.default),r.parsers.unshift(new aO.default),r.parsers.unshift(new mO.default),r.parsers.unshift(new gO.default),r}ke.createCasualConfiguration=jg;function Qc(r=!0){return dO.includeCommonConfiguration({parsers:[new yO.default(!0),new iO.default,new sO.default,new hO.default,new oO.default(r),new uO.default],refiners:[new cO.default,new lO.default]},r)}ke.createConfiguration=Qc});var Ee=h(L=>{"use strict";var bO=L&&L.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t),Object.defineProperty(r,n,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),vO=L&&L.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),vr=L&&L.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&bO(e,r,t);return vO(e,r),e};Object.defineProperty(L,"__esModule",{value:!0});L.parseDate=L.parse=L.casual=L.strict=L.ru=L.zh=L.nl=L.pt=L.ja=L.fr=L.de=L.Meridiem=L.Chrono=L.en=void 0;var Jc=vr(yu());L.en=Jc;var EO=yt();Object.defineProperty(L,"Chrono",{enumerable:!0,get:function(){return EO.Chrono}});var RO;(function(r){r[r.AM=0]="AM",r[r.PM=1]="PM"})(RO=L.Meridiem||(L.Meridiem={}));var wO=vr(Jh());L.de=wO;var MO=vr(Om());L.fr=MO;var DO=vr(Fm());L.ja=DO;var PO=vr(Jm());L.pt=PO;var OO=vr(Fy());L.nl=OO;var AO=vr(gg());L.zh=AO;var kO=vr(Bg());L.ru=kO;L.strict=Jc.strict;L.casual=Jc.casual;function NO(r,e,t){return L.casual.parse(r,e,t)}L.parse=NO;function CO(r,e,t){return L.casual.parseDate(r,e,t)}L.parseDate=CO});var xt=h(Dr=>{"use strict";Dr.__esModule=!0;var LO;(function(r){r.AND="AND",r.OR="OR",r.XOR="XOR",r.NOT="NOT"})(LO=Dr.Operators||(Dr.Operators={}));var YO;(function(r){r.OPEN_PARENTHESIS="(",r.CLOSE_PARENTHESIS=")"})(YO=Dr.StructuralCharacters||(Dr.StructuralCharacters={}));var $O;(function(r){r.IDENTIFIER="IDENTIFIER",r.OPERATOR="OPERATOR",r.STRUCTURAL_CHARACTER="STRUCTURAL_CHARACTER",r.EOF="EOF",r.COMMENT="COMMENT"})($O=Dr.Tokens||(Dr.Tokens={}))});var fd=h(Ca=>{"use strict";Ca.__esModule=!0;var me=xt();Ca.OPERATOR_PRECEDENCE={NOT:0,XOR:1,AND:2,OR:3};Ca.VALID_TOKENS={identifierOnly:[{name:me.Tokens.IDENTIFIER},{name:me.Tokens.STRUCTURAL_CHARACTER,value:me.StructuralCharacters.OPEN_PARENTHESIS}],identifierOrNot:[{name:me.Tokens.IDENTIFIER},{name:me.Tokens.STRUCTURAL_CHARACTER,value:me.StructuralCharacters.OPEN_PARENTHESIS},{name:me.Tokens.OPERATOR,value:me.Operators.NOT}],binaryOperator:[{name:me.Tokens.OPERATOR,value:me.Operators.AND},{name:me.Tokens.OPERATOR,value:me.Operators.OR},{name:me.Tokens.OPERATOR,value:me.Operators.XOR}],binaryOperatorOrClose:[{name:me.Tokens.OPERATOR,value:me.Operators.AND},{name:me.Tokens.OPERATOR,value:me.Operators.OR},{name:me.Tokens.OPERATOR,value:me.Operators.XOR},{name:me.Tokens.STRUCTURAL_CHARACTER,value:me.StructuralCharacters.CLOSE_PARENTHESIS}]}});var pd=h(tr=>{"use strict";tr.__esModule=!0;var En=xt();tr.STRUCTURAL_CHARACTERS={"(":En.StructuralCharacters.OPEN_PARENTHESIS,")":En.StructuralCharacters.CLOSE_PARENTHESIS};tr.OPERATORS={AND:En.Operators.AND,OR:En.Operators.OR,XOR:En.Operators.XOR,NOT:En.Operators.NOT};tr.SEPARATORS=new Set([32,9,10,13].map(function(r){return String.fromCodePoint(r)}));tr.QUOTED_IDENTIFIER_DELIMITER=String.fromCodePoint(34);tr.COMMENT_DELIMITER=String.fromCodePoint(35);tr.EOL=String.fromCodePoint(10);tr.ESCAPE_CHARACTER=String.fromCodePoint(92)});var t_=h(rr=>{"use strict";var hd=rr&&rr.__assign||function(){return hd=Object.assign||function(r){for(var e,t=1,n=arguments.length;t<n;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=e[i])}return r},hd.apply(this,arguments)};rr.__esModule=!0;var e_=xt(),Gr=pd();rr.createResult=function(r,e,t){return{token:hd({name:r},e!==null?{value:e}:{}),remainingString:t}};rr.getComment=function(r){for(var e=r.length,t=0;t<r.length;t+=1){var n=r[t];if(n===Gr.EOL){e=t;break}}return rr.createResult(e_.Tokens.COMMENT,r.slice(0,e),r.slice(e+1))};rr.getQuotedIdentifier=function(r){for(var e=!1,t="",n=null,i=0;i<r.length;i+=1){var s=r[i];if(n===null)s===Gr.QUOTED_IDENTIFIER_DELIMITER?e?t=t.slice(-1)+Gr.QUOTED_IDENTIFIER_DELIMITER:n=i:(s===Gr.ESCAPE_CHARACTER?e=!0:e=!1,t=t+=s);else{if(!Gr.SEPARATORS.has(s)&&!Gr.STRUCTURAL_CHARACTERS[s])throw new Error("Unexpected character: "+s+" Expected ) character or separator");break}}if(n===null)throw new Error("Unexpected end of expression: expected "+Gr.QUOTED_IDENTIFIER_DELIMITER+" character");return rr.createResult(e_.Tokens.IDENTIFIER,t,r.slice(n+1))}});var r_=h(md=>{"use strict";md.__esModule=!0;var Rn=xt(),tt=pd(),wn=t_();md.lex=function(r){for(var e=null,t=null,n=null,i=0;i<r.length;i+=1){var s=r[i];if(e===null){if(!tt.SEPARATORS.has(s)){var a=tt.STRUCTURAL_CHARACTERS[s];if(a){var o=r[i+1];if(a===Rn.StructuralCharacters.CLOSE_PARENTHESIS&&o&&!tt.SEPARATORS.has(o)&&o!==Rn.StructuralCharacters.CLOSE_PARENTHESIS)throw new Error("Unexpected character: "+o+". A closing parenthesis should be followed by another closing parenthesis or whitespace");return wn.createResult(Rn.Tokens.STRUCTURAL_CHARACTER,tt.STRUCTURAL_CHARACTERS[s],r.slice(i+1))}if(s===tt.QUOTED_IDENTIFIER_DELIMITER)return wn.getQuotedIdentifier(r.slice(i+1));if(s===tt.COMMENT_DELIMITER)return wn.getComment(r.slice(i+1));e=i}}else if(tt.SEPARATORS.has(s)||tt.STRUCTURAL_CHARACTERS[s]){t=i,n=s;break}else if(s===tt.QUOTED_IDENTIFIER_DELIMITER||s===tt.COMMENT_DELIMITER)throw new Error("Unexpected character: "+s)}if(e!==null){t=t!=null?t:r.length;var u=r.slice(e,t),l=r.slice(t);if(tt.OPERATORS[u]){if(n&&!tt.SEPARATORS.has(n))throw new Error("Unexpected character: "+n+". Operators should be separated using whitespace");return wn.createResult(Rn.Tokens.OPERATOR,tt.OPERATORS[u],l)}else return wn.createResult(Rn.Tokens.IDENTIFIER,u,l)}return wn.createResult(Rn.Tokens.EOF,null,"")}});var n_=h(nr=>{"use strict";var jO=nr&&nr.__spreadArrays||function(){for(var r=0,e=0,t=arguments.length;e<t;e++)r+=arguments[e].length;for(var n=Array(r),i=0,e=0;e<t;e++)for(var s=arguments[e],a=0,o=s.length;a<o;a++,i++)n[i]=s[a];return n};nr.__esModule=!0;var BO=r_(),Mn=xt(),xa=fd();nr.newTokenGenerator=function(r){var e=r;return function(t,n){for(n===void 0&&(n=!1);;){var i=BO.lex(e),s=i.token,a=i.remainingString;if(e=a,s.name!==Mn.Tokens.COMMENT)return nr.validateToken(s,t,n),s}}};nr.getValue=function(r,e){var t=r(xa.VALID_TOKENS.identifierOrNot),n=t.value===Mn.Operators.NOT;n&&(t=r(xa.VALID_TOKENS.identifierOnly));var i=t.name===Mn.Tokens.STRUCTURAL_CHARACTER?e(r,!0):[t];return n?jO(i,[{name:Mn.Tokens.OPERATOR,value:Mn.Operators.NOT}]):i};nr.previousOperatorTakesPrecedent=function(r,e){return xa.OPERATOR_PRECEDENCE[r]<=xa.OPERATOR_PRECEDENCE[e]};nr.validateToken=function(r,e,t){if(t===void 0&&(t=!1),r.name===Mn.Tokens.EOF){if(t)return;throw new Error("Unexpected end of expression")}for(var n=0,i=e;n<i.length;n++){var s=i[n];if(s.name===r.name&&(!s.value||s.value===r.value))return}throw new TypeError("Invalid token")}});var gd=h(Vi=>{"use strict";var Dn=Vi&&Vi.__spreadArrays||function(){for(var r=0,e=0,t=arguments.length;e<t;e++)r+=arguments[e].length;for(var n=Array(r),i=0,e=0;e<t;e++)for(var s=arguments[e],a=0,o=s.length;a<o;a++,i++)n[i]=s[a];return n};Vi.__esModule=!0;var i_=xt(),s_=fd(),Sa=n_();Vi.parse=function(r){if(typeof r!="string")throw new Error("Expected string but received "+typeof r);var e=Sa.newTokenGenerator(r);return yd(e)};var yd=function(r,e){e===void 0&&(e=!1);for(var t=Dn(Sa.getValue(r,yd)),n=[];;){var i=e?s_.VALID_TOKENS.binaryOperatorOrClose:s_.VALID_TOKENS.binaryOperator,s=r(i,!e);if(s.name===i_.Tokens.EOF||s.name===i_.Tokens.STRUCTURAL_CHARACTER)return Dn(t,Dn(n).reverse());for(;n.length;){var a=n[n.length-1]||null;if(a&&Sa.previousOperatorTakesPrecedent(a.value,s.value))t=Dn(t,[a]),n=n.slice(0,-1);else break}n=Dn(n,[s]),t=Dn(t,Sa.getValue(r,yd))}}});var _d=h(ir=>{"use strict";ir.__esModule=!0;var a_=xt();ir.andUtil=function(r,e){return r&&e};ir.orUtil=function(r,e){return r||e};ir.xorUtil=function(r,e){return r!==e};ir.notUtil=function(r){return!r};ir.isIdentifier=function(r){var e=r.name,t=r.value;return e===a_.Tokens.IDENTIFIER&&typeof t=="string"};ir.isOperator=function(r){var e=r.name,t=r.value;return e===a_.Tokens.OPERATOR&&typeof t=="string"};ir.throwInvalidExpression=function(r){throw new TypeError("Invalid postfix expression: "+r)}});var o_=h(vd=>{"use strict";var Zi;vd.__esModule=!0;var Td=xt(),bd=_d();vd.OPERATOR_MAP=(Zi={},Zi[Td.Operators.AND]=bd.andUtil,Zi[Td.Operators.OR]=bd.orUtil,Zi[Td.Operators.XOR]=bd.xorUtil,Zi)});var l_=h(zr=>{"use strict";var Ed=zr&&zr.__spreadArrays||function(){for(var r=0,e=0,t=arguments.length;e<t;e++)r+=arguments[e].length;for(var n=Array(r),i=0,e=0;e<t;e++)for(var s=arguments[e],a=0,o=s.length;a<o;a++,i++)n[i]=s[a];return n};zr.__esModule=!0;var GO=gd(),u_=xt(),HO=o_(),Hr=_d();zr.getEvaluator=function(r){var e=GO.parse(r);return function(t){return zr.evaluate(e,t)}};zr.evaluate=function(r,e){if(!Array.isArray(r))throw new Error(r+" should be an array. evaluate takes in a parsed expression. Use in combination with parse or use getEvaluator");var t=r.reduce(function(n,i,s){if(!(i&&(Hr.isIdentifier(i)||Hr.isOperator(i))))throw new Error("Invalid token: "+i+". Found in parsed expression at index "+s);if(i.name===u_.Tokens.IDENTIFIER)return Ed(n,[Boolean(e[i.value])]);var a=n[n.length-2],o=n[n.length-1];if(i.value===u_.Operators.NOT)return o===void 0&&Hr.throwInvalidExpression("missing identifier"),Ed(n.slice(0,-1),[Hr.notUtil(o)]);(o===void 0||a===void 0)&&Hr.throwInvalidExpression("missing identifier");var u=HO.OPERATOR_MAP[i.value];return u||Hr.throwInvalidExpression("unknown operator"),Ed(n.slice(0,-2),[u(a,o)])},[]);return t.length!==1&&Hr.throwInvalidExpression("too many identifiers after evaluation"),t[0]}});var d_=h(Xi=>{"use strict";Xi.__esModule=!0;var c_=l_();Xi.getEvaluator=c_.getEvaluator;Xi.evaluate=c_.evaluate;var zO=gd();Xi.parse=zO.parse});var eA={};w_(eA,{default:()=>Ya});module.exports=M_(eA);var y_=require("obsidian");var ys=require("obsidian");var rA=new Error("timeout while waiting for mutex to become available"),nA=new Error("mutex already locked"),D_=new Error("request for lock canceled"),Kd=function(r,e,t,n){function i(s){return s instanceof t?s:new t(function(a){a(s)})}return new(t||(t=Promise))(function(s,a){function o(c){try{l(n.next(c))}catch(d){a(d)}}function u(c){try{l(n.throw(c))}catch(d){a(d)}}function l(c){c.done?s(c.value):i(c.value).then(o,u)}l((n=n.apply(r,e||[])).next())})},Ha=class{constructor(e,t=D_){if(this._maxConcurrency=e,this._cancelError=t,this._queue=[],this._waiters=[],e<=0)throw new Error("semaphore must be initialized to a positive value");this._value=e}acquire(){let e=this.isLocked(),t=new Promise((n,i)=>this._queue.push({resolve:n,reject:i}));return e||this._dispatch(),t}runExclusive(e){return Kd(this,void 0,void 0,function*(){let[t,n]=yield this.acquire();try{return yield e(t)}finally{n()}})}waitForUnlock(){return Kd(this,void 0,void 0,function*(){return this.isLocked()?new Promise(t=>this._waiters.push({resolve:t})):Promise.resolve()})}isLocked(){return this._value<=0}release(){if(this._maxConcurrency>1)throw new Error("this method is unavailable on semaphores with concurrency > 1; use the scoped release returned by acquire instead");if(this._currentReleaser){let e=this._currentReleaser;this._currentReleaser=void 0,e()}}cancel(){this._queue.forEach(e=>e.reject(this._cancelError)),this._queue=[]}_dispatch(){let e=this._queue.shift();if(!e)return;let t=!1;this._currentReleaser=()=>{t||(t=!0,this._value++,this._resolveWaiters(),this._dispatch())},e.resolve([this._value--,this._currentReleaser])}_resolveWaiters(){this._waiters.forEach(e=>e.resolve()),this._waiters=[]}},P_=function(r,e,t,n){function i(s){return s instanceof t?s:new t(function(a){a(s)})}return new(t||(t=Promise))(function(s,a){function o(c){try{l(n.next(c))}catch(d){a(d)}}function u(c){try{l(n.throw(c))}catch(d){a(d)}}function l(c){c.done?s(c.value):i(c.value).then(o,u)}l((n=n.apply(r,e||[])).next())})},os=class{constructor(e){this._semaphore=new Ha(1,e)}acquire(){return P_(this,void 0,void 0,function*(){let[,e]=yield this._semaphore.acquire();return e})}runExclusive(e){return this._semaphore.runExclusive(()=>e())}isLocked(){return this._semaphore.isLocked()}waitForUnlock(){return this._semaphore.waitForUnlock()}release(){this._semaphore.release()}cancel(){return this._semaphore.cancel()}};var rp=require("obsidian");var Vd=require("obsidian");var O_={globalFilter:"",removeGlobalFilter:!1,setDoneDate:!0,autoSuggestInEditor:!0,autoSuggestMinMatch:0,autoSuggestMaxItems:6},za=$e({},O_),ie=()=>$e({},za),Ft=r=>(za=$e($e({},za),r),ie());var Ka,Va,Zd=({metadataCache:r,vault:e})=>{Ka=r,Va=e},us=t=>ae(void 0,[t],function*({originalTask:r,newTasks:e}){if(Va===void 0||Ka===void 0){console.error("Tasks: cannot use File before initializing it.");return}Array.isArray(e)||(e=[e]),Xd({originalTask:r,newTasks:e,vault:Va,metadataCache:Ka,previousTries:0})}),Xd=s=>ae(void 0,[s],function*({originalTask:r,newTasks:e,vault:t,metadataCache:n,previousTries:i}){let a=()=>{if(i>10){console.error("Tasks: Too many retries. File update not possible ...");return}let g=Math.min(Math.pow(10,i),100);setTimeout(()=>{Xd({originalTask:r,newTasks:e,vault:t,metadataCache:n,previousTries:i+1})},g)},o=t.getAbstractFileByPath(r.path);if(!(o instanceof Vd.TFile))return console.warn(`Tasks: No file found for task ${r.description}. Retrying ...`),a();if(o.extension!=="md"){console.error("Tasks: Only supporting files with the .md file extension.");return}let u=n.getFileCache(o);if(u==null||u===null)return console.warn(`Tasks: No file cache found for file ${o.path}. Retrying ...`),a();let l=u.listItems;if(l===void 0||l.length===0)return console.warn(`Tasks: No list items found in file cache of ${o.path}. Retrying ...`),a();let d=(yield t.read(o)).split(`
`),{globalFilter:f}=ie(),p,y=0;for(let g of l){if(g.position.start.line<r.sectionStart||g.task===void 0)continue;if(d[g.position.start.line].includes(f)){if(y===r.sectionIndex){p=g;break}y++}}if(p===void 0){console.error("Tasks: could not find task to toggle in the file.");return}let m=[...d.slice(0,p.position.start.line),...e.map(g=>g.toFileLineString()),...d.slice(p.position.start.line+1)];yield t.modify(o,m.join(`
`))});var Zr=class{constructor(){this.hideTaskCount=!1;this.hideBacklinks=!1;this.hidePriority=!1;this.hideStartDate=!1;this.hideScheduledDate=!1;this.hideDoneDate=!1;this.hideDueDate=!1;this.hideRecurrenceRule=!1;this.hideEditButton=!1;this.shortMode=!1}};var ls=["MO","TU","WE","TH","FR","SA","SU"],_e=function(){function r(e,t){if(t===0)throw new Error("Can't create weekday with n == 0");this.weekday=e,this.n=t}return r.fromStr=function(e){return new r(ls.indexOf(e))},r.prototype.nth=function(e){return this.n===e?this:new r(this.weekday,e)},r.prototype.equals=function(e){return this.weekday===e.weekday&&this.n===e.n},r.prototype.toString=function(){var e=ls[this.weekday];return this.n&&(e=(this.n>0?"+":"")+String(this.n)+e),e},r.prototype.getJsWeekday=function(){return this.weekday===6?0:this.weekday+1},r}();var oe=function(r){return r!=null},Ze=function(r){return typeof r=="number"},Za=function(r){return typeof r=="string"&&ls.includes(r)},xe=Array.isArray,rt=function(r,e){e===void 0&&(e=r),arguments.length===1&&(e=r,r=0);for(var t=[],n=r;n<e;n++)t.push(n);return t};var B=function(r,e){var t=0,n=[];if(xe(r))for(;t<e;t++)n[t]=[].concat(r);else for(;t<e;t++)n[t]=r;return n},Qd=function(r){return xe(r)?r:[r]};function Ar(r,e,t){t===void 0&&(t=" ");var n=String(r);return e=e>>0,n.length>e?String(n):(e=e-n.length,e>t.length&&(t+=B(t,e/t.length)),t.slice(0,e)+String(n))}var Jd=function(r,e,t){var n=r.split(e);return t?n.slice(0,t).concat([n.slice(t).join(e)]):n},Fe=function(r,e){var t=r%e;return t*e<0?t+e:t},cs=function(r,e){return{div:Math.floor(r/e),mod:Fe(r,e)}},Xe=function(r){return!oe(r)||r.length===0},ye=function(r){return!Xe(r)},G=function(r,e){return ye(r)&&r.indexOf(e)!==-1};var cr;(function(r){r.MONTH_DAYS=[31,28,31,30,31,30,31,31,30,31,30,31],r.ONE_DAY=1e3*60*60*24,r.MAXYEAR=9999,r.ORDINAL_BASE=new Date(Date.UTC(1970,0,1)),r.PY_WEEKDAYS=[6,0,1,2,3,4,5],r.getYearDay=function(e){var t=new Date(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate());return Math.ceil((t.valueOf()-new Date(e.getUTCFullYear(),0,1).valueOf())/r.ONE_DAY)+1},r.isLeapYear=function(e){return e%4===0&&e%100!==0||e%400===0},r.isDate=function(e){return e instanceof Date},r.isValidDate=function(e){return r.isDate(e)&&!isNaN(e.getTime())},r.tzOffset=function(e){return e.getTimezoneOffset()*60*1e3},r.daysBetween=function(e,t){var n=e.getTime()-r.tzOffset(e),i=t.getTime()-r.tzOffset(t),s=n-i;return Math.round(s/r.ONE_DAY)},r.toOrdinal=function(e){return r.daysBetween(e,r.ORDINAL_BASE)},r.fromOrdinal=function(e){return new Date(r.ORDINAL_BASE.getTime()+e*r.ONE_DAY)},r.getMonthDays=function(e){var t=e.getUTCMonth();return t===1&&r.isLeapYear(e.getUTCFullYear())?29:r.MONTH_DAYS[t]},r.getWeekday=function(e){return r.PY_WEEKDAYS[e.getUTCDay()]},r.monthRange=function(e,t){var n=new Date(Date.UTC(e,t,1));return[r.getWeekday(n),r.getMonthDays(n)]},r.combine=function(e,t){return t=t||e,new Date(Date.UTC(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()))},r.clone=function(e){var t=new Date(e.getTime());return t},r.cloneDates=function(e){for(var t=[],n=0;n<e.length;n++)t.push(r.clone(e[n]));return t},r.sort=function(e){e.sort(function(t,n){return t.getTime()-n.getTime()})},r.timeToUntilString=function(e,t){t===void 0&&(t=!0);var n=new Date(e);return[Ar(n.getUTCFullYear().toString(),4,"0"),Ar(n.getUTCMonth()+1,2,"0"),Ar(n.getUTCDate(),2,"0"),"T",Ar(n.getUTCHours(),2,"0"),Ar(n.getUTCMinutes(),2,"0"),Ar(n.getUTCSeconds(),2,"0"),t?"Z":""].join("")},r.untilStringToDate=function(e){var t=/^(\d{4})(\d{2})(\d{2})(T(\d{2})(\d{2})(\d{2})Z?)?$/,n=t.exec(e);if(!n)throw new Error("Invalid UNTIL value: ".concat(e));return new Date(Date.UTC(parseInt(n[1],10),parseInt(n[2],10)-1,parseInt(n[3],10),parseInt(n[5],10)||0,parseInt(n[6],10)||0,parseInt(n[7],10)||0))}})(cr||(cr={}));var k=cr;var A_=function(){function r(e,t){this.minDate=null,this.maxDate=null,this._result=[],this.total=0,this.method=e,this.args=t,e==="between"?(this.maxDate=t.inc?t.before:new Date(t.before.getTime()-1),this.minDate=t.inc?t.after:new Date(t.after.getTime()+1)):e==="before"?this.maxDate=t.inc?t.dt:new Date(t.dt.getTime()-1):e==="after"&&(this.minDate=t.inc?t.dt:new Date(t.dt.getTime()+1))}return r.prototype.accept=function(e){++this.total;var t=this.minDate&&e<this.minDate,n=this.maxDate&&e>this.maxDate;if(this.method==="between"){if(t)return!0;if(n)return!1}else if(this.method==="before"){if(n)return!1}else if(this.method==="after")return t?!0:(this.add(e),!1);return this.add(e)},r.prototype.add=function(e){return this._result.push(e),!0},r.prototype.getValue=function(){var e=this._result;switch(this.method){case"all":case"between":return e;case"before":case"after":default:return e.length?e[e.length-1]:null}},r.prototype.clone=function(){return new r(this.method,this.args)},r}(),qt=A_;var Rf=as(Ef(),1),{__extends:Qr,__assign:je,__rest:_A,__decorate:TA,__param:bA,__metadata:vA,__awaiter:EA,__generator:RA,__exportStar:wA,__createBinding:MA,__values:DA,__read:PA,__spread:OA,__spreadArrays:AA,__spreadArray:T,__await:kA,__asyncGenerator:NA,__asyncDelegator:CA,__asyncValues:xA,__makeTemplateObject:SA,__importStar:IA,__importDefault:UA,__classPrivateFieldGet:FA,__classPrivateFieldSet:qA,__classPrivateFieldIn:WA}=Rf.default;var k_=function(r){Qr(e,r);function e(t,n,i){var s=r.call(this,t,n)||this;return s.iterator=i,s}return e.prototype.add=function(t){return this.iterator(t,this._result.length)?(this._result.push(t),!0):!1},e}(qt),Qa=k_;var N_={dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],tokens:{SKIP:/^[ \r\n\t]+|^\.$/,number:/^[1-9][0-9]*/,numberAsText:/^(one|two|three)/i,every:/^every/i,"day(s)":/^days?/i,"weekday(s)":/^weekdays?/i,"week(s)":/^weeks?/i,"hour(s)":/^hours?/i,"minute(s)":/^minutes?/i,"month(s)":/^months?/i,"year(s)":/^years?/i,on:/^(on|in)/i,at:/^(at)/i,the:/^the/i,first:/^first/i,second:/^second/i,third:/^third/i,nth:/^([1-9][0-9]*)(\.|th|nd|rd|st)/i,last:/^last/i,for:/^for/i,"time(s)":/^times?/i,until:/^(un)?til/i,monday:/^mo(n(day)?)?/i,tuesday:/^tu(e(s(day)?)?)?/i,wednesday:/^we(d(n(esday)?)?)?/i,thursday:/^th(u(r(sday)?)?)?/i,friday:/^fr(i(day)?)?/i,saturday:/^sa(t(urday)?)?/i,sunday:/^su(n(day)?)?/i,january:/^jan(uary)?/i,february:/^feb(ruary)?/i,march:/^mar(ch)?/i,april:/^apr(il)?/i,may:/^may/i,june:/^june?/i,july:/^july?/i,august:/^aug(ust)?/i,september:/^sep(t(ember)?)?/i,october:/^oct(ober)?/i,november:/^nov(ember)?/i,december:/^dec(ember)?/i,comma:/^(,\s*|(and|or)\s*)+/i}},kr=N_;var wf=function(r,e){return r.indexOf(e)!==-1},C_=function(r){return r.toString()},x_=function(r,e,t){return"".concat(e," ").concat(t,", ").concat(r)},S_=function(){function r(e,t,n,i){if(t===void 0&&(t=C_),n===void 0&&(n=kr),i===void 0&&(i=x_),this.text=[],this.language=n||kr,this.gettext=t,this.dateFormatter=i,this.rrule=e,this.options=e.options,this.origOptions=e.origOptions,this.origOptions.bymonthday){var s=[].concat(this.options.bymonthday),a=[].concat(this.options.bynmonthday);s.sort(function(c,d){return c-d}),a.sort(function(c,d){return d-c}),this.bymonthday=s.concat(a),this.bymonthday.length||(this.bymonthday=null)}if(oe(this.origOptions.byweekday)){var o=xe(this.origOptions.byweekday)?this.origOptions.byweekday:[this.origOptions.byweekday],u=String(o);this.byweekday={allWeeks:o.filter(function(c){return!c.n}),someWeeks:o.filter(function(c){return Boolean(c.n)}),isWeekdays:u.indexOf("MO")!==-1&&u.indexOf("TU")!==-1&&u.indexOf("WE")!==-1&&u.indexOf("TH")!==-1&&u.indexOf("FR")!==-1&&u.indexOf("SA")===-1&&u.indexOf("SU")===-1,isEveryDay:u.indexOf("MO")!==-1&&u.indexOf("TU")!==-1&&u.indexOf("WE")!==-1&&u.indexOf("TH")!==-1&&u.indexOf("FR")!==-1&&u.indexOf("SA")!==-1&&u.indexOf("SU")!==-1};var l=function(c,d){return c.weekday-d.weekday};this.byweekday.allWeeks.sort(l),this.byweekday.someWeeks.sort(l),this.byweekday.allWeeks.length||(this.byweekday.allWeeks=null),this.byweekday.someWeeks.length||(this.byweekday.someWeeks=null)}else this.byweekday=null}return r.isFullyConvertible=function(e){var t=!0;if(!(e.options.freq in r.IMPLEMENTED)||e.origOptions.until&&e.origOptions.count)return!1;for(var n in e.origOptions){if(wf(["dtstart","wkst","freq"],n))return!0;if(!wf(r.IMPLEMENTED[e.options.freq],n))return!1}return t},r.prototype.isFullyConvertible=function(){return r.isFullyConvertible(this.rrule)},r.prototype.toString=function(){var e=this.gettext;if(!(this.options.freq in r.IMPLEMENTED))return e("RRule error: Unable to fully convert this rrule to text");if(this.text=[e("every")],this[w.FREQUENCIES[this.options.freq]](),this.options.until){this.add(e("until"));var t=this.options.until;this.add(this.dateFormatter(t.getUTCFullYear(),this.language.monthNames[t.getUTCMonth()],t.getUTCDate()))}else this.options.count&&this.add(e("for")).add(this.options.count.toString()).add(this.plural(this.options.count)?e("times"):e("time"));return this.isFullyConvertible()||this.add(e("(~ approximate)")),this.text.join("")},r.prototype.HOURLY=function(){var e=this.gettext;this.options.interval!==1&&this.add(this.options.interval.toString()),this.add(this.plural(this.options.interval)?e("hours"):e("hour"))},r.prototype.MINUTELY=function(){var e=this.gettext;this.options.interval!==1&&this.add(this.options.interval.toString()),this.add(this.plural(this.options.interval)?e("minutes"):e("minute"))},r.prototype.DAILY=function(){var e=this.gettext;this.options.interval!==1&&this.add(this.options.interval.toString()),this.byweekday&&this.byweekday.isWeekdays?this.add(this.plural(this.options.interval)?e("weekdays"):e("weekday")):this.add(this.plural(this.options.interval)?e("days"):e("day")),this.origOptions.bymonth&&(this.add(e("in")),this._bymonth()),this.bymonthday?this._bymonthday():this.byweekday?this._byweekday():this.origOptions.byhour&&this._byhour()},r.prototype.WEEKLY=function(){var e=this.gettext;this.options.interval!==1&&this.add(this.options.interval.toString()).add(this.plural(this.options.interval)?e("weeks"):e("week")),this.byweekday&&this.byweekday.isWeekdays?this.options.interval===1?this.add(this.plural(this.options.interval)?e("weekdays"):e("weekday")):this.add(e("on")).add(e("weekdays")):this.byweekday&&this.byweekday.isEveryDay?this.add(this.plural(this.options.interval)?e("days"):e("day")):(this.options.interval===1&&this.add(e("week")),this.origOptions.bymonth&&(this.add(e("in")),this._bymonth()),this.bymonthday?this._bymonthday():this.byweekday&&this._byweekday())},r.prototype.MONTHLY=function(){var e=this.gettext;this.origOptions.bymonth?(this.options.interval!==1&&(this.add(this.options.interval.toString()).add(e("months")),this.plural(this.options.interval)&&this.add(e("in"))),this._bymonth()):(this.options.interval!==1&&this.add(this.options.interval.toString()),this.add(this.plural(this.options.interval)?e("months"):e("month"))),this.bymonthday?this._bymonthday():this.byweekday&&this.byweekday.isWeekdays?this.add(e("on")).add(e("weekdays")):this.byweekday&&this._byweekday()},r.prototype.YEARLY=function(){var e=this.gettext;this.origOptions.bymonth?(this.options.interval!==1&&(this.add(this.options.interval.toString()),this.add(e("years"))),this._bymonth()):(this.options.interval!==1&&this.add(this.options.interval.toString()),this.add(this.plural(this.options.interval)?e("years"):e("year"))),this.bymonthday?this._bymonthday():this.byweekday&&this._byweekday(),this.options.byyearday&&this.add(e("on the")).add(this.list(this.options.byyearday,this.nth,e("and"))).add(e("day")),this.options.byweekno&&this.add(e("in")).add(this.plural(this.options.byweekno.length)?e("weeks"):e("week")).add(this.list(this.options.byweekno,void 0,e("and")))},r.prototype._bymonthday=function(){var e=this.gettext;this.byweekday&&this.byweekday.allWeeks?this.add(e("on")).add(this.list(this.byweekday.allWeeks,this.weekdaytext,e("or"))).add(e("the")).add(this.list(this.bymonthday,this.nth,e("or"))):this.add(e("on the")).add(this.list(this.bymonthday,this.nth,e("and")))},r.prototype._byweekday=function(){var e=this.gettext;this.byweekday.allWeeks&&!this.byweekday.isWeekdays&&this.add(e("on")).add(this.list(this.byweekday.allWeeks,this.weekdaytext)),this.byweekday.someWeeks&&(this.byweekday.allWeeks&&this.add(e("and")),this.add(e("on the")).add(this.list(this.byweekday.someWeeks,this.weekdaytext,e("and"))))},r.prototype._byhour=function(){var e=this.gettext;this.add(e("at")).add(this.list(this.origOptions.byhour,void 0,e("and")))},r.prototype._bymonth=function(){this.add(this.list(this.options.bymonth,this.monthtext,this.gettext("and")))},r.prototype.nth=function(e){e=parseInt(e.toString(),10);var t,n=this.gettext;if(e===-1)return n("last");var i=Math.abs(e);switch(i){case 1:case 21:case 31:t=i+n("st");break;case 2:case 22:t=i+n("nd");break;case 3:case 23:t=i+n("rd");break;default:t=i+n("th")}return e<0?t+" "+n("last"):t},r.prototype.monthtext=function(e){return this.language.monthNames[e-1]},r.prototype.weekdaytext=function(e){var t=Ze(e)?(e+1)%7:e.getJsWeekday();return(e.n?this.nth(e.n)+" ":"")+this.language.dayNames[t]},r.prototype.plural=function(e){return e%100!==1},r.prototype.add=function(e){return this.text.push(" "),this.text.push(e),this},r.prototype.list=function(e,t,n,i){var s=this;i===void 0&&(i=","),xe(e)||(e=[e]);var a=function(u,l,c){for(var d="",f=0;f<u.length;f++)f!==0&&(f===u.length-1?d+=" "+c+" ":d+=l+" "),d+=u[f];return d};t=t||function(u){return u.toString()};var o=function(u){return t&&t.call(s,u)};return n?a(e.map(o),i,n):e.map(o).join(i+" ")},r}(),Et=S_;var I_=function(){function r(e){this.done=!0,this.rules=e}return r.prototype.start=function(e){return this.text=e,this.done=!1,this.nextSymbol()},r.prototype.isDone=function(){return this.done&&this.symbol===null},r.prototype.nextSymbol=function(){var e,t;this.symbol=null,this.value=null;do{if(this.done)return!1;var n=void 0;e=null;for(var i in this.rules){n=this.rules[i];var s=n.exec(this.text);s&&(e===null||s[0].length>e[0].length)&&(e=s,t=i)}if(e!=null&&(this.text=this.text.substr(e[0].length),this.text===""&&(this.done=!0)),e==null){this.done=!0,this.symbol=null,this.value=null;return}}while(t==="SKIP");return this.symbol=t,this.value=e,!0},r.prototype.accept=function(e){if(this.symbol===e){if(this.value){var t=this.value;return this.nextSymbol(),t}return this.nextSymbol(),!0}return!1},r.prototype.acceptNumber=function(){return this.accept("number")},r.prototype.expect=function(e){if(this.accept(e))return!0;throw new Error("expected "+e+" but found "+this.symbol)},r}();function Cn(r,e){e===void 0&&(e=kr);var t={},n=new I_(e.tokens);if(!n.start(r))return null;return i(),t;function i(){n.expect("every");var f=n.acceptNumber();if(f&&(t.interval=parseInt(f[0],10)),n.isDone())throw new Error("Unexpected end");switch(n.symbol){case"day(s)":t.freq=w.DAILY,n.nextSymbol()&&(a(),d());break;case"weekday(s)":t.freq=w.WEEKLY,t.byweekday=[w.MO,w.TU,w.WE,w.TH,w.FR],n.nextSymbol(),d();break;case"week(s)":t.freq=w.WEEKLY,n.nextSymbol()&&(s(),d());break;case"hour(s)":t.freq=w.HOURLY,n.nextSymbol()&&(s(),d());break;case"minute(s)":t.freq=w.MINUTELY,n.nextSymbol()&&(s(),d());break;case"month(s)":t.freq=w.MONTHLY,n.nextSymbol()&&(s(),d());break;case"year(s)":t.freq=w.YEARLY,n.nextSymbol()&&(s(),d());break;case"monday":case"tuesday":case"wednesday":case"thursday":case"friday":case"saturday":case"sunday":t.freq=w.WEEKLY;var p=n.symbol.substr(0,2).toUpperCase();if(t.byweekday=[w[p]],!n.nextSymbol())return;for(;n.accept("comma");){if(n.isDone())throw new Error("Unexpected end");var y=u();if(!y)throw new Error("Unexpected symbol "+n.symbol+", expected weekday");t.byweekday.push(w[y]),n.nextSymbol()}c(),d();break;case"january":case"february":case"march":case"april":case"may":case"june":case"july":case"august":case"september":case"october":case"november":case"december":if(t.freq=w.YEARLY,t.bymonth=[o()],!n.nextSymbol())return;for(;n.accept("comma");){if(n.isDone())throw new Error("Unexpected end");var m=o();if(!m)throw new Error("Unexpected symbol "+n.symbol+", expected month");t.bymonth.push(m),n.nextSymbol()}s(),d();break;default:throw new Error("Unknown symbol")}}function s(){var f=n.accept("on"),p=n.accept("the");if(!!(f||p))do{var y=l(),m=u(),g=o();if(y)m?(n.nextSymbol(),t.byweekday||(t.byweekday=[]),t.byweekday.push(w[m].nth(y))):(t.bymonthday||(t.bymonthday=[]),t.bymonthday.push(y),n.accept("day(s)"));else if(m)n.nextSymbol(),t.byweekday||(t.byweekday=[]),t.byweekday.push(w[m]);else if(n.symbol==="weekday(s)")n.nextSymbol(),t.byweekday||(t.byweekday=[w.MO,w.TU,w.WE,w.TH,w.FR]);else if(n.symbol==="week(s)"){n.nextSymbol();var A=n.acceptNumber();if(!A)throw new Error("Unexpected symbol "+n.symbol+", expected week number");for(t.byweekno=[parseInt(A[0],10)];n.accept("comma");){if(A=n.acceptNumber(),!A)throw new Error("Unexpected symbol "+n.symbol+"; expected monthday");t.byweekno.push(parseInt(A[0],10))}}else if(g)n.nextSymbol(),t.bymonth||(t.bymonth=[]),t.bymonth.push(g);else return}while(n.accept("comma")||n.accept("the")||n.accept("on"))}function a(){var f=n.accept("at");if(!!f)do{var p=n.acceptNumber();if(!p)throw new Error("Unexpected symbol "+n.symbol+", expected hour");for(t.byhour=[parseInt(p[0],10)];n.accept("comma");){if(p=n.acceptNumber(),!p)throw new Error("Unexpected symbol "+n.symbol+"; expected hour");t.byhour.push(parseInt(p[0],10))}}while(n.accept("comma")||n.accept("at"))}function o(){switch(n.symbol){case"january":return 1;case"february":return 2;case"march":return 3;case"april":return 4;case"may":return 5;case"june":return 6;case"july":return 7;case"august":return 8;case"september":return 9;case"october":return 10;case"november":return 11;case"december":return 12;default:return!1}}function u(){switch(n.symbol){case"monday":case"tuesday":case"wednesday":case"thursday":case"friday":case"saturday":case"sunday":return n.symbol.substr(0,2).toUpperCase();default:return!1}}function l(){switch(n.symbol){case"last":return n.nextSymbol(),-1;case"first":return n.nextSymbol(),1;case"second":return n.nextSymbol(),n.accept("last")?-2:2;case"third":return n.nextSymbol(),n.accept("last")?-3:3;case"nth":var f=parseInt(n.value[1],10);if(f<-366||f>366)throw new Error("Nth out of range: "+f);return n.nextSymbol(),n.accept("last")?-f:f;default:return!1}}function c(){n.accept("on"),n.accept("the");var f=l();if(!!f)for(t.bymonthday=[f],n.nextSymbol();n.accept("comma");){if(f=l(),!f)throw new Error("Unexpected symbol "+n.symbol+"; expected monthday");t.bymonthday.push(f),n.nextSymbol()}}function d(){if(n.symbol==="until"){var f=Date.parse(n.text);if(!f)throw new Error("Cannot parse until date:"+n.text);t.until=new Date(f)}else n.accept("for")&&(t.count=parseInt(n.value[0],10),n.expect("number"))}}var Y;(function(r){r[r.YEARLY=0]="YEARLY",r[r.MONTHLY=1]="MONTHLY",r[r.WEEKLY=2]="WEEKLY",r[r.DAILY=3]="DAILY",r[r.HOURLY=4]="HOURLY",r[r.MINUTELY=5]="MINUTELY",r[r.SECONDLY=6]="SECONDLY"})(Y||(Y={}));function xn(r){return r<Y.HOURLY}var Mf=function(r,e){return e===void 0&&(e=kr),new w(Cn(r,e)||void 0)},Jr=["count","until","interval","byweekday","bymonthday","bymonth"];Et.IMPLEMENTED=[];Et.IMPLEMENTED[Y.HOURLY]=Jr;Et.IMPLEMENTED[Y.MINUTELY]=Jr;Et.IMPLEMENTED[Y.DAILY]=["byhour"].concat(Jr);Et.IMPLEMENTED[Y.WEEKLY]=Jr;Et.IMPLEMENTED[Y.MONTHLY]=Jr;Et.IMPLEMENTED[Y.YEARLY]=["byweekno","byyearday"].concat(Jr);var Df=function(r,e,t,n){return new Et(r,e,t,n).toString()},Pf=Et.isFullyConvertible;var en=function(){function r(e,t,n,i){this.hour=e,this.minute=t,this.second=n,this.millisecond=i||0}return r.prototype.getHours=function(){return this.hour},r.prototype.getMinutes=function(){return this.minute},r.prototype.getSeconds=function(){return this.second},r.prototype.getMilliseconds=function(){return this.millisecond},r.prototype.getTime=function(){return(this.hour*60*60+this.minute*60+this.second)*1e3+this.millisecond},r}();var Of=function(r){Qr(e,r);function e(t,n,i,s,a,o,u){var l=r.call(this,s,a,o,u)||this;return l.year=t,l.month=n,l.day=i,l}return e.fromDate=function(t){return new this(t.getUTCFullYear(),t.getUTCMonth()+1,t.getUTCDate(),t.getUTCHours(),t.getUTCMinutes(),t.getUTCSeconds(),t.valueOf()%1e3)},e.prototype.getWeekday=function(){return cr.getWeekday(new Date(this.getTime()))},e.prototype.getTime=function(){return new Date(Date.UTC(this.year,this.month-1,this.day,this.hour,this.minute,this.second,this.millisecond)).getTime()},e.prototype.getDay=function(){return this.day},e.prototype.getMonth=function(){return this.month},e.prototype.getYear=function(){return this.year},e.prototype.addYears=function(t){this.year+=t},e.prototype.addMonths=function(t){if(this.month+=t,this.month>12){var n=Math.floor(this.month/12),i=Fe(this.month,12);this.month=i,this.year+=n,this.month===0&&(this.month=12,--this.year)}},e.prototype.addWeekly=function(t,n){n>this.getWeekday()?this.day+=-(this.getWeekday()+1+(6-n))+t*7:this.day+=-(this.getWeekday()-n)+t*7,this.fixDay()},e.prototype.addDaily=function(t){this.day+=t,this.fixDay()},e.prototype.addHours=function(t,n,i){for(n&&(this.hour+=Math.floor((23-this.hour)/t)*t);;){this.hour+=t;var s=cs(this.hour,24),a=s.div,o=s.mod;if(a&&(this.hour=o,this.addDaily(a)),Xe(i)||G(i,this.hour))break}},e.prototype.addMinutes=function(t,n,i,s){for(n&&(this.minute+=Math.floor((1439-(this.hour*60+this.minute))/t)*t);;){this.minute+=t;var a=cs(this.minute,60),o=a.div,u=a.mod;if(o&&(this.minute=u,this.addHours(o,!1,i)),(Xe(i)||G(i,this.hour))&&(Xe(s)||G(s,this.minute)))break}},e.prototype.addSeconds=function(t,n,i,s,a){for(n&&(this.second+=Math.floor((86399-(this.hour*3600+this.minute*60+this.second))/t)*t);;){this.second+=t;var o=cs(this.second,60),u=o.div,l=o.mod;if(u&&(this.second=l,this.addMinutes(u,!1,i,s)),(Xe(i)||G(i,this.hour))&&(Xe(s)||G(s,this.minute))&&(Xe(a)||G(a,this.second)))break}},e.prototype.fixDay=function(){if(!(this.day<=28)){var t=cr.monthRange(this.year,this.month-1)[1];if(!(this.day<=t))for(;this.day>t;){if(this.day-=t,++this.month,this.month===13&&(this.month=1,++this.year,this.year>cr.MAXYEAR))return;t=cr.monthRange(this.year,this.month-1)[1]}}},e.prototype.add=function(t,n){var i=t.freq,s=t.interval,a=t.wkst,o=t.byhour,u=t.byminute,l=t.bysecond;switch(i){case Y.YEARLY:return this.addYears(s);case Y.MONTHLY:return this.addMonths(s);case Y.WEEKLY:return this.addWeekly(s,a);case Y.DAILY:return this.addDaily(s);case Y.HOURLY:return this.addHours(s,n,o);case Y.MINUTELY:return this.addMinutes(s,n,o,u);case Y.SECONDLY:return this.addSeconds(s,n,o,u,l)}},e}(en);function Ja(r){for(var e=[],t=Object.keys(r),n=0,i=t;n<i.length;n++){var s=i[n];G(Nf,s)||e.push(s),k.isDate(r[s])&&!k.isValidDate(r[s])&&e.push(s)}if(e.length)throw new Error("Invalid options: "+e.join(", "));return je({},r)}function Af(r){var e=je(je({},Sn),Ja(r));if(oe(e.byeaster)&&(e.freq=w.YEARLY),!(oe(e.freq)&&w.FREQUENCIES[e.freq]))throw new Error("Invalid frequency: ".concat(e.freq," ").concat(r.freq));if(e.dtstart||(e.dtstart=new Date(new Date().setMilliseconds(0))),oe(e.wkst)?Ze(e.wkst)||(e.wkst=e.wkst.weekday):e.wkst=w.MO.weekday,oe(e.bysetpos)){Ze(e.bysetpos)&&(e.bysetpos=[e.bysetpos]);for(var t=0;t<e.bysetpos.length;t++){var n=e.bysetpos[t];if(n===0||!(n>=-366&&n<=366))throw new Error("bysetpos must be between 1 and 366, or between -366 and -1")}}if(!(Boolean(e.byweekno)||ye(e.byweekno)||ye(e.byyearday)||Boolean(e.bymonthday)||ye(e.bymonthday)||oe(e.byweekday)||oe(e.byeaster)))switch(e.freq){case w.YEARLY:e.bymonth||(e.bymonth=e.dtstart.getUTCMonth()+1),e.bymonthday=e.dtstart.getUTCDate();break;case w.MONTHLY:e.bymonthday=e.dtstart.getUTCDate();break;case w.WEEKLY:e.byweekday=[k.getWeekday(e.dtstart)];break}if(oe(e.bymonth)&&!xe(e.bymonth)&&(e.bymonth=[e.bymonth]),oe(e.byyearday)&&!xe(e.byyearday)&&Ze(e.byyearday)&&(e.byyearday=[e.byyearday]),!oe(e.bymonthday))e.bymonthday=[],e.bynmonthday=[];else if(xe(e.bymonthday)){for(var i=[],s=[],t=0;t<e.bymonthday.length;t++){var n=e.bymonthday[t];n>0?i.push(n):n<0&&s.push(n)}e.bymonthday=i,e.bynmonthday=s}else e.bymonthday<0?(e.bynmonthday=[e.bymonthday],e.bymonthday=[]):(e.bynmonthday=[],e.bymonthday=[e.bymonthday]);if(oe(e.byweekno)&&!xe(e.byweekno)&&(e.byweekno=[e.byweekno]),!oe(e.byweekday))e.bynweekday=null;else if(Ze(e.byweekday))e.byweekday=[e.byweekday],e.bynweekday=null;else if(Za(e.byweekday))e.byweekday=[_e.fromStr(e.byweekday).weekday],e.bynweekday=null;else if(e.byweekday instanceof _e)!e.byweekday.n||e.freq>w.MONTHLY?(e.byweekday=[e.byweekday.weekday],e.bynweekday=null):(e.bynweekday=[[e.byweekday.weekday,e.byweekday.n]],e.byweekday=null);else{for(var a=[],o=[],t=0;t<e.byweekday.length;t++){var u=e.byweekday[t];if(Ze(u)){a.push(u);continue}else if(Za(u)){a.push(_e.fromStr(u).weekday);continue}!u.n||e.freq>w.MONTHLY?a.push(u.weekday):o.push([u.weekday,u.n])}e.byweekday=ye(a)?a:null,e.bynweekday=ye(o)?o:null}return oe(e.byhour)?Ze(e.byhour)&&(e.byhour=[e.byhour]):e.byhour=e.freq<w.HOURLY?[e.dtstart.getUTCHours()]:null,oe(e.byminute)?Ze(e.byminute)&&(e.byminute=[e.byminute]):e.byminute=e.freq<w.MINUTELY?[e.dtstart.getUTCMinutes()]:null,oe(e.bysecond)?Ze(e.bysecond)&&(e.bysecond=[e.bysecond]):e.bysecond=e.freq<w.SECONDLY?[e.dtstart.getUTCSeconds()]:null,{parsedOptions:e}}function kf(r){var e=r.dtstart.getTime()%1e3;if(!xn(r.freq))return[];var t=[];return r.byhour.forEach(function(n){r.byminute.forEach(function(i){r.bysecond.forEach(function(s){t.push(new en(n,i,s,e))})})}),t}function Un(r){var e=r.split(`
`).map(U_).filter(function(t){return t!==null});return je(je({},e[0]),e[1])}function In(r){var e={},t=/DTSTART(?:;TZID=([^:=]+?))?(?::|=)([^;\s]+)/i.exec(r);if(!t)return e;var n=t[1],i=t[2];return n&&(e.tzid=n),e.dtstart=k.untilStringToDate(i),e}function U_(r){if(r=r.replace(/^\s+|\s+$/,""),!r.length)return null;var e=/^([A-Z]+?)[:;]/.exec(r.toUpperCase());if(!e)return Cf(r);var t=e[1];switch(t.toUpperCase()){case"RRULE":case"EXRULE":return Cf(r);case"DTSTART":return In(r);default:throw new Error("Unsupported RFC prop ".concat(t," in ").concat(r))}}function Cf(r){var e=r.replace(/^RRULE:/i,""),t=In(e),n=r.replace(/^(?:RRULE|EXRULE):/i,"").split(";");return n.forEach(function(i){var s=i.split("="),a=s[0],o=s[1];switch(a.toUpperCase()){case"FREQ":t.freq=Y[o.toUpperCase()];break;case"WKST":t.wkst=nt[o.toUpperCase()];break;case"COUNT":case"INTERVAL":case"BYSETPOS":case"BYMONTH":case"BYMONTHDAY":case"BYYEARDAY":case"BYWEEKNO":case"BYHOUR":case"BYMINUTE":case"BYSECOND":var u=F_(o),l=a.toLowerCase();t[l]=u;break;case"BYWEEKDAY":case"BYDAY":t.byweekday=q_(o);break;case"DTSTART":case"TZID":var c=In(r);t.tzid=c.tzid,t.dtstart=c.dtstart;break;case"UNTIL":t.until=k.untilStringToDate(o);break;case"BYEASTER":t.byeaster=Number(o);break;default:throw new Error("Unknown RRULE property '"+a+"'")}}),t}function F_(r){if(r.indexOf(",")!==-1){var e=r.split(",");return e.map(xf)}return xf(r)}function xf(r){return/^[+-]?\d+$/.test(r)?Number(r):r}function q_(r){var e=r.split(",");return e.map(function(t){if(t.length===2)return nt[t];var n=t.match(/^([+-]?\d{1,2})([A-Z]{2})$/);if(!n||n.length<3)throw new SyntaxError("Invalid weekday string: ".concat(t));var i=Number(n[1]),s=n[2],a=nt[s].weekday;return new _e(a,i)})}var Nr=function(){function r(e,t){if(isNaN(e.getTime()))throw new RangeError("Invalid date passed to DateWithZone");this.date=e,this.tzid=t}return Object.defineProperty(r.prototype,"isUTC",{get:function(){return!this.tzid||this.tzid.toUpperCase()==="UTC"},enumerable:!1,configurable:!0}),r.prototype.toString=function(){var e=k.timeToUntilString(this.date.getTime(),this.isUTC);return this.isUTC?":".concat(e):";TZID=".concat(this.tzid,":").concat(e)},r.prototype.getTime=function(){return this.date.getTime()},r.prototype.rezonedDate=function(){var e;if(this.isUTC)return this.date;var t=Intl.DateTimeFormat().resolvedOptions().timeZone,n=new Date(this.date.toLocaleString(void 0,{timeZone:t})),i=new Date(this.date.toLocaleString(void 0,{timeZone:(e=this.tzid)!==null&&e!==void 0?e:"UTC"})),s=i.getTime()-n.getTime();return new Date(this.date.getTime()-s)},r}();function Fn(r){for(var e=[],t="",n=Object.keys(r),i=Object.keys(Sn),s=0;s<n.length;s++)if(n[s]!=="tzid"&&!!G(i,n[s])){var a=n[s].toUpperCase(),o=r[n[s]],u="";if(!(!oe(o)||xe(o)&&!o.length)){switch(a){case"FREQ":u=w.FREQUENCIES[r.freq];break;case"WKST":Ze(o)?u=new _e(o).toString():u=o.toString();break;case"BYWEEKDAY":a="BYDAY",u=Qd(o).map(function(p){return p instanceof _e?p:xe(p)?new _e(p[0],p[1]):new _e(p)}).toString();break;case"DTSTART":t=W_(o,r.tzid);break;case"UNTIL":u=k.timeToUntilString(o,!r.tzid);break;default:if(xe(o)){for(var l=[],c=0;c<o.length;c++)l[c]=String(o[c]);u=l.toString()}else u=String(o)}u&&e.push([a,u])}}var d=e.map(function(p){var y=p[0],m=p[1];return"".concat(y,"=").concat(m.toString())}).join(";"),f="";return d!==""&&(f="RRULE:".concat(d)),[t,f].filter(function(p){return!!p}).join(`
`)}function W_(r,e){return r?"DTSTART"+new Nr(new Date(r),e).toString():""}function L_(r,e){return Array.isArray(r)?!Array.isArray(e)||r.length!==e.length?!1:r.every(function(t,n){return t.getTime()===e[n].getTime()}):r instanceof Date?e instanceof Date&&r.getTime()===e.getTime():r===e}var Sf=function(){function r(){this.all=!1,this.before=[],this.after=[],this.between=[]}return r.prototype._cacheAdd=function(e,t,n){t&&(t=t instanceof Date?k.clone(t):k.cloneDates(t)),e==="all"?this.all=t:(n._value=t,this[e].push(n))},r.prototype._cacheGet=function(e,t){var n=!1,i=t?Object.keys(t):[],s=function(c){for(var d=0;d<i.length;d++){var f=i[d];if(!L_(t[f],c[f]))return!0}return!1},a=this[e];if(e==="all")n=this.all;else if(xe(a))for(var o=0;o<a.length;o++){var u=a[o];if(!(i.length&&s(u))){n=u._value;break}}if(!n&&this.all){for(var l=new qt(e,t),o=0;o<this.all.length&&l.accept(this.all[o]);o++);n=l.getValue(),this._cacheAdd(e,n,t)}return xe(n)?k.cloneDates(n):n instanceof Date?k.clone(n):n},r}();var If=T(T(T(T(T(T(T(T(T(T(T(T(T([],B(1,31),!0),B(2,28),!0),B(3,31),!0),B(4,30),!0),B(5,31),!0),B(6,30),!0),B(7,31),!0),B(8,31),!0),B(9,30),!0),B(10,31),!0),B(11,30),!0),B(12,31),!0),B(1,7),!0),Uf=T(T(T(T(T(T(T(T(T(T(T(T(T([],B(1,31),!0),B(2,29),!0),B(3,31),!0),B(4,30),!0),B(5,31),!0),B(6,30),!0),B(7,31),!0),B(8,31),!0),B(9,30),!0),B(10,31),!0),B(11,30),!0),B(12,31),!0),B(1,7),!0),Y_=rt(1,29),$_=rt(1,30),dr=rt(1,31),qe=rt(1,32),Ff=T(T(T(T(T(T(T(T(T(T(T(T(T([],qe,!0),$_,!0),qe,!0),dr,!0),qe,!0),dr,!0),qe,!0),qe,!0),dr,!0),qe,!0),dr,!0),qe,!0),qe.slice(0,7),!0),qf=T(T(T(T(T(T(T(T(T(T(T(T(T([],qe,!0),Y_,!0),qe,!0),dr,!0),qe,!0),dr,!0),qe,!0),qe,!0),dr,!0),qe,!0),dr,!0),qe,!0),qe.slice(0,7),!0),j_=rt(-28,0),B_=rt(-29,0),fr=rt(-30,0),We=rt(-31,0),Wf=T(T(T(T(T(T(T(T(T(T(T(T(T([],We,!0),B_,!0),We,!0),fr,!0),We,!0),fr,!0),We,!0),We,!0),fr,!0),We,!0),fr,!0),We,!0),We.slice(0,7),!0),Lf=T(T(T(T(T(T(T(T(T(T(T(T(T([],We,!0),j_,!0),We,!0),fr,!0),We,!0),fr,!0),We,!0),We,!0),fr,!0),We,!0),fr,!0),We,!0),We.slice(0,7),!0),Yf=[0,31,60,91,121,152,182,213,244,274,305,335,366],$f=[0,31,59,90,120,151,181,212,243,273,304,334,365],eo=function(){for(var r=[],e=0;e<55;e++)r=r.concat(rt(7));return r}();function jf(r,e){var t=new Date(Date.UTC(r,0,1)),n=k.isLeapYear(r)?366:365,i=k.isLeapYear(r+1)?366:365,s=k.toOrdinal(t),a=k.getWeekday(t),o=je(je({yearlen:n,nextyearlen:i,yearordinal:s,yearweekday:a},G_(r)),{wnomask:null});if(Xe(e.byweekno))return o;o.wnomask=B(0,n+7);var u,l,c=u=Fe(7-a+e.wkst,7);c>=4?(c=0,l=o.yearlen+Fe(a-e.wkst,7)):l=n-c;for(var d=Math.floor(l/7),f=Fe(l,7),p=Math.floor(d+f/4),y=0;y<e.byweekno.length;y++){var m=e.byweekno[y];if(m<0&&(m+=p+1),m>0&&m<=p){var g=void 0;m>1?(g=c+(m-1)*7,c!==u&&(g-=7-u)):g=c;for(var A=0;A<7&&(o.wnomask[g]=1,g++,o.wdaymask[g]!==e.wkst);A++);}}if(G(e.byweekno,1)){var g=c+p*7;if(c!==u&&(g-=7-u),g<n)for(var y=0;y<7&&(o.wnomask[g]=1,g+=1,o.wdaymask[g]!==e.wkst);y++);}if(c){var x=void 0;if(G(e.byweekno,-1))x=-1;else{var C=k.getWeekday(new Date(Date.UTC(r-1,0,1))),z=Fe(7-C.valueOf()+e.wkst,7),ne=k.isLeapYear(r-1)?366:365,fe=void 0;z>=4?(z=0,fe=ne+Fe(C-e.wkst,7)):fe=n-c,x=Math.floor(52+Fe(fe,7)/4)}if(G(e.byweekno,x))for(var g=0;g<c;g++)o.wnomask[g]=1}return o}function G_(r){var e=k.isLeapYear(r)?366:365,t=new Date(Date.UTC(r,0,1)),n=k.getWeekday(t);return e===365?{mmask:If,mdaymask:qf,nmdaymask:Lf,wdaymask:eo.slice(n),mrange:$f}:{mmask:Uf,mdaymask:Ff,nmdaymask:Wf,wdaymask:eo.slice(n),mrange:Yf}}function Bf(r,e,t,n,i,s){var a={lastyear:r,lastmonth:e,nwdaymask:[]},o=[];if(s.freq===w.YEARLY)if(Xe(s.bymonth))o=[[0,t]];else for(var u=0;u<s.bymonth.length;u++)e=s.bymonth[u],o.push(n.slice(e-1,e+1));else s.freq===w.MONTHLY&&(o=[n.slice(e-1,e+1)]);if(Xe(o))return a;a.nwdaymask=B(0,t);for(var u=0;u<o.length;u++)for(var l=o[u],c=l[0],d=l[1]-1,f=0;f<s.bynweekday.length;f++){var p=void 0,y=s.bynweekday[f],m=y[0],g=y[1];g<0?(p=d+(g+1)*7,p-=Fe(i[p]-m,7)):(p=c+(g-1)*7,p+=Fe(7-i[p]+m,7)),c<=p&&p<=d&&(a.nwdaymask[p]=1)}return a}function Gf(r,e){e===void 0&&(e=0);var t=r%19,n=Math.floor(r/100),i=r%100,s=Math.floor(n/4),a=n%4,o=Math.floor((n+8)/25),u=Math.floor((n-o+1)/3),l=Math.floor(19*t+n-s-u+15)%30,c=Math.floor(i/4),d=i%4,f=Math.floor(32+2*a+2*c-l-d)%7,p=Math.floor((t+11*l+22*f)/451),y=Math.floor((l+f-7*p+114)/31),m=(l+f-7*p+114)%31+1,g=Date.UTC(r,y-1,m+e),A=Date.UTC(r,0,1);return[Math.ceil((g-A)/(1e3*60*60*24))]}var H_=function(){function r(e){this.options=e}return r.prototype.rebuild=function(e,t){var n=this.options;if(e!==this.lastyear&&(this.yearinfo=jf(e,n)),ye(n.bynweekday)&&(t!==this.lastmonth||e!==this.lastyear)){var i=this.yearinfo,s=i.yearlen,a=i.mrange,o=i.wdaymask;this.monthinfo=Bf(e,t,s,a,o,n)}oe(n.byeaster)&&(this.eastermask=Gf(e,n.byeaster))},Object.defineProperty(r.prototype,"lastyear",{get:function(){return this.monthinfo?this.monthinfo.lastyear:null},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"lastmonth",{get:function(){return this.monthinfo?this.monthinfo.lastmonth:null},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"yearlen",{get:function(){return this.yearinfo.yearlen},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"yearordinal",{get:function(){return this.yearinfo.yearordinal},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"mrange",{get:function(){return this.yearinfo.mrange},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"wdaymask",{get:function(){return this.yearinfo.wdaymask},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"mmask",{get:function(){return this.yearinfo.mmask},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"wnomask",{get:function(){return this.yearinfo.wnomask},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"nwdaymask",{get:function(){return this.monthinfo?this.monthinfo.nwdaymask:[]},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"nextyearlen",{get:function(){return this.yearinfo.nextyearlen},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"mdaymask",{get:function(){return this.yearinfo.mdaymask},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"nmdaymask",{get:function(){return this.yearinfo.nmdaymask},enumerable:!1,configurable:!0}),r.prototype.ydayset=function(){return[rt(this.yearlen),0,this.yearlen]},r.prototype.mdayset=function(e,t){for(var n=this.mrange[t-1],i=this.mrange[t],s=B(null,this.yearlen),a=n;a<i;a++)s[a]=a;return[s,n,i]},r.prototype.wdayset=function(e,t,n){for(var i=B(null,this.yearlen+7),s=k.toOrdinal(new Date(Date.UTC(e,t-1,n)))-this.yearordinal,a=s,o=0;o<7&&(i[s]=s,++s,this.wdaymask[s]!==this.options.wkst);o++);return[i,a,s]},r.prototype.ddayset=function(e,t,n){var i=B(null,this.yearlen),s=k.toOrdinal(new Date(Date.UTC(e,t-1,n)))-this.yearordinal;return i[s]=s,[i,s,s+1]},r.prototype.htimeset=function(e,t,n,i){var s=this,a=[];return this.options.byminute.forEach(function(o){a=a.concat(s.mtimeset(e,o,n,i))}),k.sort(a),a},r.prototype.mtimeset=function(e,t,n,i){var s=this.options.bysecond.map(function(a){return new en(e,t,a,i)});return k.sort(s),s},r.prototype.stimeset=function(e,t,n,i){return[new en(e,t,n,i)]},r.prototype.getdayset=function(e){switch(e){case Y.YEARLY:return this.ydayset.bind(this);case Y.MONTHLY:return this.mdayset.bind(this);case Y.WEEKLY:return this.wdayset.bind(this);case Y.DAILY:return this.ddayset.bind(this);default:return this.ddayset.bind(this)}},r.prototype.gettimeset=function(e){switch(e){case Y.HOURLY:return this.htimeset.bind(this);case Y.MINUTELY:return this.mtimeset.bind(this);case Y.SECONDLY:return this.stimeset.bind(this)}},r}(),Hf=H_;function zf(r,e,t,n,i,s){for(var a=[],o=0;o<r.length;o++){var u=void 0,l=void 0,c=r[o];c<0?(u=Math.floor(c/e.length),l=Fe(c,e.length)):(u=Math.floor((c-1)/e.length),l=Fe(c-1,e.length));for(var d=[],f=t;f<n;f++){var p=s[f];!oe(p)||d.push(p)}var y=void 0;u<0?y=d.slice(u)[0]:y=d[u];var m=e[l],g=k.fromOrdinal(i.yearordinal+y),A=k.combine(g,m);G(a,A)||a.push(A)}return k.sort(a),a}function hs(r,e){var t=e.dtstart,n=e.freq,i=e.interval,s=e.until,a=e.bysetpos,o=e.count;if(o===0||i===0)return Wt(r);var u=Of.fromDate(t),l=new Hf(e);l.rebuild(u.year,u.month);for(var c=V_(l,u,e);;){var d=l.getdayset(n)(u.year,u.month,u.day),f=d[0],p=d[1],y=d[2],m=K_(f,p,y,l,e);if(ye(a))for(var g=zf(a,c,p,y,l,f),A=0;A<g.length;A++){var x=g[A];if(s&&x>s)return Wt(r);if(x>=t){var C=Kf(x,e);if(!r.accept(C)||o&&(--o,!o))return Wt(r)}}else for(var A=p;A<y;A++){var z=f[A];if(!!oe(z))for(var ne=k.fromOrdinal(l.yearordinal+z),fe=0;fe<c.length;fe++){var ee=c[fe],x=k.combine(ne,ee);if(s&&x>s)return Wt(r);if(x>=t){var C=Kf(x,e);if(!r.accept(C)||o&&(--o,!o))return Wt(r)}}}if(e.interval===0||(u.add(e,m),u.year>k.MAXYEAR))return Wt(r);xn(n)||(c=l.gettimeset(n)(u.hour,u.minute,u.second,0)),l.rebuild(u.year,u.month)}}function z_(r,e,t){var n=t.bymonth,i=t.byweekno,s=t.byweekday,a=t.byeaster,o=t.bymonthday,u=t.bynmonthday,l=t.byyearday;return ye(n)&&!G(n,r.mmask[e])||ye(i)&&!r.wnomask[e]||ye(s)&&!G(s,r.wdaymask[e])||ye(r.nwdaymask)&&!r.nwdaymask[e]||a!==null&&!G(r.eastermask,e)||(ye(o)||ye(u))&&!G(o,r.mdaymask[e])&&!G(u,r.nmdaymask[e])||ye(l)&&(e<r.yearlen&&!G(l,e+1)&&!G(l,-r.yearlen+e)||e>=r.yearlen&&!G(l,e+1-r.yearlen)&&!G(l,-r.nextyearlen+e-r.yearlen))}function Kf(r,e){return new Nr(r,e.tzid).rezonedDate()}function Wt(r){return r.getValue()}function K_(r,e,t,n,i){for(var s=!1,a=e;a<t;a++){var o=r[a];s=z_(n,o,i),s&&(r[o]=null)}return s}function V_(r,e,t){var n=t.freq,i=t.byhour,s=t.byminute,a=t.bysecond;return xn(n)?kf(t):n>=w.HOURLY&&ye(i)&&!G(i,e.hour)||n>=w.MINUTELY&&ye(s)&&!G(s,e.minute)||n>=w.SECONDLY&&ye(a)&&!G(a,e.second)?[]:r.gettimeset(n)(e.hour,e.minute,e.second,e.millisecond)}var nt={MO:new _e(0),TU:new _e(1),WE:new _e(2),TH:new _e(3),FR:new _e(4),SA:new _e(5),SU:new _e(6)},Sn={freq:Y.YEARLY,dtstart:null,interval:1,wkst:nt.MO,count:null,until:null,tzid:null,bysetpos:null,bymonth:null,bymonthday:null,bynmonthday:null,byyearday:null,byweekno:null,byweekday:null,bynweekday:null,byhour:null,byminute:null,bysecond:null,byeaster:null},Nf=Object.keys(Sn),w=function(){function r(e,t){e===void 0&&(e={}),t===void 0&&(t=!1),this._cache=t?null:new Sf,this.origOptions=Ja(e);var n=Af(e).parsedOptions;this.options=n}return r.parseText=function(e,t){return Cn(e,t)},r.fromText=function(e,t){return Mf(e,t)},r.fromString=function(e){return new r(r.parseString(e)||void 0)},r.prototype._iter=function(e){return hs(e,this.options)},r.prototype._cacheGet=function(e,t){return this._cache?this._cache._cacheGet(e,t):!1},r.prototype._cacheAdd=function(e,t,n){if(!!this._cache)return this._cache._cacheAdd(e,t,n)},r.prototype.all=function(e){if(e)return this._iter(new Qa("all",{},e));var t=this._cacheGet("all");return t===!1&&(t=this._iter(new qt("all",{})),this._cacheAdd("all",t)),t},r.prototype.between=function(e,t,n,i){if(n===void 0&&(n=!1),!k.isValidDate(e)||!k.isValidDate(t))throw new Error("Invalid date passed in to RRule.between");var s={before:t,after:e,inc:n};if(i)return this._iter(new Qa("between",s,i));var a=this._cacheGet("between",s);return a===!1&&(a=this._iter(new qt("between",s)),this._cacheAdd("between",a,s)),a},r.prototype.before=function(e,t){if(t===void 0&&(t=!1),!k.isValidDate(e))throw new Error("Invalid date passed in to RRule.before");var n={dt:e,inc:t},i=this._cacheGet("before",n);return i===!1&&(i=this._iter(new qt("before",n)),this._cacheAdd("before",i,n)),i},r.prototype.after=function(e,t){if(t===void 0&&(t=!1),!k.isValidDate(e))throw new Error("Invalid date passed in to RRule.after");var n={dt:e,inc:t},i=this._cacheGet("after",n);return i===!1&&(i=this._iter(new qt("after",n)),this._cacheAdd("after",i,n)),i},r.prototype.count=function(){return this.all().length},r.prototype.toString=function(){return Fn(this.origOptions)},r.prototype.toText=function(e,t,n){return Df(this,e,t,n)},r.prototype.isFullyConvertibleToText=function(){return Pf(this)},r.prototype.clone=function(){return new r(this.origOptions)},r.FREQUENCIES=["YEARLY","MONTHLY","WEEKLY","DAILY","HOURLY","MINUTELY","SECONDLY"],r.YEARLY=Y.YEARLY,r.MONTHLY=Y.MONTHLY,r.WEEKLY=Y.WEEKLY,r.DAILY=Y.DAILY,r.HOURLY=Y.HOURLY,r.MINUTELY=Y.MINUTELY,r.SECONDLY=Y.SECONDLY,r.MO=nt.MO,r.TU=nt.TU,r.WE=nt.WE,r.TH=nt.TH,r.FR=nt.FR,r.SA=nt.SA,r.SU=nt.SU,r.parseString=Un,r.optionsToString=Fn,r}();function Vf(r,e,t,n,i,s){var a={},o=r.accept;function u(f,p){t.forEach(function(y){y.between(f,p,!0).forEach(function(m){a[Number(m)]=!0})})}i.forEach(function(f){var p=new Nr(f,s).rezonedDate();a[Number(p)]=!0}),r.accept=function(f){var p=Number(f);return isNaN(p)?o.call(this,f):!a[p]&&(u(new Date(p-1),new Date(p+1)),!a[p])?(a[p]=!0,o.call(this,f)):!0},r.method==="between"&&(u(r.args.after,r.args.before),r.accept=function(f){var p=Number(f);return a[p]?!0:(a[p]=!0,o.call(this,f))});for(var l=0;l<n.length;l++){var c=new Nr(n[l],s).rezonedDate();if(!r.accept(new Date(c.getTime())))break}e.forEach(function(f){hs(r,f.options)});var d=r._result;switch(k.sort(d),r.method){case"all":case"between":return d;case"before":return d.length&&d[d.length-1]||null;case"after":default:return d.length&&d[0]||null}}var Zf={dtstart:null,cache:!1,unfold:!1,forceset:!1,compatible:!1,tzid:null};function Z_(r,e){var t=[],n=[],i=[],s=[],a=In(r),o=a.dtstart,u=a.tzid,l=tT(r,e.unfold);return l.forEach(function(c){var d;if(!!c){var f=eT(c),p=f.name,y=f.parms,m=f.value;switch(p.toUpperCase()){case"RRULE":if(y.length)throw new Error("unsupported RRULE parm: ".concat(y.join(",")));t.push(Un(c));break;case"RDATE":var g=(d=/RDATE(?:;TZID=([^:=]+))?/i.exec(c))!==null&&d!==void 0?d:[],A=g[1];A&&!u&&(u=A),n=n.concat(Xf(m,y));break;case"EXRULE":if(y.length)throw new Error("unsupported EXRULE parm: ".concat(y.join(",")));i.push(Un(m));break;case"EXDATE":s=s.concat(Xf(m,y));break;case"DTSTART":break;default:throw new Error("unsupported property: "+p)}}}),{dtstart:o,tzid:u,rrulevals:t,rdatevals:n,exrulevals:i,exdatevals:s}}function X_(r,e){var t=Z_(r,e),n=t.rrulevals,i=t.rdatevals,s=t.exrulevals,a=t.exdatevals,o=t.dtstart,u=t.tzid,l=e.cache===!1;if(e.compatible&&(e.forceset=!0,e.unfold=!0),e.forceset||n.length>1||i.length||s.length||a.length){var c=new ro(l);return c.dtstart(o),c.tzid(u||void 0),n.forEach(function(f){c.rrule(new w(to(f,o,u),l))}),i.forEach(function(f){c.rdate(f)}),s.forEach(function(f){c.exrule(new w(to(f,o,u),l))}),a.forEach(function(f){c.exdate(f)}),e.compatible&&e.dtstart&&c.rdate(o),c}var d=n[0]||{};return new w(to(d,d.dtstart||e.dtstart||o,d.tzid||e.tzid||u),l)}function ms(r,e){return e===void 0&&(e={}),X_(r,Q_(e))}function to(r,e,t){return je(je({},r),{dtstart:e,tzid:t})}function Q_(r){var e=[],t=Object.keys(r),n=Object.keys(Zf);if(t.forEach(function(i){G(n,i)||e.push(i)}),e.length)throw new Error("Invalid options: "+e.join(", "));return je(je({},Zf),r)}function J_(r){if(r.indexOf(":")===-1)return{name:"RRULE",value:r};var e=Jd(r,":",1),t=e[0],n=e[1];return{name:t,value:n}}function eT(r){var e=J_(r),t=e.name,n=e.value,i=t.split(";");if(!i)throw new Error("empty property name");return{name:i[0].toUpperCase(),parms:i.slice(1),value:n}}function tT(r,e){if(e===void 0&&(e=!1),r=r&&r.trim(),!r)throw new Error("Invalid empty string");if(!e)return r.split(/\s/);for(var t=r.split(`
`),n=0;n<t.length;){var i=t[n]=t[n].replace(/\s+$/g,"");i?n>0&&i[0]===" "?(t[n-1]+=i.slice(1),t.splice(n,1)):n+=1:t.splice(n,1)}return t}function rT(r){r.forEach(function(e){if(!/(VALUE=DATE(-TIME)?)|(TZID=)/.test(e))throw new Error("unsupported RDATE/EXDATE parm: "+e)})}function Xf(r,e){return rT(e),r.split(",").map(function(t){return k.untilStringToDate(t)})}function Qf(r){var e=this;return function(t){if(t!==void 0&&(e["_".concat(r)]=t),e["_".concat(r)]!==void 0)return e["_".concat(r)];for(var n=0;n<e._rrule.length;n++){var i=e._rrule[n].origOptions[r];if(i)return i}}}var ro=function(r){Qr(e,r);function e(t){t===void 0&&(t=!1);var n=r.call(this,{},t)||this;return n.dtstart=Qf.apply(n,["dtstart"]),n.tzid=Qf.apply(n,["tzid"]),n._rrule=[],n._rdate=[],n._exrule=[],n._exdate=[],n}return e.prototype._iter=function(t){return Vf(t,this._rrule,this._exrule,this._rdate,this._exdate,this.tzid())},e.prototype.rrule=function(t){Jf(t,this._rrule)},e.prototype.exrule=function(t){Jf(t,this._exrule)},e.prototype.rdate=function(t){ep(t,this._rdate)},e.prototype.exdate=function(t){ep(t,this._exdate)},e.prototype.rrules=function(){return this._rrule.map(function(t){return ms(t.toString())})},e.prototype.exrules=function(){return this._exrule.map(function(t){return ms(t.toString())})},e.prototype.rdates=function(){return this._rdate.map(function(t){return new Date(t.getTime())})},e.prototype.exdates=function(){return this._exdate.map(function(t){return new Date(t.getTime())})},e.prototype.valueOf=function(){var t=[];return!this._rrule.length&&this._dtstart&&(t=t.concat(Fn({dtstart:this._dtstart}))),this._rrule.forEach(function(n){t=t.concat(n.toString().split(`
`))}),this._exrule.forEach(function(n){t=t.concat(n.toString().split(`
`).map(function(i){return i.replace(/^RRULE:/,"EXRULE:")}).filter(function(i){return!/^DTSTART/.test(i)}))}),this._rdate.length&&t.push(tp("RDATE",this._rdate,this.tzid())),this._exdate.length&&t.push(tp("EXDATE",this._exdate,this.tzid())),t},e.prototype.toString=function(){return this.valueOf().join(`
`)},e.prototype.clone=function(){var t=new e(!!this._cache);return this._rrule.forEach(function(n){return t.rrule(n.clone())}),this._exrule.forEach(function(n){return t.exrule(n.clone())}),this._rdate.forEach(function(n){return t.rdate(new Date(n.getTime()))}),this._exdate.forEach(function(n){return t.exdate(new Date(n.getTime()))}),t},e}(w);function Jf(r,e){if(!(r instanceof w))throw new TypeError(String(r)+" is not RRule instance");G(e.map(String),String(r))||e.push(r)}function ep(r,e){if(!(r instanceof Date))throw new TypeError(String(r)+" is not Date instance");G(e.map(Number),Number(r))||(e.push(r),k.sort(e))}function tp(r,e,t){var n=!t||t.toUpperCase()==="UTC",i=n?"".concat(r,":"):"".concat(r,";TZID=").concat(t,":"),s=e.map(function(a){return k.timeToUntilString(a.valueOf(),n)}).join(",");return"".concat(i).concat(s)}var H=class{static by(e,t){let n=[H.compareByUrgency,H.compareByStatus,H.compareByDueDate,H.compareByPriority,H.compareByPath],i=[];for(let{property:s,reverse:a,propertyInstance:o}of e.sorting){let u=H.comparators[s];i.push(a?H.makeReversedComparator(u):u),s==="tag"&&(H.tagPropertyInstance=o)}return t.sort(H.makeCompositeComparator([...i,...n]))}static makeReversedComparator(e){return(t,n)=>e(t,n)*-1}static makeCompositeComparator(e){return(t,n)=>{for(let i of e){let s=i(t,n);if(s!==0)return s}return 0}}static compareByUrgency(e,t){return t.urgency-e.urgency}static compareByStatus(e,t){return e.status<t.status?1:e.status>t.status?-1:0}static compareByPriority(e,t){return e.priority.localeCompare(t.priority)}static compareByStartDate(e,t){return H.compareByDate(e.startDate,t.startDate)}static compareByScheduledDate(e,t){return H.compareByDate(e.scheduledDate,t.scheduledDate)}static compareByDueDate(e,t){return H.compareByDate(e.dueDate,t.dueDate)}static compareByDoneDate(e,t){return H.compareByDate(e.doneDate,t.doneDate)}static compareByTag(e,t){if(e.tags.length===0&&t.tags.length===0)return 0;if(e.tags.length===0)return 1;if(t.tags.length===0)return-1;let n=H.tagPropertyInstance-1;return e.tags.length<H.tagPropertyInstance&&t.tags.length>=H.tagPropertyInstance?1:t.tags.length<H.tagPropertyInstance&&e.tags.length>=H.tagPropertyInstance?-1:e.tags.length<H.tagPropertyInstance&&t.tags.length<H.tagPropertyInstance?0:e.tags[n]<t.tags[n]?-1:e.tags[n]>t.tags[n]?1:0}static compareByDate(e,t){return e!==null&&t===null?-1:e===null&&t!==null?1:e!==null&&t!==null?e.isAfter(t)?1:e.isBefore(t)?-1:0:0}static compareByPath(e,t){return e.path<t.path?-1:e.path>t.path?1:0}static compareByDescription(e,t){return H.cleanDescription(e.description).localeCompare(H.cleanDescription(t.description))}static cleanDescription(e){let t=ie().globalFilter;e=e.replace(t,"").trim();let n=/^\[\[?([^\]]*)\]/,i=e.match(n);if(i!==null){let l=i[1];e=l.substring(l.indexOf("|")+1)+e.replace(n,"")}let s=/^\*\*?([^*]*)\*/,a=e.match(s);a!==null&&(e=a[1]+e.replace(n,""));let o=/^==?([^=]*)==/,u=e.match(o);return u!==null&&(e=u[1]+e.replace(o,"")),e}},Ge=H;Ge.tagPropertyInstance=1,Ge.comparators={urgency:H.compareByUrgency,description:H.compareByDescription,priority:H.compareByPriority,start:H.compareByStartDate,scheduled:H.compareByScheduledDate,due:H.compareByDueDate,done:H.compareByDoneDate,path:H.compareByPath,status:H.compareByStatus,tag:H.compareByTag};var pt=class{constructor({rrule:e,baseOnToday:t,referenceDate:n,startDate:i,scheduledDate:s,dueDate:a}){this.rrule=e,this.baseOnToday=t,this.referenceDate=n,this.startDate=i,this.scheduledDate=s,this.dueDate=a}static fromText({recurrenceRuleText:e,startDate:t,scheduledDate:n,dueDate:i}){try{let s=e.match(/^([a-zA-Z0-9, !]+?)( when done)?$/i);if(s==null)return null;let a=s[1].trim(),o=s[2]!==void 0,u=w.parseText(a);if(u!==null){let l=null;i?l=window.moment(i):n?l=window.moment(n):t&&(l=window.moment(t)),!o&&l!==null?u.dtstart=window.moment(l).startOf("day").utc(!0).toDate():u.dtstart=window.moment().startOf("day").utc(!0).toDate();let c=new w(u);return new pt({rrule:c,baseOnToday:o,referenceDate:l,startDate:t,scheduledDate:n,dueDate:i})}}catch(s){}return null}toText(){let e=this.rrule.toText();return this.baseOnToday&&(e+=" when done"),e}next(){var t;let e;if(this.baseOnToday){let n=window.moment();e=new w(Ut($e({},this.rrule.origOptions),{dtstart:n.startOf("day").utc(!0).toDate()})).after(n.endOf("day").utc(!0).toDate())}else{let n=window.moment((t=this.referenceDate)!=null?t:void 0).endOf("day").utc(!0);e=this.rrule.after(n.toDate())}if(e!==null){let i=window.moment.utc(e).local(!0).startOf("day"),s=null,a=null,o=null;if(this.referenceDate){if(this.startDate){let u=window.moment.duration(this.startDate.diff(this.referenceDate));s=window.moment(i),s.add(Math.round(u.asDays()),"days")}if(this.scheduledDate){let u=window.moment.duration(this.scheduledDate.diff(this.referenceDate));a=window.moment(i),a.add(Math.round(u.asDays()),"days")}if(this.dueDate){let u=window.moment.duration(this.dueDate.diff(this.referenceDate));o=window.moment(i),o.add(Math.round(u.asDays()),"days")}}return{startDate:s,scheduledDate:a,dueDate:o}}return null}identicalTo(e){return this.baseOnToday!==e.baseOnToday||Ge.compareByDate(this.startDate,e.startDate)!==0||Ge.compareByDate(this.scheduledDate,e.scheduledDate)!==0||Ge.compareByDate(this.dueDate,e.dueDate)!==0?!1:this.toText()===e.toText()}};var Yt=class{static calculate(e){let t=0;if(e.dueDate!==null){let n=Math.round(window.moment().diff(e.dueDate)/Yt.milliSecondsPerDay),i;n>=7?i=1:n>=-14?i=(n+14)*.8/21+.2:i=.2,t+=i*Yt.dueCoefficient}switch(e.scheduledDate!==null&&window.moment().isSameOrAfter(e.scheduledDate)&&(t+=1*Yt.scheduledCoefficient),e.startDate!==null&&window.moment().isBefore(e.startDate)&&(t+=1*Yt.startedCoefficient),e.priority){case"1":t+=1*Yt.priorityCoefficient;break;case"2":t+=.65*Yt.priorityCoefficient;break;case"3":t+=.325*Yt.priorityCoefficient;break}return t}},Lt=Yt;Lt.dueCoefficient=12,Lt.scheduledCoefficient=5,Lt.startedCoefficient=-3,Lt.priorityCoefficient=6,Lt.milliSecondsPerDay=1e3*60*60*24;var Re={High:"\u23EB",Medium:"\u{1F53C}",Low:"\u{1F53D}",None:""},Rt="\u{1F501}",wt="\u{1F6EB}",Mt="\u23F3",Dt="\u{1F4C5}",no="\u2705",I=class{constructor({status:e,description:t,path:n,indentation:i,sectionStart:s,sectionIndex:a,originalStatusCharacter:o,precedingHeader:u,priority:l,startDate:c,scheduledDate:d,dueDate:f,doneDate:p,recurrence:y,blockLink:m,tags:g}){this._urgency=null;this.status=e,this.description=t,this.path=n,this.indentation=i,this.sectionStart=s,this.sectionIndex=a,this.originalStatusCharacter=o,this.precedingHeader=u,this.tags=g,this.priority=l,this.startDate=c,this.scheduledDate=d,this.dueDate=f,this.doneDate=p,this.recurrence=y,this.blockLink=m}static fromLine({line:e,path:t,sectionStart:n,sectionIndex:i,precedingHeader:s}){let a=e.match(I.taskRegex);if(a===null)return null;let o=a[3].trim(),{globalFilter:u}=ie();if(!o.includes(u))return null;let l=o,c=a[1],d=a[2].toLowerCase(),f;switch(d){case" ":f="Todo";break;default:f="Done"}let p=l.match(this.blockLinkRegex),y=p!==null?p[0]:"";y!==""&&(l=l.replace(this.blockLinkRegex,"").trim());let m,g="3",A=null,x=null,C=null,z=null,ne="",fe=null,ee=[],M="",ge=20,ce=0;do{m=!1;let v=l.match(I.priorityRegex);if(v!==null){switch(v[1]){case Re.Low:g="4";break;case Re.Medium:g="2";break;case Re.High:g="1";break}l=l.replace(I.priorityRegex,"").trim(),m=!0}let _=l.match(I.doneDateRegex);_!==null&&(z=window.moment(_[1],I.dateFormat),l=l.replace(I.doneDateRegex,"").trim(),m=!0);let P=l.match(I.dueDateRegex);P!==null&&(C=window.moment(P[1],I.dateFormat),l=l.replace(I.dueDateRegex,"").trim(),m=!0);let E=l.match(I.scheduledDateRegex);E!==null&&(x=window.moment(E[1],I.dateFormat),l=l.replace(I.scheduledDateRegex,"").trim(),m=!0);let S=l.match(I.startDateRegex);S!==null&&(A=window.moment(S[1],I.dateFormat),l=l.replace(I.startDateRegex,"").trim(),m=!0);let O=l.match(I.recurrenceRegex);O!==null&&(ne=O[1].trim(),l=l.replace(I.recurrenceRegex,"").trim(),m=!0);let W=l.match(I.hashTagsFromEnd);if(W!=null){l=l.replace(I.hashTagsFromEnd,"").trim(),m=!0;let te=W[0].trim();M=M.length>0?[te,M].join(" "):te}ce++}while(m&&ce<=ge);ne.length>0&&(fe=pt.fromText({recurrenceRuleText:ne,startDate:A,scheduledDate:x,dueDate:C})),M.length>0&&(l+=" "+M);let D=l.match(this.hashTags);return D!==null&&(ee=D.filter(v=>v!==u).map(v=>v.trim())),new I({status:f,description:l,path:t,indentation:c,sectionStart:n,sectionIndex:i,originalStatusCharacter:d,precedingHeader:s,priority:g,startDate:A,scheduledDate:x,dueDate:C,doneDate:z,recurrence:fe,blockLink:y,tags:ee})}toLi(s){return ae(this,arguments,function*({parentUlElement:e,listIndex:t,layoutOptions:n,isFilenameUnique:i}){let a=e.createEl("li");a.addClasses(["task-list-item","plugin-tasks-list-item"]);let o=this.toString(n),{globalFilter:u,removeGlobalFilter:l}=ie();l&&(o=o.replace(u,"").trim());let c=a.createSpan();c.addClass("tasks-list-text"),yield rp.MarkdownRenderer.renderMarkdown(o,c,this.path,null);let d=c.querySelector("blockquote"),f=d!=null?d:c,p=f.querySelector("p");if(p!==null){for(;p.firstChild;)f.insertBefore(p.firstChild,p);p.remove()}c.findAll("p").forEach(m=>{m.hasChildNodes()||m.remove()}),c.findAll(".footnotes").forEach(m=>{m.remove()});let y=a.createEl("input");return y.addClass("task-list-item-checkbox"),y.type="checkbox",this.status!=="Todo"&&(y.checked=!0,a.addClass("is-checked")),y.onClickEvent(m=>{m.preventDefault(),m.stopPropagation(),y.disabled=!0;let g=this.toggle();us({originalTask:this,newTasks:g})}),a.prepend(y),a.setAttr("data-task",this.originalStatusCharacter.trim()),a.setAttr("data-line",t),y.setAttr("data-line",t),n!=null&&n.shortMode&&this.addTooltip({element:c,isFilenameUnique:i}),a})}toString(e){var i;e=e!=null?e:new Zr;let t=this.description;if(!e.hidePriority){let s="";this.priority==="1"?s=" "+Re.High:this.priority==="2"?s=" "+Re.Medium:this.priority==="4"&&(s=" "+Re.Low),t+=s}return!e.hideRecurrenceRule&&this.recurrence&&(t+=e.shortMode?" "+Rt:` ${Rt} ${this.recurrence.toText()}`),!e.hideStartDate&&this.startDate&&(t+=e.shortMode?" "+wt:` ${wt} ${this.startDate.format(I.dateFormat)}`),!e.hideScheduledDate&&this.scheduledDate&&(t+=e.shortMode?" "+Mt:` ${Mt} ${this.scheduledDate.format(I.dateFormat)}`),!e.hideDueDate&&this.dueDate&&(t+=e.shortMode?" "+Dt:` ${Dt} ${this.dueDate.format(I.dateFormat)}`),!e.hideDoneDate&&this.doneDate&&(t+=e.shortMode?" "+no:` ${no} ${this.doneDate.format(I.dateFormat)}`),t+=(i=this.blockLink)!=null?i:"",t}toFileLineString(){return`${this.indentation}- [${this.originalStatusCharacter}] ${this.toString()}`}toggle(){let e=this.status==="Todo"?"Done":"Todo",t=null,n=null;if(e!=="Todo"){let{setDoneDate:a}=ie();a&&(t=window.moment()),this.recurrence!==null&&(n=this.recurrence.next())}let i=new I(Ut($e({},this),{status:e,doneDate:t,originalStatusCharacter:e==="Done"?"x":" "})),s=[];if(n!==null){let a=new I(Ut($e($e({},this),n),{blockLink:""}));s.push(a)}return s.push(i),s}get urgency(){return this._urgency===null&&(this._urgency=Lt.calculate(this)),this._urgency}get filename(){let e=this.path.match(/([^/]+)\.md$/);return e!==null?e[1]:null}getLinkText({isFilenameUnique:e}){let t;return e?t=this.filename:t="/"+this.path,t===null?null:(this.precedingHeader!==null&&this.precedingHeader!==t&&(t=t+" > "+this.precedingHeader),t)}static tasksListsIdentical(e,t){return e.length!==t.length?!1:e.every((n,i)=>n.identicalTo(t[i]))}identicalTo(e){let t=["status","description","path","indentation","sectionStart","sectionIndex","originalStatusCharacter","precedingHeader","priority","blockLink"];for(let s of t)if(this[s]!==e[s])return!1;if(this.tags.length!==e.tags.length||!this.tags.every(function(s,a){return s===e.tags[a]}))return!1;t=["startDate","scheduledDate","dueDate","doneDate"];for(let s of t){let a=this[s],o=e[s];if(Ge.compareByDate(a,o)!==0)return!1}let n=this.recurrence,i=e.recurrence;return n===null&&i!==null||n!==null&&i===null?!1:!(n&&i&&!n.identicalTo(i))}addTooltip({element:e,isFilenameUnique:t}){e.addEventListener("mouseenter",()=>{let n=e.createDiv();n.addClasses(["tooltip","mod-right"]),this.recurrence&&n.createDiv().setText(`${Rt} ${this.recurrence.toText()}`),this.startDate&&n.createDiv().setText(I.toTooltipDate({signifier:wt,date:this.startDate})),this.scheduledDate&&n.createDiv().setText(I.toTooltipDate({signifier:Mt,date:this.scheduledDate})),this.dueDate&&n.createDiv().setText(I.toTooltipDate({signifier:Dt,date:this.dueDate})),this.doneDate&&n.createDiv().setText(I.toTooltipDate({signifier:no,date:this.doneDate}));let i=this.getLinkText({isFilenameUnique:t});i&&n.createDiv().setText(`\u{1F517} ${i}`),e.addEventListener("mouseleave",()=>{n.remove()})})}static toTooltipDate({signifier:e,date:t}){return`${e} ${t.format(I.dateFormat)} (${t.from(window.moment().startOf("day"))})`}escapeRegExp(e){return e.replace(/([.*+?^${}()|[\]/\\])/g,"\\$1")}getDescriptionWithoutGlobalFilter(){let{globalFilter:e}=ie(),t=this.description;if(e.length===0)return t;let n=RegExp("(^|\\s)"+this.escapeRegExp(e)+"($|\\s)","ug");return this.description.search(n)>-1&&(t=t.replace(n,"$1$2").replace("  "," ").trim()),t}},N=I;N.dateFormat="YYYY-MM-DD",N.indentationRegex=/^([\s\t>]*)/,N.listMarkerRegex=/[-*]/,N.checkboxRegex=/\[(.)\]/u,N.afterCheckboxRegex=/ *(.*)/u,N.taskRegex=new RegExp(I.indentationRegex.source+I.listMarkerRegex.source+" +"+I.checkboxRegex.source+I.afterCheckboxRegex.source,"u"),N.nonTaskRegex=new RegExp(I.indentationRegex.source+I.listMarkerRegex.source+"? *("+I.checkboxRegex.source+")?"+I.afterCheckboxRegex.source,"u"),N.listItemRegex=new RegExp(I.indentationRegex.source+"("+I.listMarkerRegex.source+")"),N.blockLinkRegex=/ \^[a-zA-Z0-9-]+$/u,N.priorityRegex=/([⏫🔼🔽])$/u,N.startDateRegex=/🛫 *(\d{4}-\d{2}-\d{2})$/u,N.scheduledDateRegex=/[⏳⌛] *(\d{4}-\d{2}-\d{2})$/u,N.dueDateRegex=/[📅📆🗓] *(\d{4}-\d{2}-\d{2})$/u,N.doneDateRegex=/✅ *(\d{4}-\d{2}-\d{2})$/u,N.recurrenceRegex=/🔁 ?([a-zA-Z0-9, !]+)$/iu,N.hashTags=/(^|\s)#[^ !@#$%^&*(),.?":{}|<>]*/g,N.hashTagsFromEnd=new RegExp(I.hashTags.source+"$");var pr=class{constructor({metadataCache:e,vault:t,events:n}){this.metadataCache=e,this.metadataCacheEventReferences=[],this.vault=t,this.vaultEventReferences=[],this.events=n,this.eventsEventReferences=[],this.tasksMutex=new os,this.state="Cold",this.tasks=[],this.loadedAfterFirstResolve=!1,this.subscribeToCache(),this.subscribeToVault(),this.subscribeToEvents(),this.loadVault()}unload(){for(let e of this.metadataCacheEventReferences)this.metadataCache.offref(e);for(let e of this.vaultEventReferences)this.vault.offref(e);for(let e of this.eventsEventReferences)this.events.off(e)}getTasks(){return this.tasks}getState(){return this.state}notifySubscribers(){this.events.triggerCacheUpdate({tasks:this.tasks,state:this.state})}subscribeToCache(){let e=this.metadataCache.on("resolved",()=>ae(this,null,function*(){this.loadedAfterFirstResolve||(this.loadedAfterFirstResolve=!0,this.loadVault())}));this.metadataCacheEventReferences.push(e);let t=this.metadataCache.on("changed",n=>{this.tasksMutex.runExclusive(()=>{this.indexFile(n)})});this.metadataCacheEventReferences.push(t)}subscribeToVault(){let e=this.vault.on("create",i=>{i instanceof ys.TFile&&this.tasksMutex.runExclusive(()=>{this.indexFile(i)})});this.vaultEventReferences.push(e);let t=this.vault.on("delete",i=>{i instanceof ys.TFile&&this.tasksMutex.runExclusive(()=>{this.tasks=this.tasks.filter(s=>s.path!==i.path),this.notifySubscribers()})});this.vaultEventReferences.push(t);let n=this.vault.on("rename",(i,s)=>{i instanceof ys.TFile&&this.tasksMutex.runExclusive(()=>{this.tasks=this.tasks.map(a=>a.path===s?new N(Ut($e({},a),{path:i.path})):a),this.notifySubscribers()})});this.vaultEventReferences.push(n)}subscribeToEvents(){let e=this.events.onRequestCacheUpdate(t=>{t({tasks:this.tasks,state:this.state})});this.eventsEventReferences.push(e)}loadVault(){return this.tasksMutex.runExclusive(()=>ae(this,null,function*(){this.state="Initializing",yield Promise.all(this.vault.getMarkdownFiles().map(e=>this.indexFile(e))),this.state="Warm",this.notifySubscribers()}))}indexFile(e){return ae(this,null,function*(){let t=this.metadataCache.getFileCache(e);if(t==null)return;let n=this.tasks.filter(a=>a.path===e.path),i=t.listItems,s=[];if(i!==void 0){let a=yield this.vault.cachedRead(e);s=pr.getTasksFromFileContent(a,i,t,e)}N.tasksListsIdentical(n,s)||(this.getState()=="Warm"&&console.debug(`At least one task, its line number or its heading has changed in ${e.path}: triggering a refresh of all active Tasks blocks in Live Preview and Reading mode views.`),this.tasks=this.tasks.filter(a=>a.path!==e.path),this.tasks.push(...s),this.notifySubscribers())})}static getTasksFromFileContent(e,t,n,i){let s=[],a=e.split(`
`),o=null,u=0;for(let l of t)if(l.task!==void 0){if((o===null||o.position.end.line<l.position.start.line)&&(o=pr.getSection(l.position.start.line,n.sections),u=0),o===null)continue;let c=a[l.position.start.line],d=N.fromLine({line:c,path:i.path,sectionStart:o.position.start.line,sectionIndex:u,precedingHeader:pr.getPrecedingHeader(l.position.start.line,n.headings)});d!==null&&(u++,s.push(d))}return s}static getSection(e,t){if(t===void 0)return null;for(let n of t)if(n.position.start.line<=e&&n.position.end.line>=e)return n;return null}static getPrecedingHeader(e,t){if(t===void 0)return null;let n=null;for(let i of t){if(i.position.start.line>e)return n;n=i.heading}return n}};var nd=require("obsidian");var zg=require("obsidian");function tn(){}function ao(r){return r()}function ip(){return Object.create(null)}function xr(r){r.forEach(ao)}function ap(r){return typeof r=="function"}function op(r,e){return r!=r?e==e:r!==e||r&&typeof r=="object"||typeof r=="function"}function up(r){return Object.keys(r).length===0}var lp=!1;function nT(){lp=!0}function iT(){lp=!1}function b(r,e){r.appendChild(e)}function oo(r,e,t){r.insertBefore(e,t||null)}function vs(r){r.parentNode.removeChild(r)}function U(r){return document.createElement(r)}function sT(r){return document.createElementNS("http://www.w3.org/2000/svg",r)}function $t(r){return document.createTextNode(r)}function Z(){return $t(" ")}function hr(r,e,t,n){return r.addEventListener(e,t,n),()=>r.removeEventListener(e,t,n)}function cp(r){return function(e){return e.preventDefault(),r.call(this,e)}}function $(r,e,t){t==null?r.removeAttribute(e):r.getAttribute(e)!==t&&r.setAttribute(e,t)}function aT(r){return Array.from(r.childNodes)}function dp(r,e){e=""+e,r.wholeText!==e&&(r.data=e)}function ht(r,e){r.value=e==null?"":e}function uo(r,e){for(let t=0;t<r.options.length;t+=1){let n=r.options[t];if(n.__value===e){n.selected=!0;return}}r.selectedIndex=-1}function fp(r){let e=r.querySelector(":checked")||r.options[0];return e&&e.__value}var Cr=class{constructor(e=!1){this.is_svg=!1,this.is_svg=e,this.e=this.n=null}c(e){this.h(e)}m(e,t,n=null){this.e||(this.is_svg?this.e=sT(t.nodeName):this.e=U(t.nodeName),this.t=t,this.c(e)),this.i(n)}h(e){this.e.innerHTML=e,this.n=Array.from(this.e.childNodes)}i(e){for(let t=0;t<this.n.length;t+=1)oo(this.t,this.n[t],e)}p(e){this.d(),this.h(e),this.i(this.a)}d(){this.n.forEach(vs)}};var Ln;function Wn(r){Ln=r}function oT(){if(!Ln)throw new Error("Function called outside component initialization");return Ln}function lo(r){oT().$$.on_mount.push(r)}var qn=[];var Ts=[],_s=[],sp=[],uT=Promise.resolve(),so=!1;function lT(){so||(so=!0,uT.then(pp))}function Yn(r){_s.push(r)}var io=new Set,gs=0;function pp(){let r=Ln;do{for(;gs<qn.length;){let e=qn[gs];gs++,Wn(e),cT(e.$$)}for(Wn(null),qn.length=0,gs=0;Ts.length;)Ts.pop()();for(let e=0;e<_s.length;e+=1){let t=_s[e];io.has(t)||(io.add(t),t())}_s.length=0}while(qn.length);for(;sp.length;)sp.pop()();so=!1,io.clear(),Wn(r)}function cT(r){if(r.fragment!==null){r.update(),xr(r.before_update);let e=r.dirty;r.dirty=[-1],r.fragment&&r.fragment.p(r.ctx,e),r.after_update.forEach(Yn)}}var dT=new Set;function fT(r,e){r&&r.i&&(dT.delete(r),r.i(e))}var gC=typeof window!="undefined"?window:typeof globalThis!="undefined"?globalThis:global;function pT(r,e,t,n){let{fragment:i,on_mount:s,on_destroy:a,after_update:o}=r.$$;i&&i.m(e,t),n||Yn(()=>{let u=s.map(ao).filter(ap);a?a.push(...u):xr(u),r.$$.on_mount=[]}),o.forEach(Yn)}function hp(r,e){let t=r.$$;t.fragment!==null&&(xr(t.on_destroy),t.fragment&&t.fragment.d(e),t.on_destroy=t.fragment=null,t.ctx=[])}function hT(r,e){r.$$.dirty[0]===-1&&(qn.push(r),lT(),r.$$.dirty.fill(0)),r.$$.dirty[e/31|0]|=1<<e%31}function mp(r,e,t,n,i,s,a,o=[-1]){let u=Ln;Wn(r);let l=r.$$={fragment:null,ctx:null,props:s,update:tn,not_equal:i,bound:ip(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(u?u.$$.context:[])),callbacks:ip(),dirty:o,skip_bound:!1,root:e.target||u.$$.root};a&&a(l.root);let c=!1;if(l.ctx=t?t(r,e.props||{},(d,f,...p)=>{let y=p.length?p[0]:f;return l.ctx&&i(l.ctx[d],l.ctx[d]=y)&&(!l.skip_bound&&l.bound[d]&&l.bound[d](y),c&&hT(r,d)),f}):[],l.update(),c=!0,xr(l.before_update),l.fragment=n?n(l.ctx):!1,e.target){if(e.hydrate){nT();let d=aT(e.target);l.fragment&&l.fragment.l(d),d.forEach(vs)}else l.fragment&&l.fragment.c();e.intro&&fT(r.$$.fragment),pT(r,e.target,e.anchor,e.customElement),iT(),pp()}Wn(u)}var mT;typeof HTMLElement=="function"&&(mT=class extends HTMLElement{constructor(){super(),this.attachShadow({mode:"open"})}connectedCallback(){let{on_mount:r}=this.$$;this.$$.on_disconnect=r.map(ao).filter(ap);for(let e in this.$$.slotted)this.appendChild(this.$$.slotted[e])}attributeChangedCallback(r,e,t){this[r]=t}disconnectedCallback(){xr(this.$$.on_disconnect)}$destroy(){hp(this,1),this.$destroy=tn}$on(r,e){let t=this.$$.callbacks[r]||(this.$$.callbacks[r]=[]);return t.push(e),()=>{let n=t.indexOf(e);n!==-1&&t.splice(n,1)}}$set(r){this.$$set&&!up(r)&&(this.$$.skip_bound=!0,this.$$set(r),this.$$.skip_bound=!1)}});var bs=class{$destroy(){hp(this,1),this.$destroy=tn}$on(e,t){let n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(t),()=>{let i=n.indexOf(t);i!==-1&&n.splice(i,1)}}$set(e){this.$$set&&!up(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}};var $i=as(Ee());var xO={td:"today",tm:"tomorrow",yd:"yesterday",tw:"this week",nw:"next week",weekend:"sat",we:"sat"};function Tn(r){for(let[e,t]of Object.entries(xO))r=r.replace(RegExp(`\\b${e}\\s`,"i"),t);return r}function SO(r){let e,t,n,i,s,a,o,u,l,c,d,f,p,y,m,g,A,x,C,z,ne,fe,ee,M,ge,ce,D,v,_,P,E,S,O,W,te,ue,se,dt,Le,ar,or,ft,Ne,Ce,ur,Pr,St,wd,An,Md,Dd,Qi,Pd,lr,Ji,Od,It,Ad,kn,kd,Nd,es,Cd,xd,Sd,Kr,Vr,Id,Or,ts,Ud,$a,rs=r[0].status+"",ja,Fd,ns,qd,is,Wd,Ld,Yd,Ba,$d,ss,Ga,jd;return{c(){e=U("div"),t=U("form"),n=U("div"),i=U("label"),i.textContent="Description",s=Z(),a=U("input"),o=Z(),u=U("hr"),l=Z(),c=U("div"),d=U("label"),d.textContent="Priority",f=Z(),p=U("select"),y=U("option"),y.textContent="None",m=U("option"),m.textContent=`${Re.High} High`,g=U("option"),g.textContent=`${Re.Medium} Medium`,A=U("option"),A.textContent=`${Re.Low} Low`,x=Z(),C=U("hr"),z=Z(),ne=U("div"),fe=U("label"),fe.textContent="Recurrence",ee=Z(),M=U("input"),ge=Z(),ce=U("code"),D=$t(Rt),v=Z(),_=new Cr(!1),P=Z(),E=U("hr"),S=Z(),O=U("div"),W=U("div"),te=U("label"),te.textContent="Due",ue=Z(),se=U("input"),dt=Z(),Le=U("code"),ar=$t(Dt),or=Z(),ft=new Cr(!1),Ne=Z(),Ce=U("div"),ur=U("label"),ur.textContent="Scheduled",Pr=Z(),St=U("input"),wd=Z(),An=U("code"),Md=$t(Mt),Dd=Z(),Qi=new Cr(!1),Pd=Z(),lr=U("div"),Ji=U("label"),Ji.textContent="Start",Od=Z(),It=U("input"),Ad=Z(),kn=U("code"),kd=$t(wt),Nd=Z(),es=new Cr(!1),Cd=Z(),xd=U("hr"),Sd=Z(),Kr=U("div"),Vr=U("div"),Id=$t(`Status:
                `),Or=U("input"),Ud=Z(),$a=U("code"),ja=$t(rs),Fd=Z(),ns=U("div"),qd=$t(`Done on:
                `),is=U("code"),Wd=Z(),Ld=U("hr"),Yd=Z(),Ba=U("div"),$d=Z(),ss=U("div"),ss.innerHTML='<button type="submit" class="mod-cta">Apply</button>',$(i,"for","description"),$(a,"id","description"),$(a,"type","text"),$(a,"class","tasks-modal-description"),$(a,"placeholder","Take out the trash"),$(n,"class","tasks-modal-section"),$(d,"for","priority"),y.__value="none",y.value=y.__value,m.__value="high",m.value=m.__value,g.__value="medium",g.value=g.__value,A.__value="low",A.value=A.__value,$(p,"id","priority"),$(p,"class","dropdown"),r[0].priority===void 0&&Yn(()=>r[14].call(p)),$(c,"class","tasks-modal-section"),$(fe,"for","recurrence"),$(M,"id","description"),$(M,"type","text"),$(M,"placeholder","Try 'every 2 weeks on Thursday'."),_.a=null,$(ne,"class","tasks-modal-section"),$(te,"for","due"),$(se,"id","due"),$(se,"type","text"),$(se,"placeholder",ed),ft.a=null,$(W,"class","tasks-modal-date"),$(ur,"for","scheduled"),$(St,"id","scheduled"),$(St,"type","text"),$(St,"placeholder",ed),Qi.a=null,$(Ce,"class","tasks-modal-date"),$(Ji,"for","start"),$(It,"id","start"),$(It,"type","text"),$(It,"placeholder",ed),es.a=null,$(lr,"class","tasks-modal-date"),$(O,"class","tasks-modal-section"),$(Or,"type","checkbox"),$(Or,"class","task-list-item-checkbox tasks-modal-checkbox"),Or.checked=ts=r[0].status==="Done",Or.disabled=!0,$(Kr,"class","tasks-modal-section"),$(Ba,"class","tasks-modal-section"),$(ss,"class","tasks-modal-section"),$(e,"class","tasks-modal")},m(pe,Ye){oo(pe,e,Ye),b(e,t),b(t,n),b(n,i),b(n,s),b(n,a),ht(a,r[0].description),r[13](a),b(t,o),b(t,u),b(t,l),b(t,c),b(c,d),b(c,f),b(c,p),b(p,y),b(p,m),b(p,g),b(p,A),uo(p,r[0].priority),b(t,x),b(t,C),b(t,z),b(t,ne),b(ne,fe),b(ne,ee),b(ne,M),ht(M,r[0].recurrenceRule),b(ne,ge),b(ne,ce),b(ce,D),b(ce,v),_.m(r[5],ce),b(t,P),b(t,E),b(t,S),b(t,O),b(O,W),b(W,te),b(W,ue),b(W,se),ht(se,r[0].dueDate),b(W,dt),b(W,Le),b(Le,ar),b(Le,or),ft.m(r[4],Le),b(O,Ne),b(O,Ce),b(Ce,ur),b(Ce,Pr),b(Ce,St),ht(St,r[0].scheduledDate),b(Ce,wd),b(Ce,An),b(An,Md),b(An,Dd),Qi.m(r[3],An),b(O,Pd),b(O,lr),b(lr,Ji),b(lr,Od),b(lr,It),ht(It,r[0].startDate),b(lr,Ad),b(lr,kn),b(kn,kd),b(kn,Nd),es.m(r[2],kn),b(t,Cd),b(t,xd),b(t,Sd),b(t,Kr),b(Kr,Vr),b(Vr,Id),b(Vr,Or),b(Vr,Ud),b(Vr,$a),b($a,ja),b(Kr,Fd),b(Kr,ns),b(ns,qd),b(ns,is),is.innerHTML=r[6],b(t,Wd),b(t,Ld),b(t,Yd),b(t,Ba),b(t,$d),b(t,ss),Ga||(jd=[hr(a,"input",r[12]),hr(p,"change",r[14]),hr(M,"input",r[15]),hr(se,"input",r[16]),hr(St,"input",r[17]),hr(It,"input",r[18]),hr(t,"submit",cp(r[7]))],Ga=!0)},p(pe,[Ye]){Ye&1&&a.value!==pe[0].description&&ht(a,pe[0].description),Ye&1&&uo(p,pe[0].priority),Ye&1&&M.value!==pe[0].recurrenceRule&&ht(M,pe[0].recurrenceRule),Ye&32&&_.p(pe[5]),Ye&1&&se.value!==pe[0].dueDate&&ht(se,pe[0].dueDate),Ye&16&&ft.p(pe[4]),Ye&1&&St.value!==pe[0].scheduledDate&&ht(St,pe[0].scheduledDate),Ye&8&&Qi.p(pe[3]),Ye&1&&It.value!==pe[0].startDate&&ht(It,pe[0].startDate),Ye&4&&es.p(pe[2]),Ye&1&&ts!==(ts=pe[0].status==="Done")&&(Or.checked=ts),Ye&1&&rs!==(rs=pe[0].status+"")&&dp(ja,rs),Ye&64&&(is.innerHTML=pe[6])},i:tn,o:tn,d(pe){pe&&vs(e),r[13](null),Ga=!1,xr(jd)}}}var ed="Try 'Monday' or 'tomorrow', or [td|tm|yd|tw|nw|we] then space.";function IO(r,e,t){var n,i;let{task:s}=e,{onSubmit:a}=e,o,u={description:"",status:"Todo",priority:"none",recurrenceRule:"",startDate:"",scheduledDate:"",dueDate:"",doneDate:""},l="",c="",d="",f="",p="",y=!1;function m(M,ge,ce=void 0){if(!ge)return`<i>no ${M} date</i>`;let D=$i.parseDate(ge,ce,{forwardDate:ce!=null});return D!==null?window.moment(D).format("YYYY-MM-DD"):`<i>invalid ${M} date</i>`}lo(()=>{let{globalFilter:M}=ie(),ge=s.getDescriptionWithoutGlobalFilter();(ge!=s.description||ge.indexOf(M)==-1)&&(y=!0);let ce="none";s.priority==="4"?ce="low":s.priority==="2"?ce="medium":s.priority==="1"&&(ce="high"),t(0,u={description:ge,status:s.status,priority:ce,recurrenceRule:s.recurrence?s.recurrence.toText():"",startDate:s.startDate?s.startDate.format("YYYY-MM-DD"):"",scheduledDate:s.scheduledDate?s.scheduledDate.format("YYYY-MM-DD"):"",dueDate:s.dueDate?s.dueDate.format("YYYY-MM-DD"):"",doneDate:s.doneDate?s.doneDate.format("YYYY-MM-DD"):""}),setTimeout(()=>{o.focus()},10)});let g=()=>{let{globalFilter:M}=ie(),ge=u.description.trim();y&&(ge=M+" "+ge);let ce=null,D=$i.parseDate(u.startDate,new Date,{forwardDate:!0});D!==null&&(ce=window.moment(D));let v=null,_=$i.parseDate(u.scheduledDate,new Date,{forwardDate:!0});_!==null&&(v=window.moment(_));let P=null,E=$i.parseDate(u.dueDate,new Date,{forwardDate:!0});E!==null&&(P=window.moment(E));let S=null;u.recurrenceRule&&(S=pt.fromText({recurrenceRuleText:u.recurrenceRule,startDate:ce,scheduledDate:v,dueDate:P}));let O;switch(u.priority){case"low":O="4";break;case"medium":O="2";break;case"high":O="1";break;default:O="3"}let W=new N(Object.assign(Object.assign({},s),{description:ge,status:u.status,priority:O,recurrence:S,startDate:ce,scheduledDate:v,dueDate:P,doneDate:window.moment(u.doneDate,"YYYY-MM-DD").isValid()?window.moment(u.doneDate,"YYYY-MM-DD"):null}));a([W])};function A(){u.description=this.value,t(0,u)}function x(M){Ts[M?"unshift":"push"](()=>{o=M,t(1,o)})}function C(){u.priority=fp(this),t(0,u)}function z(){u.recurrenceRule=this.value,t(0,u)}function ne(){u.dueDate=this.value,t(0,u)}function fe(){u.scheduledDate=this.value,t(0,u)}function ee(){u.startDate=this.value,t(0,u)}return r.$$set=M=>{"task"in M&&t(8,s=M.task),"onSubmit"in M&&t(9,a=M.onSubmit)},r.$$.update=()=>{if(r.$$.dirty&1){e:t(0,u.startDate=Tn(u.startDate),u),t(2,l=m("start",u.startDate,new Date))}if(r.$$.dirty&1){e:t(0,u.scheduledDate=Tn(u.scheduledDate),u),t(3,c=m("scheduled",u.scheduledDate,new Date))}if(r.$$.dirty&1){e:t(0,u.dueDate=Tn(u.dueDate),u),t(4,d=m("due",u.dueDate,new Date))}if(r.$$.dirty&3073){e:u.recurrenceRule?t(5,f=t(11,i=t(10,n=pt.fromText({recurrenceRuleText:u.recurrenceRule,startDate:null,scheduledDate:null,dueDate:null}))===null||n===void 0?void 0:n.toText())!==null&&i!==void 0?i:"<i>invalid recurrence rule</i>"):t(5,f="<i>not recurring</>")}if(r.$$.dirty&1){e:t(6,p=m("done",u.doneDate))}},[u,o,l,c,d,f,p,g,s,a,n,i,A,x,C,z,ne,fe,ee]}var td=class extends bs{constructor(e){super(),mp(this,e,IO,SO,op,{task:8,onSubmit:9})}},Hg=td;var bn=class extends zg.Modal{constructor({app:t,task:n,onSubmit:i}){super(t);this.task=n,this.onSubmit=s=>{i(s),this.close()}}onOpen(){this.titleEl.setText("Create or edit Task");let{contentEl:t}=this;new Hg({target:t,props:{task:this.task,onSubmit:this.onSubmit}})}onClose(){let{contentEl:t}=this;t.empty()}};var Kg=(r,e,t,n)=>{var d;if(r)return t instanceof nd.MarkdownView;if(!(t instanceof nd.MarkdownView))return;let i=(d=t.file)==null?void 0:d.path;if(i===void 0)return;let a=e.getCursor().line,o=e.getLine(a),u=UO({line:o,path:i}),l=f=>{let p=f.map(y=>y.toFileLineString()).join(`
`);e.setLine(a,p)};new bn({app:n,task:u,onSubmit:l}).open()},UO=({line:r,path:e})=>{var c;let t=N.fromLine({line:r,path:e,sectionStart:0,sectionIndex:0,precedingHeader:null});if(t!==null)return t;let n=r.match(N.nonTaskRegex);if(n===null)return console.error("Tasks: Cannot create task on line:",r),new N({status:"Todo",description:"",path:e,indentation:"",originalStatusCharacter:" ",priority:"3",startDate:null,scheduledDate:null,dueDate:null,doneDate:null,recurrence:null,sectionStart:0,sectionIndex:0,precedingHeader:null,blockLink:"",tags:[]});let i=n[1],s=(c=n[3])!=null?c:" ",a=s===" "?"Todo":"Done",o=n[4],u=r.match(N.blockLinkRegex),l=u!==null?u[0]:"";return l!==""&&(o=o.replace(N.blockLinkRegex,"")),new N({status:a,description:o,path:e,indentation:i,originalStatusCharacter:s,blockLink:l,priority:"3",startDate:null,scheduledDate:null,dueDate:null,doneDate:null,recurrence:null,sectionStart:0,sectionIndex:0,precedingHeader:null,tags:[]})};var id=require("obsidian");var Vg=(r,e,t)=>{var u;if(r)return t instanceof id.MarkdownView;if(!(t instanceof id.MarkdownView))return;let n=(u=t.file)==null?void 0:u.path;if(n===void 0)return;let i=e.getCursor(),s=i.line,a=e.getLine(s),o=FO({line:a,path:n});e.setLine(s,o),/[^ [\]*-]/.test(o)&&e.setCursor({line:i.line,ch:i.ch+o.length-a.length})},FO=({line:r,path:e})=>{let t=r,n=N.fromLine({line:r,path:e,sectionStart:0,sectionIndex:0,precedingHeader:null});if(n!==null)t=qO({task:n});else{let i=r.match(N.taskRegex);i!==null?t=WO({regexMatch:i}):N.listItemRegex.test(r)?t=r.replace(N.listItemRegex,"$1$2 [ ]"):t=r.replace(N.indentationRegex,"$1- ")}return t},qO=({task:r})=>r.toggle().map(n=>n.toFileLineString()).join(`
`),WO=({regexMatch:r})=>{let e=r[1],t=r[2].toLowerCase(),n=r[3];return`${e}- [${t===" "?"x":" "}] ${n}`};var pa=class{get app(){return this.plugin.app}constructor({plugin:e}){this.plugin=e,e.addCommand({id:"edit-task",name:"Create or edit task",icon:"pencil",editorCheckCallback:(t,n,i)=>Kg(t,n,i,this.app)}),e.addCommand({id:"toggle-done",name:"Toggle task done",icon:"check-in-circle",editorCheckCallback:Vg})}};var ha=class{constructor({obsidianEvents:e}){this.obsidianEvents=e}onCacheUpdate(e){return this.obsidianEvents.on("obsidian-tasks-plugin:cache-update",e)}triggerCacheUpdate(e){this.obsidianEvents.trigger("obsidian-tasks-plugin:cache-update",e)}onRequestCacheUpdate(e){return this.obsidianEvents.on("obsidian-tasks-plugin:request-cache-update",e)}triggerRequestCacheUpdate(e){this.obsidianEvents.trigger("obsidian-tasks-plugin:request-cache-update",e)}off(e){this.obsidianEvents.offref(e)}};var ma=class{constructor({plugin:e}){this.markdownPostProcessor=this._markdownPostProcessor.bind(this);e.registerMarkdownPostProcessor(this._markdownPostProcessor.bind(this))}_markdownPostProcessor(e,t){return ae(this,null,function*(){var c;let{globalFilter:n}=ie(),i=e.findAll(".task-list-item").filter(d=>{var y;let f=(y=d.textContent)==null?void 0:y.split(`
`);if(f===void 0)return!1;let p=null;for(let m=0;m<f.length;m=m+1)if(f[m]!==""){p=f[m];break}return p===null?!1:p.includes(n)});if(i.length===0)return;let s=t.sourcePath,a=t.getSectionInfo(e);if(a===null)return;let o=a.text.split(`
`),u=0,l=[];for(let d=a.lineStart;d<=a.lineEnd;d++){let f=o[d];if(f===void 0)continue;let p=N.fromLine({line:f,path:s,sectionStart:a.lineStart,sectionIndex:u,precedingHeader:null});p!==null&&(l.push(p),u++)}for(let d=0;d<i.length;d++){let f=l[d],p=i[d];if(f===void 0||p===void 0)continue;let y=(c=p.getAttr("data-line"))!=null?c:"0",m=Number.parseInt(y,10),g=yield f.toLi({parentUlElement:e,listIndex:m}),A=p.childNodes;for(let z=0;z<A.length;z=z+1){let ne=A[z];ne.nodeName.toLowerCase()==="div"?g.prepend(ne):ne.nodeName.toLowerCase()==="ul"&&g.append(ne)}let x=p.querySelectorAll("[data-footnote-id]"),C=g.querySelectorAll("[data-footnote-id]");if(x.length===C.length)for(let z=0;z<x.length;z++)C[z].replaceWith(x[z]);p.replaceWith(g)}})}};var Zg=require("@codemirror/view"),Xg=require("obsidian");var Qg=()=>Zg.ViewPlugin.fromClass(sd),sd=class{constructor(e){this.view=e,this.handleClickEvent=this.handleClickEvent.bind(this),this.view.dom.addEventListener("click",this.handleClickEvent)}destroy(){this.view.dom.removeEventListener("click",this.handleClickEvent)}handleClickEvent(e){let{target:t}=e;if(!t||!(t instanceof HTMLInputElement)||t.type!=="checkbox")return!1;let n=t.closest("ul.plugin-tasks-query-result, div.callout-content");if(n){if(n.matches("div.callout-content")){let f=`obsidian-tasks-plugin warning: Tasks cannot add or remove completion dates or make the next copy of a recurring task for tasks written inside a callout when you click their checkboxes in Live Preview. 
If you wanted Tasks to do these things, please undo your change, then either click the line of the task and use the "Toggle Task Done" command, or switch to Reading View to click the checkbox.`;console.warn(f),new Xg.Notice(f,45e3)}return!1}let{state:i}=this.view,s=this.view.posAtDOM(t),a=i.doc.lineAt(s),o=N.fromLine({line:a.text,path:"",sectionStart:0,sectionIndex:0,precedingHeader:null});if(console.debug(`Live Preview Extension: toggle called. Position: ${s} Line: ${a.text}`),o===null)return!1;e.preventDefault();let l=o.toggle().map(f=>f.toFileLineString()).join(i.lineBreak),c=i.update({changes:{from:a.from,to:a.to,insert:l}});this.view.dispatch(c);let d=t.checked;return setTimeout(()=>{t.checked=d},1),!0}};var p_=require("obsidian");var ya=class{constructor(e,t){this.nestingLevel=e,this.name=t}};var ga=class{constructor(e){this.lastHeadingAtLevel=new Array;let n=e.keys().next().value.length;for(let i=0;i<n;i++)this.lastHeadingAtLevel.push("")}getHeadingsForTaskGroup(e){let t=new Array;for(let n=0;n<e.length;n++){let i=e[n];if(i!=this.lastHeadingAtLevel[n]){t.push(new ya(n,i));for(let s=n;s<e.length;s++)this.lastHeadingAtLevel[s]="";this.lastHeadingAtLevel[n]=i}}return t}};var _a=class{constructor(e){this.children=new Map;this.values=[];this.values=e}generateAllPaths(e=[]){let t=new Map;if(this.children.size==0)return t.set([...e],this.values),t;for(let[n,i]of this.children)e.push(n),i.generateAllPaths(e).forEach((a,o)=>t.set(o,a)),e.pop();return t}};var Ta=class extends Map{},ba=class extends _a{},va=class{constructor(e,t){this.groups=new Ta;let n=this.buildGroupingTree(e,t);this.groups=n.generateAllPaths(),this.groups=this.getSortedGroups()}buildGroupingTree(e,t){let n=new ba(t),i=[n];for(let s of e){let a=[];for(let o of i)for(let u of o.values){let l=Er.getGroupNamesForTask(s.property,u);for(let c of l){let d=o.children.get(c);d===void 0&&(d=new ba([]),o.children.set(c,d),a.push(d)),d.values.push(u)}}i=a}return n}getSortedGroups(){return new Ta([...this.groups.entries()].sort())}};var Ea=class{constructor(e,t,n){this.groups=e,this.groupHeadings=t,this.tasks=n}tasksAsStringOfLines(){let e="";for(let t of this.tasks)e+=t.toFileLineString()+`
`;return e}toString(){let e=`
`;e+=`Group names: [${this.groups}]
`;for(let t of this.groupHeadings)e+=`${"#".repeat(4+t.nestingLevel)} ${t.name}
`;return e+=this.tasksAsStringOfLines(),e}};var Ra=class{constructor(e,t){this._groups=new Array;this._totalTaskCount=0;this._totalTaskCount=t.length;let n=new va(e,t);this.addTasks(n)}get groups(){return this._groups}totalTasksCount(){return this._totalTaskCount}toString(){let e="";for(let n of this.groups)e+=n.toString(),e+=`
---
`;return e+=`
${this.totalTasksCount()} tasks
`,e}addTasks(e){let t=new ga(e.groups);for(let[n,i]of e.groups){let s=t.getHeadingsForTaskGroup(n),a=new Ea(n,s,i);this.add(a)}}add(e){this._groups.push(e)}};var Jg=as(Ee()),Qt=class{static parseDate(e,t=!1){return window.moment(Jg.parseDate(e,void 0,{forwardDate:t})).startOf("day")}};var de=class{canCreateFilterForLine(e){return de.lineMatchesFilter(this.filterRegexp(),e)}static lineMatchesFilter(e,t){return e?e.test(t):!1}static getMatch(e,t){return e?t.match(e):null}};var J=class{static fromFilter(e){let t=new J;return t.filter=e,t}static fromError(e){let t=new J;return t.error=e,t}};var Rr=class extends de{canCreateFilterForLine(e){return e===Rr.instructionForFieldPresence||e===Rr.instructionForFieldAbsence?!0:super.canCreateFilterForLine(e)}createFilterOrErrorMessage(e){let t=new J;if(e===Rr.instructionForFieldPresence){let i=new J;return i.filter=s=>this.dates(s).some(a=>a!==null),i}if(e===Rr.instructionForFieldAbsence){let i=new J;return i.filter=s=>!this.dates(s).some(a=>a!==null),i}let n=de.getMatch(this.filterRegexp(),e);if(n!==null){let i=Qt.parseDate(n[2]);i.isValid()?n[1]==="before"?t.filter=s=>this.dates(s).some(a=>a&&a.isBefore(i)):n[1]==="after"?t.filter=s=>this.dates(s).some(a=>a&&a.isAfter(i)):t.filter=s=>this.dates(s).some(a=>a&&a.isSame(i)):t.error="do not understand happens date"}else t.error="do not understand query filter (happens date)";return t}earliestDate(e){return new Rr().dates(e).sort(Ge.compareByDate)[0]}filterRegexp(){return Rr.happensRegexp}dates(e){return Array.of(e.startDate,e.scheduledDate,e.dueDate)}fieldName(){return"happens"}},Jt=Rr;Jt.happensRegexp=/^happens (before|after|on)? ?(.*)/,Jt.instructionForFieldPresence="has happens date",Jt.instructionForFieldAbsence="no happens date";var le=class{static by(e,t){return new Ra(e,t)}static getGroupNamesForTask(e,t){let n=le.groupers[e];return n(t)}static groupByPriority(e){let t="ERROR";switch(e.priority){case"1":t="High";break;case"2":t="Medium";break;case"3":t="None";break;case"4":t="Low";break}return[`Priority ${e.priority}: ${t}`]}static groupByRecurrence(e){return e.recurrence!==null?[e.recurrence.toText()]:["None"]}static groupByRecurring(e){return e.recurrence!==null?["Recurring"]:["Not Recurring"]}static groupByStartDate(e){return[le.stringFromDate(e.startDate,"start")]}static groupByScheduledDate(e){return[le.stringFromDate(e.scheduledDate,"scheduled")]}static groupByDueDate(e){return[le.stringFromDate(e.dueDate,"due")]}static groupByDoneDate(e){return[le.stringFromDate(e.doneDate,"done")]}static groupByHappensDate(e){let t=new Jt().earliestDate(e);return[le.stringFromDate(t,"happens")]}static stringFromDate(e,t){return e===null?"No "+t+" date":e.format(le.groupDateFormat)}static groupByPath(e){return[e.path.replace(".md","")]}static groupByFolder(e){let t=e.path,n=e.filename+".md",i=t.substring(0,t.lastIndexOf(n));return i===""?["/"]:[i]}static groupByFileName(e){let t=e.filename;return t===null?["Unknown Location"]:[t]}static groupByRoot(e){let t=e.path.replace(/\\/g,"/"),n=t.indexOf("/");return n==-1?["/"]:[t.substring(0,n+1)]}static groupByBacklink(e){let t=e.getLinkText({isFilenameUnique:!0});return t===null?["Unknown Location"]:[t]}static groupByStatus(e){return[e.status]}static groupByHeading(e){return e.precedingHeader===null||e.precedingHeader.length===0?["(No heading)"]:[e.precedingHeader]}static groupByTags(e){return e.tags.length==0?["(No tags)"]:e.tags}},Er=le;Er.groupDateFormat="YYYY-MM-DD dddd",Er.groupers={backlink:le.groupByBacklink,done:le.groupByDoneDate,due:le.groupByDueDate,filename:le.groupByFileName,folder:le.groupByFolder,happens:le.groupByHappensDate,heading:le.groupByHeading,path:le.groupByPath,priority:le.groupByPriority,recurrence:le.groupByRecurrence,recurring:le.groupByRecurring,root:le.groupByRoot,scheduled:le.groupByScheduledDate,start:le.groupByStartDate,status:le.groupByStatus,tags:le.groupByTags};var vn=class{matchesAnyOf(e){return e.some(t=>this.matches(t))}};var er=class extends vn{constructor(t){super();this.stringToFind=t}matches(t){return er.stringIncludesCaseInsensitive(t,this.stringToFind)}static stringIncludesCaseInsensitive(t,n){return t.toLocaleLowerCase().includes(n.toLocaleLowerCase())}};var wr=class extends vn{constructor(t){super();this.regex=t}static validateAndConstruct(t){let n=/\/((?![*+?])(?:[^\r\n[/\\]|\\.|\[(?:[^\r\n\]\\]|\\.)*])+)\/((?:g(?:im?|mi?)?|i(?:gm?|mg?)?|m(?:gi?|ig?)?)?)/,i=t.match(n);if(i!==null){let s=new RegExp(i[1],i[2]);return new wr(s)}else return null}matches(t){return t.match(this.regex)!==null}};var Ve=class extends de{createFilterOrErrorMessage(e){let t=de.getMatch(this.filterRegexp(),e);if(t===null)return J.fromError(`do not understand query filter (${this.fieldName()})`);let n=t[1],i=t[2],s=null;if(["includes","does not include"].includes(n))s=new er(i);else if(["regex matches","regex does not match"].includes(n)&&(s=wr.validateAndConstruct(i),s===null))return J.fromError(`cannot parse regex (${this.fieldName()}); check your leading and trailing slashes for your query`);return s===null?J.fromError(`do not understand query filter (${this.fieldName()})`):J.fromFilter(a=>Ve.maybeNegate(s.matches(this.value(a)),n))}static stringIncludesCaseInsensitive(e,t){return er.stringIncludesCaseInsensitive(e,t)}filterRegexp(){return new RegExp(`^${this.fieldName()} (includes|does not include|regex matches|regex does not match) (.*)`)}static maybeNegate(e,t){return t.match(/not/)?!e:e}};var wa=class extends Ve{fieldName(){return"description"}value(e){let t=ie().globalFilter;return e.description.replace(t,"").trim()}};var Ct=class extends de{constructor(){super(...arguments);this.instructionForFieldPresence=`has ${this.fieldName()} date`;this.instructionForFieldAbsence=`no ${this.fieldName()} date`}canCreateFilterForLine(t){return t===this.instructionForFieldPresence||t===this.instructionForFieldAbsence?!0:super.canCreateFilterForLine(t)}createFilterOrErrorMessage(t){let n=new J;if(t===this.instructionForFieldPresence)return n.filter=s=>this.date(s)!==null,n;if(t===this.instructionForFieldAbsence)return n.filter=s=>this.date(s)===null,n;let i=de.getMatch(this.filterRegexp(),t);if(i!==null){let s=Qt.parseDate(i[2]);s.isValid()?i[1]==="before"?n.filter=a=>{let o=this.date(a);return o?o.isBefore(s):this.filterResultIfFieldMissing()}:i[1]==="after"?n.filter=a=>{let o=this.date(a);return o?o.isAfter(s):this.filterResultIfFieldMissing()}:n.filter=a=>{let o=this.date(a);return o?o.isSame(s):this.filterResultIfFieldMissing()}:n.error="do not understand "+this.fieldName()+" date"}else n.error="do not understand query filter ("+this.fieldName()+" date)";return n}};var ad=class extends Ct{filterRegexp(){return ad.doneRegexp}fieldName(){return"done"}date(e){return e.doneDate}filterResultIfFieldMissing(){return!1}},ji=ad;ji.doneRegexp=/^done (before|after|on)? ?(.*)/;var od=class extends Ct{filterRegexp(){return od.dueRegexp}fieldName(){return"due"}date(e){return e.dueDate}filterResultIfFieldMissing(){return!1}},Bi=od;Bi.dueRegexp=/^due (before|after|on)? ?(.*)/;var Ma=class{constructor(e,t){this._instruction=e,this._filter=t}canCreateFilterForLine(e){return e==this._instruction}createFilterOrErrorMessage(e){let t=new J;return e===this._instruction?(t.filter=this._filter,t):(t.error=`do not understand filter: ${e}`,t)}};var Da=class{constructor(){this._filters=[]}add(e,t){this._filters.push(new Ma(e,t))}canCreateFilterForLine(e){for(let t of this._filters)if(t.canCreateFilterForLine(e))return!0;return!1}createFilterOrErrorMessage(e){for(let n of this._filters){let i=n.createFilterOrErrorMessage(e);if(i.error===void 0)return i}let t=new J;return t.error=`do not understand filter: ${e}`,t}};var Mr=class extends de{constructor(){super(...arguments);this._filters=new Da}canCreateFilterForLine(t){return this._filters.canCreateFilterForLine(t)}createFilterOrErrorMessage(t){return this._filters.createFilterOrErrorMessage(t)}filterRegexp(){return null}};var Pa=class extends Mr{constructor(){super(),this._filters.add("exclude sub-items",e=>{if(e.indentation==="")return!0;let t=e.indentation.lastIndexOf(">");return t===-1?!1:/^ ?$/.test(e.indentation.slice(t+1))})}fieldName(){return"exclude"}};var Oa=class extends Ve{fieldName(){return"heading"}value(e){return e.precedingHeader?e.precedingHeader:""}};var Aa=class extends Ve{fieldName(){return"path"}value(e){return e.path}};var ud=class extends de{createFilterOrErrorMessage(e){let t=new J,n=de.getMatch(this.filterRegexp(),e);if(n!==null){let i=n[3],s=null;switch(i){case"low":s="4";break;case"none":s="3";break;case"medium":s="2";break;case"high":s="1";break}if(s===null)return t.error="do not understand priority",t;let a;n[2]==="above"?a=o=>o.priority?o.priority.localeCompare(s)<0:!1:n[2]==="below"?a=o=>o.priority?o.priority.localeCompare(s)>0:!1:a=o=>o.priority?o.priority===s:!1,t.filter=a}else t.error="do not understand query filter (priority)";return t}fieldName(){return"priority"}filterRegexp(){return ud.priorityRegexp}},Gi=ud;Gi.priorityRegexp=/^priority (is )?(above|below)? ?(low|none|medium|high)/;var ld=class extends Ct{filterRegexp(){return ld.scheduledRegexp}fieldName(){return"scheduled"}date(e){return e.scheduledDate}filterResultIfFieldMissing(){return!1}},Hi=ld;Hi.scheduledRegexp=/^scheduled (before|after|on)? ?(.*)/;var cd=class extends Ct{filterRegexp(){return cd.startRegexp}fieldName(){return"start"}date(e){return e.startDate}filterResultIfFieldMissing(){return!0}},zi=cd;zi.startRegexp=/^starts (before|after|on)? ?(.*)/;var ka=class extends Mr{constructor(){super(),this._filters.add("is recurring",e=>e.recurrence!==null),this._filters.add("is not recurring",e=>e.recurrence===null)}fieldName(){return"recurring"}};var Na=class extends Mr{constructor(){super(),this._filters.add("done",e=>e.status==="Done"),this._filters.add("not done",e=>e.status!=="Done")}fieldName(){return"status"}};var dd=class extends de{createFilterOrErrorMessage(e){let t=de.getMatch(this.filterRegexp(),e);if(t===null)return J.fromError(`do not understand query filter (${this.fieldName()})`);let n=t[2],i=t[3],s=null;if(n.includes("include"))s=new er(i);else if(n.includes("regex")&&(s=wr.validateAndConstruct(i),s===null))return J.fromError(`cannot parse regex (${this.fieldName()}); check your leading and trailing slashes for your query`);return s===null?J.fromError(`do not understand query filter (${this.fieldName()})`):J.fromFilter(a=>Ve.maybeNegate(s.matchesAnyOf(a.tags),n))}fieldName(){return"tag/tags"}filterRegexp(){return dd.tagRegexp}},Ki=dd;Ki.tagRegexp=/^(tag|tags) (includes|does not include|include|do not include|regex matches|regex does not match) (.*)/;var f_=as(d_());var Ia=class extends de{constructor(){super(...arguments);this.basicBooleanRegexp=/.*(AND|OR|XOR|NOT)\s*[("].*/g;this.supportedOperators=["AND","OR","XOR","NOT"];this.subFields={}}filterRegexp(){return this.basicBooleanRegexp}createFilterOrErrorMessage(t){return this.parseLine(t)}fieldName(){return"boolean query"}parseLine(t){let n=new J;if(t.length===0)return n.error="empty line",n;let i=this.preprocessExpression(t);try{let s=(0,f_.parse)(i);for(let a of s)if(a.name==="IDENTIFIER"&&a.value){let o=a.value.trim();if(!(o in this.subFields)){let u=Ua(o);if(u===null)return n.error=`couldn't parse sub-expression '${o}'`,n;if(u.error)return n.error=`couldn't parse sub-expression '${o}': ${u.error}`,n;u.filter&&(this.subFields[o]=u.filter)}}else if(a.name==="OPERATOR"){if(a.value==null)return n.error="empty operator in boolean query",n;if(!this.supportedOperators.includes(a.value))return n.error=`unknown boolean operator '${a.value}'`,n}return n.filter=a=>this.filterTaskWithParsedQuery(a,s),n}catch(s){let a=s instanceof Error?s.message:"unknown error type";return n.error=`malformed boolean query -- ${a} (check the documentation for guidelines)`,n}return n}preprocessExpression(t){return t.replace(/\(([^()]+)\)/g,'("$1")')}filterTaskWithParsedQuery(t,n){let i=o=>o==="true",s=o=>o?"true":"false",a=[];for(let o of n)if(o.name==="IDENTIFIER"){if(o.value==null)throw Error("null token value");let u=this.subFields[o.value.trim()],l=u(t);a.push(s(l))}else if(o.name==="OPERATOR")if(o.value==="NOT"){let u=i(a.pop());a.push(s(!u))}else if(o.value==="OR"){let u=i(a.pop()),l=i(a.pop());a.push(s(u||l))}else if(o.value==="AND"){let u=i(a.pop()),l=i(a.pop());a.push(s(u&&l))}else if(o.value==="XOR"){let u=i(a.pop()),l=i(a.pop());a.push(s(u&&!l||!u&&l))}else throw Error("Unsupported operator: "+o.value);else throw Error("Unsupported token type: "+o);return i(a[0])}};var Fa=class extends Ve{fieldName(){return"filename"}value(e){let t=e.filename;return t===null?"":t+".md"}};var KO=[()=>new Na,()=>new ka,()=>new Gi,()=>new Jt,()=>new zi,()=>new Hi,()=>new Bi,()=>new ji,()=>new Aa,()=>new wa,()=>new Ki,()=>new Oa,()=>new Pa,()=>new Ia,()=>new Fa];function Ua(r){for(let e of KO){let t=e();if(t.canCreateFilterForLine(r))return t.createFilterOrErrorMessage(r)}return null}var Pn=class{constructor({source:e}){this._limit=void 0;this._layoutOptions=new Zr;this._filters=[];this._error=void 0;this._sorting=[];this._grouping=[];this.sortByRegexp=/^sort by (urgency|status|priority|start|scheduled|due|done|path|description|tag)( reverse)?[\s]*(\d+)?/;this.groupByRegexp=/^group by (backlink|done|due|filename|folder|happens|heading|path|priority|recurrence|recurring|root|scheduled|start|status|tags)/;this.hideOptionsRegexp=/^hide (task count|backlink|priority|start date|scheduled date|done date|due date|recurrence rule|edit button)/;this.shortModeRegexp=/^short/;this.limitRegexp=/^limit (to )?(\d+)( tasks?)?/;this.commentRegexp=/^#.*/;this.source=e,e.split(`
`).map(t=>t.trim()).forEach(t=>{switch(!0){case t==="":break;case this.shortModeRegexp.test(t):this._layoutOptions.shortMode=!0;break;case this.limitRegexp.test(t):this.parseLimit({line:t});break;case this.sortByRegexp.test(t):this.parseSortBy({line:t});break;case this.groupByRegexp.test(t):this.parseGroupBy({line:t});break;case this.hideOptionsRegexp.test(t):this.parseHideOptions({line:t});break;case this.commentRegexp.test(t):break;case this.parseFilter(t):break;default:this._error=`do not understand query: ${t}`}})}get limit(){return this._limit}get layoutOptions(){return this._layoutOptions}get filters(){return this._filters}get sorting(){return this._sorting}get grouping(){return this._grouping}get error(){return this._error}applyQueryToTasks(e){this.filters.forEach(n=>{e=e.filter(n)});let t=Ge.by(this,e).slice(0,this.limit);return Er.by(this.grouping,t)}parseHideOptions({line:e}){let t=e.match(this.hideOptionsRegexp);if(t!==null)switch(t[1].trim().toLowerCase()){case"task count":this._layoutOptions.hideTaskCount=!0;break;case"backlink":this._layoutOptions.hideBacklinks=!0;break;case"priority":this._layoutOptions.hidePriority=!0;break;case"start date":this._layoutOptions.hideStartDate=!0;break;case"scheduled date":this._layoutOptions.hideScheduledDate=!0;break;case"due date":this._layoutOptions.hideDueDate=!0;break;case"done date":this._layoutOptions.hideDoneDate=!0;break;case"recurrence rule":this._layoutOptions.hideRecurrenceRule=!0;break;case"edit button":this._layoutOptions.hideEditButton=!0;break;default:this._error="do not understand hide option"}}parseFilter(e){let t=Ua(e);return t!=null?(t.filter?this._filters.push(t.filter):this._error=t.error,!0):!1}parseLimit({line:e}){let t=e.match(this.limitRegexp);t!==null?this._limit=Number.parseInt(t[2],10):this._error="do not understand query limit"}parseSortBy({line:e}){let t=e.match(this.sortByRegexp);t!==null?this._sorting.push({property:t[1],reverse:!!t[2],propertyInstance:isNaN(+t[3])?1:+t[3]}):this._error="do not understand query sorting"}parseGroupBy({line:e}){let t=e.match(this.groupByRegexp);t!==null?this._grouping.push({property:t[1]}):this._error="do not understand query grouping"}};var qa=class{constructor({plugin:e,events:t}){this.addQueryRenderChild=this._addQueryRenderChild.bind(this);this.app=e.app,this.events=t,e.registerMarkdownCodeBlockProcessor("tasks",this._addQueryRenderChild.bind(this))}_addQueryRenderChild(e,t,n){return ae(this,null,function*(){n.addChild(new On({app:this.app,events:this.events,container:t,source:e,filePath:n.sourcePath}))})}},On=class extends p_.MarkdownRenderChild{constructor({app:t,events:n,container:i,source:s,filePath:a}){super(i);switch(this.app=t,this.events=n,this.source=s,this.filePath=a,this.containerEl.className){case"block-language-tasks":this.query=new Pn({source:s}),this.queryType="tasks";break;default:this.query=new Pn({source:s}),this.queryType="tasks";break}}onload(){this.events.triggerRequestCacheUpdate(this.render.bind(this)),this.renderEventRef=this.events.onCacheUpdate(this.render.bind(this)),this.reloadQueryAtMidnight()}onunload(){this.renderEventRef!==void 0&&this.events.off(this.renderEventRef),this.queryReloadTimeout!==void 0&&clearTimeout(this.queryReloadTimeout)}reloadQueryAtMidnight(){let t=new Date;t.setHours(24,0,0,0);let n=new Date,i=t.getTime()-n.getTime();this.queryReloadTimeout=setTimeout(()=>{this.query=new Pn({source:this.source}),this.events.triggerRequestCacheUpdate(this.render.bind(this)),this.reloadQueryAtMidnight()},i+1e3)}render(i){return ae(this,arguments,function*({tasks:t,state:n}){var a;let s=this.containerEl.createEl("div");if(n==="Warm"&&this.query.error===void 0){console.debug(`Render ${this.queryType} called for a block in active file "${this.filePath}", to select from ${t.length} tasks: plugin state: ${n}`);let o=this.query.applyQueryToTasks(t);for(let l of o.groups){On.addGroupHeadings(s,l.groupHeadings);let{taskList:c}=yield this.createTasksList({tasks:l.tasks,content:s});s.appendChild(c)}let u=o.totalTasksCount();console.debug(`${u} of ${t.length} tasks displayed in a block in "${this.filePath}"`),this.addTaskCount(s,u)}else this.query.error!==void 0?s.setText(`Tasks query: ${this.query.error}`):s.setText("Loading Tasks ...");(a=this.containerEl.firstChild)==null||a.replaceWith(s)})}createTasksList(i){return ae(this,arguments,function*({tasks:t,content:n}){let s=t.length,a=n.createEl("ul");a.addClasses(["contains-task-list","plugin-tasks-query-result"]);for(let o=0;o<s;o++){let u=t[o],l=this.isFilenameUnique({task:u}),c=yield u.toLi({parentUlElement:a,listIndex:o,layoutOptions:this.query.layoutOptions,isFilenameUnique:l});c.querySelectorAll("[data-footnote-id]").forEach(y=>y.remove());let f=c.createSpan(),p=this.query.layoutOptions.shortMode;this.query.layoutOptions.hideBacklinks||this.addBacklinks(f,u,p,l),this.query.layoutOptions.hideEditButton||this.addEditButton(f,u),a.appendChild(c)}return{taskList:a,tasksCount:s}})}addEditButton(t,n){t.createEl("a",{cls:"tasks-edit"}).onClickEvent(s=>{s.preventDefault();let a=u=>{us({originalTask:n,newTasks:u})};new bn({app:this.app,task:n,onSubmit:a}).open()})}static addGroupHeadings(t,n){for(let i of n)On.addGroupHeading(t,i)}static addGroupHeading(t,n){let i;n.nestingLevel===0?i=t.createEl("h4",{cls:"tasks-group-heading"}):n.nestingLevel===1?i=t.createEl("h5",{cls:"tasks-group-heading"}):i=t.createEl("h6",{cls:"tasks-group-heading"}),i.appendText(n.name)}addBacklinks(t,n,i,s){var u;t.addClass("tasks-backlink"),i||t.append(" (");let a=t.createEl("a");if(a.href=n.path,a.setAttribute("data-href",n.path),a.rel="noopener",a.target="_blank",a.addClass("internal-link"),i&&a.addClass("internal-link-short-mode"),n.precedingHeader!==null){let l=n.precedingHeader.replace(/#/g,"");a.href=a.href+"#"+l,a.setAttribute("data-href",a.getAttribute("data-href")+"#"+l)}let o;i?o=" \u{1F517}":o=(u=n.getLinkText({isFilenameUnique:s}))!=null?u:"",a.setText(o),i||t.append(")")}addTaskCount(t,n){this.query.layoutOptions.hideTaskCount||t.createDiv({text:`${n} task${n!==1?"s":""}`,cls:"tasks-count"})}isFilenameUnique({task:t}){let n=t.path.match(/([^/]*)\..+$/i);if(n===null)return;let i=n[1];return this.app.vault.getMarkdownFiles().filter(a=>{if(a.basename===i)return!0}).length<2}};var sr=require("obsidian");var Wa=class extends sr.PluginSettingTab{constructor({plugin:t}){super(t.app,t);this.plugin=t}display(){let{containerEl:t}=this;t.empty(),t.createEl("h2",{text:"Tasks Settings"}),t.createEl("p",{cls:"tasks-setting-important",text:"Changing any settings requires a restart of obsidian."}),new sr.Setting(t).setName("Global task filter").setDesc("The global filter will be applied to all checklist items.").addText(n=>{let i=ie();n.setPlaceholder("#task").setValue(i.globalFilter).onChange(s=>ae(this,null,function*(){Ft({globalFilter:s}),yield this.plugin.saveSettings()}))}),t.createEl("div",{cls:"setting-item-description",text:'The global filter will be applied to all checklist items to filter out "non-task" checklist items.\nA checklist item must include the specified string in its description in order to be considered a task.\nFor example, if you set the global filter to `#task`, the Tasks plugin will only handle checklist items tagged with `#task`.\nOther checklist items will remain normal checklist items and not appear in queries or get a done date set.\nLeave empty if you want all checklist items from your vault to be tasks managed by this plugin.'}),new sr.Setting(t).setName("Remove global filter from description").setDesc("Enabling this removes the string that you set as global filter from the task description when displaying a task.").addToggle(n=>{let i=ie();n.setValue(i.removeGlobalFilter).onChange(s=>ae(this,null,function*(){Ft({removeGlobalFilter:s}),yield this.plugin.saveSettings()}))}),new sr.Setting(t).setName("Set done date on every completed task").setDesc("Enabling this will add a timestamp \u2705 YYYY-MM-DD at the end when a task is toggled to done").addToggle(n=>{let i=ie();n.setValue(i.setDoneDate).onChange(s=>ae(this,null,function*(){Ft({setDoneDate:s}),yield this.plugin.saveSettings()}))}),new sr.Setting(t).setName("Auto-suggest task content").setDesc("Enabling this will open an intelligent suggest menu while typing inside a recognized task line.").addToggle(n=>{let i=ie();n.setValue(i.autoSuggestInEditor).onChange(s=>ae(this,null,function*(){Ft({autoSuggestInEditor:s}),yield this.plugin.saveSettings()}))}),new sr.Setting(t).setName("Minimum match length for auto-suggest").setDesc("If higher than 0, auto-suggest will be triggered only when the beginning of any supported keywords is recognized.").addSlider(n=>{let i=ie();n.setLimits(0,3,1).setValue(i.autoSuggestMinMatch).setDynamicTooltip().onChange(s=>ae(this,null,function*(){Ft({autoSuggestMinMatch:s}),yield this.plugin.saveSettings()}))}),new sr.Setting(t).setName("Maximum number of auto-suggestions to show").setDesc('How many suggestions should be shown when an auto-suggest menu pops up (including the "\u23CE" option).').addSlider(n=>{let i=ie();n.setLimits(3,12,1).setValue(i.autoSuggestMaxItems).setDynamicTooltip().onChange(s=>ae(this,null,function*(){Ft({autoSuggestMaxItems:s}),yield this.plugin.saveSettings()}))})}};var m_=require("obsidian");var VO=`${wt}${Mt}${Dt}`;function h_(r,e,t){let n=[];n=n.concat(QO(r,e,t)),n=n.concat(JO(r,e,t));let i=XO(r,t),s=Rd(r,/([a-zA-Z'_-]*)/g,e),a=!1;if(s&&s.length>0){let o=s[0];if(o.length>=Math.max(1,t.autoSuggestMinMatch)){let u=i.filter(l=>l.displayText.toLowerCase().includes(o.toLowerCase()));for(let l of u)n.push({suggestionType:"match",displayText:l.displayText,appendText:l.appendText,insertAt:s.index,insertSkip:o.length}),a=!0}}return!a&&t.autoSuggestMinMatch===0&&(n=n.concat(i)),n.length>0&&!n.some(o=>o.suggestionType==="match")&&n.unshift({suggestionType:"empty",displayText:"\u23CE",appendText:`
`}),n=n.slice(0,t.autoSuggestMaxItems),n}function ZO(r){if(Object.values(Re).some(e=>e.length>0&&r.includes(e)))return!0}function XO(r,e){let t=[];return r.includes(Dt)||t.push({displayText:`${Dt} due date`,appendText:`${Dt} `}),r.includes(wt)||t.push({displayText:`${wt} start date`,appendText:`${wt} `}),r.includes(Mt)||t.push({displayText:`${Mt} scheduled date`,appendText:`${Mt} `}),ZO(r)||(t.push({displayText:`${Re.High} high priority`,appendText:`${Re.High} `}),t.push({displayText:`${Re.Medium} medium priority`,appendText:`${Re.Medium} `}),t.push({displayText:`${Re.Low} low priority`,appendText:`${Re.Low} `})),r.includes(Rt)||t.push({displayText:`${Rt} recurring (repeat)`,appendText:`${Rt} `}),t}function QO(r,e,t){let n=["today","tomorrow","Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","next week","next month","next year"],i=[],s=new RegExp(`([${VO}])\\s*([0-9a-zA-Z ]*)`,"ug"),a=Rd(r,s,e);if(a&&a.length>=2){let o=a[1],u=a[2];if(u.length<t.autoSuggestMinMatch)return[];let l=u&&u.length>1?Qt.parseDate(Tn(u),!0):null;l&&l.isValid()&&i.push({displayText:`${l.format(N.dateFormat)}`,appendText:`${o} ${l.format(N.dateFormat)} `,insertAt:a.index,insertSkip:a[0].length});let c=1,d=5,f=n.filter(p=>u&&u.length>=c&&p.toLowerCase().includes(u.toLowerCase())).slice(0,d);f.length===0&&(f=n.slice(0,d));for(let p of f){let m=`${Qt.parseDate(p,!0).format(N.dateFormat)}`;i.push({suggestionType:"match",displayText:`${p} (${m})`,appendText:`${o} ${m} `,insertAt:a.index,insertSkip:a[0].length})}}return i}function JO(r,e,t){var o;let n=["every","every day","every week","every month","every month on the","every year","every week on Sunday","every week on Monday","every week on Tuesday","every week on Wednesday","every week on Thursday","every week on Friday","every week on Saturday"],i=[],s=new RegExp(`(${Rt})\\s*([0-9a-zA-Z ]*)`,"ug"),a=Rd(r,s,e);if(a&&a.length>=2){let u=a[1],l=a[2];if(l.length<t.autoSuggestMinMatch)return[];if(l.length>0){let p=(o=pt.fromText({recurrenceRuleText:l,startDate:null,scheduledDate:null,dueDate:null}))==null?void 0:o.toText();if(p){let y=`${u} ${p} `;if(i.push({suggestionType:"match",displayText:`\u2705 ${p}`,appendText:y,insertAt:a.index,insertSkip:a[0].length}),a[0]==y)return[]}}let c=1,d=t.autoSuggestMaxItems/2,f=n.filter(p=>l&&l.length>=c&&p.toLowerCase().includes(l.toLowerCase())).slice(0,d);f.length===0&&l.trim().length===0&&(f=n.slice(0,d));for(let p of f)i.push({suggestionType:"match",displayText:`${p}`,appendText:`${u} ${p} `,insertAt:a.index,insertSkip:a[0].length})}return i}function Rd(r,e,t){let n=r.matchAll(e);for(let i of n)if((i==null?void 0:i.index)&&i.index<=t&&t<=i.index+i[0].length)return i;return[]}var La=class extends m_.EditorSuggest{constructor(t,n){super(t);this.settings=n}onTrigger(t,n,i){if(!this.settings.autoSuggestInEditor)return null;let s=n.getLine(t.line);return s.contains(this.settings.globalFilter)&&s.match(N.taskRegex)?{start:{line:t.line,ch:0},end:{line:t.line,ch:s.length},query:s}:null}getSuggestions(t){let n=t.query,i=t.editor.getCursor(),s=h_(n,i.ch,this.settings),a=[];for(let o of s)a.push(Ut($e({},o),{context:t}));return a}renderSuggestion(t,n){n.setText(t.displayText)}selectSuggestion(t,n){var u,l,c;let i=t.context.editor;if(t.suggestionType==="empty"){this.close();let d=new KeyboardEvent("keydown",{code:"Enter",key:"Enter"});(l=(u=i==null?void 0:i.cm)==null?void 0:u.contentDOM)==null||l.dispatchEvent(d);return}let s=t.context.editor.getCursor(),a={line:s.line,ch:(c=t.insertAt)!=null?c:s.ch},o=t.insertSkip?{line:s.line,ch:a.ch+t.insertSkip}:void 0;t.context.editor.replaceRange(t.appendText,a,o),t.context.editor.setCursor({line:s.line,ch:a.ch+t.appendText.length})}};var Ya=class extends y_.Plugin{onload(){return ae(this,null,function*(){console.log('loading plugin "tasks"'),yield this.loadSettings(),this.addSettingTab(new Wa({plugin:this})),Zd({metadataCache:this.app.metadataCache,vault:this.app.vault});let t=new ha({obsidianEvents:this.app.workspace});this.cache=new pr({metadataCache:this.app.metadataCache,vault:this.app.vault,events:t}),this.inlineRenderer=new ma({plugin:this}),this.queryRenderer=new qa({plugin:this,events:t}),this.registerEditorExtension(Qg()),this.registerEditorSuggest(new La(this.app,ie())),new pa({plugin:this})})}onunload(){var t;console.log('unloading plugin "tasks"'),(t=this.cache)==null||t.unload()}loadSettings(){return ae(this,null,function*(){let t=yield this.loadData();Ft(t)})}saveSettings(){return ae(this,null,function*(){yield this.saveData(ie())})}};
