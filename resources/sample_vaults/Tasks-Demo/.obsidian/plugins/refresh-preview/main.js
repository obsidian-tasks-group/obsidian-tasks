/*
THIS IS A GENERATED/BUNDLED FILE BY ESBUILD
if you want to view the source, please visit the github repository of this plugin
*/

(function initCjs() {
  const globalThisRecord = globalThis;
  globalThisRecord["__name"] ??= name;
  const originalRequire = require;
  if (originalRequire && !originalRequire.__isPatched) {
    require = Object.assign(
      (id) => requirePatched(id),
      originalRequire,
      {
        __isPatched: true
      }
    );
  }
  const newFuncs = {
    __extractDefault() {
      return extractDefault;
    },
    process() {
      const browserProcess = {
        browser: true,
        cwd() {
          return "/";
        },
        env: {},
        platform: "android"
      };
      return browserProcess;
    }
  };
  for (const key of Object.keys(newFuncs)) {
    globalThisRecord[key] ??= newFuncs[key]?.();
  }
  function name(obj) {
    return obj;
  }
  function extractDefault(module2) {
    return module2 && module2.__esModule && "default" in module2 ? module2.default : module2;
  }
  const OBSIDIAN_BUILT_IN_MODULE_NAMES = [
    "obsidian",
    "@codemirror/autocomplete",
    "@codemirror/collab",
    "@codemirror/commands",
    "@codemirror/language",
    "@codemirror/lint",
    "@codemirror/search",
    "@codemirror/state",
    "@codemirror/text",
    "@codemirror/view",
    "@lezer/common",
    "@lezer/lr",
    "@lezer/highlight"
  ];
  const DEPRECATED_OBSIDIAN_BUILT_IN_MODULE_NAMES = [
    "@codemirror/closebrackets",
    "@codemirror/comment",
    "@codemirror/fold",
    "@codemirror/gutter",
    "@codemirror/highlight",
    "@codemirror/history",
    "@codemirror/matchbrackets",
    "@codemirror/panel",
    "@codemirror/rangeset",
    "@codemirror/rectangular-selection",
    "@codemirror/stream-parser",
    "@codemirror/tooltip"
  ];
  function requirePatched(id) {
    if (OBSIDIAN_BUILT_IN_MODULE_NAMES.includes(id) || DEPRECATED_OBSIDIAN_BUILT_IN_MODULE_NAMES.includes(id)) {
      return originalRequire?.(id);
    }
    if (globalThis?.app?.isMobile) {
      if (id === "process" || id === "node:process") {
        console.debug(`The most likely you can safely ignore this error. Module not found: ${id}. Fake process object is returned instead.`);
        return globalThis.process;
      }
    } else {
      const module2 = originalRequire?.(id);
      if (module2) {
        return extractDefault(module2);
      }
    }
    console.debug(`The most likely you can safely ignore this error. Module not found: ${id}. Empty object is returned instead.`);
    return {};
  }
})();

"use strict";var xi=Object.create;var Fe=Object.defineProperty;var Si=Object.getOwnPropertyDescriptor;var Ti=Object.getOwnPropertyNames;var ki=Object.getPrototypeOf,Oi=Object.prototype.hasOwnProperty;var s=(n,e)=>Fe(n,"name",{value:e,configurable:!0});var ee=(n,e)=>()=>(e||n((e={exports:{}}).exports,e),e.exports),Pi=(n,e)=>{for(var t in e)Fe(n,t,{get:e[t],enumerable:!0})},In=(n,e,t,r)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of Ti(e))!Oi.call(n,i)&&i!==t&&Fe(n,i,{get:()=>e[i],enumerable:!(r=Si(e,i))||r.enumerable});return n};var Jt=(n,e,t)=>(t=n!=null?xi(ki(n)):{},In(e||!n||!n.__esModule?Fe(t,"default",{value:n,enumerable:!0}):t,n)),Fi=n=>In(Fe({},"__esModule",{value:!0}),n);var $n=ee((xo,_n)=>{var fe=1e3,pe=fe*60,he=pe*60,ue=he*24,Li=ue*7,Di=ue*365.25;_n.exports=function(n,e){e=e||{};var t=typeof n;if(t==="string"&&n.length>0)return Ii(n);if(t==="number"&&isFinite(n))return e.long?Mi(n):Vi(n);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(n))};function Ii(n){if(n=String(n),!(n.length>100)){var e=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(n);if(e){var t=parseFloat(e[1]),r=(e[2]||"ms").toLowerCase();switch(r){case"years":case"year":case"yrs":case"yr":case"y":return t*Di;case"weeks":case"week":case"w":return t*Li;case"days":case"day":case"d":return t*ue;case"hours":case"hour":case"hrs":case"hr":case"h":return t*he;case"minutes":case"minute":case"mins":case"min":case"m":return t*pe;case"seconds":case"second":case"secs":case"sec":case"s":return t*fe;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return t;default:return}}}}s(Ii,"parse");function Vi(n){var e=Math.abs(n);return e>=ue?Math.round(n/ue)+"d":e>=he?Math.round(n/he)+"h":e>=pe?Math.round(n/pe)+"m":e>=fe?Math.round(n/fe)+"s":n+"ms"}s(Vi,"fmtShort");function Mi(n){var e=Math.abs(n);return e>=ue?Be(n,e,ue,"day"):e>=he?Be(n,e,he,"hour"):e>=pe?Be(n,e,pe,"minute"):e>=fe?Be(n,e,fe,"second"):n+" ms"}s(Mi,"fmtLong");function Be(n,e,t,r){var i=e>=t*1.5;return Math.round(n/t)+" "+r+(i?"s":"")}s(Be,"plural")});var Zt=ee((To,Bn)=>{function Ni(n){t.debug=t,t.default=t,t.coerce=u,t.disable=a,t.enable=i,t.enabled=l,t.humanize=$n(),t.destroy=d,Object.keys(n).forEach(f=>{t[f]=n[f]}),t.names=[],t.skips=[],t.formatters={};function e(f){let c=0;for(let p=0;p<f.length;p++)c=(c<<5)-c+f.charCodeAt(p),c|=0;return t.colors[Math.abs(c)%t.colors.length]}s(e,"selectColor"),t.selectColor=e;function t(f){let c,p=null,m,g;function A(...h){if(!A.enabled)return;let w=A,v=Number(new Date),E=v-(c||v);w.diff=E,w.prev=c,w.curr=v,c=v,h[0]=t.coerce(h[0]),typeof h[0]!="string"&&h.unshift("%O");let C=0;h[0]=h[0].replace(/%([a-zA-Z%])/g,(T,V)=>{if(T==="%%")return"%";C++;let K=t.formatters[V];if(typeof K=="function"){let N=h[C];T=K.call(w,N),h.splice(C,1),C--}return T}),t.formatArgs.call(w,h),(w.log||t.log).apply(w,h)}return s(A,"debug"),A.namespace=f,A.useColors=t.useColors(),A.color=t.selectColor(f),A.extend=r,A.destroy=t.destroy,Object.defineProperty(A,"enabled",{enumerable:!0,configurable:!1,get:s(()=>p!==null?p:(m!==t.namespaces&&(m=t.namespaces,g=t.enabled(f)),g),"get"),set:s(h=>{p=h},"set")}),typeof t.init=="function"&&t.init(A),A}s(t,"createDebug");function r(f,c){let p=t(this.namespace+(typeof c>"u"?":":c)+f);return p.log=this.log,p}s(r,"extend");function i(f){t.save(f),t.namespaces=f,t.names=[],t.skips=[];let c=(typeof f=="string"?f:"").trim().replace(/\s+/g,",").split(",").filter(Boolean);for(let p of c)p[0]==="-"?t.skips.push(p.slice(1)):t.names.push(p)}s(i,"enable");function o(f,c){let p=0,m=0,g=-1,A=0;for(;p<f.length;)if(m<c.length&&(c[m]===f[p]||c[m]==="*"))c[m]==="*"?(g=m,A=p,m++):(p++,m++);else if(g!==-1)m=g+1,A++,p=A;else return!1;for(;m<c.length&&c[m]==="*";)m++;return m===c.length}s(o,"matchesTemplate");function a(){let f=[...t.names,...t.skips.map(c=>"-"+c)].join(",");return t.enable(""),f}s(a,"disable");function l(f){for(let c of t.skips)if(o(f,c))return!1;for(let c of t.names)if(o(f,c))return!0;return!1}s(l,"enabled");function u(f){return f instanceof Error?f.stack||f.message:f}s(u,"coerce");function d(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return s(d,"destroy"),t.enable(t.load()),t}s(Ni,"setup");Bn.exports=Ni});var Wn=ee((B,We)=>{B.formatArgs=$i;B.save=Bi;B.load=Wi;B.useColors=_i;B.storage=ji();B.destroy=(()=>{let n=!1;return()=>{n||(n=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})();B.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function _i(){if(typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs))return!0;if(typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;let n;return typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&(n=navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/))&&parseInt(n[1],10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}s(_i,"useColors");function $i(n){if(n[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+n[0]+(this.useColors?"%c ":" ")+"+"+We.exports.humanize(this.diff),!this.useColors)return;let e="color: "+this.color;n.splice(1,0,e,"color: inherit");let t=0,r=0;n[0].replace(/%[a-zA-Z%]/g,i=>{i!=="%%"&&(t++,i==="%c"&&(r=t))}),n.splice(r,0,e)}s($i,"formatArgs");B.log=console.debug||console.log||(()=>{});function Bi(n){try{n?B.storage.setItem("debug",n):B.storage.removeItem("debug")}catch{}}s(Bi,"save");function Wi(){let n;try{n=B.storage.getItem("debug")||B.storage.getItem("DEBUG")}catch{}return!n&&typeof process<"u"&&"env"in process&&(n=process.env.DEBUG),n}s(Wi,"load");function ji(){try{return localStorage}catch{}}s(ji,"localstorage");We.exports=Zt()(B);var{formatters:Ui}=We.exports;Ui.j=function(n){try{return JSON.stringify(n)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}}});var Un=ee((Po,jn)=>{"use strict";jn.exports=(n,e=process.argv)=>{let t=n.startsWith("-")?"":n.length===1?"-":"--",r=e.indexOf(t+n),i=e.indexOf("--");return r!==-1&&(i===-1||r<i)}});var Kn=ee((Fo,zn)=>{"use strict";var Hi=require("os"),Hn=require("tty"),U=Un(),{env:P}=process,je;U("no-color")||U("no-colors")||U("color=false")||U("color=never")?je=0:(U("color")||U("colors")||U("color=true")||U("color=always"))&&(je=1);function zi(){if("FORCE_COLOR"in P)return P.FORCE_COLOR==="true"?1:P.FORCE_COLOR==="false"?0:P.FORCE_COLOR.length===0?1:Math.min(Number.parseInt(P.FORCE_COLOR,10),3)}s(zi,"envForceColor");function Ki(n){return n===0?!1:{level:n,hasBasic:!0,has256:n>=2,has16m:n>=3}}s(Ki,"translateLevel");function Gi(n,{streamIsTTY:e,sniffFlags:t=!0}={}){let r=zi();r!==void 0&&(je=r);let i=t?je:r;if(i===0)return 0;if(t){if(U("color=16m")||U("color=full")||U("color=truecolor"))return 3;if(U("color=256"))return 2}if(n&&!e&&i===void 0)return 0;let o=i||0;if(P.TERM==="dumb")return o;if(process.platform==="win32"){let a=Hi.release().split(".");return Number(a[0])>=10&&Number(a[2])>=10586?Number(a[2])>=14931?3:2:1}if("CI"in P)return["TRAVIS","CIRCLECI","APPVEYOR","GITLAB_CI","GITHUB_ACTIONS","BUILDKITE","DRONE"].some(a=>a in P)||P.CI_NAME==="codeship"?1:o;if("TEAMCITY_VERSION"in P)return/^(9\.(0*[1-9]\d*)\.|\d{2,}\.)/.test(P.TEAMCITY_VERSION)?1:0;if(P.COLORTERM==="truecolor")return 3;if("TERM_PROGRAM"in P){let a=Number.parseInt((P.TERM_PROGRAM_VERSION||"").split(".")[0],10);switch(P.TERM_PROGRAM){case"iTerm.app":return a>=3?3:2;case"Apple_Terminal":return 2}}return/-256(color)?$/i.test(P.TERM)?2:/^screen|^xterm|^vt100|^vt220|^rxvt|color|ansi|cygwin|linux/i.test(P.TERM)||"COLORTERM"in P?1:o}s(Gi,"supportsColor");function Qt(n,e={}){let t=Gi(n,{streamIsTTY:n&&n.isTTY,...e});return Ki(t)}s(Qt,"getSupportLevel");zn.exports={supportsColor:Qt,stdout:Qt({isTTY:Hn.isatty(1)}),stderr:Qt({isTTY:Hn.isatty(2)})}});var Yn=ee((F,He)=>{var Yi=require("tty"),Ue=require("util");F.init=ts;F.log=Zi;F.formatArgs=Ji;F.save=Qi;F.load=es;F.useColors=qi;F.destroy=Ue.deprecate(()=>{},"Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.");F.colors=[6,2,3,4,5,1];try{let n=Kn();n&&(n.stderr||n).level>=2&&(F.colors=[20,21,26,27,32,33,38,39,40,41,42,43,44,45,56,57,62,63,68,69,74,75,76,77,78,79,80,81,92,93,98,99,112,113,128,129,134,135,148,149,160,161,162,163,164,165,166,167,168,169,170,171,172,173,178,179,184,185,196,197,198,199,200,201,202,203,204,205,206,207,208,209,214,215,220,221])}catch{}F.inspectOpts=Object.keys(process.env).filter(n=>/^debug_/i.test(n)).reduce((n,e)=>{let t=e.substring(6).toLowerCase().replace(/_([a-z])/g,(i,o)=>o.toUpperCase()),r=process.env[e];return/^(yes|on|true|enabled)$/i.test(r)?r=!0:/^(no|off|false|disabled)$/i.test(r)?r=!1:r==="null"?r=null:r=Number(r),n[t]=r,n},{});function qi(){return"colors"in F.inspectOpts?!!F.inspectOpts.colors:Yi.isatty(process.stderr.fd)}s(qi,"useColors");function Ji(n){let{namespace:e,useColors:t}=this;if(t){let r=this.color,i="\x1B[3"+(r<8?r:"8;5;"+r),o=`  ${i};1m${e} \x1B[0m`;n[0]=o+n[0].split(`
`).join(`
`+o),n.push(i+"m+"+He.exports.humanize(this.diff)+"\x1B[0m")}else n[0]=Xi()+e+" "+n[0]}s(Ji,"formatArgs");function Xi(){return F.inspectOpts.hideDate?"":new Date().toISOString()+" "}s(Xi,"getDate");function Zi(...n){return process.stderr.write(Ue.formatWithOptions(F.inspectOpts,...n)+`
`)}s(Zi,"log");function Qi(n){n?process.env.DEBUG=n:delete process.env.DEBUG}s(Qi,"save");function es(){return process.env.DEBUG}s(es,"load");function ts(n){n.inspectOpts={};let e=Object.keys(F.inspectOpts);for(let t=0;t<e.length;t++)n.inspectOpts[e[t]]=F.inspectOpts[e[t]]}s(ts,"init");He.exports=Zt()(F);var{formatters:Gn}=He.exports;Gn.o=function(n){return this.inspectOpts.colors=this.useColors,Ue.inspect(n,this.inspectOpts).split(`
`).map(e=>e.trim()).join(" ")};Gn.O=function(n){return this.inspectOpts.colors=this.useColors,Ue.inspect(n,this.inspectOpts)}});var qn=ee((Do,en)=>{typeof process>"u"||process.type==="renderer"||process.browser===!0||process.__nwjs?en.exports=Wn():en.exports=Yn()});var hr=ee((fa,pr)=>{"use strict";function J(n){if(typeof n!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(n))}s(J,"assertPath");function fr(n,e){for(var t="",r=0,i=-1,o=0,a,l=0;l<=n.length;++l){if(l<n.length)a=n.charCodeAt(l);else{if(a===47)break;a=47}if(a===47){if(!(i===l-1||o===1))if(i!==l-1&&o===2){if(t.length<2||r!==2||t.charCodeAt(t.length-1)!==46||t.charCodeAt(t.length-2)!==46){if(t.length>2){var u=t.lastIndexOf("/");if(u!==t.length-1){u===-1?(t="",r=0):(t=t.slice(0,u),r=t.length-1-t.lastIndexOf("/")),i=l,o=0;continue}}else if(t.length===2||t.length===1){t="",r=0,i=l,o=0;continue}}e&&(t.length>0?t+="/..":t="..",r=2)}else t.length>0?t+="/"+n.slice(i+1,l):t=n.slice(i+1,l),r=l-i-1;i=l,o=0}else a===46&&o!==-1?++o:o=-1}return t}s(fr,"normalizeStringPosix");function ws(n,e){var t=e.dir||e.root,r=e.base||(e.name||"")+(e.ext||"");return t?t===e.root?t+r:t+n+r:r}s(ws,"_format");var Ae={resolve:s(function(){for(var e="",t=!1,r,i=arguments.length-1;i>=-1&&!t;i--){var o;i>=0?o=arguments[i]:(r===void 0&&(r=process.cwd()),o=r),J(o),o.length!==0&&(e=o+"/"+e,t=o.charCodeAt(0)===47)}return e=fr(e,!t),t?e.length>0?"/"+e:"/":e.length>0?e:"."},"resolve"),normalize:s(function(e){if(J(e),e.length===0)return".";var t=e.charCodeAt(0)===47,r=e.charCodeAt(e.length-1)===47;return e=fr(e,!t),e.length===0&&!t&&(e="."),e.length>0&&r&&(e+="/"),t?"/"+e:e},"normalize"),isAbsolute:s(function(e){return J(e),e.length>0&&e.charCodeAt(0)===47},"isAbsolute"),join:s(function(){if(arguments.length===0)return".";for(var e,t=0;t<arguments.length;++t){var r=arguments[t];J(r),r.length>0&&(e===void 0?e=r:e+="/"+r)}return e===void 0?".":Ae.normalize(e)},"join"),relative:s(function(e,t){if(J(e),J(t),e===t||(e=Ae.resolve(e),t=Ae.resolve(t),e===t))return"";for(var r=1;r<e.length&&e.charCodeAt(r)===47;++r);for(var i=e.length,o=i-r,a=1;a<t.length&&t.charCodeAt(a)===47;++a);for(var l=t.length,u=l-a,d=o<u?o:u,f=-1,c=0;c<=d;++c){if(c===d){if(u>d){if(t.charCodeAt(a+c)===47)return t.slice(a+c+1);if(c===0)return t.slice(a+c)}else o>d&&(e.charCodeAt(r+c)===47?f=c:c===0&&(f=0));break}var p=e.charCodeAt(r+c),m=t.charCodeAt(a+c);if(p!==m)break;p===47&&(f=c)}var g="";for(c=r+f+1;c<=i;++c)(c===i||e.charCodeAt(c)===47)&&(g.length===0?g+="..":g+="/..");return g.length>0?g+t.slice(a+f):(a+=f,t.charCodeAt(a)===47&&++a,t.slice(a))},"relative"),_makeLong:s(function(e){return e},"_makeLong"),dirname:s(function(e){if(J(e),e.length===0)return".";for(var t=e.charCodeAt(0),r=t===47,i=-1,o=!0,a=e.length-1;a>=1;--a)if(t=e.charCodeAt(a),t===47){if(!o){i=a;break}}else o=!1;return i===-1?r?"/":".":r&&i===1?"//":e.slice(0,i)},"dirname"),basename:s(function(e,t){if(t!==void 0&&typeof t!="string")throw new TypeError('"ext" argument must be a string');J(e);var r=0,i=-1,o=!0,a;if(t!==void 0&&t.length>0&&t.length<=e.length){if(t.length===e.length&&t===e)return"";var l=t.length-1,u=-1;for(a=e.length-1;a>=0;--a){var d=e.charCodeAt(a);if(d===47){if(!o){r=a+1;break}}else u===-1&&(o=!1,u=a+1),l>=0&&(d===t.charCodeAt(l)?--l===-1&&(i=a):(l=-1,i=u))}return r===i?i=u:i===-1&&(i=e.length),e.slice(r,i)}else{for(a=e.length-1;a>=0;--a)if(e.charCodeAt(a)===47){if(!o){r=a+1;break}}else i===-1&&(o=!1,i=a+1);return i===-1?"":e.slice(r,i)}},"basename"),extname:s(function(e){J(e);for(var t=-1,r=0,i=-1,o=!0,a=0,l=e.length-1;l>=0;--l){var u=e.charCodeAt(l);if(u===47){if(!o){r=l+1;break}continue}i===-1&&(o=!1,i=l+1),u===46?t===-1?t=l:a!==1&&(a=1):t!==-1&&(a=-1)}return t===-1||i===-1||a===0||a===1&&t===i-1&&t===r+1?"":e.slice(t,i)},"extname"),format:s(function(e){if(e===null||typeof e!="object")throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof e);return ws("/",e)},"format"),parse:s(function(e){J(e);var t={root:"",dir:"",base:"",ext:"",name:""};if(e.length===0)return t;var r=e.charCodeAt(0),i=r===47,o;i?(t.root="/",o=1):o=0;for(var a=-1,l=0,u=-1,d=!0,f=e.length-1,c=0;f>=o;--f){if(r=e.charCodeAt(f),r===47){if(!d){l=f+1;break}continue}u===-1&&(d=!1,u=f+1),r===46?a===-1?a=f:c!==1&&(c=1):a!==-1&&(c=-1)}return a===-1||u===-1||c===0||c===1&&a===u-1&&a===l+1?u!==-1&&(l===0&&i?t.base=t.name=e.slice(1,u):t.base=t.name=e.slice(l,u)):(l===0&&i?(t.name=e.slice(1,a),t.base=e.slice(1,u)):(t.name=e.slice(l,a),t.base=e.slice(l,u)),t.ext=e.slice(a,u)),l>0?t.dir=e.slice(0,l-1):i&&(t.dir="/"),t},"parse"),sep:"/",delimiter:":",win32:null,posix:null};Ae.posix=Ae;pr.exports=Ae});var Xr=ee((lt,Jr)=>{(function(n,e){typeof lt=="object"&&typeof Jr<"u"?e(lt):typeof define=="function"&&define.amd?define(["exports"],e):(n=typeof globalThis<"u"?globalThis:n||self,e(n.compareVersions={}))})(lt,(function(n){"use strict";let e=/^[v^~<>=]*?(\d+)(?:\.([x*]|\d+)(?:\.([x*]|\d+)(?:\.([x*]|\d+))?(?:-([\da-z\-]+(?:\.[\da-z\-]+)*))?(?:\+[\da-z\-]+(?:\.[\da-z\-]+)*)?)?)?$/i,t=s(h=>{if(typeof h!="string")throw new TypeError("Invalid argument expected string");let w=h.match(e);if(!w)throw new Error(`Invalid argument not valid semver ('${h}' received)`);return w.shift(),w},"validateAndParse"),r=s(h=>h==="*"||h==="x"||h==="X","isWildcard"),i=s(h=>{let w=parseInt(h,10);return isNaN(w)?h:w},"tryParse"),o=s((h,w)=>typeof h!=typeof w?[String(h),String(w)]:[h,w],"forceType"),a=s((h,w)=>{if(r(h)||r(w))return 0;let[v,E]=o(i(h),i(w));return v>E?1:v<E?-1:0},"compareStrings"),l=s((h,w)=>{for(let v=0;v<Math.max(h.length,w.length);v++){let E=a(h[v]||"0",w[v]||"0");if(E!==0)return E}return 0},"compareSegments"),u=s((h,w)=>{let v=t(h),E=t(w),C=v.pop(),S=E.pop(),T=l(v,E);return T!==0?T:C&&S?l(C.split("."),S.split(".")):C||S?C?-1:1:0},"compareVersions"),d=s((h,w,v)=>{p(v);let E=u(h,w);return f[v].includes(E)},"compare"),f={">":[1],">=":[0,1],"=":[0],"<=":[-1,0],"<":[-1],"!=":[-1,1]},c=Object.keys(f),p=s(h=>{if(typeof h!="string")throw new TypeError(`Invalid operator type, expected string but got ${typeof h}`);if(c.indexOf(h)===-1)throw new Error(`Invalid operator, expected one of ${c.join("|")}`)},"assertValidOperator"),m=s((h,w)=>{if(w=w.replace(/([><=]+)\s+/g,"$1"),w.includes("||"))return w.split("||").some(O=>m(h,O));if(w.includes(" - ")){let[O,G]=w.split(" - ",2);return m(h,`>=${O} <=${G}`)}else if(w.includes(" "))return w.trim().replace(/\s{2,}/g," ").split(" ").every(O=>m(h,O));let v=w.match(/^([<>=~^]+)/),E=v?v[1]:"=";if(E!=="^"&&E!=="~")return d(h,w,E);let[C,S,T,,V]=t(h),[K,N,_,,_e]=t(w),ke=[C,S,T],M=[K,N??"x",_??"x"];if(_e&&(!V||l(ke,M)!==0||l(V.split("."),_e.split("."))===-1))return!1;let $=M.findIndex(O=>O!=="0")+1,ae=E==="~"?2:$>1?$:1;return!(l(ke.slice(0,ae),M.slice(0,ae))!==0||l(ke.slice(ae),M.slice(ae))===-1)},"satisfies"),g=s(h=>typeof h=="string"&&/^[v\d]/.test(h)&&e.test(h),"validate"),A=s(h=>typeof h=="string"&&/^(0|[1-9]\d*)\.(0|[1-9]\d*)\.(0|[1-9]\d*)(?:-((?:0|[1-9]\d*|\d*[a-zA-Z-][0-9a-zA-Z-]*)(?:\.(?:0|[1-9]\d*|\d*[a-zA-Z-][0-9a-zA-Z-]*))*))?(?:\+([0-9a-zA-Z-]+(?:\.[0-9a-zA-Z-]+)*))?$/.test(h),"validateStrict");n.compare=d,n.compareVersions=u,n.satisfies=m,n.validate=g,n.validateStrict=A}))});var bo={};Pi(bo,{default:()=>go});module.exports=Fi(bo);var I=require("obsidian");s((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();function te(){}s(te,"noop");async function Y(){}s(Y,"noopAsync");s((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var Ri=Number.POSITIVE_INFINITY;function Xt(...n){let e=n.filter(o=>!!o);if(typeof AbortSignal.any=="function")return AbortSignal.any(e);if(e.length===0)return de();if(e.length===1&&e[0])return e[0];let t=new AbortController;for(let o of e)if(o.aborted)return o;let r=[];for(let o of e)r.push(Mn(o,i));return t.signal;function i(o){for(let a of r)a();t.abort(o.reason)}}s(Xt,"abortSignalAny");function de(){return new AbortController().signal}s(de,"abortSignalNever");function Vn(n){if(n===Ri)return de();if(typeof AbortSignal.timeout=="function")return AbortSignal.timeout(n);let e=new AbortController;return window.setTimeout(()=>{e.abort(new Error(`Timed out in ${String(n)} milliseconds`))},n),e.signal}s(Vn,"abortSignalTimeout");function Mn(n,e){if(n.aborted)return e(n),te;return n.addEventListener("abort",t,{once:!0}),()=>{n.removeEventListener("abort",t)};function t(r){e(r.target)}s(t,"wrappedCallback")}s(Mn,"onAbort");function Nn(n,e){return new Promise((t,r)=>{Mn(n,()=>{e?r(n.reason):t(n.reason)})})}s(Nn,"waitForAbort");var ln=Jt(qn(),1);s((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();function tn(n,e){let t=n.length,r=0;for(let i=0;i<t;i++){if(!Object.hasOwn(n,i))continue;let o=n[i];e(o,i,n)&&(n[r++]=o)}n.length=r}s(tn,"filterInPlace");s((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var q=class{static{s(this,"AsyncEvents")}eventRefsMap=new Map;off(e,t){let r=this.eventRefsMap.get(e);r&&(tn(r,i=>i.callback!==t),r.length===0&&this.eventRefsMap.delete(e))}offref(e){let t=this.eventRefsMap.get(e.name);t&&(tn(t,r=>r!==e),t.length===0&&this.eventRefsMap.delete(e.name))}on(e,t,r){let i=this.eventRefsMap.get(e);i||(i=[],this.eventRefsMap.set(e,i));let o={asyncEvents:this,callback:t,name:e,thisArg:r};return i.push(o),o}once(e,t,r){let i=this.on(e,t,r),o=this.on(e,()=>{this.offref(i),this.offref(o)});return i}trigger(e,...t){let r=this.eventRefsMap.get(e)??[];for(let i of r.slice())this.tryTrigger(i,t)}async triggerAsync(e,...t){let r=this.eventRefsMap.get(e)??[];for(let i of r.slice())await this.tryTriggerAsync(i,t)}tryTrigger(e,t){try{e.callback.apply(e.thisArg,t)}catch(r){window.setTimeout(()=>{throw r},0)}}async tryTriggerAsync(e,t){try{await e.callback.call(e.thisArg,...t)}catch(r){window.setTimeout(()=>{throw r},0)}}};s((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var nn="asyncError",ze=new q;ze.on(nn,ns);var Xn="An unhandled error occurred executing async operation",Zn="    at",me=class n extends Error{static{s(this,"CustomStackTraceError")}constructor(e,t,r){super(e,{cause:r}),this.name="CustomStackTraceError",Error.captureStackTrace?.(this,n);let i=r,o=new Set;for(;i instanceof n;){if(o.has(i))throw new Error("Circular cause detected");o.add(i),i=i.cause}let a=(this.stack??"").split(`
`),l=t.split(`
`);/^\w*Error(?:: |$)/.test(l[0]??"")&&l.splice(0,1),a.splice(1,a.length-1,...l),this.stack=a.join(`
`)}},ge=class n extends Error{static{s(this,"SilentError")}constructor(e){super(e),this.name="SilentError",Error.captureStackTrace?.(this,n)}};function Qn(n){ze.trigger(nn,n)}s(Qn,"emitAsyncErrorEvent");function rn(n){if(!(n instanceof Error))return String(n);let e=n.stack??`${n.name}: ${n.message}`;if(n.cause!==void 0){let t=rn(n.cause).split(`
`);e+=`
${Jn("Caused by:")}`;for(let r of t)r.trim()&&(e+=r.startsWith(Zn)?`
${r}`:`
${Jn(r)}`)}return e}s(rn,"errorToString");function be(n=0){return(new Error().stack??"").split(`
`).slice(n+2).join(`
`)}s(be,"getStackTrace");function er(n,e){e??=globalThis.console,e.error(rn(n))}s(er,"printError");function tr(n){let e=ze.on(nn,n);return()=>{ze.offref(e)}}s(tr,"registerAsyncErrorEventHandler");function Ke(n){throw n}s(Ke,"throwExpression");function Jn(n){return`${Zn} --- ${n} --- (0)`}s(Jn,"generateStackTraceLine");function ns(n){er(n)}s(ns,"handleAsyncError");s((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var sn="44.2.1",Ge="obsidian-dev-utils",nr=`.obsidian-dev-utils.code-highlighter-component textarea, .obsidian-dev-utils.code-highlighter-component pre, .obsidian-dev-utils.code-highlighter-component code {
  font-family: var(--font-monospace);
  line-height: var(--line-height-normal);
  margin: 0;
}
.obsidian-dev-utils.code-highlighter-component textarea, .obsidian-dev-utils.code-highlighter-component code {
  font-size: var(--code-size);
}
.obsidian-dev-utils.code-highlighter-component textarea {
  background: transparent;
  color: transparent;
  z-index: 2;
  width: 20em;
  height: 10em;
}
.obsidian-dev-utils.code-highlighter-component pre {
  position: absolute;
  pointer-events: none;
  border: var(--input-border-width) solid transparent;
  overflow: auto;
  inset: 0;
  padding: var(--size-4-1) var(--size-4-2);
  z-index: 1;
}
.obsidian-dev-utils.code-highlighter-component pre::after {
  content: "";
  display: block;
  height: var(--bottom-gap, 0);
}
.obsidian-dev-utils.code-highlighter-component pre.is-placeholder {
  opacity: 0.6;
}
.obsidian-dev-utils.code-highlighter-component code {
  display: block;
  padding: 0;
}

.obsidian-dev-utils input[type=url] {
  height: var(--input-height);
}
.obsidian-dev-utils input[type=month],
.obsidian-dev-utils input[type=tel],
.obsidian-dev-utils input[type=time],
.obsidian-dev-utils input[type=url],
.obsidian-dev-utils input[type=week] {
  -webkit-app-region: no-drag;
  background: var(--background-modifier-form-field);
  border: var(--input-border-width) solid var(--background-modifier-border);
  color: var(--text-normal);
  font-family: inherit;
  padding: var(--size-4-1) var(--size-4-2);
  font-size: var(--font-ui-small);
  border-radius: var(--input-radius);
  outline: none;
}
@media (hover: hover) {
  .obsidian-dev-utils input[type=month]:hover,
  .obsidian-dev-utils input[type=tel]:hover,
  .obsidian-dev-utils input[type=time]:hover,
  .obsidian-dev-utils input[type=url]:hover,
  .obsidian-dev-utils input[type=week]:hover {
    border-color: var(--background-modifier-border-hover);
    transition: box-shadow 0.15s ease-in-out, border 0.15s ease-in-out;
  }
}
.obsidian-dev-utils input[type=month]:active, .obsidian-dev-utils input[type=month]:focus,
.obsidian-dev-utils input[type=tel]:active,
.obsidian-dev-utils input[type=tel]:focus,
.obsidian-dev-utils input[type=time]:active,
.obsidian-dev-utils input[type=time]:focus,
.obsidian-dev-utils input[type=url]:active,
.obsidian-dev-utils input[type=url]:focus,
.obsidian-dev-utils input[type=week]:active,
.obsidian-dev-utils input[type=week]:focus {
  border-color: var(--background-modifier-border-focus);
  transition: box-shadow 0.15s ease-in-out, border 0.15s ease-in-out;
}
.obsidian-dev-utils input[type=month]:active, .obsidian-dev-utils input[type=month]:focus, .obsidian-dev-utils input[type=month]:focus-visible,
.obsidian-dev-utils input[type=tel]:active,
.obsidian-dev-utils input[type=tel]:focus,
.obsidian-dev-utils input[type=tel]:focus-visible,
.obsidian-dev-utils input[type=time]:active,
.obsidian-dev-utils input[type=time]:focus,
.obsidian-dev-utils input[type=time]:focus-visible,
.obsidian-dev-utils input[type=url]:active,
.obsidian-dev-utils input[type=url]:focus,
.obsidian-dev-utils input[type=url]:focus-visible,
.obsidian-dev-utils input[type=week]:active,
.obsidian-dev-utils input[type=week]:focus,
.obsidian-dev-utils input[type=week]:focus-visible {
  box-shadow: 0 0 0 2px var(--background-modifier-border-focus);
}
.obsidian-dev-utils input[type=month]::placeholder,
.obsidian-dev-utils input[type=tel]::placeholder,
.obsidian-dev-utils input[type=time]::placeholder,
.obsidian-dev-utils input[type=url]::placeholder,
.obsidian-dev-utils input[type=week]::placeholder {
  color: var(--text-faint);
}
.mod-rtl input[type=month],
.mod-rtl input[type=time],
.mod-rtl input[type=week],
.is-rtl input[type=month],
.is-rtl input[type=time],
.is-rtl input[type=week],
.rtl input[type=month],
.rtl input[type=time],
.rtl input[type=week] {
  direction: rtl;
}
.mod-rtl input[type=month]::-webkit-calendar-picker-indicator,
.mod-rtl input[type=time]::-webkit-calendar-picker-indicator,
.mod-rtl input[type=week]::-webkit-calendar-picker-indicator,
.is-rtl input[type=month]::-webkit-calendar-picker-indicator,
.is-rtl input[type=time]::-webkit-calendar-picker-indicator,
.is-rtl input[type=week]::-webkit-calendar-picker-indicator,
.rtl input[type=month]::-webkit-calendar-picker-indicator,
.rtl input[type=time]::-webkit-calendar-picker-indicator,
.rtl input[type=week]::-webkit-calendar-picker-indicator {
  right: var(--size-4-1);
  left: auto;
}

.obsidian-dev-utils input[type=month],
.obsidian-dev-utils input[type=time],
.obsidian-dev-utils input[type=week] {
  font-variant-numeric: tabular-nums;
  position: relative;
}
.obsidian-dev-utils input[type=month]::-webkit-datetime-edit-text,
.obsidian-dev-utils input[type=time]::-webkit-datetime-edit-text,
.obsidian-dev-utils input[type=week]::-webkit-datetime-edit-text {
  color: var(--text-faint);
  padding-inline-end: 0;
}
.obsidian-dev-utils input[type=month]::-webkit-calendar-picker-indicator,
.obsidian-dev-utils input[type=time]::-webkit-calendar-picker-indicator,
.obsidian-dev-utils input[type=week]::-webkit-calendar-picker-indicator {
  position: absolute;
  left: var(--size-4-1);
  right: auto;
  opacity: 0.5;
}
.obsidian-dev-utils input[type=month]::-webkit-datetime-edit-month-field:active, .obsidian-dev-utils input[type=month]::-webkit-datetime-edit-month-field:focus, .obsidian-dev-utils input[type=month]::-webkit-datetime-edit-day-field:active, .obsidian-dev-utils input[type=month]::-webkit-datetime-edit-day-field:focus, .obsidian-dev-utils input[type=month]::-webkit-datetime-edit-year-field:active, .obsidian-dev-utils input[type=month]::-webkit-datetime-edit-year-field:focus,
.obsidian-dev-utils input[type=time]::-webkit-datetime-edit-month-field:active,
.obsidian-dev-utils input[type=time]::-webkit-datetime-edit-month-field:focus,
.obsidian-dev-utils input[type=time]::-webkit-datetime-edit-day-field:active,
.obsidian-dev-utils input[type=time]::-webkit-datetime-edit-day-field:focus,
.obsidian-dev-utils input[type=time]::-webkit-datetime-edit-year-field:active,
.obsidian-dev-utils input[type=time]::-webkit-datetime-edit-year-field:focus,
.obsidian-dev-utils input[type=week]::-webkit-datetime-edit-month-field:active,
.obsidian-dev-utils input[type=week]::-webkit-datetime-edit-month-field:focus,
.obsidian-dev-utils input[type=week]::-webkit-datetime-edit-day-field:active,
.obsidian-dev-utils input[type=week]::-webkit-datetime-edit-day-field:focus,
.obsidian-dev-utils input[type=week]::-webkit-datetime-edit-year-field:active,
.obsidian-dev-utils input[type=week]::-webkit-datetime-edit-year-field:focus {
  background-color: var(--text-selection);
  color: var(--text-normal);
  cursor: text;
}
.mod-rtl .obsidian-dev-utils input[type=month], .is-rtl .obsidian-dev-utils input[type=month], .rtl .obsidian-dev-utils input[type=month],
.mod-rtl .obsidian-dev-utils input[type=time],
.is-rtl .obsidian-dev-utils input[type=time],
.rtl .obsidian-dev-utils input[type=time],
.mod-rtl .obsidian-dev-utils input[type=week],
.is-rtl .obsidian-dev-utils input[type=week],
.rtl .obsidian-dev-utils input[type=week] {
  direction: rtl;
}
.mod-rtl .obsidian-dev-utils input[type=month]::-webkit-calendar-picker-indicator, .is-rtl .obsidian-dev-utils input[type=month]::-webkit-calendar-picker-indicator, .rtl .obsidian-dev-utils input[type=month]::-webkit-calendar-picker-indicator,
.mod-rtl .obsidian-dev-utils input[type=time]::-webkit-calendar-picker-indicator,
.is-rtl .obsidian-dev-utils input[type=time]::-webkit-calendar-picker-indicator,
.rtl .obsidian-dev-utils input[type=time]::-webkit-calendar-picker-indicator,
.mod-rtl .obsidian-dev-utils input[type=week]::-webkit-calendar-picker-indicator,
.is-rtl .obsidian-dev-utils input[type=week]::-webkit-calendar-picker-indicator,
.rtl .obsidian-dev-utils input[type=week]::-webkit-calendar-picker-indicator {
  left: auto;
  right: var(--size-4-1);
}

body:not(.is-ios):not(.is-android) .obsidian-dev-utils input[type=month],
body:not(.is-ios):not(.is-android) .obsidian-dev-utils input[type=time],
body:not(.is-ios):not(.is-android) .obsidian-dev-utils input[type=week] {
  padding-inline-start: var(--size-4-6);
}

.obsidian-dev-utils input[type=time]::-webkit-calendar-picker-indicator {
  margin-inline-start: 0;
}

.obsidian-dev-utilsprogress.loop {
  min-width: 200px;
}

.obsidian-dev-utils.modal-container .ok-button {
  margin-right: 10px;
  margin-top: 20px;
}

.obsidian-dev-utils .multiple-dropdown-component select,
.obsidian-dev-utils .multiple-dropdown-component select:focus,
.obsidian-dev-utils .multiple-dropdown-component .dropdown {
  height: auto;
  padding-top: 3px;
}
.obsidian-dev-utils .multiple-dropdown-component select option:checked,
.obsidian-dev-utils .multiple-dropdown-component select:focus option:checked,
.obsidian-dev-utils .multiple-dropdown-component .dropdown option:checked {
  background-color: #1967d2;
  color: #fff;
}

.obsidian-dev-utils.plugin-settings-tab a:focus {
  outline: 2px solid var(--link-color);
}

.obsidian-dev-utils.prompt-modal .text-box {
  width: 100%;
}

.obsidian-dev-utils.tri-state-checkbox-component input[type=checkbox]:indeterminate {
  appearance: checkbox;
}

.obsidian-dev-utils :invalid {
  box-shadow: 0 0 0 2px var(--text-error);
}
.obsidian-dev-utils input.metadata-input-text:active:invalid, .obsidian-dev-utils input.metadata-input-text:focus-visible:invalid, .obsidian-dev-utils input.metadata-input-text:focus:invalid,
.obsidian-dev-utils input[type=date]:active:invalid,
.obsidian-dev-utils input[type=date]:focus-visible:invalid,
.obsidian-dev-utils input[type=date]:focus:invalid,
.obsidian-dev-utils input[type=datetime-local]:active:invalid,
.obsidian-dev-utils input[type=datetime-local]:focus-visible:invalid,
.obsidian-dev-utils input[type=datetime-local]:focus:invalid,
.obsidian-dev-utils input[type=email]:active:invalid,
.obsidian-dev-utils input[type=email]:focus-visible:invalid,
.obsidian-dev-utils input[type=email]:focus:invalid,
.obsidian-dev-utils input[type=number]:active:invalid,
.obsidian-dev-utils input[type=number]:focus-visible:invalid,
.obsidian-dev-utils input[type=number]:focus:invalid,
.obsidian-dev-utils input[type=password]:active:invalid,
.obsidian-dev-utils input[type=password]:focus-visible:invalid,
.obsidian-dev-utils input[type=password]:focus:invalid,
.obsidian-dev-utils input[type=search]:active:invalid,
.obsidian-dev-utils input[type=search]:focus-visible:invalid,
.obsidian-dev-utils input[type=search]:focus:invalid,
.obsidian-dev-utils input[type=text]:active:invalid,
.obsidian-dev-utils input[type=text]:focus-visible:invalid,
.obsidian-dev-utils input[type=text]:focus:invalid,
.obsidian-dev-utils textarea:active:invalid,
.obsidian-dev-utils textarea:focus-visible:invalid,
.obsidian-dev-utils textarea:focus:invalid {
  box-shadow: 0 0 0 2px var(--text-error);
}
.obsidian-dev-utils.setting-component-wrapper {
  position: relative;
  display: inline-flex;
}
.obsidian-dev-utils.overlay-validator {
  caret-color: transparent;
  cursor: default;
  position: absolute;
  background-color: transparent;
  border: none;
  outline: none;
  pointer-events: none;
  z-index: 9999;
  left: 0;
  top: 0;
  width: 100%;
  height: 100%;
}
.obsidian-dev-utils.tooltip.tooltip-validator {
  position: absolute;
  top: calc(100% + 8px);
  width: max-content;
}

/*# sourceMappingURL=data:application/json;charset=utf-8,%7B%22version%22:3,%22sourceRoot%22:%22%22,%22sources%22:%5B%22../src/styles/code-highlighter-component.scss%22,%22../src/styles/input.scss%22,%22../src/styles/input-time.scss%22,%22../src/styles/loop.scss%22,%22../src/styles/modal-container.scss%22,%22../src/styles/multiple-dropdown-component.scss%22,%22../src/styles/plugin-settings-tab.scss%22,%22../src/styles/prompt-modal.scss%22,%22../src/styles/tri-state-checkbox-component.scss%22,%22../src/styles/validation.scss%22%5D,%22names%22:%5B%5D,%22mappings%22:%22AAEI;EACE;EACA;EACA;;AAGF;EACE;;AAGF;EACE;EACA;EACA;EACA;EACA;;AAGF;EACE;EACA;EACA;EACA;EACA;EACA;EACA;;AAGF;EACE;EACA;EACA;;AAGF;EACE;;AAGF;EACE;EACA;;;ACzCJ;EACE;;AAGF;AAAA;AAAA;AAAA;AAAA;EAKE;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;;AAGE;EACE;AAAA;AAAA;AAAA;AAAA;IACE;IACA,YACE;;;AAMR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;EAEE;EACA,YACE;;AAIJ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;EAGE;;AAGF;AAAA;AAAA;AAAA;AAAA;EACE;;AASE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;EAGE;;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;EACE;EACA;;;AC7DV;AAAA;AAAA;EAGE;EACA;;AAEA;AAAA;AAAA;EACE;EACA;;AAGF;AAAA;AAAA;EACE;EACA;EACA;EACA;;AAMA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;EAEE;EACA;EACA;;AAIK;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;EAGP;;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;EACE;EACA;;;AAKF;AAAA;AAAA;EACE;;;AAMJ;EACE;;;ACjDJ;EACE;;;ACAA;EACE;EACA;;;ACFF;AAAA;AAAA;EAGE;EACA;;AAEA;AAAA;AAAA;EACE;EACA;;;ACRJ;EACE;;;ACDF;EACE;;;ACDF;EACE;;;ACEJ;EAJA;;AAoBI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;EApBJ;;AA0BA;EACE;EACA;;AAGF;EACE;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;;AAGF;EACE;EACA;EACA%22,%22file%22:%22styles.css%22,%22sourcesContent%22:%5B%22.obsidian-dev-utils%20%7B%5Cn%20%20&.code-highlighter-component%20%7B%5Cn%20%20%20%20textarea,%20pre,%20code%20%7B%5Cn%20%20%20%20%20%20font-family:%20var(--font-monospace);%5Cn%20%20%20%20%20%20line-height:%20var(--line-height-normal);%5Cn%20%20%20%20%20%20margin:%200;%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20textarea,%20code%20%7B%5Cn%20%20%20%20%20%20font-size:%20var(--code-size);%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20textarea%20%7B%5Cn%20%20%20%20%20%20background:%20transparent;%5Cn%20%20%20%20%20%20color:%20transparent;%5Cn%20%20%20%20%20%20z-index:%202;%5Cn%20%20%20%20%20%20width:%2020em;%5Cn%20%20%20%20%20%20height:%2010em;%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20pre%20%7B%5Cn%20%20%20%20%20%20position:%20absolute;%5Cn%20%20%20%20%20%20pointer-events:%20none;%5Cn%20%20%20%20%20%20border:%20var(--input-border-width)%20solid%20transparent;%5Cn%20%20%20%20%20%20overflow:%20auto;%5Cn%20%20%20%20%20%20inset:%200;%5Cn%20%20%20%20%20%20padding:%20var(--size-4-1)%20var(--size-4-2);%5Cn%20%20%20%20%20%20z-index:%201;%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20pre::after%20%7B%5Cn%20%20%20%20%20%20content:%20%5C%22%5C%22;%5Cn%20%20%20%20%20%20display:%20block;%5Cn%20%20%20%20%20%20height:%20var(--bottom-gap,%200);%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20pre.is-placeholder%20%7B%5Cn%20%20%20%20%20%20opacity:%200.6;%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20code%20%7B%5Cn%20%20%20%20%20%20display:%20block;%5Cn%20%20%20%20%20%20padding:%200;%5Cn%20%20%20%20%7D%5Cn%20%20%7D%5Cn%7D%5Cn%22,%22.obsidian-dev-utils%20%7B%5Cn%20%20input%5Btype='url'%5D%20%7B%5Cn%20%20%20%20height:%20var(--input-height)%5Cn%20%20%7D%5Cn%5Cn%20%20input%5Btype='month'%5D,%5Cn%20%20input%5Btype='tel'%5D,%5Cn%20%20input%5Btype='time'%5D,%5Cn%20%20input%5Btype='url'%5D,%5Cn%20%20input%5Btype='week'%5D%20%7B%5Cn%20%20%20%20-webkit-app-region:%20no-drag;%5Cn%20%20%20%20background:%20var(--background-modifier-form-field);%5Cn%20%20%20%20border:%20var(--input-border-width)%20solid%20var(--background-modifier-border);%5Cn%20%20%20%20color:%20var(--text-normal);%5Cn%20%20%20%20font-family:%20inherit;%5Cn%20%20%20%20padding:%20var(--size-4-1)%20var(--size-4-2);%5Cn%20%20%20%20font-size:%20var(--font-ui-small);%5Cn%20%20%20%20border-radius:%20var(--input-radius);%5Cn%20%20%20%20outline:%20none;%5Cn%5Cn%20%20%20%20@at-root%20%7B%5Cn%20%20%20%20%20%20@media%20(hover:%20hover)%20%7B%5Cn%20%20%20%20%20%20%20%20&:hover%20%7B%5Cn%20%20%20%20%20%20%20%20%20%20border-color:%20var(--background-modifier-border-hover);%5Cn%20%20%20%20%20%20%20%20%20%20transition:%5Cn%20%20%20%20%20%20%20%20%20%20%20%20box-shadow%200.15s%20ease-in-out,%5Cn%20%20%20%20%20%20%20%20%20%20%20%20border%200.15s%20ease-in-out;%5Cn%20%20%20%20%20%20%20%20%7D%5Cn%20%20%20%20%20%20%7D%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20&:active,%5Cn%20%20%20%20&:focus%20%7B%5Cn%20%20%20%20%20%20border-color:%20var(--background-modifier-border-focus);%5Cn%20%20%20%20%20%20transition:%5Cn%20%20%20%20%20%20%20%20box-shadow%200.15s%20ease-in-out,%5Cn%20%20%20%20%20%20%20%20border%200.15s%20ease-in-out;%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20&:active,%5Cn%20%20%20%20&:focus,%5Cn%20%20%20%20&:focus-visible%20%7B%5Cn%20%20%20%20%20%20box-shadow:%200%200%200%202px%20var(--background-modifier-border-focus);%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20&::placeholder%20%7B%5Cn%20%20%20%20%20%20color:%20var(--text-faint);%5Cn%20%20%20%20%7D%5Cn%20%20%7D%5Cn%5Cn%20%20@at-root%20%7B%5Cn%20%20%20%20.mod-rtl,%5Cn%20%20%20%20.is-rtl,%5Cn%20%20%20%20.rtl%20%7B%5Cn%20%20%20%20%20%20&%20%7B%5Cn%20%20%20%20%20%20%20%20input%5Btype='month'%5D,%5Cn%20%20%20%20%20%20%20%20input%5Btype='time'%5D,%5Cn%20%20%20%20%20%20%20%20input%5Btype='week'%5D%20%7B%5Cn%20%20%20%20%20%20%20%20%20%20direction:%20rtl;%5Cn%5Cn%20%20%20%20%20%20%20%20%20%20&::-webkit-calendar-picker-indicator%20%7B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20right:%20var(--size-4-1);%5Cn%20%20%20%20%20%20%20%20%20%20%20%20left:%20auto;%5Cn%20%20%20%20%20%20%20%20%20%20%7D%5Cn%20%20%20%20%20%20%20%20%7D%5Cn%20%20%20%20%20%20%7D%5Cn%20%20%20%20%7D%5Cn%20%20%7D%5Cn%7D%5Cn%22,%22.obsidian-dev-utils%20%7B%5Cn%20%20input%5Btype='month'%5D,%5Cn%20%20input%5Btype='time'%5D,%5Cn%20%20input%5Btype='week'%5D%20%7B%5Cn%20%20%20%20font-variant-numeric:%20tabular-nums;%5Cn%20%20%20%20position:%20relative;%5Cn%5Cn%20%20%20%20&::-webkit-datetime-edit-text%20%7B%5Cn%20%20%20%20%20%20color:%20var(--text-faint);%5Cn%20%20%20%20%20%20padding-inline-end:%200;%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20&::-webkit-calendar-picker-indicator%20%7B%5Cn%20%20%20%20%20%20position:%20absolute;%5Cn%20%20%20%20%20%20left:%20var(--size-4-1);%5Cn%20%20%20%20%20%20right:%20auto;%5Cn%20%20%20%20%20%20opacity:%200.5;%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20&::-webkit-datetime-edit-month-field,%5Cn%20%20%20%20&::-webkit-datetime-edit-day-field,%5Cn%20%20%20%20&::-webkit-datetime-edit-year-field%20%7B%5Cn%20%20%20%20%20%20&:active,%5Cn%20%20%20%20%20%20&:focus%20%7B%5Cn%20%20%20%20%20%20%20%20background-color:%20var(--text-selection);%5Cn%20%20%20%20%20%20%20%20color:%20var(--text-normal);%5Cn%20%20%20%20%20%20%20%20cursor:%20text;%5Cn%20%20%20%20%20%20%7D%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20@at-root%20.mod-rtl%20&,%5Cn%20%20%20%20%20%20.is-rtl%20&,%5Cn%20%20%20%20%20%20.rtl%20&%20%7B%5Cn%20%20%20%20%20%20direction:%20rtl;%5Cn%5Cn%20%20%20%20%20%20&::-webkit-calendar-picker-indicator%20%7B%5Cn%20%20%20%20%20%20%20%20left:%20auto;%5Cn%20%20%20%20%20%20%20%20right:%20var(--size-4-1);%5Cn%20%20%20%20%20%20%7D%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20@at-root%20%7B%5Cn%20%20%20%20%20%20body:not(.is-ios):not(.is-android)%20&%20%7B%5Cn%20%20%20%20%20%20%20%20padding-inline-start:%20var(--size-4-6);%5Cn%20%20%20%20%20%20%7D%5Cn%20%20%20%20%7D%5Cn%20%20%7D%5Cn%5Cn%20%20input%5Btype='time'%5D%20%7B%5Cn%20%20%20%20&::-webkit-calendar-picker-indicator%20%7B%5Cn%20%20%20%20%20%20margin-inline-start:%200;%5Cn%20%20%20%20%7D%5Cn%20%20%7D%5Cn%7D%5Cn%22,%22.obsidian-dev-utils%20%7B%5Cn%20%20&progress.loop%20%7B%5Cn%20%20%20%20min-width:%20200px;%5Cn%20%20%7D%5Cn%7D%5Cn%22,%22.obsidian-dev-utils%20%7B%5Cn%20%20&.modal-container%20%7B%5Cn%20%20%20%20.ok-button%20%7B%5Cn%20%20%20%20%20%20margin-right:%2010px;%5Cn%20%20%20%20%20%20margin-top:%2020px;%5Cn%20%20%20%20%7D%5Cn%20%20%7D%5Cn%7D%5Cn%22,%22.obsidian-dev-utils%20%7B%5Cn%20%20.multiple-dropdown-component%20%7B%5Cn%20%20%20%20select,%5Cn%20%20%20%20select:focus,%5Cn%20%20%20%20.dropdown%20%7B%5Cn%20%20%20%20%20%20height:%20auto;%5Cn%20%20%20%20%20%20padding-top:%203px;%5Cn%5Cn%20%20%20%20%20%20option:checked%20%7B%5Cn%20%20%20%20%20%20%20%20background-color:%20%231967d2;%5Cn%20%20%20%20%20%20%20%20color:%20%23fff;%5Cn%20%20%20%20%20%20%7D%5Cn%20%20%20%20%7D%5Cn%20%20%7D%5Cn%7D%5Cn%22,%22.obsidian-dev-utils%20%7B%5Cn%20%20&.plugin-settings-tab%20%7B%5Cn%20%20%20%20a:focus%20%7B%5Cn%20%20%20%20%20%20outline:%202px%20solid%20var(--link-color);%5Cn%20%20%20%20%7D%5Cn%20%20%7D%5Cn%7D%5Cn%22,%22.obsidian-dev-utils%20%7B%5Cn%20%20&.prompt-modal%20%7B%5Cn%20%20%20%20.text-box%20%7B%5Cn%20%20%20%20%20%20width:%20100%25;%5Cn%20%20%20%20%7D%5Cn%20%20%7D%5Cn%7D%5Cn%22,%22.obsidian-dev-utils%20%7B%5Cr%5Cn%20%20&.tri-state-checkbox-component%20%7B%5Cr%5Cn%20%20%20%20input%5Btype='checkbox'%5D:indeterminate%20%7B%5Cr%5Cn%20%20%20%20%20%20appearance:%20checkbox;%5Cr%5Cn%20%20%20%20%7D%5Cr%5Cn%20%20%7D%5Cr%5Cn%7D%5Cr%5Cn%22,%22@mixin%20invalid%20%7B%5Cn%20%20box-shadow:%200%200%200%202px%20var(--text-error);%5Cn%7D%5Cn%5Cn.obsidian-dev-utils%20%7B%5Cn%20%20:invalid%20%7B%5Cn%20%20%20%20@include%20invalid;%5Cn%20%20%7D%5Cn%5Cn%20%20input.metadata-input-text,%5Cn%20%20input%5Btype='date'%5D,%5Cn%20%20input%5Btype='datetime-local'%5D,%5Cn%20%20input%5Btype='email'%5D,%5Cn%20%20input%5Btype='number'%5D,%5Cn%20%20input%5Btype='password'%5D,%5Cn%20%20input%5Btype='search'%5D,%5Cn%20%20input%5Btype='text'%5D,%5Cn%20%20textarea%20%7B%5Cn%20%20%20%20&:active,%5Cn%20%20%20%20&:focus-visible,%5Cn%20%20%20%20&:focus%20%7B%5Cn%20%20%20%20%20%20&:invalid%20%7B%5Cn%20%20%20%20%20%20%20%20@include%20invalid;%5Cn%20%20%20%20%20%20%7D%5Cn%20%20%20%20%7D%5Cn%20%20%7D%5Cn%5Cn%20%20&.setting-component-wrapper%20%7B%5Cn%20%20%20%20position:%20relative;%5Cn%20%20%20%20display:%20inline-flex;%5Cn%20%20%7D%5Cn%5Cn%20%20&.overlay-validator%20%7B%5Cn%20%20%20%20caret-color:%20transparent;%5Cn%20%20%20%20cursor:%20default;%5Cn%20%20%20%20position:%20absolute;%5Cn%20%20%20%20background-color:%20transparent;%5Cn%20%20%20%20border:%20none;%5Cn%20%20%20%20outline:%20none;%5Cn%20%20%20%20pointer-events:%20none;%5Cn%20%20%20%20z-index:%209999;%5Cn%20%20%20%20left:%200;%5Cn%20%20%20%20top:%200;%5Cn%20%20%20%20width:%20100%25;%5Cn%20%20%20%20height:%20100%25;%5Cn%20%20%7D%5Cn%5Cn%20%20&.tooltip.tooltip-validator%20%7B%5Cn%20%20%20%20position:%20absolute;%5Cn%20%20%20%20top:%20calc(100%25%20+%208px);%5Cn%20%20%20%20width:%20max-content;%5Cn%20%20%7D%5Cn%7D%5Cn%22%5D%7D */
`;s((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var on=class{static{s(this,"ValueWrapper")}constructor(e){this.value=e}};function rs(){let n=globalThis.app;if(n)return n;try{return globalThis.require("obsidian/app")}catch{throw new Error("Obsidian App global instance not found")}}s(rs,"getApp");function we(n,e,t){let i=n??is()??globalThis;return i.obsidianDevUtilsState??={},i.obsidianDevUtilsState[e]??=new on(t)}s(we,"getObsidianDevUtilsState");function is(){return typeof window>"u"?null:rs()}s(is,"getAppOrNull");s((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var an="__no-plugin-id-initialized__",rr=an;function Ye(){return rr}s(Ye,"getPluginId");function ir(n){n&&(rr=n)}s(ir,"setPluginId");s((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var sr=",",qe="-";function or(){return{disable:ss,enable:os,get:Xe,set:Re}}s(or,"getDebugController");function Je(n,e=0){let t=`${n}:${String(e)}`,r=we(null,"debuggers",new Map).value,i=r.get(t);return i||(i=Le()(n),i.log=(o,...a)=>{ls(n,e,o,...a)},r.set(t,i)),i}s(Je,"getDebugger");function ye(n){let e=Ye(),t=e===an?"":`${e}:`;return Je(`${t}${Ge}:${n}`)}s(ye,"getLibDebugger");function ar(n){let e=Le().enabled(n),t=e?"enabled":"disabled",r=e?"disable":"enable",i=Xe();Re(n),Je(n)(`Debug messages for plugin ${n} are ${t}. See https://github.com/mnaoumov/obsidian-dev-utils/blob/main/docs/debugging.md how to ${r} them.`),Re(i)}s(ar,"showInitialDebugMessage");function ss(n){let e=new Set(Xe());for(let t of De(n)){if(t.startsWith(qe))continue;let r=qe+t;e.has(t)&&e.delete(t),e.add(r)}Re(Array.from(e))}s(ss,"disableNamespaces");function os(n){let e=new Set(Xe());for(let t of De(n)){if(!t.startsWith(qe)){let r=qe+t;e.has(r)&&e.delete(r)}e.add(t)}Re(Array.from(e))}s(os,"enableNamespaces");function Xe(){return De(Le().load()??"")}s(Xe,"getNamespaces");function Le(){return typeof window>"u"?ln.default:we(null,"debug",ln.default).value}s(Le,"getSharedDebugLibInstance");function as(){return typeof window<"u"}s(as,"isInObsidian");function ls(n,e,t,...r){if(!Le().enabled(n))return;if(!as()){console.debug(t,...r);return}let i=4,o=new Error().stack?.split(`
`)??[];o.splice(0,i+e),console.debug(t,...r,`

---
Logger stack trace:
`,us(o.join(`
`)))}s(ls,"logWithCaller");function us(n){return new me("Debug mode: intentional placeholder error. See https://github.com/mnaoumov/obsidian-dev-utils/blob/main/docs/debugging.md.",n,void 0)}s(us,"makeStackTraceError");function Re(n){Le().enable(De(n).join(sr))}s(Re,"setNamespaces");function De(n){return typeof n=="string"?n.split(sr).filter(Boolean):n.flatMap(De)}s(De,"toArray");s((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();async function cs(n,e){e??=be(1);try{await n()}catch(t){let r=new me(Xn,e,t);if(ds(r))return;Qn(r)}}s(cs,"addErrorHandler");function ve(n,e){return e??=be(1),(...t)=>{let r=be(1);e=`${e??""}
    at --- convertAsyncToSync --- (0)
${r}`,k(()=>n(...t),e)}}s(ve,"convertAsyncToSync");function ds(n){let e=n;for(;!(e instanceof ge);){if(!(e instanceof Error))return!1;e=e.cause}return ye("Async:handleSilentError")(n),!0}s(ds,"handleSilentError");function k(n,e){e??=be(1),cs(n,e)}s(k,"invokeAsyncSafely");function lr(n,e=0,t,r){r??=de(),r.throwIfAborted(),t??=be(1),k(async()=>{await fs(e,r,!0),await n(r)},t)}s(lr,"invokeAsyncSafelyAfterDelay");async function fs(n,e,t){await Nn(Xt(e,Vn(n))),t&&e?.throwIfAborted()}s(fs,"sleep");var re=require("obsidian");var ps=require("obsidian"),hs=require("obsidian"),ms=require("obsidian"),la=require("obsidian"),ua=require("obsidian"),gs=require("obsidian"),bs=require("obsidian"),cr=require("obsidian");var ne={AudioRecorder:"audio-recorder",Backlink:"backlink",Bases:"bases",Bookmarks:"bookmarks",Canvas:"canvas",CommandPalette:"command-palette",DailyNotes:"daily-notes",EditorStatus:"editor-status",FileExplorer:"file-explorer",FileRecovery:"file-recovery",Footnotes:"footnotes",GlobalSearch:"global-search",Graph:"graph",MarkdownImporter:"markdown-importer",NoteComposer:"note-composer",OutgoingLink:"outgoing-link",Outline:"outline",PagePreview:"page-preview",Properties:"properties",Publish:"publish",RandomNote:"random-note",SlashCommand:"slash-command",Slides:"slides",Switcher:"switcher",Sync:"sync",TagPane:"tag-pane",Templates:"templates",Webviewer:"webviewer",WordCount:"word-count",Workspaces:"workspaces",ZkPrefixer:"zk-prefixer"},ur={AllProperties:"all-properties",Audio:"audio",Backlink:ne.Backlink,Bases:ne.Bases,Bookmarks:ne.Bookmarks,Canvas:ne.Canvas,Empty:"empty",FileExplorer:ne.FileExplorer,FileProperties:"file-properties",Graph:ne.Graph,Image:"image",LocalGraph:"localgraph",Markdown:"markdown",OutgoingLink:ne.OutgoingLink,Outline:ne.Outline,Pdf:"pdf",ReleaseNotes:"release-notes",Search:"search",Sync:"sync",Table:"table",Tag:"tag",Video:"video",Webviewer:"webviewer",WebviewerHistory:"webviewer-history"};async function dr(){return await(0,cr.loadPrism)()}s(dr,"loadPrism");var cn=Jt(hr(),1);s((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();s((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();s((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var vs={"\n":"\\n","\r":"\\r","	":"\\t","\b":"\\b","\f":"\\f","'":"\\'",'"':'\\"',"\\":"\\\\"};var As={};for(let[n,e]of Object.entries(vs))As[e]=n;function un(n,e,t){return typeof t>"u"?n:(e instanceof RegExp&&!e.global&&(e=new RegExp(e.source,`${e.flags}g`)),typeof t=="string"?n.replaceAll(e,t):n.replaceAll(e,(r,...i)=>{let a=typeof i.at(-1)=="object",l=a?i.length-2:i.length-1,u={groups:a?i.at(-1):void 0,missingGroupIndices:[],offset:i.at(l-1),source:i.at(l),substring:r},d=i.slice(0,l-1).map((f,c)=>{if(typeof f=="string")return f;if(typeof f>"u")return u.missingGroupIndices.push(c),"";throw new Error(`Unexpected argument type: ${typeof f}`)});return t(u,...d)??u.substring}))}s(un,"replaceAll");s((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var Cs=/[a-zA-Z]:\/[^:]*$/,X=cn.default.posix,Oa=X.delimiter,Pa=cn.default.posix.sep,Es=X.basename,xs=X.dirname,dn=X.extname,Fa=X.format;var Ss=X.join,Ra=X.normalize,La=X.parse,Da=X.relative;function mr(...n){let e=X.resolve(...n);return e=Ts(e),Cs.exec(e)?.[0]??e}s(mr,"resolve");function Ts(n){return un(n,"\\","/")}s(Ts,"toPosixPath");s((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var ks="md";function Os(n,e,t){if(Ce(e))return e.extension===t;if(typeof e=="string"){let r=Ze(n,e);return r?r.extension===t:dn(e).slice(1)===t}return!1}s(Os,"checkExtension");function wr(n,e,t){if(e===null)return null;if(vr(e))return n.vault.fileMap[e.path]??e;let r=gr(n,e,t);if(r)return r;let i=Cr(e);return i===e?null:gr(n,i,t)}s(wr,"getAbstractFileOrNull");function Ze(n,e,t){let r=wr(n,e,t);return Ce(r)?r:null}s(Ze,"getFileOrNull");function yr(n,e){if(vr(e))return e.path;let t=wr(n,e);return t?t.path:Cr(e)}s(yr,"getPath");function vr(n){return n instanceof re.TAbstractFile}s(vr,"isAbstractFile");function Ce(n){return n instanceof re.TFile}s(Ce,"isFile");function Ar(n,e){return Os(n,e,ks)}s(Ar,"isMarkdownFile");function gr(n,e,t){return t?n.vault.getAbstractFileByPathInsensitive(e):n.vault.getAbstractFileByPath(e)}s(gr,"getFileInternal");function Cr(n){return(0,re.normalizePath)(mr("/",n))}s(Cr,"getResolvedPath");s((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var Ps=[{constructor:ArrayBuffer,equalityComparer:Fs},{constructor:Date,equalityComparer:Rs},{constructor:RegExp,equalityComparer:Ds},{constructor:Map,equalityComparer:Ls},{constructor:Set,equalityComparer:Is}];function Z(n,e){if(n===e)return!0;if(typeof n!="object"||typeof e!="object"||n===null||e===null)return!1;let t=n.constructor,r=e.constructor;if(t!==r)return!1;if(t!==Object){let u=Vs(n,e);if(u!==void 0)return u}let i=Ee(n),o=Ee(e);if(i.length!==o.length)return!1;let a=n,l=e;for(let u of i)if(!o.includes(u)||!Z(a[u],l[u]))return!1;return!0}s(Z,"deepEqual");function ie(n){return typeof n!="object"||n===null?n:"default"in n?n.default:n}s(ie,"extractDefaultExportInterop");function Ee(n){let e=[],t=n;for(;t;){let r=Object.getOwnPropertyDescriptors(t);for(let[i,o]of Object.entries(r)){if(i==="__proto__"||typeof o.value=="function")continue;let a=typeof o.get=="function",l=typeof o.set=="function";if(a||l){a&&l&&e.push(i);continue}o.enumerable&&o.writable&&e.push(i)}t=Object.getPrototypeOf(t)}return e.sort()}s(Ee,"getAllKeys");function Fs(n,e){if(n.byteLength!==e.byteLength)return!1;let t=new Uint8Array(n),r=new Uint8Array(e);return Z(t,r)}s(Fs,"deepEqualArrayBuffer");function Rs(n,e){return n.getTime()===e.getTime()}s(Rs,"deepEqualDate");function Ls(n,e){if(n.size!==e.size)return!1;for(let[t,r]of n.entries())if(!e.has(t)||!Z(r,e.get(t)))return!1;return!0}s(Ls,"deepEqualMap");function Ds(n,e){return n.source===e.source&&n.flags===e.flags}s(Ds,"deepEqualRegExp");function Is(n,e){if(n.size!==e.size)return!1;for(let t of n){if(e.has(t))continue;let r=!1;for(let i of e)if(Z(t,i)){r=!0;break}if(!r)return!1}return!0}s(Is,"deepEqualSet");function Vs(n,e){for(let{constructor:t,equalityComparer:r}of Ps)if(n instanceof t&&e instanceof t)return r(n,e)}s(Vs,"deepEqualTyped");var fn=require("obsidian");s((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();s((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();s((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var pn=require("obsidian");var xr=require("@codemirror/state"),_s=require("@codemirror/view");s((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();s((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();async function Sr(n,e){if(!Ar(n,e))return;let t=yr(n,e);for(let r of n.workspace.getLeavesOfType(ur.Markdown))r.view instanceof pn.MarkdownView&&r.view.file?.path===t&&r.view.dirty&&await r.view.save()}s(Sr,"saveNote");s((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();async function js(n){await new Promise(e=>{n.metadataCache.onCleanCache(e)})}s(js,"ensureMetadataCacheReady");async function Tr(n,e){let t=Ze(n,e);try{if(!t)return null;if(t.deleted)return n.metadataCache.getFileCache(t);await Sr(n,t);let r=n.metadataCache.fileCache[t.path];return r&&r.mtime===t.stat.mtime&&r.size===t.stat.size&&n.metadataCache.metadataCache[r.hash]||(await n.metadataCache.computeFileMetadataAsync(t),await js(n)),n.metadataCache.getFileCache(t)}catch(r){if(!t||t.deleted)return null;throw r}}s(Tr,"getCacheSafe");function kr(n,e){let t=Object.keys(e).map(r=>Us(n,r,e[r]));return t.length===1?t[0]:function(){t.forEach(r=>r())}}s(kr,"around");function Us(n,e,t){let r=n[e],i=n.hasOwnProperty(e),o=i?r:function(){return Object.getPrototypeOf(n)[e].apply(this,arguments)},a=t(o);return r&&Object.setPrototypeOf(a,r),Object.setPrototypeOf(l,a),n[e]=l,u;function l(...d){return a===o&&n[e]===l&&u(),a.apply(this,d)}s(l,"wrapper");function u(){n[e]===l&&(i?n[e]=o:delete n[e]),a!==o&&(a=o,Object.setPrototypeOf(l,r||Function))}s(u,"remove")}s(Us,"around1");s((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();function Hs(n,e){return kr(n,e)}s(Hs,"around");function Or(n,e,t){let r=Hs(e,t),i=!1;function o(){if(!i)try{r()}finally{i=!0}}return s(o,"uninstallerWrapper"),n.register(o),r}s(Or,"registerPatch");var ct=require("obsidian");var Pr=require("obsidian");s((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var Qe=class extends Pr.Component{static{s(this,"AsyncEventsComponent")}registerAsyncEvent(e){et(this,e)}};function et(n,e){n.register(()=>{e.asyncEvents.offref(e)})}s(et,"registerAsyncEvent");var y=s(n=>typeof n=="string","isString"),Ie=s(()=>{let n,e,t=new Promise((r,i)=>{n=r,e=i});return t.resolve=n,t.reject=e,t},"defer"),Fr=s(n=>n==null?"":""+n,"makeString"),zs=s((n,e,t)=>{n.forEach(r=>{e[r]&&(t[r]=e[r])})},"copy"),Ks=/###/g,Rr=s(n=>n&&n.indexOf("###")>-1?n.replace(Ks,"."):n,"cleanKey"),Lr=s(n=>!n||y(n),"canNotTraverseDeeper"),Ve=s((n,e,t)=>{let r=y(e)?e.split("."):e,i=0;for(;i<r.length-1;){if(Lr(n))return{};let o=Rr(r[i]);!n[o]&&t&&(n[o]=new t),Object.prototype.hasOwnProperty.call(n,o)?n=n[o]:n={},++i}return Lr(n)?{}:{obj:n,k:Rr(r[i])}},"getLastOfPath"),Dr=s((n,e,t)=>{let{obj:r,k:i}=Ve(n,e,Object);if(r!==void 0||e.length===1){r[i]=t;return}let o=e[e.length-1],a=e.slice(0,e.length-1),l=Ve(n,a,Object);for(;l.obj===void 0&&a.length;)o=`${a[a.length-1]}.${o}`,a=a.slice(0,a.length-1),l=Ve(n,a,Object),l?.obj&&typeof l.obj[`${l.k}.${o}`]<"u"&&(l.obj=void 0);l.obj[`${l.k}.${o}`]=t},"setPath"),Gs=s((n,e,t,r)=>{let{obj:i,k:o}=Ve(n,e,Object);i[o]=i[o]||[],i[o].push(t)},"pushPath"),nt=s((n,e)=>{let{obj:t,k:r}=Ve(n,e);if(t&&Object.prototype.hasOwnProperty.call(t,r))return t[r]},"getPath"),Ys=s((n,e,t)=>{let r=nt(n,t);return r!==void 0?r:nt(e,t)},"getPathWithDefaults"),Wr=s((n,e,t)=>{for(let r in e)r!=="__proto__"&&r!=="constructor"&&(r in n?y(n[r])||n[r]instanceof String||y(e[r])||e[r]instanceof String?t&&(n[r]=e[r]):Wr(n[r],e[r],t):n[r]=e[r]);return n},"deepExtend"),xe=s(n=>n.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&"),"regexEscape"),qs={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"},Js=s(n=>y(n)?n.replace(/[&<>"'\/]/g,e=>qs[e]):n,"escape"),gn=class{static{s(this,"RegExpCache")}constructor(e){this.capacity=e,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(e){let t=this.regExpMap.get(e);if(t!==void 0)return t;let r=new RegExp(e);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(e,r),this.regExpQueue.push(e),r}},Xs=[" ",",","?","!",";"],Zs=new gn(20),Qs=s((n,e,t)=>{e=e||"",t=t||"";let r=Xs.filter(a=>e.indexOf(a)<0&&t.indexOf(a)<0);if(r.length===0)return!0;let i=Zs.getRegExp(`(${r.map(a=>a==="?"?"\\?":a).join("|")})`),o=!i.test(n);if(!o){let a=n.indexOf(t);a>0&&!i.test(n.substring(0,a))&&(o=!0)}return o},"looksLikeObjectPath"),bn=s((n,e,t=".")=>{if(!n)return;if(n[e])return Object.prototype.hasOwnProperty.call(n,e)?n[e]:void 0;let r=e.split(t),i=n;for(let o=0;o<r.length;){if(!i||typeof i!="object")return;let a,l="";for(let u=o;u<r.length;++u)if(u!==o&&(l+=t),l+=r[u],a=i[l],a!==void 0){if(["string","number","boolean"].indexOf(typeof a)>-1&&u<r.length-1)continue;o+=u-o+1;break}i=a}return i},"deepFind"),Me=s(n=>n?.replace("_","-"),"getCleanedCode"),eo={type:"logger",log(n){this.output("log",n)},warn(n){this.output("warn",n)},error(n){this.output("error",n)},output(n,e){console?.[n]?.apply?.(console,e)}},wn=class n{static{s(this,"Logger")}constructor(e,t={}){this.init(e,t)}init(e,t={}){this.prefix=t.prefix||"i18next:",this.logger=e||eo,this.options=t,this.debug=t.debug}log(...e){return this.forward(e,"log","",!0)}warn(...e){return this.forward(e,"warn","",!0)}error(...e){return this.forward(e,"error","")}deprecate(...e){return this.forward(e,"warn","WARNING DEPRECATED: ",!0)}forward(e,t,r,i){return i&&!this.debug?null:(y(e[0])&&(e[0]=`${r}${this.prefix} ${e[0]}`),this.logger[t](e))}create(e){return new n(this.logger,{prefix:`${this.prefix}:${e}:`,...this.options})}clone(e){return e=e||this.options,e.prefix=e.prefix||this.prefix,new n(this.logger,e)}},Q=new wn,Se=class{static{s(this,"EventEmitter")}constructor(){this.observers={}}on(e,t){return e.split(" ").forEach(r=>{this.observers[r]||(this.observers[r]=new Map);let i=this.observers[r].get(t)||0;this.observers[r].set(t,i+1)}),this}off(e,t){if(this.observers[e]){if(!t){delete this.observers[e];return}this.observers[e].delete(t)}}emit(e,...t){this.observers[e]&&Array.from(this.observers[e].entries()).forEach(([i,o])=>{for(let a=0;a<o;a++)i(...t)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(([i,o])=>{for(let a=0;a<o;a++)i.apply(i,[e,...t])})}},rt=class extends Se{static{s(this,"ResourceStore")}constructor(e,t={ns:["translation"],defaultNS:"translation"}){super(),this.data=e||{},this.options=t,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(e){this.options.ns.indexOf(e)<0&&this.options.ns.push(e)}removeNamespaces(e){let t=this.options.ns.indexOf(e);t>-1&&this.options.ns.splice(t,1)}getResource(e,t,r,i={}){let o=i.keySeparator!==void 0?i.keySeparator:this.options.keySeparator,a=i.ignoreJSONStructure!==void 0?i.ignoreJSONStructure:this.options.ignoreJSONStructure,l;e.indexOf(".")>-1?l=e.split("."):(l=[e,t],r&&(Array.isArray(r)?l.push(...r):y(r)&&o?l.push(...r.split(o)):l.push(r)));let u=nt(this.data,l);return!u&&!t&&!r&&e.indexOf(".")>-1&&(e=l[0],t=l[1],r=l.slice(2).join(".")),u||!a||!y(r)?u:bn(this.data?.[e]?.[t],r,o)}addResource(e,t,r,i,o={silent:!1}){let a=o.keySeparator!==void 0?o.keySeparator:this.options.keySeparator,l=[e,t];r&&(l=l.concat(a?r.split(a):r)),e.indexOf(".")>-1&&(l=e.split("."),i=t,t=l[1]),this.addNamespaces(t),Dr(this.data,l,i),o.silent||this.emit("added",e,t,r,i)}addResources(e,t,r,i={silent:!1}){for(let o in r)(y(r[o])||Array.isArray(r[o]))&&this.addResource(e,t,o,r[o],{silent:!0});i.silent||this.emit("added",e,t,r)}addResourceBundle(e,t,r,i,o,a={silent:!1,skipCopy:!1}){let l=[e,t];e.indexOf(".")>-1&&(l=e.split("."),i=r,r=t,t=l[1]),this.addNamespaces(t);let u=nt(this.data,l)||{};a.skipCopy||(r=JSON.parse(JSON.stringify(r))),i?Wr(u,r,o):u={...u,...r},Dr(this.data,l,u),a.silent||this.emit("added",e,t,r)}removeResourceBundle(e,t){this.hasResourceBundle(e,t)&&delete this.data[e][t],this.removeNamespaces(t),this.emit("removed",e,t)}hasResourceBundle(e,t){return this.getResource(e,t)!==void 0}getResourceBundle(e,t){return t||(t=this.options.defaultNS),this.getResource(e,t)}getDataByLanguage(e){return this.data[e]}hasLanguageSomeTranslations(e){let t=this.getDataByLanguage(e);return!!(t&&Object.keys(t)||[]).find(i=>t[i]&&Object.keys(t[i]).length>0)}toJSON(){return this.data}},jr={processors:{},addPostProcessor(n){this.processors[n.name]=n},handle(n,e,t,r,i){return n.forEach(o=>{e=this.processors[o]?.process(e,t,r,i)??e}),e}},Ur=Symbol("i18next/PATH_KEY");function to(){let n=[],e=Object.create(null),t;return e.get=(r,i)=>(t?.revoke?.(),i===Ur?n:(n.push(i),t=Proxy.revocable(r,e),t.proxy)),Proxy.revocable(Object.create(null),e).proxy}s(to,"createProxy");function yn(n,e){let{[Ur]:t}=n(to());return t.join(e?.keySeparator??".")}s(yn,"keysFromSelector");var Ir={},hn=s(n=>!y(n)&&typeof n!="boolean"&&typeof n!="number","shouldHandleAsObject"),it=class n extends Se{static{s(this,"Translator")}constructor(e,t={}){super(),zs(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],e,this),this.options=t,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=Q.create("translator")}changeLanguage(e){e&&(this.language=e)}exists(e,t={interpolation:{}}){let r={...t};if(e==null)return!1;let i=this.resolve(e,r);if(i?.res===void 0)return!1;let o=hn(i.res);return!(r.returnObjects===!1&&o)}extractFromKey(e,t){let r=t.nsSeparator!==void 0?t.nsSeparator:this.options.nsSeparator;r===void 0&&(r=":");let i=t.keySeparator!==void 0?t.keySeparator:this.options.keySeparator,o=t.ns||this.options.defaultNS||[],a=r&&e.indexOf(r)>-1,l=!this.options.userDefinedKeySeparator&&!t.keySeparator&&!this.options.userDefinedNsSeparator&&!t.nsSeparator&&!Qs(e,r,i);if(a&&!l){let u=e.match(this.interpolator.nestingRegexp);if(u&&u.length>0)return{key:e,namespaces:y(o)?[o]:o};let d=e.split(r);(r!==i||r===i&&this.options.ns.indexOf(d[0])>-1)&&(o=d.shift()),e=d.join(i)}return{key:e,namespaces:y(o)?[o]:o}}translate(e,t,r){let i=typeof t=="object"?{...t}:t;if(typeof i!="object"&&this.options.overloadTranslationOptionHandler&&(i=this.options.overloadTranslationOptionHandler(arguments)),typeof i=="object"&&(i={...i}),i||(i={}),e==null)return"";typeof e=="function"&&(e=yn(e,{...this.options,...i})),Array.isArray(e)||(e=[String(e)]);let o=i.returnDetails!==void 0?i.returnDetails:this.options.returnDetails,a=i.keySeparator!==void 0?i.keySeparator:this.options.keySeparator,{key:l,namespaces:u}=this.extractFromKey(e[e.length-1],i),d=u[u.length-1],f=i.nsSeparator!==void 0?i.nsSeparator:this.options.nsSeparator;f===void 0&&(f=":");let c=i.lng||this.language,p=i.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(c?.toLowerCase()==="cimode")return p?o?{res:`${d}${f}${l}`,usedKey:l,exactUsedKey:l,usedLng:c,usedNS:d,usedParams:this.getUsedParamsDetails(i)}:`${d}${f}${l}`:o?{res:l,usedKey:l,exactUsedKey:l,usedLng:c,usedNS:d,usedParams:this.getUsedParamsDetails(i)}:l;let m=this.resolve(e,i),g=m?.res,A=m?.usedKey||l,h=m?.exactUsedKey||l,w=["[object Number]","[object Function]","[object RegExp]"],v=i.joinArrays!==void 0?i.joinArrays:this.options.joinArrays,E=!this.i18nFormat||this.i18nFormat.handleAsObject,C=i.count!==void 0&&!y(i.count),S=n.hasDefaultValue(i),T=C?this.pluralResolver.getSuffix(c,i.count,i):"",V=i.ordinal&&C?this.pluralResolver.getSuffix(c,i.count,{ordinal:!1}):"",K=C&&!i.ordinal&&i.count===0,N=K&&i[`defaultValue${this.options.pluralSeparator}zero`]||i[`defaultValue${T}`]||i[`defaultValue${V}`]||i.defaultValue,_=g;E&&!g&&S&&(_=N);let _e=hn(_),ke=Object.prototype.toString.apply(_);if(E&&_&&_e&&w.indexOf(ke)<0&&!(y(v)&&Array.isArray(_))){if(!i.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");let M=this.options.returnedObjectHandler?this.options.returnedObjectHandler(A,_,{...i,ns:u}):`key '${l} (${this.language})' returned an object instead of string.`;return o?(m.res=M,m.usedParams=this.getUsedParamsDetails(i),m):M}if(a){let M=Array.isArray(_),$=M?[]:{},ae=M?h:A;for(let O in _)if(Object.prototype.hasOwnProperty.call(_,O)){let G=`${ae}${a}${O}`;S&&!g?$[O]=this.translate(G,{...i,defaultValue:hn(N)?N[O]:void 0,joinArrays:!1,ns:u}):$[O]=this.translate(G,{...i,joinArrays:!1,ns:u}),$[O]===G&&($[O]=_[O])}g=$}}else if(E&&y(v)&&Array.isArray(g))g=g.join(v),g&&(g=this.extendTranslation(g,e,i,r));else{let M=!1,$=!1;!this.isValidLookup(g)&&S&&(M=!0,g=N),this.isValidLookup(g)||($=!0,g=l);let O=(i.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&$?void 0:g,G=S&&N!==g&&this.options.updateMissing;if($||M||G){if(this.logger.log(G?"updateKey":"missingKey",c,d,l,G?N:g),a){let j=this.resolve(l,{...i,keySeparator:!1});j&&j.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let Oe=[],$e=this.languageUtils.getFallbackCodes(this.options.fallbackLng,i.lng||this.language);if(this.options.saveMissingTo==="fallback"&&$e&&$e[0])for(let j=0;j<$e.length;j++)Oe.push($e[j]);else this.options.saveMissingTo==="all"?Oe=this.languageUtils.toResolveHierarchy(i.lng||this.language):Oe.push(i.lng||this.language);let Ln=s((j,le,Pe)=>{let Dn=S&&Pe!==g?Pe:O;this.options.missingKeyHandler?this.options.missingKeyHandler(j,d,le,Dn,G,i):this.backendConnector?.saveMissing&&this.backendConnector.saveMissing(j,d,le,Dn,G,i),this.emit("missingKey",j,d,le,g)},"send");this.options.saveMissing&&(this.options.saveMissingPlurals&&C?Oe.forEach(j=>{let le=this.pluralResolver.getSuffixes(j,i);K&&i[`defaultValue${this.options.pluralSeparator}zero`]&&le.indexOf(`${this.options.pluralSeparator}zero`)<0&&le.push(`${this.options.pluralSeparator}zero`),le.forEach(Pe=>{Ln([j],l+Pe,i[`defaultValue${Pe}`]||N)})}):Ln(Oe,l,N))}g=this.extendTranslation(g,e,i,m,r),$&&g===l&&this.options.appendNamespaceToMissingKey&&(g=`${d}${f}${l}`),($||M)&&this.options.parseMissingKeyHandler&&(g=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${d}${f}${l}`:l,M?g:void 0,i))}return o?(m.res=g,m.usedParams=this.getUsedParamsDetails(i),m):g}extendTranslation(e,t,r,i,o){if(this.i18nFormat?.parse)e=this.i18nFormat.parse(e,{...this.options.interpolation.defaultVariables,...r},r.lng||this.language||i.usedLng,i.usedNS,i.usedKey,{resolved:i});else if(!r.skipInterpolation){r.interpolation&&this.interpolator.init({...r,interpolation:{...this.options.interpolation,...r.interpolation}});let u=y(e)&&(r?.interpolation?.skipOnVariables!==void 0?r.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables),d;if(u){let c=e.match(this.interpolator.nestingRegexp);d=c&&c.length}let f=r.replace&&!y(r.replace)?r.replace:r;if(this.options.interpolation.defaultVariables&&(f={...this.options.interpolation.defaultVariables,...f}),e=this.interpolator.interpolate(e,f,r.lng||this.language||i.usedLng,r),u){let c=e.match(this.interpolator.nestingRegexp),p=c&&c.length;d<p&&(r.nest=!1)}!r.lng&&i&&i.res&&(r.lng=this.language||i.usedLng),r.nest!==!1&&(e=this.interpolator.nest(e,(...c)=>o?.[0]===c[0]&&!r.context?(this.logger.warn(`It seems you are nesting recursively key: ${c[0]} in key: ${t[0]}`),null):this.translate(...c,t),r)),r.interpolation&&this.interpolator.reset()}let a=r.postProcess||this.options.postProcess,l=y(a)?[a]:a;return e!=null&&l?.length&&r.applyPostProcessor!==!1&&(e=jr.handle(l,e,t,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...i,usedParams:this.getUsedParamsDetails(r)},...r}:r,this)),e}resolve(e,t={}){let r,i,o,a,l;return y(e)&&(e=[e]),e.forEach(u=>{if(this.isValidLookup(r))return;let d=this.extractFromKey(u,t),f=d.key;i=f;let c=d.namespaces;this.options.fallbackNS&&(c=c.concat(this.options.fallbackNS));let p=t.count!==void 0&&!y(t.count),m=p&&!t.ordinal&&t.count===0,g=t.context!==void 0&&(y(t.context)||typeof t.context=="number")&&t.context!=="",A=t.lngs?t.lngs:this.languageUtils.toResolveHierarchy(t.lng||this.language,t.fallbackLng);c.forEach(h=>{this.isValidLookup(r)||(l=h,!Ir[`${A[0]}-${h}`]&&this.utils?.hasLoadedNamespace&&!this.utils?.hasLoadedNamespace(l)&&(Ir[`${A[0]}-${h}`]=!0,this.logger.warn(`key "${i}" for languages "${A.join(", ")}" won't get resolved as namespace "${l}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),A.forEach(w=>{if(this.isValidLookup(r))return;a=w;let v=[f];if(this.i18nFormat?.addLookupKeys)this.i18nFormat.addLookupKeys(v,f,w,h,t);else{let C;p&&(C=this.pluralResolver.getSuffix(w,t.count,t));let S=`${this.options.pluralSeparator}zero`,T=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(p&&(t.ordinal&&C.indexOf(T)===0&&v.push(f+C.replace(T,this.options.pluralSeparator)),v.push(f+C),m&&v.push(f+S)),g){let V=`${f}${this.options.contextSeparator||"_"}${t.context}`;v.push(V),p&&(t.ordinal&&C.indexOf(T)===0&&v.push(V+C.replace(T,this.options.pluralSeparator)),v.push(V+C),m&&v.push(V+S))}}let E;for(;E=v.pop();)this.isValidLookup(r)||(o=E,r=this.getResource(w,h,E,t))}))})}),{res:r,usedKey:i,exactUsedKey:o,usedLng:a,usedNS:l}}isValidLookup(e){return e!==void 0&&!(!this.options.returnNull&&e===null)&&!(!this.options.returnEmptyString&&e==="")}getResource(e,t,r,i={}){return this.i18nFormat?.getResource?this.i18nFormat.getResource(e,t,r,i):this.resourceStore.getResource(e,t,r,i)}getUsedParamsDetails(e={}){let t=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],r=e.replace&&!y(e.replace),i=r?e.replace:e;if(r&&typeof e.count<"u"&&(i.count=e.count),this.options.interpolation.defaultVariables&&(i={...this.options.interpolation.defaultVariables,...i}),!r){i={...i};for(let o of t)delete i[o]}return i}static hasDefaultValue(e){let t="defaultValue";for(let r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&t===r.substring(0,t.length)&&e[r]!==void 0)return!0;return!1}},st=class{static{s(this,"LanguageUtil")}constructor(e){this.options=e,this.supportedLngs=this.options.supportedLngs||!1,this.logger=Q.create("languageUtils")}getScriptPartFromCode(e){if(e=Me(e),!e||e.indexOf("-")<0)return null;let t=e.split("-");return t.length===2||(t.pop(),t[t.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(t.join("-"))}getLanguagePartFromCode(e){if(e=Me(e),!e||e.indexOf("-")<0)return e;let t=e.split("-");return this.formatLanguageCode(t[0])}formatLanguageCode(e){if(y(e)&&e.indexOf("-")>-1){let t;try{t=Intl.getCanonicalLocales(e)[0]}catch{}return t&&this.options.lowerCaseLng&&(t=t.toLowerCase()),t||(this.options.lowerCaseLng?e.toLowerCase():e)}return this.options.cleanCode||this.options.lowerCaseLng?e.toLowerCase():e}isSupportedCode(e){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(e=this.getLanguagePartFromCode(e)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(e)>-1}getBestMatchFromCodes(e){if(!e)return null;let t;return e.forEach(r=>{if(t)return;let i=this.formatLanguageCode(r);(!this.options.supportedLngs||this.isSupportedCode(i))&&(t=i)}),!t&&this.options.supportedLngs&&e.forEach(r=>{if(t)return;let i=this.getScriptPartFromCode(r);if(this.isSupportedCode(i))return t=i;let o=this.getLanguagePartFromCode(r);if(this.isSupportedCode(o))return t=o;t=this.options.supportedLngs.find(a=>{if(a===o)return a;if(!(a.indexOf("-")<0&&o.indexOf("-")<0)&&(a.indexOf("-")>0&&o.indexOf("-")<0&&a.substring(0,a.indexOf("-"))===o||a.indexOf(o)===0&&o.length>1))return a})}),t||(t=this.getFallbackCodes(this.options.fallbackLng)[0]),t}getFallbackCodes(e,t){if(!e)return[];if(typeof e=="function"&&(e=e(t)),y(e)&&(e=[e]),Array.isArray(e))return e;if(!t)return e.default||[];let r=e[t];return r||(r=e[this.getScriptPartFromCode(t)]),r||(r=e[this.formatLanguageCode(t)]),r||(r=e[this.getLanguagePartFromCode(t)]),r||(r=e.default),r||[]}toResolveHierarchy(e,t){let r=this.getFallbackCodes((t===!1?[]:t)||this.options.fallbackLng||[],e),i=[],o=s(a=>{a&&(this.isSupportedCode(a)?i.push(a):this.logger.warn(`rejecting language code not found in supportedLngs: ${a}`))},"addCode");return y(e)&&(e.indexOf("-")>-1||e.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&o(this.formatLanguageCode(e)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&o(this.getScriptPartFromCode(e)),this.options.load!=="currentOnly"&&o(this.getLanguagePartFromCode(e))):y(e)&&o(this.formatLanguageCode(e)),r.forEach(a=>{i.indexOf(a)<0&&o(this.formatLanguageCode(a))}),i}},Vr={zero:0,one:1,two:2,few:3,many:4,other:5},Mr={select:s(n=>n===1?"one":"other","select"),resolvedOptions:s(()=>({pluralCategories:["one","other"]}),"resolvedOptions")},vn=class{static{s(this,"PluralResolver")}constructor(e,t={}){this.languageUtils=e,this.options=t,this.logger=Q.create("pluralResolver"),this.pluralRulesCache={}}addRule(e,t){this.rules[e]=t}clearCache(){this.pluralRulesCache={}}getRule(e,t={}){let r=Me(e==="dev"?"en":e),i=t.ordinal?"ordinal":"cardinal",o=JSON.stringify({cleanedCode:r,type:i});if(o in this.pluralRulesCache)return this.pluralRulesCache[o];let a;try{a=new Intl.PluralRules(r,{type:i})}catch{if(!Intl)return this.logger.error("No Intl support, please use an Intl polyfill!"),Mr;if(!e.match(/-|_/))return Mr;let u=this.languageUtils.getLanguagePartFromCode(e);a=this.getRule(u,t)}return this.pluralRulesCache[o]=a,a}needsPlural(e,t={}){let r=this.getRule(e,t);return r||(r=this.getRule("dev",t)),r?.resolvedOptions().pluralCategories.length>1}getPluralFormsOfKey(e,t,r={}){return this.getSuffixes(e,r).map(i=>`${t}${i}`)}getSuffixes(e,t={}){let r=this.getRule(e,t);return r||(r=this.getRule("dev",t)),r?r.resolvedOptions().pluralCategories.sort((i,o)=>Vr[i]-Vr[o]).map(i=>`${this.options.prepend}${t.ordinal?`ordinal${this.options.prepend}`:""}${i}`):[]}getSuffix(e,t,r={}){let i=this.getRule(e,r);return i?`${this.options.prepend}${r.ordinal?`ordinal${this.options.prepend}`:""}${i.select(t)}`:(this.logger.warn(`no plural rule found for: ${e}`),this.getSuffix("dev",t,r))}},Nr=s((n,e,t,r=".",i=!0)=>{let o=Ys(n,e,t);return!o&&i&&y(t)&&(o=bn(n,t,r),o===void 0&&(o=bn(e,t,r))),o},"deepFindWithDefaults"),mn=s(n=>n.replace(/\$/g,"$$$$"),"regexSafe"),An=class{static{s(this,"Interpolator")}constructor(e={}){this.logger=Q.create("interpolator"),this.options=e,this.format=e?.interpolation?.format||(t=>t),this.init(e)}init(e={}){e.interpolation||(e.interpolation={escapeValue:!0});let{escape:t,escapeValue:r,useRawValueToEscape:i,prefix:o,prefixEscaped:a,suffix:l,suffixEscaped:u,formatSeparator:d,unescapeSuffix:f,unescapePrefix:c,nestingPrefix:p,nestingPrefixEscaped:m,nestingSuffix:g,nestingSuffixEscaped:A,nestingOptionsSeparator:h,maxReplaces:w,alwaysFormat:v}=e.interpolation;this.escape=t!==void 0?t:Js,this.escapeValue=r!==void 0?r:!0,this.useRawValueToEscape=i!==void 0?i:!1,this.prefix=o?xe(o):a||"{{",this.suffix=l?xe(l):u||"}}",this.formatSeparator=d||",",this.unescapePrefix=f?"":c||"-",this.unescapeSuffix=this.unescapePrefix?"":f||"",this.nestingPrefix=p?xe(p):m||xe("$t("),this.nestingSuffix=g?xe(g):A||xe(")"),this.nestingOptionsSeparator=h||",",this.maxReplaces=w||1e3,this.alwaysFormat=v!==void 0?v:!1,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){let e=s((t,r)=>t?.source===r?(t.lastIndex=0,t):new RegExp(r,"g"),"getOrResetRegExp");this.regexp=e(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=e(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=e(this.nestingRegexp,`${this.nestingPrefix}((?:[^()"']+|"[^"]*"|'[^']*'|\\((?:[^()]|"[^"]*"|'[^']*')*\\))*?)${this.nestingSuffix}`)}interpolate(e,t,r,i){let o,a,l,u=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},d=s(m=>{if(m.indexOf(this.formatSeparator)<0){let w=Nr(t,u,m,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(w,void 0,r,{...i,...t,interpolationkey:m}):w}let g=m.split(this.formatSeparator),A=g.shift().trim(),h=g.join(this.formatSeparator).trim();return this.format(Nr(t,u,A,this.options.keySeparator,this.options.ignoreJSONStructure),h,r,{...i,...t,interpolationkey:A})},"handleFormat");this.resetRegExp();let f=i?.missingInterpolationHandler||this.options.missingInterpolationHandler,c=i?.interpolation?.skipOnVariables!==void 0?i.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:s(m=>mn(m),"safeValue")},{regex:this.regexp,safeValue:s(m=>this.escapeValue?mn(this.escape(m)):mn(m),"safeValue")}].forEach(m=>{for(l=0;o=m.regex.exec(e);){let g=o[1].trim();if(a=d(g),a===void 0)if(typeof f=="function"){let h=f(e,o,i);a=y(h)?h:""}else if(i&&Object.prototype.hasOwnProperty.call(i,g))a="";else if(c){a=o[0];continue}else this.logger.warn(`missed to pass in variable ${g} for interpolating ${e}`),a="";else!y(a)&&!this.useRawValueToEscape&&(a=Fr(a));let A=m.safeValue(a);if(e=e.replace(o[0],A),c?(m.regex.lastIndex+=a.length,m.regex.lastIndex-=o[0].length):m.regex.lastIndex=0,l++,l>=this.maxReplaces)break}}),e}nest(e,t,r={}){let i,o,a,l=s((u,d)=>{let f=this.nestingOptionsSeparator;if(u.indexOf(f)<0)return u;let c=u.split(new RegExp(`${f}[ ]*{`)),p=`{${c[1]}`;u=c[0],p=this.interpolate(p,a);let m=p.match(/'/g),g=p.match(/"/g);((m?.length??0)%2===0&&!g||g.length%2!==0)&&(p=p.replace(/'/g,'"'));try{a=JSON.parse(p),d&&(a={...d,...a})}catch(A){return this.logger.warn(`failed parsing options string in nesting for key ${u}`,A),`${u}${f}${p}`}return a.defaultValue&&a.defaultValue.indexOf(this.prefix)>-1&&delete a.defaultValue,u},"handleHasOptions");for(;i=this.nestingRegexp.exec(e);){let u=[];a={...r},a=a.replace&&!y(a.replace)?a.replace:a,a.applyPostProcessor=!1,delete a.defaultValue;let d=/{.*}/.test(i[1])?i[1].lastIndexOf("}")+1:i[1].indexOf(this.formatSeparator);if(d!==-1&&(u=i[1].slice(d).split(this.formatSeparator).map(f=>f.trim()).filter(Boolean),i[1]=i[1].slice(0,d)),o=t(l.call(this,i[1].trim(),a),a),o&&i[0]===e&&!y(o))return o;y(o)||(o=Fr(o)),o||(this.logger.warn(`missed to resolve ${i[1]} for nesting ${e}`),o=""),u.length&&(o=u.reduce((f,c)=>this.format(f,c,r.lng,{...r,interpolationkey:i[1].trim()}),o.trim())),e=e.replace(i[0],o),this.regexp.lastIndex=0}return e}},no=s(n=>{let e=n.toLowerCase().trim(),t={};if(n.indexOf("(")>-1){let r=n.split("(");e=r[0].toLowerCase().trim();let i=r[1].substring(0,r[1].length-1);e==="currency"&&i.indexOf(":")<0?t.currency||(t.currency=i.trim()):e==="relativetime"&&i.indexOf(":")<0?t.range||(t.range=i.trim()):i.split(";").forEach(a=>{if(a){let[l,...u]=a.split(":"),d=u.join(":").trim().replace(/^'+|'+$/g,""),f=l.trim();t[f]||(t[f]=d),d==="false"&&(t[f]=!1),d==="true"&&(t[f]=!0),isNaN(d)||(t[f]=parseInt(d,10))}})}return{formatName:e,formatOptions:t}},"parseFormatStr"),_r=s(n=>{let e={};return(t,r,i)=>{let o=i;i&&i.interpolationkey&&i.formatParams&&i.formatParams[i.interpolationkey]&&i[i.interpolationkey]&&(o={...o,[i.interpolationkey]:void 0});let a=r+JSON.stringify(o),l=e[a];return l||(l=n(Me(r),i),e[a]=l),l(t)}},"createCachedFormatter"),ro=s(n=>(e,t,r)=>n(Me(t),r)(e),"createNonCachedFormatter"),Cn=class{static{s(this,"Formatter")}constructor(e={}){this.logger=Q.create("formatter"),this.options=e,this.init(e)}init(e,t={interpolation:{}}){this.formatSeparator=t.interpolation.formatSeparator||",";let r=t.cacheInBuiltFormats?_r:ro;this.formats={number:r((i,o)=>{let a=new Intl.NumberFormat(i,{...o});return l=>a.format(l)}),currency:r((i,o)=>{let a=new Intl.NumberFormat(i,{...o,style:"currency"});return l=>a.format(l)}),datetime:r((i,o)=>{let a=new Intl.DateTimeFormat(i,{...o});return l=>a.format(l)}),relativetime:r((i,o)=>{let a=new Intl.RelativeTimeFormat(i,{...o});return l=>a.format(l,o.range||"day")}),list:r((i,o)=>{let a=new Intl.ListFormat(i,{...o});return l=>a.format(l)})}}add(e,t){this.formats[e.toLowerCase().trim()]=t}addCached(e,t){this.formats[e.toLowerCase().trim()]=_r(t)}format(e,t,r,i={}){let o=t.split(this.formatSeparator);if(o.length>1&&o[0].indexOf("(")>1&&o[0].indexOf(")")<0&&o.find(l=>l.indexOf(")")>-1)){let l=o.findIndex(u=>u.indexOf(")")>-1);o[0]=[o[0],...o.splice(1,l)].join(this.formatSeparator)}return o.reduce((l,u)=>{let{formatName:d,formatOptions:f}=no(u);if(this.formats[d]){let c=l;try{let p=i?.formatParams?.[i.interpolationkey]||{},m=p.locale||p.lng||i.locale||i.lng||r;c=this.formats[d](l,m,{...f,...i,...p})}catch(p){this.logger.warn(p)}return c}else this.logger.warn(`there was no format function for ${d}`);return l},e)}},io=s((n,e)=>{n.pending[e]!==void 0&&(delete n.pending[e],n.pendingCount--)},"removePending"),En=class extends Se{static{s(this,"Connector")}constructor(e,t,r,i={}){super(),this.backend=e,this.store=t,this.services=r,this.languageUtils=r.languageUtils,this.options=i,this.logger=Q.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=i.maxParallelReads||10,this.readingCalls=0,this.maxRetries=i.maxRetries>=0?i.maxRetries:5,this.retryTimeout=i.retryTimeout>=1?i.retryTimeout:350,this.state={},this.queue=[],this.backend?.init?.(r,i.backend,i)}queueLoad(e,t,r,i){let o={},a={},l={},u={};return e.forEach(d=>{let f=!0;t.forEach(c=>{let p=`${d}|${c}`;!r.reload&&this.store.hasResourceBundle(d,c)?this.state[p]=2:this.state[p]<0||(this.state[p]===1?a[p]===void 0&&(a[p]=!0):(this.state[p]=1,f=!1,a[p]===void 0&&(a[p]=!0),o[p]===void 0&&(o[p]=!0),u[c]===void 0&&(u[c]=!0)))}),f||(l[d]=!0)}),(Object.keys(o).length||Object.keys(a).length)&&this.queue.push({pending:a,pendingCount:Object.keys(a).length,loaded:{},errors:[],callback:i}),{toLoad:Object.keys(o),pending:Object.keys(a),toLoadLanguages:Object.keys(l),toLoadNamespaces:Object.keys(u)}}loaded(e,t,r){let i=e.split("|"),o=i[0],a=i[1];t&&this.emit("failedLoading",o,a,t),!t&&r&&this.store.addResourceBundle(o,a,r,void 0,void 0,{skipCopy:!0}),this.state[e]=t?-1:2,t&&r&&(this.state[e]=0);let l={};this.queue.forEach(u=>{Gs(u.loaded,[o],a),io(u,e),t&&u.errors.push(t),u.pendingCount===0&&!u.done&&(Object.keys(u.loaded).forEach(d=>{l[d]||(l[d]={});let f=u.loaded[d];f.length&&f.forEach(c=>{l[d][c]===void 0&&(l[d][c]=!0)})}),u.done=!0,u.errors.length?u.callback(u.errors):u.callback())}),this.emit("loaded",l),this.queue=this.queue.filter(u=>!u.done)}read(e,t,r,i=0,o=this.retryTimeout,a){if(!e.length)return a(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:e,ns:t,fcName:r,tried:i,wait:o,callback:a});return}this.readingCalls++;let l=s((d,f)=>{if(this.readingCalls--,this.waitingReads.length>0){let c=this.waitingReads.shift();this.read(c.lng,c.ns,c.fcName,c.tried,c.wait,c.callback)}if(d&&f&&i<this.maxRetries){setTimeout(()=>{this.read.call(this,e,t,r,i+1,o*2,a)},o);return}a(d,f)},"resolver"),u=this.backend[r].bind(this.backend);if(u.length===2){try{let d=u(e,t);d&&typeof d.then=="function"?d.then(f=>l(null,f)).catch(l):l(null,d)}catch(d){l(d)}return}return u(e,t,l)}prepareLoading(e,t,r={},i){if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),i&&i();y(e)&&(e=this.languageUtils.toResolveHierarchy(e)),y(t)&&(t=[t]);let o=this.queueLoad(e,t,r,i);if(!o.toLoad.length)return o.pending.length||i(),null;o.toLoad.forEach(a=>{this.loadOne(a)})}load(e,t,r){this.prepareLoading(e,t,{},r)}reload(e,t,r){this.prepareLoading(e,t,{reload:!0},r)}loadOne(e,t=""){let r=e.split("|"),i=r[0],o=r[1];this.read(i,o,"read",void 0,void 0,(a,l)=>{a&&this.logger.warn(`${t}loading namespace ${o} for language ${i} failed`,a),!a&&l&&this.logger.log(`${t}loaded namespace ${o} for language ${i}`,l),this.loaded(e,a,l)})}saveMissing(e,t,r,i,o,a={},l=()=>{}){if(this.services?.utils?.hasLoadedNamespace&&!this.services?.utils?.hasLoadedNamespace(t)){this.logger.warn(`did not save key "${r}" as the namespace "${t}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(r==null||r==="")){if(this.backend?.create){let u={...a,isUpdate:o},d=this.backend.create.bind(this.backend);if(d.length<6)try{let f;d.length===5?f=d(e,t,r,i,u):f=d(e,t,r,i),f&&typeof f.then=="function"?f.then(c=>l(null,c)).catch(l):l(null,f)}catch(f){l(f)}else d(e,t,r,i,l,u)}!e||!e[0]||this.store.addResource(e[0],t,r,i)}}},$r=s(()=>({debug:!1,initAsync:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:s(n=>{let e={};if(typeof n[1]=="object"&&(e=n[1]),y(n[1])&&(e.defaultValue=n[1]),y(n[2])&&(e.tDescription=n[2]),typeof n[2]=="object"||typeof n[3]=="object"){let t=n[3]||n[2];Object.keys(t).forEach(r=>{e[r]=t[r]})}return e},"overloadTranslationOptionHandler"),interpolation:{escapeValue:!0,format:s(n=>n,"format"),prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0},cacheInBuiltFormats:!0}),"get"),Br=s(n=>(y(n.ns)&&(n.ns=[n.ns]),y(n.fallbackLng)&&(n.fallbackLng=[n.fallbackLng]),y(n.fallbackNS)&&(n.fallbackNS=[n.fallbackNS]),n.supportedLngs?.indexOf?.("cimode")<0&&(n.supportedLngs=n.supportedLngs.concat(["cimode"])),typeof n.initImmediate=="boolean"&&(n.initAsync=n.initImmediate),n),"transformOptions"),tt=s(()=>{},"noop"),so=s(n=>{Object.getOwnPropertyNames(Object.getPrototypeOf(n)).forEach(t=>{typeof n[t]=="function"&&(n[t]=n[t].bind(n))})},"bindMemberFunctions"),xn=class n extends Se{static{s(this,"I18n")}constructor(e={},t){if(super(),this.options=Br(e),this.services={},this.logger=Q,this.modules={external:[]},so(this),t&&!this.isInitialized&&!e.isClone){if(!this.options.initAsync)return this.init(e,t),this;setTimeout(()=>{this.init(e,t)},0)}}init(e={},t){this.isInitializing=!0,typeof e=="function"&&(t=e,e={}),e.defaultNS==null&&e.ns&&(y(e.ns)?e.defaultNS=e.ns:e.ns.indexOf("translation")<0&&(e.defaultNS=e.ns[0]));let r=$r();this.options={...r,...this.options,...Br(e)},this.options.interpolation={...r.interpolation,...this.options.interpolation},e.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=e.keySeparator),e.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=e.nsSeparator);let i=s(d=>d?typeof d=="function"?new d:d:null,"createClassOnDemand");if(!this.options.isClone){this.modules.logger?Q.init(i(this.modules.logger),this.options):Q.init(null,this.options);let d;this.modules.formatter?d=this.modules.formatter:d=Cn;let f=new st(this.options);this.store=new rt(this.options.resources,this.options);let c=this.services;c.logger=Q,c.resourceStore=this.store,c.languageUtils=f,c.pluralResolver=new vn(f,{prepend:this.options.pluralSeparator,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),this.options.interpolation.format&&this.options.interpolation.format!==r.interpolation.format&&this.logger.deprecate("init: you are still using the legacy format function, please use the new approach: https://www.i18next.com/translation-function/formatting"),d&&(!this.options.interpolation.format||this.options.interpolation.format===r.interpolation.format)&&(c.formatter=i(d),c.formatter.init&&c.formatter.init(c,this.options),this.options.interpolation.format=c.formatter.format.bind(c.formatter)),c.interpolator=new An(this.options),c.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},c.backendConnector=new En(i(this.modules.backend),c.resourceStore,c,this.options),c.backendConnector.on("*",(m,...g)=>{this.emit(m,...g)}),this.modules.languageDetector&&(c.languageDetector=i(this.modules.languageDetector),c.languageDetector.init&&c.languageDetector.init(c,this.options.detection,this.options)),this.modules.i18nFormat&&(c.i18nFormat=i(this.modules.i18nFormat),c.i18nFormat.init&&c.i18nFormat.init(this)),this.translator=new it(this.services,this.options),this.translator.on("*",(m,...g)=>{this.emit(m,...g)}),this.modules.external.forEach(m=>{m.init&&m.init(this)})}if(this.format=this.options.interpolation.format,t||(t=tt),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){let d=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);d.length>0&&d[0]!=="dev"&&(this.options.lng=d[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(d=>{this[d]=(...f)=>this.store[d](...f)}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(d=>{this[d]=(...f)=>(this.store[d](...f),this)});let l=Ie(),u=s(()=>{let d=s((f,c)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),l.resolve(c),t(f,c)},"finish");if(this.languages&&!this.isInitialized)return d(null,this.t.bind(this));this.changeLanguage(this.options.lng,d)},"load");return this.options.resources||!this.options.initAsync?u():setTimeout(u,0),l}loadResources(e,t=tt){let r=t,i=y(e)?e:this.language;if(typeof e=="function"&&(r=e),!this.options.resources||this.options.partialBundledLanguages){if(i?.toLowerCase()==="cimode"&&(!this.options.preload||this.options.preload.length===0))return r();let o=[],a=s(l=>{if(!l||l==="cimode")return;this.services.languageUtils.toResolveHierarchy(l).forEach(d=>{d!=="cimode"&&o.indexOf(d)<0&&o.push(d)})},"append");i?a(i):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(u=>a(u)),this.options.preload?.forEach?.(l=>a(l)),this.services.backendConnector.load(o,this.options.ns,l=>{!l&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),r(l)})}else r(null)}reloadResources(e,t,r){let i=Ie();return typeof e=="function"&&(r=e,e=void 0),typeof t=="function"&&(r=t,t=void 0),e||(e=this.languages),t||(t=this.options.ns),r||(r=tt),this.services.backendConnector.reload(e,t,o=>{i.resolve(),r(o)}),i}use(e){if(!e)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!e.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return e.type==="backend"&&(this.modules.backend=e),(e.type==="logger"||e.log&&e.warn&&e.error)&&(this.modules.logger=e),e.type==="languageDetector"&&(this.modules.languageDetector=e),e.type==="i18nFormat"&&(this.modules.i18nFormat=e),e.type==="postProcessor"&&jr.addPostProcessor(e),e.type==="formatter"&&(this.modules.formatter=e),e.type==="3rdParty"&&this.modules.external.push(e),this}setResolvedLanguage(e){if(!(!e||!this.languages)&&!(["cimode","dev"].indexOf(e)>-1)){for(let t=0;t<this.languages.length;t++){let r=this.languages[t];if(!(["cimode","dev"].indexOf(r)>-1)&&this.store.hasLanguageSomeTranslations(r)){this.resolvedLanguage=r;break}}!this.resolvedLanguage&&this.languages.indexOf(e)<0&&this.store.hasLanguageSomeTranslations(e)&&(this.resolvedLanguage=e,this.languages.unshift(e))}}changeLanguage(e,t){this.isLanguageChangingTo=e;let r=Ie();this.emit("languageChanging",e);let i=s(l=>{this.language=l,this.languages=this.services.languageUtils.toResolveHierarchy(l),this.resolvedLanguage=void 0,this.setResolvedLanguage(l)},"setLngProps"),o=s((l,u)=>{u?this.isLanguageChangingTo===e&&(i(u),this.translator.changeLanguage(u),this.isLanguageChangingTo=void 0,this.emit("languageChanged",u),this.logger.log("languageChanged",u)):this.isLanguageChangingTo=void 0,r.resolve((...d)=>this.t(...d)),t&&t(l,(...d)=>this.t(...d))},"done"),a=s(l=>{!e&&!l&&this.services.languageDetector&&(l=[]);let u=y(l)?l:l&&l[0],d=this.store.hasLanguageSomeTranslations(u)?u:this.services.languageUtils.getBestMatchFromCodes(y(l)?[l]:l);d&&(this.language||i(d),this.translator.language||this.translator.changeLanguage(d),this.services.languageDetector?.cacheUserLanguage?.(d)),this.loadResources(d,f=>{o(f,d)})},"setLng");return!e&&this.services.languageDetector&&!this.services.languageDetector.async?a(this.services.languageDetector.detect()):!e&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(a):this.services.languageDetector.detect(a):a(e),r}getFixedT(e,t,r){let i=s((o,a,...l)=>{let u;typeof a!="object"?u=this.options.overloadTranslationOptionHandler([o,a].concat(l)):u={...a},u.lng=u.lng||i.lng,u.lngs=u.lngs||i.lngs,u.ns=u.ns||i.ns,u.keyPrefix!==""&&(u.keyPrefix=u.keyPrefix||r||i.keyPrefix);let d=this.options.keySeparator||".",f;return u.keyPrefix&&Array.isArray(o)?f=o.map(c=>(typeof c=="function"&&(c=yn(c,{...this.options,...a})),`${u.keyPrefix}${d}${c}`)):(typeof o=="function"&&(o=yn(o,{...this.options,...a})),f=u.keyPrefix?`${u.keyPrefix}${d}${o}`:o),this.t(f,u)},"fixedT");return y(e)?i.lng=e:i.lngs=e,i.ns=t,i.keyPrefix=r,i}t(...e){return this.translator?.translate(...e)}exists(...e){return this.translator?.exists(...e)}setDefaultNamespace(e){this.options.defaultNS=e}hasLoadedNamespace(e,t={}){if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;let r=t.lng||this.resolvedLanguage||this.languages[0],i=this.options?this.options.fallbackLng:!1,o=this.languages[this.languages.length-1];if(r.toLowerCase()==="cimode")return!0;let a=s((l,u)=>{let d=this.services.backendConnector.state[`${l}|${u}`];return d===-1||d===0||d===2},"loadNotPending");if(t.precheck){let l=t.precheck(this,a);if(l!==void 0)return l}return!!(this.hasResourceBundle(r,e)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||a(r,e)&&(!i||a(o,e)))}loadNamespaces(e,t){let r=Ie();return this.options.ns?(y(e)&&(e=[e]),e.forEach(i=>{this.options.ns.indexOf(i)<0&&this.options.ns.push(i)}),this.loadResources(i=>{r.resolve(),t&&t(i)}),r):(t&&t(),Promise.resolve())}loadLanguages(e,t){let r=Ie();y(e)&&(e=[e]);let i=this.options.preload||[],o=e.filter(a=>i.indexOf(a)<0&&this.services.languageUtils.isSupportedCode(a));return o.length?(this.options.preload=i.concat(o),this.loadResources(a=>{r.resolve(),t&&t(a)}),r):(t&&t(),Promise.resolve())}dir(e){if(e||(e=this.resolvedLanguage||(this.languages?.length>0?this.languages[0]:this.language)),!e)return"rtl";try{let i=new Intl.Locale(e);if(i&&i.getTextInfo){let o=i.getTextInfo();if(o&&o.direction)return o.direction}}catch{}let t=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],r=this.services?.languageUtils||new st($r());return e.toLowerCase().indexOf("-latn")>1?"ltr":t.indexOf(r.getLanguagePartFromCode(e))>-1||e.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(e={},t){let r=new n(e,t);return r.createInstance=n.createInstance,r}cloneInstance(e={},t=tt){let r=e.forkResourceStore;r&&delete e.forkResourceStore;let i={...this.options,...e,isClone:!0},o=new n(i);if((e.debug!==void 0||e.prefix!==void 0)&&(o.logger=o.logger.clone(e)),["store","services","language"].forEach(l=>{o[l]=this[l]}),o.services={...this.services},o.services.utils={hasLoadedNamespace:o.hasLoadedNamespace.bind(o)},r){let l=Object.keys(this.store.data).reduce((u,d)=>(u[d]={...this.store.data[d]},u[d]=Object.keys(u[d]).reduce((f,c)=>(f[c]={...u[d][c]},f),u[d]),u),{});o.store=new rt(l,i),o.services.resourceStore=o.store}return o.translator=new it(o.services,i),o.translator.on("*",(l,...u)=>{o.emit(l,...u)}),o.init(i,t),o.translator.options=i,o.translator.backendConnector.services.utils={hasLoadedNamespace:o.hasLoadedNamespace.bind(o)},o}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}},L=xn.createInstance(),Kl=L.createInstance,Gl=L.dir,Hr=L.init,Yl=L.loadResources,ql=L.reloadResources,Jl=L.use,Xl=L.changeLanguage,Zl=L.getFixedT,zr=L.t,Ql=L.exists,eu=L.setDefaultNamespace,tu=L.hasLoadedNamespace,nu=L.loadNamespaces,ru=L.loadLanguages;var Gr=require("obsidian");s((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var ot={obsidianDevUtils:{buttons:{cancel:"Cancel",ok:"OK"},dataview:{itemsPerPage:"Items per page:",jumpToPage:"Jump to page:"},notices:{attachmentIsStillUsed:"Attachment {{attachmentPath}} is still used by other notes. It will not be deleted.",unhandledError:"An unhandled error occurred. Please check the console for more information."}}};s((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var Sn="en",oo={en:ot},at=oo;s((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var Kr="translation",Tn=!1;async function kn(n,e=!0){Tn||(Tn=!0,await Hr({fallbackLng:Sn,initAsync:e,lng:(0,Gr.getLanguage)(),resources:Object.fromEntries(Object.entries(n).map(([t,r])=>[t,{[Kr]:r}])),returnEmptyString:!1,returnNull:!1}),L.addResourceBundle(Sn,Kr,ot,!0,!1))}s(kn,"initI18N");function ao(n,e){return Tn||(console.warn("I18N was not initialized, initializing default obsidian-dev-utils translations"),k(()=>kn(at,!1))),zr(n,e)}s(ao,"tImpl");var Yr=ao;s((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();function lo(n){let e=new Set;return n.workspace.iterateAllLeaves(t=>{e.add(t.getContainer())}),Array.from(e)}s(lo,"getAllContainers");function qr(n){return lo(n).map(e=>e.win)}s(qr,"getAllDomWindows");var Qr=Jt(Xr(),1);s((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var b=(n=>(n.AlertModal="alert-modal",n.CancelButton="cancel-button",n.CheckboxComponent="checkbox-component",n.CodeHighlighterComponent="code-highlighter-component",n.ConfirmModal="confirm-modal",n.DateComponent="date-component",n.DateTimeComponent="datetime-component",n.EmailComponent="email-component",n.FileComponent="file-component",n.IsPlaceholder="is-placeholder",n.LibraryName="obsidian-dev-utils",n.MonthComponent="month-component",n.MultipleDropdownComponent="multiple-dropdown-component",n.MultipleEmailComponent="multiple-email-component",n.MultipleFileComponent="multiple-file-component",n.MultipleTextComponent="multiple-text-component",n.NumberComponent="number-component",n.OkButton="ok-button",n.OverlayValidator="overlay-validator",n.PasswordComponent="password-component",n.PluginSettingsTab="plugin-settings-tab",n.PromptModal="prompt-modal",n.SelectItemModal="select-item-modal",n.SettingComponentWrapper="setting-component-wrapper",n.TelephoneComponent="telephone-component",n.TextBox="text-box",n.TimeComponent="time-component",n.Tooltip="tooltip",n.TooltipArrow="tooltip-arrow",n.TooltipValidator="tooltip-validator",n.TriStateCheckboxComponent="tri-state-checkbox-component",n.TypedDropdownComponent="typed-dropdown-component",n.TypedMultipleDropdownComponent="typed-multiple-dropdown-component",n.UrlComponent="url-component",n.WeekComponent="week-component",n))(b||{});s((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var Zr=`${Ge}-styles`;function x(n,...e){n.addClass(b.LibraryName,Ye(),...e)}s(x,"addPluginCssClasses");function ei(n){let e=n;e.DEBUG=or()}s(ei,"initDebugController");function ti(n,e){ir(e),ar(e);let t=we(n,"lastLibraryVersion","0.0.0");(0,Qr.compareVersions)(sn,t.value)<=0||(t.value=sn,document.head.querySelector(`#${Zr}`)?.remove(),document.head.createEl("style",{attr:{id:Zr},text:nr}))}s(ti,"initPluginContext");s((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var ut=class extends ct.Plugin{static{s(this,"PluginBase")}events=new q;get abortSignal(){if(!this._abortSignal)throw new Error("Abort signal not defined");return this._abortSignal}get settings(){return this.settingsManager.settingsWrapper.safeSettings}get settingsManager(){if(!this._settingsManager)throw new Error("Settings manager not defined");return this._settingsManager}get settingsTab(){if(!this._settingsTab)throw new Error("Settings tab not defined");return this._settingsTab}_abortSignal;_settingsManager=null;_settingsTab=null;lifecycleEventNames=new Set;notice;consoleDebug(e,...t){Je(this.manifest.id,1)(e,...t)}async onExternalSettingsChange(){await super.onExternalSettingsChange?.(),await this._settingsManager?.loadFromFile(!1)}async onload(){await super.onload(),await this.onloadImpl(),lr(this.afterLoad.bind(this))}onunload(){super.onunload(),k(async()=>{try{await this.onunloadImpl()}finally{await this.triggerLifecycleEvent("unload")}})}registerDomWindowHandler(e){let t=window;e(t),this.app.workspace.onLayoutReady(()=>{for(let r of qr(this.app))r!==t&&e(r);this.registerEvent(this.app.workspace.on("window-open",r=>{e(r.win)}))})}registerForLifecycleEvent(e,t){k(async()=>{await this.waitForLifecycleEvent(e),await t()})}registerPopupDocumentDomEvent(e,t,r){this.registerDomWindowHandler(i=>{this.registerDomEvent(i.document,e,t,r)})}registerPopupWindowDomEvent(e,t,r){this.registerDomWindowHandler(i=>{this.registerDomEvent(i,e,t,r)})}async waitForLifecycleEvent(e){this.lifecycleEventNames.has(e)||await new Promise(t=>{this.events.once(e,()=>{t()})})}createSettingsManager(){return null}createSettingsTab(){return null}createTranslationsMap(){return at}handleAsyncError(e){this.showNotice(Yr(t=>t.obsidianDevUtils.notices.unhandledError))}async onLayoutReady(){await Y()}async onloadImpl(){ti(this.app,this.manifest.id),this.registerDomWindowHandler(t=>{ei(t)}),await kn(this.createTranslationsMap()),this.register(tr(this.handleAsyncError.bind(this))),this._settingsManager=this.createSettingsManager(),this._settingsManager&&(et(this,this._settingsManager.on("loadSettings",this.onLoadSettings.bind(this))),et(this,this._settingsManager.on("saveSettings",this.onSaveSettings.bind(this)))),await this._settingsManager?.loadFromFile(!0),this._settingsTab=this.createSettingsTab(),this._settingsTab&&this.addSettingTab(this._settingsTab);let e=new AbortController;this._abortSignal=e.signal,this.register(()=>{e.abort(new ge(`Plugin ${this.manifest.id} had been unloaded`))})}async onLoadSettings(e,t){await Y()}async onSaveSettings(e,t,r){await Y()}async onunloadImpl(){await Y()}showNotice(e){this.notice&&this.notice.hide(),this.notice=new ct.Notice(`${this.manifest.name}
${e}`)}async afterLoad(){this.abortSignal.aborted||(await this.triggerLifecycleEvent("load"),this.app.workspace.onLayoutReady(ve(this.onLayoutReadyBase.bind(this))))}async onLayoutReadyBase(){try{await this.onLayoutReady()}finally{await this.triggerLifecycleEvent("layoutReady")}}async triggerLifecycleEvent(e){this.lifecycleEventNames.add(e),await this.events.triggerAsync(e)}};var dt=class{static{s(this,"PluginSettings")}autoRefreshIntervalInSeconds=5;autoRefreshMode="Off";excludeViewTypesForAutoRefresh=[];includeViewTypesForAutoRefresh=[];shouldAutoRefreshMarkdownViewInSourceMode=!1;shouldAutoRefreshOnFileChange=!1;shouldLoadDeferredViewsOnAutoRefresh=!1;shouldLoadDeferredViewsOnStart=!1;shouldUseQuickMarkdownViewRefresh=!0;isViewTypeIncluded(e){return(this.includeViewTypesForAutoRefresh.length===0||this.includeViewTypesForAutoRefresh.includes(e))&&!this.excludeViewTypesForAutoRefresh.includes(e)}};s((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var se=class{static{s(this,"Transformer")}getTransformer(e){if(e===this.id)return this;throw new Error(`Transformer with id ${e} not found`)}transformObjectRecursively(e){return this.transformValueRecursively(e,"")}getTransformerId(e,t){return this.canTransform(e,t)?this.id:null}transformValueRecursively(e,t){let r=this.getTransformerId(e,t);if(r){let a=this.transformValue(e,t);return a===void 0?void 0:{__transformerId:r,transformedValue:a}}if(e===null)return null;if(typeof e!="object")return e;if(Array.isArray(e))return e.map((a,l)=>this.transformValueRecursively(a,String(l)));let i=e;if(i.__transformerId)return this.getTransformer(i.__transformerId).restoreValue(i.transformedValue,t);let o={};for(let a of Ee(e)){let l=e[a],u=this.transformValueRecursively(l,a);o[a]=u}return o}};s((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var H=class extends se{static{s(this,"TypedTransformer")}};s((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var ft=class extends H{static{s(this,"DateTransformer")}get id(){return"date"}canTransform(e){return e instanceof Date}restoreValue(e){return new Date(e)}transformValue(e){return e.toISOString()}};var ni=require("obsidian");s((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var pt=class extends H{static{s(this,"DurationTransformer")}get id(){return"duration"}canTransform(e){let t=e??{};return!!t.asHours&&!!t.asMinutes&&!!t.asSeconds&&!!t.asMilliseconds}restoreValue(e){return ni.moment.duration(e)}transformValue(e){return e.toISOString()}};s((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var ht=class extends se{static{s(this,"GroupTransformer")}constructor(e){super(),this.transformers=e}get id(){return"group"}canTransform(e,t){return this.getFirstTransformerThatCanTransform(e,t)!==null}getTransformer(e){return this.transformers.find(t=>t.id===e)??Ke(`No transformer with id ${e} found`)}transformValue(e,t){let r=this.getFirstTransformerThatCanTransform(e,t);if(r===null)throw new Error("No transformer can transform the value");return r.transformValue(e,t)}getTransformerId(e,t){let r=this.getFirstTransformerThatCanTransform(e,t);return r===null?null:r.id}restoreValue(){throw new Error("GroupTransformer does not support restoring values")}getFirstTransformerThatCanTransform(e,t){return this.transformers.find(r=>r.canTransform(e,t))??null}};s((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var mt=class extends H{static{s(this,"MapTransformer")}get id(){return"map"}canTransform(e){return e instanceof Map}restoreValue(e){return new Map(e)}transformValue(e){return Array.from(e.entries())}};s((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var gt=class extends H{static{s(this,"SetTransformer")}get id(){return"set"}canTransform(e){return e instanceof Set}restoreValue(e){return new Set(e)}transformValue(e){return Array.from(e)}};s((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var uo="_",bt=class extends se{static{s(this,"SkipPrivatePropertyTransformer")}get id(){return"skip-private-property"}canTransform(e,t){return t.startsWith(uo)}transformValue(){}restoreValue(){throw new Error("SkipPrivatePropertyTransformer does not support restoring values")}};s((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var Ne=class{static{s(this,"TwoWayMap")}keyValueMap=new Map;valueKeyMap=new Map;constructor(e=[]){for(let[t,r]of e)this.set(t,r)}clear(){this.keyValueMap.clear(),this.valueKeyMap.clear()}deleteKey(e){let t=this.getValue(e);t!==void 0&&this.valueKeyMap.delete(t),this.keyValueMap.delete(e)}deleteValue(e){let t=this.getKey(e);t!==void 0&&this.keyValueMap.delete(t),this.valueKeyMap.delete(e)}entries(){return this.keyValueMap.entries()}getKey(e){return this.valueKeyMap.get(e)}getValue(e){return this.keyValueMap.get(e)}hasKey(e){return this.keyValueMap.has(e)}hasValue(e){return this.valueKeyMap.has(e)}keys(){return this.keyValueMap.keys()}set(e,t){this.deleteKey(e),this.deleteValue(t),this.keyValueMap.set(e,t),this.valueKeyMap.set(t,e)}values(){return this.valueKeyMap.keys()}};s((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var wt=class extends H{static{s(this,"TwoWayMapTransformer")}get id(){return"two-way-map"}canTransform(e){return e instanceof Ne}restoreValue(e){return new Ne(e)}transformValue(e){return Array.from(e.entries())}};s((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var co=new ht([new bt,new ft,new pt,new mt,new gt,new wt]),yt=class extends q{static{s(this,"PluginSettingsManagerBase")}constructor(e){super(),this.plugin=e,this.app=e.app,this.defaultSettings=this.createDefaultSettings(),this.currentSettingsWrapper=this.createDefaultSettingsWrapper(),this.lastSavedSettingsWrapper=this.createDefaultSettingsWrapper(),this.propertyNames=Ee(this.currentSettingsWrapper.settings),this.registerValidators(),this.registerLegacySettingsConverters()}app;defaultSettings;get settingsWrapper(){return this.currentSettingsWrapper}currentSettingsWrapper;lastSavedSettingsWrapper;legacySettingsConverters=[];propertyNames;validators=new Map;async editAndSave(e,t){await this.edit(e),await this.saveToFile(t)}async ensureSafe(e){let t=await this.validate(e);for(let r of this.propertyNames)t[r]&&(e[r]=this.defaultSettings[r])}async getSafeCopy(e){let t=await this.cloneSettings(e);return await this.ensureSafe(t),t}async loadFromFile(e){let t=await this.plugin.loadData();this.lastSavedSettingsWrapper=this.createDefaultSettingsWrapper(),this.currentSettingsWrapper=this.createDefaultSettingsWrapper();try{if(t==null)return;if(typeof t!="object"){console.error(`Invalid settings from data.json. Expected Object, got: ${typeof t}`);return}let r=t,i=await this.rawRecordToSettings(r),o=await this.validate(i);for(let l of this.propertyNames)this.setPropertyImpl(l,i[l],o[l]);this.lastSavedSettingsWrapper=await this.cloneSettingsWrapper(this.currentSettingsWrapper);let a=await this.settingsToRawRecord(this.currentSettingsWrapper.settings);Z(a,t)||await this.saveToFileImpl()}finally{await this.triggerAsync("loadSettings",this.currentSettingsWrapper,e)}}on(e,t,r){return super.on(e,t,r)}async revalidate(){return await this.edit(te),this.currentSettingsWrapper.validationMessages}async saveToFile(e){Z(this.lastSavedSettingsWrapper.settings,this.currentSettingsWrapper.settings)||(await this.saveToFileImpl(),await this.triggerAsync("saveSettings",this.currentSettingsWrapper,this.lastSavedSettingsWrapper,e),this.lastSavedSettingsWrapper=await this.cloneSettingsWrapper(this.currentSettingsWrapper))}async setProperty(e,t){return await this.edit(r=>{r[e]=t}),this.currentSettingsWrapper.validationMessages[e]}async validate(e){let t={};for(let[r,i]of this.validators.entries()){let o=await i(e[r],e);o&&(t[r]=o)}return t}getTransformer(){return co}async onLoadRecord(e){for(let t of this.legacySettingsConverters)t(e);await Promise.resolve()}async onSavingRecord(e){await Y()}registerLegacySettingsConverter(e,t){let r=this;this.legacySettingsConverters.push(i);function i(o){let a=new Set(Object.keys(new e)),l=new Set(r.propertyNames),u=o;t(u);for(let d of Object.keys(u))l.has(d)||a.has(d)&&delete o[d]}s(i,"legacySettingsConverter")}registerLegacySettingsConverters(){}registerValidator(e,t){this.validators.set(e,t)}registerValidators(){}async cloneSettings(e){let t=await this.settingsToRawRecord(e),r=JSON.stringify(t),i=JSON.parse(r);return await this.rawRecordToSettings(i)}async cloneSettingsWrapper(e){return{safeSettings:await this.cloneSettings(e.safeSettings),settings:await this.cloneSettings(e.settings),validationMessages:{...e.validationMessages}}}createDefaultSettingsWrapper(){return{safeSettings:this.createDefaultSettings(),settings:this.createDefaultSettings(),validationMessages:{}}}async edit(e){try{await e(this.currentSettingsWrapper.settings)}finally{let t=await this.validate(this.currentSettingsWrapper.settings);for(let r of this.propertyNames){let i=t[r]??"";this.currentSettingsWrapper.validationMessages[r]=i,this.currentSettingsWrapper.safeSettings[r]=i?this.defaultSettings[r]:this.currentSettingsWrapper.settings[r]}}}isValidPropertyName(e){return typeof e!="string"?!1:this.propertyNames.includes(e)}async rawRecordToSettings(e){e=this.getTransformer().transformObjectRecursively(e),await this.onLoadRecord(e);let t=this.createDefaultSettings();for(let[r,i]of Object.entries(e)){if(!this.isValidPropertyName(r)){ye("PluginSettingsManagerBase:rawRecordToSettings")(`Unknown property: ${r}`);continue}typeof i!=typeof this.defaultSettings[r]&&ye("PluginSettingsManagerBase:rawRecordToSettings")("Possible invalid value type. It might lead to an unexpected behavior of the plugin. There is also a chance it is a false-negative warning, as we are unable to determine the exact type of the value in runtime.",{defaultValue:this.defaultSettings[r],propertyName:r,value:i}),t[r]=i}return t}async saveToFileImpl(){await this.plugin.saveData(await this.settingsToRawRecord(this.currentSettingsWrapper.settings))}setPropertyImpl(e,t,r){this.currentSettingsWrapper.settings[e]=t,this.currentSettingsWrapper.validationMessages[e]=r??"",this.currentSettingsWrapper.safeSettings[e]=r?this.defaultSettings[e]:t}async settingsToRawRecord(e){let t={};for(let r of this.propertyNames)t[r]=e[r];return await this.onSavingRecord(t),this.getTransformer().transformObjectRecursively(t)}};var vt=class extends yt{static{s(this,"PluginSettingsManager")}createDefaultSettings(){return new dt}async onLoadRecord(e){await super.onLoadRecord(e);let t=e;t.autoRefreshOnFileChange!==void 0&&(t.shouldAutoRefreshOnFileChange=t.autoRefreshOnFileChange,delete t.autoRefreshOnFileChange)}};s((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();function On(n,e){n.createEl("strong",{cls:"markdown-rendered code"},t=>{t.createEl("code",{text:e})})}s(On,"appendCodeBlock");function ri(n){return`${String(n)}px`}s(ri,"toPx");var ce=require("obsidian");s((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();function At(n){let e=n.parentElement;if(!e)throw new Error("Element must be attached to the DOM");if(e.classList.contains(b.SettingComponentWrapper))return e;let t=Array.from(e.children),r=createDiv();x(r,b.SettingComponentWrapper);for(let i of t)r.appendChild(i);return e.appendChild(r),r}s(At,"ensureWrapped");var ii=require("obsidian");s((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var Pn=class{static{s(this,"AbstractTextComponentWrapper")}constructor(e){this.abstractTextComponent=e}empty(){this.abstractTextComponent.setValue("")}isEmpty(){return this.abstractTextComponent.getValue()===""}setPlaceholderValue(e){return this.abstractTextComponent.setPlaceholder(e),this}};function si(n){return fo(n)?n:n instanceof ii.AbstractTextComponent?new Pn(n):null}s(si,"getTextBasedComponentValue");function fo(n){let e=n;return typeof e.setPlaceholderValue=="function"&&typeof e.isEmpty=="function"}s(fo,"isTextBasedComponent");var D=require("obsidian");s((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var Ct=class{static{s(this,"OverlayValidatorComponent")}constructor(e){this.el=e;let t=At(e);this._validatorEl=t.createEl("input",{attr:{tabindex:-1}}),x(this._validatorEl,b.OverlayValidator),this._validatorEl.addEventListener("focus",()=>{this.el.focus()}),this._validatorEl.isActiveElement=this.isElementOrDescendantActive.bind(this);let r=this.el.querySelector("[tabindex]");r||(this.el.getAttr("tabindex")===null&&(this.el.tabIndex=-1),r=this.el),this.el.addEventListener("focusin",()=>{this.forceBlurValidatorEl()}),this.el.addEventListener("click",()=>{r.focus()}),this.el.addEventListener("focusout",()=>{window.setTimeout(()=>{this.isElementOrDescendantActive()||this.forceBlurValidatorEl()},0)})}get validatorEl(){return this._validatorEl}_validatorEl;forceBlurValidatorEl(){this._validatorEl.dispatchEvent(new Event("blur"))}isElementOrDescendantActive(){return this.el.contains(document.activeElement)}},oe=class{static{s(this,"ValidatorElementWrapper")}constructor(e){this.validatorEl=e}};function oi(n){return po(n)?n:n instanceof D.ColorComponent?new oe(n.colorPickerEl):n instanceof D.DropdownComponent?new oe(n.selectEl):n instanceof D.ProgressBarComponent?new Ct(n.progressBar):n instanceof D.SearchComponent?new oe(n.inputEl):n instanceof D.SliderComponent?new oe(n.sliderEl):n instanceof D.TextAreaComponent?new oe(n.inputEl):n instanceof D.TextComponent?new oe(n.inputEl):n instanceof D.ToggleComponent?new Ct(n.toggleEl):null}s(oi,"getValidatorComponent");function po(n){return!!n.validatorEl}s(po,"isValidatorComponent");var ho=require("obsidian");s((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();function ai(n){return n.validationMessage!==void 0}s(ai,"isValidationMessageHolder");s((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var Fn="PluginSettingsTab",Et=class extends ce.PluginSettingTab{static{s(this,"PluginSettingsTabBase")}constructor(e){super(e.app,e),this.plugin=e,x(this.containerEl,b.PluginSettingsTab),this.saveSettingsDebounced=(0,ce.debounce)(ve(()=>this.plugin.settingsManager.saveToFile(Fn)),this.saveSettingsDebounceTimeoutInMilliseconds),this.asyncEventsComponent=new Qe,this.asyncEvents=new q}get isOpen(){return this._isOpen}get saveSettingsDebounceTimeoutInMilliseconds(){return 2e3}_isOpen=!1;asyncEvents;asyncEventsComponent;saveSettingsDebounced;get pluginSettings(){return this.plugin.settingsManager.settingsWrapper.settings}bind(e,t,r){let o={...{componentToPluginSettingsValueConverter:s(C=>C,"componentToPluginSettingsValueConverter"),onChanged:te,pluginSettingsToComponentValueConverter:s(C=>C,"pluginSettingsToComponentValueConverter"),shouldResetSettingWhenComponentIsEmpty:!0,shouldShowPlaceholderForDefaultValues:!0,shouldShowValidationMessage:!0},...r},a=oi(e)?.validatorEl,l=si(e),u=this.pluginSettings[t],d=this.plugin.settingsManager.defaultSettings[t],f=o.pluginSettingsToComponentValueConverter(d);l?.setPlaceholderValue(f);let c,p=null,m=null;if(a){let C=At(a);p=C.createDiv(),x(p,b.Tooltip,b.TooltipValidator),m=p.createSpan();let S=p.createDiv();x(S,b.TooltipArrow),p.hide(),C.appendChild(p)}this.asyncEventsComponent.registerAsyncEvent(this.on("validationMessageChanged",(C,S)=>{t===C&&(c=S,v())}));let g=!1,A=!1;l&&o.shouldShowPlaceholderForDefaultValues&&Z(u,d)?l.empty():e.setValue(o.pluginSettingsToComponentValueConverter(u));let h=!1,v=(0,ce.debounce)(()=>{requestAnimationFrame(()=>{E()})},100);return e.onChange(async C=>{if(h){h=!1;return}g=!1;let S=this.pluginSettings[t],T,V=!0;if(A=!!l?.isEmpty()&&o.shouldResetSettingWhenComponentIsEmpty,A)T=d;else{let K=o.componentToPluginSettingsValueConverter(C);ai(K)?(c=K.validationMessage,V=!1):T=K}V&&(c=await this.plugin.settingsManager.setProperty(t,T),l&&o.shouldShowPlaceholderForDefaultValues&&!l.isEmpty()&&Z(T,d)&&(g=!0)),v(),V&&await o.onChanged(T,S),this.saveSettingsDebounced()}),a?.addEventListener("focus",()=>{v()}),a?.addEventListener("blur",()=>{v()}),a?.addEventListener("click",()=>{requestAnimationFrame(()=>{v()})}),c=this.plugin.settingsManager.settingsWrapper.validationMessages[t]??"",v(),e;function E(){a?.isActiveElement()||(g?(g=!1,l?.isEmpty()||(h=!0,l?.empty())):A&&(A=!1,l?.isEmpty()&&(h=!0,e.setValue(f)))),a&&(c===""&&(a.setCustomValidity(""),a.checkValidity(),c=a.validationMessage),a.setCustomValidity(c),o.shouldShowValidationMessage?(m&&(m.textContent=c),p?.toggle(!!c)):c&&(0,ce.setTooltip)(a,c))}s(E,"updateValidatorEl")}display(){this.containerEl.empty(),this._isOpen=!0,this.asyncEventsComponent.load(),this.asyncEventsComponent.registerAsyncEvent(this.plugin.settingsManager.on("loadSettings",this.onLoadSettings.bind(this))),this.asyncEventsComponent.registerAsyncEvent(this.plugin.settingsManager.on("saveSettings",this.onSaveSettings.bind(this)))}hide(){super.hide(),this.saveSettingsDebounced.cancel(),this._isOpen=!1,this.asyncEventsComponent.unload(),this.asyncEventsComponent.load(),k(()=>this.hideAsync())}async hideAsync(){await this.plugin.settingsManager.saveToFile(Fn)}show(){this.app.setting.openTab(this)}async onLoadSettings(e,t){this.display(),await Y()}async revalidate(){let e=await this.plugin.settingsManager.revalidate();await this.updateValidations(e)}on(e,t,r){return this.asyncEvents.on(e,t,r)}async onSaveSettings(e,t,r){if(r===Fn){await this.updateValidations(e.validationMessages);return}this.display()}async updateValidations(e){for(let[t,r]of Object.entries(e))await this.asyncEvents.triggerAsync("validationMessageChanged",t,r)}};var Ei=require("obsidian");var li=require("obsidian");s((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var xt=class extends li.ValueComponent{static{s(this,"CheckboxComponent")}inputEl;get validatorEl(){return this.inputEl}changeCallback;constructor(e){super(),x(e,b.CheckboxComponent),this.inputEl=e.createEl("input",{type:"checkbox"}),this.inputEl.addEventListener("change",this.onChanged.bind(this))}getValue(){return this.inputEl.checked}onChange(e){return this.changeCallback=e,this}onChanged(){this.changeCallback?.(this.getValue())}setDisabled(e){return super.setDisabled(e),this.inputEl.disabled=e,this}setValue(e){return this.inputEl.checked=e,this}};var Tt=require("obsidian");s((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var St=class extends Tt.ValueComponent{static{s(this,"CodeHighlighterComponent")}get inputEl(){return this.textAreaComponent.inputEl}get validatorEl(){return this.inputEl}codeEl;placeholder="";preEl;tabSize;textAreaComponent;constructor(e){super(),x(e,b.CodeHighlighterComponent);let t=e.createDiv();x(t,b.SettingComponentWrapper),this.textAreaComponent=new Tt.TextAreaComponent(t),this.preEl=t.createEl("pre",{attr:{tabIndex:"-1"}}),this.codeEl=this.preEl.createEl("code",{attr:{tabIndex:"-1"}}),this.inputEl.addEventListener("input",ve(this.updateHighlightedCode.bind(this))),this.inputEl.addEventListener("scroll",this.handleScroll.bind(this)),this.inputEl.addEventListener("keydown",this.handleKeyDown.bind(this));let r=2;this.tabSize=r}empty(){this.setValue("")}getValue(){return this.textAreaComponent.getValue()}isEmpty(){return this.textAreaComponent.getValue()===""}onChange(e){return this.textAreaComponent.onChange(()=>e(this.getValue())),this}setDisabled(e){return super.setDisabled(e),this.textAreaComponent.setDisabled(e),this}setLanguage(e){let t="language-";for(let r of[this.preEl,this.codeEl]){for(let i of Array.from(r.classList))i.startsWith(t)&&r.classList.remove(i);r.classList.add(`${t}${e}`)}return this}setPlaceholder(e){return this.placeholder=e,k(this.updateHighlightedCode.bind(this)),this}setPlaceholderValue(e){return this.setPlaceholder(e),this}setTabSize(e){return this.tabSize=e,this}setValue(e){return this.textAreaComponent.setValue(e),k(this.updateHighlightedCode.bind(this)),this}handleKeyDown(e){if(e.key!=="Tab")return;if(e.preventDefault(),e.ctrlKey||e.metaKey){let f=Array.from(document.querySelectorAll(':is(a, button, input, select, textarea, [tabindex]):not([tabindex="-1"]):not(:disabled):not([type="hidden"])')),c=f.indexOf(this.inputEl),p=e.shiftKey?-1:1;f[(c+p+f.length)%f.length]?.focus();return}let t=this.getValue(),r=this.inputEl.selectionStart,i=this.inputEl.selectionEnd,o=t.slice(0,r),a=t.slice(i),l=" ".repeat(this.tabSize),u=o;e.shiftKey?o.endsWith(l)&&(u=o.slice(0,-this.tabSize)):u=o+l;let d=`${u}${a}`;this.setValue(d),this.inputEl.selectionStart=u.length,this.inputEl.selectionEnd=u.length}handleScroll(){this.preEl.scrollTop=this.inputEl.scrollTop,this.preEl.scrollLeft=this.inputEl.scrollLeft}async updateHighlightedCode(){this.codeEl.textContent=this.inputEl.value||this.placeholder,(await dr()).highlightElement(this.codeEl),this.preEl.toggleClass(b.IsPlaceholder,this.isEmpty()),requestAnimationFrame(()=>{let t=Math.max(0,this.inputEl.scrollHeight-this.preEl.scrollHeight);this.preEl.setCssProps({"--bottom-gap":ri(t)}),this.handleScroll()})}};var di=require("obsidian");var kt=require("obsidian");s((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var R=class extends kt.ValueComponent{static{s(this,"TypedTextComponent")}inputEl;get validatorEl(){return this.inputEl}textComponent;constructor(e,t,r){super(),this.textComponent=new kt.TextComponent(e),this.inputEl=this.textComponent.inputEl,this.inputEl.type=t,x(e,r)}getValue(){return this.valueFromString(this.textComponent.getValue())}onChange(e){return this.textComponent.onChange(()=>e(this.getValue())),this}onChanged(){this.textComponent.onChanged()}setDisabled(e){return super.setDisabled(e),this.textComponent.setDisabled(e),this}setValue(e){return this.textComponent.setValue(this.valueToString(e)),this}valueToString(e){return String(e)}};s((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var W=class extends R{static{s(this,"TypedRangeTextComponent")}setMax(e){return this.inputEl.max=this.valueToString(e),this}setMin(e){return this.inputEl.min=this.valueToString(e),this}setStep(e){return this.inputEl.step=String(e),this}};s((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var ui=ie(di.moment),ci="YYYY-MM-DD",Ot=class extends W{static{s(this,"DateComponent")}constructor(e){super(e,"date",b.DateComponent)}valueFromString(e){return ui(e,ci).toDate()}valueToString(e){return ui(e).format(ci)}};var hi=require("obsidian");s((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var fi=ie(hi.moment),pi="YYYY-MM-DDTHH:mm",Pt=class extends W{static{s(this,"DateTimeComponent")}constructor(e){super(e,"datetime-local",b.DateTimeComponent)}valueFromString(e){return fi(e,pi).toDate()}valueToString(e){return fi(e).format(pi)}};s((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var Ft=class extends R{static{s(this,"EmailComponent")}constructor(e){super(e,"email",b.EmailComponent)}empty(){this.setValue("")}isEmpty(){return this.getValue()===""}setPlaceholderValue(e){return this.textComponent.setPlaceholder(e),this}valueFromString(e){return e}};s((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var Rt=class extends R{static{s(this,"FileComponent")}constructor(e){super(e,"file",b.FileComponent)}getValue(){return this.inputEl.files?.[0]??null}valueFromString(){return this.getValue()}valueToString(e){return e?.name??""}};var bi=require("obsidian");s((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var mi=ie(bi.moment),gi="YYYY-MM",Lt=class extends W{static{s(this,"MonthComponent")}constructor(e){super(e,"month",b.MonthComponent)}valueFromString(e){let t=mi(e,gi);if(!t.isValid())throw new Error("Invalid month");return{month:t.month()+1,year:t.year()}}valueToString(e){return mi().year(e.year).month(e.month-1).format(gi)}};var Dt=require("obsidian");s((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var Te=class extends Dt.ValueComponent{static{s(this,"MultipleDropdownComponent")}get selectEl(){return this.dropdownComponent.selectEl}get validatorEl(){return this.selectEl}dropdownComponent;constructor(e){super(),this.dropdownComponent=new Dt.DropdownComponent(e),this.dropdownComponent.selectEl.multiple=!0,x(e,b.MultipleDropdownComponent)}addOption(e,t){return this.dropdownComponent.addOption(e,t),this}addOptions(e){return this.dropdownComponent.addOptions(e),this}getValue(){return Array.from(this.dropdownComponent.selectEl.selectedOptions).map(e=>e.value)}onChange(e){return this.dropdownComponent.onChange(()=>e(this.getValue())),this}setDisabled(e){return super.setDisabled(e),this.dropdownComponent.setDisabled(e),this}setValue(e){for(let t of Array.from(this.dropdownComponent.selectEl.options))t.selected=e.includes(t.value);return this}};s((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var It=class extends R{static{s(this,"MultipleEmailComponent")}constructor(e){super(e,"email",b.MultipleEmailComponent),this.inputEl.multiple=!0}valueFromString(e){return e.split(",").map(t=>t.trim())}valueToString(e){return e.join(", ")}};s((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var Vt=class extends R{static{s(this,"MultipleFileComponent")}constructor(e){super(e,"file",b.MultipleFileComponent),this.inputEl.multiple=!0}getValue(){return Array.from(this.inputEl.files??[])}valueFromString(){return this.getValue()}valueToString(e){return e[0]?.name??""}};var Nt=require("obsidian");s((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var Mt=class extends Nt.ValueComponent{static{s(this,"MultipleTextComponent")}get inputEl(){return this.textAreaComponent.inputEl}get validatorEl(){return this.inputEl}textAreaComponent;constructor(e){super(),this.textAreaComponent=new Nt.TextAreaComponent(e),x(e,b.MultipleTextComponent)}empty(){this.textAreaComponent.setValue("")}getValue(){return this.textAreaComponent.getValue().split(`
`)}isEmpty(){return this.textAreaComponent.getValue()===""}onChange(e){return this.textAreaComponent.onChange(()=>e(this.getValue())),this}setDisabled(e){return super.setDisabled(e),this.textAreaComponent.setDisabled(e),this}setPlaceholder(e){return this.textAreaComponent.setPlaceholder(e),this}setPlaceholderValue(e){return this.setPlaceholder(this.valueToString(e)),this}setValue(e){return this.textAreaComponent.setValue(this.valueToString(e)),this}valueToString(e){return e.join(`
`)}};s((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var _t=class extends W{static{s(this,"NumberComponent")}constructor(e){super(e,"number",b.NumberComponent)}empty(){this.textComponent.setValue("")}isEmpty(){return this.textComponent.getValue()===""}setPlaceholder(e){return this.textComponent.setPlaceholder(e),this}setPlaceholderValue(e){return this.textComponent.setPlaceholder(this.valueToString(e)),this}valueFromString(e){return parseInt(e,10)}};s((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var $t=class extends R{static{s(this,"PasswordComponent")}constructor(e){super(e,"password",b.PasswordComponent)}setPlaceholder(e){return this.textComponent.setPlaceholder(e),this}valueFromString(e){return e}};s((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var Bt=class extends R{static{s(this,"TelephoneComponent")}constructor(e){super(e,"tel",b.TelephoneComponent)}empty(){this.textComponent.setValue("")}isEmpty(){return this.textComponent.getValue()===""}setPlaceholderValue(e){return this.textComponent.setPlaceholder(e),this}valueFromString(e){return e}};var Rn=require("obsidian");s((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var Wt=class extends W{static{s(this,"TimeComponent")}constructor(e){super(e,"time",b.TimeComponent)}valueFromString(e){return Rn.moment.duration(e)}valueToString(e){let t;return e.milliseconds()>0?t="HH:mm:ss.SSS":e.seconds()>0?t="HH:mm:ss":t="HH:mm",Rn.moment.utc(e.asMilliseconds()).format(t)}};var wi=require("obsidian");s((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var jt=class extends wi.ValueComponent{static{s(this,"TriStateCheckboxComponent")}inputEl;get validatorEl(){return this.inputEl}changeCallback;constructor(e){super(),x(e,b.TriStateCheckboxComponent),this.inputEl=e.createEl("input",{type:"checkbox"}),this.inputEl.addEventListener("change",this.onChanged.bind(this))}getValue(){return this.inputEl.indeterminate?null:this.inputEl.checked}onChange(e){return this.changeCallback=e,this}onChanged(){this.changeCallback?.(this.getValue())}setDisabled(e){return super.setDisabled(e),this.inputEl.disabled=e,this}setValue(e){return this.inputEl.indeterminate=e===null,this.inputEl.checked=e??!1,this}};var Ht=require("obsidian");s((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var Ut=class extends Ht.ValueComponent{static{s(this,"TypedDropdownComponent")}get selectEl(){return this.dropdownComponent.selectEl}get validatorEl(){return this.selectEl}dropdownComponent;values=[];constructor(e){super(),this.dropdownComponent=new Ht.DropdownComponent(e),x(e,b.TypedDropdownComponent)}addOption(e,t){let r=this.values.indexOf(e);return r===-1&&(this.values.push(e),r=this.values.length-1),this.dropdownComponent.addOption(String(r),t),this}addOptions(e){for(let[t,r]of e.entries())this.addOption(t,r);return this}getValue(){return this.values[this.dropdownComponent.selectEl.selectedIndex]??null}onChange(e){return this.dropdownComponent.onChange(()=>e(this.getValue())),this}setDisabled(e){return super.setDisabled(e),this.dropdownComponent.setDisabled(e),this}setValue(e){let t=e===null?-1:this.values.indexOf(e);return this.dropdownComponent.selectEl.selectedIndex=t,this}};var yi=require("obsidian");s((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var zt=class extends yi.ValueComponent{static{s(this,"TypedMultipleDropdownComponent")}get selectEl(){return this.multipleDropdownComponent.selectEl}get validatorEl(){return this.selectEl}multipleDropdownComponent;values=[];constructor(e){super(),this.multipleDropdownComponent=new Te(e),x(e,b.TypedMultipleDropdownComponent)}addOption(e,t){let r=this.values.indexOf(e);return r===-1&&(this.values.push(e),r=this.values.length-1),this.multipleDropdownComponent.addOption(String(r),t),this}addOptions(e){for(let[t,r]of e.entries())this.addOption(t,r);return this}getValue(){return this.multipleDropdownComponent.getValue().map(t=>parseInt(t,10)).map(t=>this.values[t]).filter(t=>t!==void 0)}onChange(e){return this.multipleDropdownComponent.onChange(()=>e(this.getValue())),this}setDisabled(e){return super.setDisabled(e),this.multipleDropdownComponent.setDisabled(e),this}setValue(e){let t=e.map(r=>this.values.indexOf(r)).filter(r=>r!==-1);return this.multipleDropdownComponent.setValue(t.map(r=>String(r))),this}};s((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var Kt=class extends R{static{s(this,"UrlComponent")}constructor(e){super(e,"url",b.UrlComponent)}empty(){this.setValue("")}isEmpty(){return this.getValue()===""}setPlaceholderValue(e){return this.textComponent.setPlaceholder(e),this}valueFromString(e){return e}};var Ci=require("obsidian");s((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var vi=ie(Ci.moment),Ai="YYYY-[W]WW",Gt=class extends W{static{s(this,"WeekComponent")}constructor(e){super(e,"week",b.WeekComponent)}valueFromString(e){let t=vi(e,Ai);if(!t.isValid())throw new Error("Invalid week");return{weekNumber:t.isoWeek(),year:t.year()}}valueToString(e){return vi().year(e.year).isoWeek(e.weekNumber).format(Ai)}};s((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var z=class extends Ei.Setting{static{s(this,"SettingEx")}addCheckbox(e){return this.addComponent(xt,e)}addCodeHighlighter(e){return this.addComponent(St,e)}addComponent(e,t){let r=new e(this.controlEl);return this.components.push(r),t(r),this}addDate(e){return this.addComponent(Ot,e)}addDateTime(e){return this.addComponent(Pt,e)}addEmail(e){return this.addComponent(Ft,e)}addFile(e){return this.addComponent(Rt,e)}addMonth(e){return this.addComponent(Lt,e)}addMultipleDropdown(e){return this.addComponent(Te,e)}addMultipleEmail(e){return this.addComponent(It,e)}addMultipleFile(e){return this.addComponent(Vt,e)}addMultipleText(e){return this.addComponent(Mt,e)}addNumber(e){return this.addComponent(_t,e)}addPassword(e){return this.addComponent($t,e)}addTelephone(e){return this.addComponent(Bt,e)}addTime(e){return this.addComponent(Wt,e)}addTriStateCheckbox(e){return this.addComponent(jt,e)}addTypedDropdown(e){return this.addComponent(Ut,e)}addTypedMultipleDropdown(e){return this.addComponent(zt,e)}addUrl(e){return this.addComponent(Kt,e)}addWeek(e){return this.addComponent(Gt,e)}};var Yt=class extends Et{static{s(this,"PluginSettingsTab")}display(){super.display(),this.containerEl.empty(),new z(this.containerEl).setName("Should auto refresh on file change").setDesc(createFragment(r=>{r.appendText("Whether to auto refresh the file view when the file is changed."),r.createEl("br"),r.appendText("\u26A0\uFE0F This may cause flickering or losing some UI state such as the cursor position.")})).addToggle(r=>{this.bind(r,"shouldAutoRefreshOnFileChange")}),new z(this.containerEl).setName("Auto refresh mode").setDesc(createFragment(r=>{r.appendText("How to auto refresh the view."),r.createEl("br"),r.appendText("\u26A0\uFE0F This may cause flickering or losing some UI state such as the cursor position.")})).addDropdown(r=>{r.addOptions({Off:"Off",ActiveView:"Active view",AllVisibleViews:"All visible views",AllOpenViews:"All open views"}),this.bind(r,"autoRefreshMode",{onChanged(i){e(i)}})});function e(r){t.setVisibility(r!=="Off")}s(e,"updateAutoRefreshIntervalSettingVisibility");let t=new z(this.containerEl).setName("Auto refresh interval (seconds)").setDesc("Interval in seconds to auto refresh the view(s).").addNumber(r=>{this.bind(r,"autoRefreshIntervalInSeconds").setMin(1)});e(this.plugin.settings.autoRefreshMode),new z(this.containerEl).setName("Should auto refresh markdown view in Source / Live Preview mode").setDesc(createFragment(r=>{r.appendText("Whether to refresh the markdown view in Source / Live Preview mode, if auto refresh is enabled.")})).addToggle(r=>{this.bind(r,"shouldAutoRefreshMarkdownViewInSourceMode")}),new z(this.containerEl).setName("Should use quick markdown view refresh").setDesc(createFragment(r=>{r.appendText("Whether to use quick refresh for markdown view in Source / Live Preview mode."),r.createEl("br"),r.appendText("When enabled, custom panels in the markdown view might not be refreshed."),r.createEl("br"),r.appendText("When disabled, the full markdown view refreshing is performed, but it may cause flickering or losing some UI state such as the cursor position.")})).addToggle(r=>{this.bind(r,"shouldUseQuickMarkdownViewRefresh")}),new z(this.containerEl).setName("Should load deferred views on auto refresh").setDesc("Whether to load deferred views on auto refresh").addToggle(r=>{this.bind(r,"shouldLoadDeferredViewsOnAutoRefresh")}),new z(this.containerEl).setName("Should load deferred views on start").setDesc("Whether to load deferred views on start").addToggle(r=>{this.bind(r,"shouldLoadDeferredViewsOnStart")}),new z(this.containerEl).setName("Include view types for auto refresh").setDesc(createFragment(r=>{r.appendText("View types to include for auto refresh."),r.createEl("br"),r.appendText("Insert each view type on a new line"),r.createEl("br"),r.appendText("If empty, all view types will be included."),r.createEl("br"),r.appendText("You can find the view type of a view via its context menu command "),On(r,"Copy view type '...' to clipboard"),r.appendText(".")})).addMultipleText(r=>{this.bind(r,"includeViewTypesForAutoRefresh"),r.setPlaceholder(`markdown
canvas`)}),new z(this.containerEl).setName("Exclude view types for auto refresh").setDesc(createFragment(r=>{r.appendText("View types to exclude for auto refresh."),r.createEl("br"),r.appendText("Insert each view type on a new line"),r.createEl("br"),r.appendText("If empty, no view types will be excluded."),r.createEl("br"),r.appendText("You can find the view type of a view via its context menu command "),On(r,"Copy view type '...' to clipboard"),r.appendText(".")})).addMultipleText(r=>{this.bind(r,"excludeViewTypesForAutoRefresh"),r.setPlaceholder(`file-explorer
search`)})}};var qt=class extends ut{static{s(this,"Plugin")}autoRefreshIntervalId=null;itemViews=new WeakSet;async onSaveSettings(e,t,r){await super.onSaveSettings(e,t,r),this.registerAutoRefreshTimer()}createSettingsManager(){return new vt(this)}createSettingsTab(){return new Yt(this)}async onLayoutReady(){await super.onLayoutReady(),this.handleLayoutChange(),this.registerEvent(this.app.vault.on("modify",this.handleModify.bind(this))),await this.loadDeferredViews(),this.registerAutoRefreshTimer();let e=this;Or(this,I.WorkspaceLeaf.prototype,{onOpenTabHeaderMenu:s(t=>s(function(i,o){e.onOpenTabHeaderMenu(t,this,i,o)},"onOpenTabHeaderMenuPatched"),"onOpenTabHeaderMenu")})}async onloadImpl(){await super.onloadImpl(),this.addCommand({checkCallback:this.checkRefreshActiveView.bind(this),id:"refresh-active-view",name:"Refresh active view"}),this.addCommand({callback:s(()=>{k(()=>this.refreshViews(this.isVisibleView.bind(this)))},"callback"),id:"refresh-all-visible-views",name:"Refresh all visible views"}),this.addCommand({callback:s(()=>{k(()=>this.refreshViews(()=>!0))},"callback"),id:"refresh-all-open-views",name:"Refresh all open views"}),this.registerEvent(this.app.workspace.on("layout-change",this.handleLayoutChange.bind(this)))}canAutoRefreshView(e){return!(!this.settings.isViewTypeIncluded(e.getViewType())||e.leaf.isDeferred&&!this.settings.shouldLoadDeferredViewsOnAutoRefresh||e instanceof I.MarkdownView&&e.getMode()==="source"&&!this.settings.shouldAutoRefreshMarkdownViewInSourceMode)}checkRefreshActiveView(e){let t=this.app.workspace.getActiveViewOfType(I.View);return t?(e||k(()=>this.refreshView(t)),!0):!1}async copyViewTypeToClipboard(e){await window.navigator.clipboard.writeText(e)}async executeKeepingFocus(e){let t=document.activeElement;try{await e()}finally{t instanceof HTMLElement&&t.focus()}}getLeaves(e){let t=[];return this.app.workspace.iterateAllLeaves(r=>{e(r)&&t.push(r)}),t}handleLayoutChange(){let e=this.app.workspace.getActiveViewOfType(I.ItemView);if(!e||this.itemViews.has(e))return;this.itemViews.add(e);let t=e.addAction("refresh-cw","Refresh view",()=>{k(()=>this.refreshView(e))});this.register(()=>{t.remove()})}handleModify(e){this.settings.shouldAutoRefreshOnFileChange&&Ce(e)&&k(()=>this.refreshViews(t=>t instanceof I.FileView&&t.file===e&&this.canAutoRefreshView(t)))}isMatchingAutoRefreshMode(e){switch(this.settings.autoRefreshMode){case"ActiveView":return e===this.app.workspace.getActiveViewOfType(I.View);case"AllOpenViews":return!0;case"AllVisibleViews":return e.leaf.isVisible();case"Off":return!1;default:return!1}}isVisibleView(e){return e.leaf.isVisible()}async loadDeferredViews(){if(!this.settings.shouldLoadDeferredViewsOnStart)return;await sleep(100);let r=this.getLeaves(()=>!0).map(i=>i.loadIfDeferred());await Promise.all(r)}onOpenTabHeaderMenu(e,t,r,i){e.call(t,r,i);let o=I.Menu.forEvent(r);o.addItem(a=>{a.setTitle("Refresh view"),a.setIcon("refresh-cw"),a.setSection("pane"),a.onClick(()=>{k(()=>this.refreshView(t.view))})}),o.addItem(a=>{let l=t.view.getViewType();a.setTitle(`Copy view type '${l}' to clipboard`),a.setIcon("info"),a.setSection("pane"),a.onClick(()=>{k(()=>this.copyViewTypeToClipboard(l))})})}async refreshView(e){let t=e.leaf,r=e.containerEl.scrollTop,i=e.containerEl.scrollLeft;if(await t.loadIfDeferred(),e instanceof I.TextFileView&&e.dirty&&await e.save(),e instanceof I.MarkdownView){if(e.file&&await Tr(this.app,e.file),e.getMode()==="preview"){this.settings.shouldUseQuickMarkdownViewRefresh?e.previewMode.rerender(!0):await t.rebuildView(),o();return}let a=e.editor.cm,l=a.scrollDOM.scrollTop,u=a.state.doc,d=a.state.selection;this.settings.shouldUseQuickMarkdownViewRefresh?(a.dispatch({changes:{from:0,to:u.length}}),a.dispatch({changes:{from:0,insert:u,to:0},selection:d})):(await t.rebuildView(),a=e.editor.cm),requestAnimationFrame(()=>{a.scrollDOM.scrollTop=l});return}await t.rebuildView(),o();function o(){requestAnimationFrame(()=>{e.containerEl.scrollTop=r,e.containerEl.scrollLeft=i})}s(o,"restoreScrollPosition")}async refreshViews(e){let t=this.getLeaves(r=>e(r.view));await this.executeKeepingFocus(async()=>{let r=t.map(i=>this.refreshView(i.view));await Promise.all(r)})}registerAutoRefreshTimer(){this.autoRefreshIntervalId&&(clearInterval(this.autoRefreshIntervalId),this.autoRefreshIntervalId=null),this.settings.autoRefreshMode!=="Off"&&(this.autoRefreshIntervalId=window.setInterval(()=>{k(()=>this.refreshViews(t=>this.isMatchingAutoRefreshMode(t)&&this.canAutoRefreshView(t)))},this.settings.autoRefreshIntervalInSeconds*1e3),this.registerInterval(this.autoRefreshIntervalId))}};var go=qt;

/* nosourcemap */