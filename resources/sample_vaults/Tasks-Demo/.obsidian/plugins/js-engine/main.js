/*
-------------------------------------------
JS Engine - Release Build
-------------------------------------------
By: Moritz Jung (https://www.moritzjung.dev/)
Time: Sat, 22 Mar 2025 16:58:04 GMT
Version: 0.3.2
-------------------------------------------
THIS IS A GENERATED/BUNDLED FILE BY ESBUILD
if you want to view the source, please visit the github repository of this plugin
-------------------------------------------
Copyright (C) 2025 Moritz Jung
-------------------------------------------
This program is free software: you can redistribute it and/or modify it under the terms of the GNU General Public License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later version.

This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License for more details.

You should have received a copy of the GNU General Public License along with this program.  If not, see <https://www.gnu.org/licenses/>.
*/

"use strict";var wp=Object.create;var Go=Object.defineProperty;var Ep=Object.getOwnPropertyDescriptor;var kp=Object.getOwnPropertyNames;var Tp=Object.getPrototypeOf,Ap=Object.prototype.hasOwnProperty;var Kr=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports),zl=(t,e)=>{for(var n in e)Go(t,n,{get:e[n],enumerable:!0})},Ul=(t,e,n,r)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of kp(e))!Ap.call(t,i)&&i!==n&&Go(t,i,{get:()=>e[i],enumerable:!(r=Ep(e,i))||r.enumerable});return t};var Nn=(t,e,n)=>(n=t!=null?wp(Tp(t)):{},Ul(e||!t||!t.__esModule?Go(n,"default",{value:t,enumerable:!0}):n,t)),$p=t=>Ul(Go({},"__esModule",{value:!0}),t);var Bs=Kr(ft=>{"use strict";Object.defineProperty(ft,"__esModule",{value:!0});ft.P_HELPERS=ft.ParserHelpers=ft.validateRegexFlags=ft.validateRange=ft.getIndex=ft.arrayUnion=void 0;var sl=So();function py(t,e){if(t===void 0&&e===void 0)return;if(t===void 0)return e;if(e===void 0)return t;let n=[...t];for(let r of e)n.includes(r)||n.push(r);return n}ft.arrayUnion=py;function hy(t){return t===void 0?-1:t.index}ft.getIndex=hy;function my(t,e){if(e<t)throw new Error(`Invalid Range: max might not be smaller than min. Received [${t}, ${e}].`);if(t<0||e<0)throw new Error(`Invalid Range: max and min might not be smaller than 0. Received [${t}, ${e}].`);if(t===1/0||e===1/0)throw new Error(`Invalid Range: max and min might not be infinity. Received [${t}, ${e}].`);if(!Number.isInteger(t)||!Number.isInteger(e))throw new Error(`Invalid Range: max and min must be integers. Received [${t}, ${e}].`)}ft.validateRange=my;function yy(t){for(let e of t)if(e!=="i"&&e!=="m"&&e!=="s"&&e!=="u")throw new Error(`RegExp flag '${e}' is not allowed. The only allowed flags are 'i', 'm', 's' and 'u'.`)}ft.validateRegexFlags=yy;var Ds=class{followedBy(e){return new sl.Parser(function(r){return e.p(r.copy())})}notFollowedBy(e){return new sl.Parser(function(r){let i=r.copy(),o=e.p(i),s=r.sliceTo(i.position.index);return o.success?r.fail("not '"+s+"'"):r.succeed(void 0)})}test(e){return new sl.Parser(function(r){let i=r.input[r.position.index];return!r.atEOF()&&e(i)?r.succeedOffset(1,i):r.fail(`a character matching ${e}`)})}};ft.ParserHelpers=Ds;ft.P_HELPERS=new Ds});var cl=Kr(zs=>{"use strict";Object.defineProperty(zs,"__esModule",{value:!0});zs.ParserContext=void 0;var al=Bs(),ul=class t{constructor(e,n){this.input=e,this.position=n}moveToPosition(e){return this.position=e,this}copy(){return new t(this.input,{index:this.position.index,column:this.position.column,line:this.position.line})}getPosition(){return{index:this.position.index,column:this.position.column,line:this.position.line}}atEOF(){return this.position.index>=this.input.length}advanceTo(e){if(e<this.position.index)throw new Error(`Can not advance backwards. Current pos ${this.position.index}. Advance target index ${e}.`);if(e!==this.position.index){for(let n=this.position.index;n<e;n++)this.input[n]===`
`?(this.position.line+=1,this.position.column=1):this.position.column+=1;this.position.index=e}}sliceTo(e){return this.input.slice(this.position.index,e)}succeedOffset(e,n){return this.succeedAt(this.position.index+e,n)}failOffset(e,n){return this.failAt(this.position.index+e,n)}succeed(e){return this.succeedAt(this.position.index,e)}fail(e){return this.failAt(this.position.index,e)}succeedAt(e,n){return this.advanceTo(e),{success:!0,value:n,furthest:void 0,expected:void 0}}failAt(e,n){return this.advanceTo(e),{success:!1,value:void 0,furthest:this.position,expected:Array.isArray(n)?n:[n]}}merge(e,n){if(e===void 0)return n;let r=(0,al.getIndex)(e.furthest),i=(0,al.getIndex)(n.furthest);if(i>r)return n;let o=i===r?(0,al.arrayUnion)(e.expected,n.expected):e.expected;return n.furthest=e.furthest,n.expected=o,n}};zs.ParserContext=ul});var Mo=Kr(qs=>{"use strict";Object.defineProperty(qs,"__esModule",{value:!0});qs.P=void 0;var wt=So(),Us=Bs(),ll=class t{static sequence(...e){if(e.length===0)throw new Error("sequence must have at least one parser argument");return new wt.Parser(function(r){let i,o=new Array(e.length);for(let s=0;s<e.length;s++){let u=e[s].p(r);if(i=r.merge(i,u),!i.success)return i;o[s]=i.value}return i.value=o,i})}static sequenceMap(e,...n){if(n.length===0)throw new Error("sequenceMap must have at least one parser argument");return new wt.Parser(function(i){let o,s=new Array(n.length);for(let a=0;a<n.length;a++){let c=n[a].p(i);if(o=i.merge(o,c),!o.success)return o;s[a]=o.value}return o.value=e(...s),o})}static createLanguage(e){let n={},r={},i={};for(let o in e)i[o]=t.reference(()=>e[o](n,i)),Object.defineProperty(r,o,{get:()=>{if(n[o]!==void 0)return n[o];throw new Error(`Can not access rule '${o}' in language. Rule is not yet defined. Try to access it via 'ref'.`)}});for(let o in e)n[o]=e[o](r,i);return n}static or(...e){if(e.length===0)throw new Error("or must have at least one alternative");return new wt.Parser(function(r){let i;for(let o of e){let s=o,a=r.copy(),u=s.p(a);if(i=r.merge(i,u),i.success)return r.moveToPosition(a.position),i}return i})}static separateBy(e,n){return this.separateByNotEmpty(e,n).or(t.succeed([]))}static separateByNotEmpty(e,n){return this.sequenceMap(function(i,o){return o.unshift(i),o},e,n.then(e).many())}static string(e){let n="'"+e+"'";return new wt.Parser(function(i){for(let o=0;o<e.length;o++)if(i.input[i.position.index+o]!==e[o])return i.fail(n);return i.succeedAt(i.position.index+e.length,e)})}static regexp(e,n){(0,Us.validateRegexFlags)(e.flags);let r=e.source;return n!==void 0?new wt.Parser(function(o){let s=o.input.slice(o.position.index),a=e.exec(s);if(a!==null){let u=n??0;if(u>=0&&u<=a.length){let l=a[0],p=a[u];return o.succeedOffset(l.length,p)}let c="expected valid match group (0 to "+a.length+") in "+r;return o.fail(c)}else return o.fail(r)}):new wt.Parser(function(o){let s=o.input.slice(o.position.index),a=e.exec(s);if(a!==null){let u=a[0];return o.succeedOffset(u.length,u)}else return o.fail(r)})}static succeed(e){return new wt.Parser(function(r){return r.succeed(e)})}static fail(e){return new wt.Parser(function(r){return r.fail(e)})}static oneOf(e){return Us.P_HELPERS.test(function(r){return e.includes(r)}).describe(`one character of '${e}'`)}static noneOf(e){return Us.P_HELPERS.test(function(r){return!e.includes(r)}).describe(`no character of '${e}'`)}static oneStringOf(e){return this.or(...e.map(n=>this.string(n))).describe(e.map(n=>`'${n}'`).join(" or "))}static manyOf(e){return new wt.Parser(function(r){let i=r.position.index;for(;i<r.input.length&&e.includes(r.input[i]);i++);return r.succeedAt(i,r.sliceTo(i))})}static manyNotOf(e){return new wt.Parser(function(r){let i=r.position.index;for(;i<r.input.length&&!e.includes(r.input[i]);i++);return r.succeedAt(i,r.sliceTo(i))})}static custom(e){return new wt.Parser(e)}static range(e,n){let r=e.charCodeAt(0),i=n.charCodeAt(0);return Us.P_HELPERS.test(function(s){let a=s.charCodeAt(0);return r<=a&&a<=i}).describe(`${e}-${n}`)}static takeWhile(e){return new wt.Parser(function(r){let i=r.position.index;for(;i<r.input.length&&e(r.input[i]);)i++;return r.succeedAt(i,r.input.slice(r.position.index,i))})}static reference(e){return new wt.Parser(function(r){return e().p(r)})}};qs.P=ll});var dl=Kr(Zs=>{"use strict";Object.defineProperty(Zs,"__esModule",{value:!0});Zs.P_UTILS=void 0;var Vs=So(),pe=Mo(),fl=class t{static position(){return new Vs.Parser(e=>e.succeed(e.getPosition()))}static any(){return new Vs.Parser(e=>e.atEOF()?e.fail("any character"):e.succeedOffset(1,e.input[e.position.index]))}static remaining(){return new Vs.Parser(e=>e.succeedAt(e.input.length,e.input.slice(e.position.index)))}static eof(){return new Vs.Parser(e=>e.atEOF()?e.succeed(void 0):e.fail("eof"))}static digit(){return pe.P.regexp(/^[0-9]/).describe("a digit")}static digits(){return pe.P.regexp(/^[0-9]+/).describe("multiple digits")}static letter(){return pe.P.regexp(/^[a-z]/i).describe("a letter")}static letters(){return pe.P.regexp(/^[a-z]+/i).describe("multiple letters")}static unicodeLetter(){return pe.P.regexp(/^\p{L}/iu).describe("a unicode letter")}static unicodeLetters(){return pe.P.regexp(/^\p{L}+/iu).describe("multiple unicode letters")}static unicodeAlphanumeric(){return pe.P.regexp(/^[\p{L}\p{N}]/iu).describe("a unicode alphanumeric character")}static unicodeAlphanumerics(){return pe.P.regexp(/^[\p{L}\p{N}]+/iu).describe("multiple unicode alphanumeric characters")}static optionalWhitespace(){return pe.P.regexp(/^\s*/).describe("optional whitespace")}static whitespace(){return pe.P.regexp(/^\s+/).describe("whitespace")}static cr(){return pe.P.string("\r")}static lf(){return pe.P.string(`
`)}static crlf(){return pe.P.string(`\r
`)}static newline(){return pe.P.or(this.crlf(),this.lf(),this.cr()).describe("newline")}static prefix(e,n,r){return pe.P.sequenceMap((i,o)=>i.reduce((s,a)=>r(a,s),o),e.many(),n)}static postfix(e,n,r){return pe.P.sequenceMap((i,o)=>o.reduce((s,a)=>r(a,s),i),n,e.many())}static binaryRight(e,n,r){return pe.P.sequenceMap((i,o)=>i.reverse().reduce((s,a)=>{let[u,c]=a;return r(u,c,s)},o),pe.P.sequence(n,e.trim(this.optionalWhitespace())).many(),n)}static binaryLeft(e,n,r){return pe.P.sequenceMap((i,o)=>o.reduce((s,a)=>{let[u,c]=a;return r(s,u,c)},i),n,pe.P.sequence(e.trim(this.optionalWhitespace()),n).many())}static binaryRightRange(e,n,r){return pe.P.sequenceMap((i,o,s)=>i.reverse().reduce((a,u)=>{let[c,l,p]=u;return r({from:c,to:s},l,p,a)},o),pe.P.sequence(t.position(),n,e.trim(this.optionalWhitespace())).many(),n,t.position())}static binaryLeftRange(e,n,r){return pe.P.sequenceMap((i,o,s)=>s.reduce((a,u)=>{let[c,l,p]=u;return r({from:i,to:p},a,c,l)},o),t.position(),n,pe.P.sequence(e.trim(this.optionalWhitespace()),n,t.position()).many())}static func(e,n,r){let i=typeof e=="string"?pe.P.string(e):e;return pe.P.sequenceMap((o,s,a,u,c,l)=>r(o,u),i,pe.P.string("("),this.optionalWhitespace(),n,this.optionalWhitespace(),pe.P.string(")"))}};Zs.P_UTILS=fl});var hl=Kr(ki=>{"use strict";Object.defineProperty(ki,"__esModule",{value:!0});ki.ParsingError=ki.createParsingErrorMessage=void 0;function Id(t,e,n){let r=`Expected ${e.expected.sort().join(" or ")}`,i=`Parse Failure: ${r} at index ${e.furthest.index}, line ${e.furthest.line}, column ${e.furthest.column}.`;if(n){let s=t.split(`
`)[e.furthest.line-1],a=`${e.furthest.line} |   `;i+=`

${a}${s}`,i+=`
${" ".repeat(e.furthest.column-1+a.length)}^ (${r})`}return i}ki.createParsingErrorMessage=Id;var pl=class extends Error{constructor(e,n){super(Id(e,n,!0))}};ki.ParsingError=pl});var So=Kr(Js=>{"use strict";Object.defineProperty(Js,"__esModule",{value:!0});Js.Parser=void 0;var _y=cl(),Bt=Mo(),ml=Bs(),Ti=dl(),vy=hl(),yl=class t{constructor(e){this.p=e}tryParse(e){return this.p(new _y.ParserContext(e,{index:0,line:1,column:1}))}parse(e){let n=this.tryParse(e);if(n.success)return n.value;throw new vy.ParsingError(e,n)}or(e){return Bt.P.or(this,e)}trim(e){return this.wrap(e,e)}trimString(e){return this.trim(Bt.P.string(e))}wrap(e,n){let r=this;return new t(function(o){let s=e.p(o);if(!s.success)return s;let a=o.merge(s,r.p(o));if(!a.success)return a;let u=o.merge(a,n.p(o));return u.success?o.merge(u,o.succeed(a.value)):u})}wrapString(e,n){return this.wrap(Bt.P.string(e),Bt.P.string(n))}then(e){let n=this;return new t(function(i){let o=n.p(i);if(!o.success)return o;let s=i.merge(o,e.p(i));return s.success,s})}skip(e){let n=this;return new t(function(i){let o=n.p(i);if(!o.success)return o;let s=i.merge(o,e.p(i));return s.success?i.merge(s,i.succeed(o.value)):s})}and(e){return Bt.P.sequence(this,e)}many(){let e=this;return new t(function(r){let i,o=r.position.index,s=[];for(;;){let a=r.copy(),u=e.p(a);if(i=r.merge(i,u),i.success){if(a.position.index===o)throw new Error("infinite loop in many() parser detected");r.moveToPosition(a.position),s.push(i.value)}else return r.merge(i,r.succeed(s))}})}repeat(e,n){(0,ml.validateRange)(e,n);let r=this;return new t(function(o){let s,a,u=[],c=0;for(;c<e;c++)if(s=r.p(o),a=o.merge(a,s),s.success)u.push(s.value);else return a;for(;c<n;c++){let l=o.copy();if(s=r.p(l),a=o.merge(a,s),s.success)o.moveToPosition(l.position),u.push(s.value);else break}return o.merge(a,o.succeed(u))})}atMost(e){return this.repeat(0,e)}atLeast(e){return Bt.P.sequenceMap((n,r)=>n.concat(r),this.repeat(e,e),this.many())}separateBy(e){return Bt.P.separateBy(this,e)}separateByNotEmpty(e){return Bt.P.separateByNotEmpty(this,e)}result(e){return this.map(()=>e)}map(e){let n=this;return new t(function(i){let o=n.p(i);return o.success&&(o.value=e(o.value)),o})}marker(){return Bt.P.sequenceMap(function(n,r,i){return{value:r,range:{from:n,to:i}}},Ti.P_UTILS.position(),this,Ti.P_UTILS.position())}namedMarker(e){return Bt.P.sequenceMap(function(r,i,o){return{value:i,name:e,range:{from:r,to:o}}},Ti.P_UTILS.position(),this,Ti.P_UTILS.position())}node(e){return Bt.P.sequenceMap(function(r,i,o){return e(i,{from:r,to:o})},Ti.P_UTILS.position(),this,Ti.P_UTILS.position())}followedBy(e){return this.skip(ml.P_HELPERS.followedBy(e))}notFollowedBy(e){return this.skip(ml.P_HELPERS.notFollowedBy(e))}describe(e){typeof e=="string"&&(e=[e]);let n=this;return new t(function(i){let o=n.p(i);return o.expected!==void 0&&o.expected.length!==0&&(o.expected=e),o})}box(e){let n=this;return new t(function(i){var o;let s=n.p(i);return s.expected!==void 0&&s.expected.length!==0&&(s.expected=[`(${(o=s.expected)===null||o===void 0?void 0:o.join(" or ")} as part of ${e})`]),s})}optional(e){return this.or(Bt.P.succeed(e))}chain(e){let n=this;return new t(function(i){let o=n.p(i);if(!o.success)return o;let a=e(o.value).p(i);return i.merge(o,a)})}thenEof(){let e=this;return new t(function(r){let i=e.p(r);return i.success?r.atEOF()?i:r.merge(i,r.fail("eof")):i})}memorize(){let e=this,n="",r=new Map,i=new Map;return new t(function(s){let a=s.position.index;if(s.input!==n)n=s.input,r.clear(),i.clear();else{let c=r.get(a),l=i.get(a);if(c!==void 0&&l!==void 0)return s.moveToPosition(Object.assign({},l)),Object.assign({},c)}let u=e.p(s);return r.set(a,Object.assign({},u)),i.set(a,s.getPosition()),u})}};Js.Parser=yl});var Wy={};zl(Wy,{default:()=>Ku});module.exports=$p(Wy);function Yo(t){var e=t.statementIndent,n=t.jsonld,r=t.json||n,i=t.typescript,o=t.wordCharacters||/[\w$\xa1-\uffff]/,s=function(){function f(yt){return{type:yt,style:"keyword"}}var h=f("keyword a"),x=f("keyword b"),M=f("keyword c"),L=f("keyword d"),se=f("operator"),fe={type:"atom",style:"atom"};return{if:f("if"),while:h,with:h,else:x,do:x,try:x,finally:x,return:L,break:L,continue:L,new:f("new"),delete:M,void:M,throw:M,debugger:f("debugger"),var:f("var"),const:f("var"),let:f("var"),function:f("function"),catch:f("catch"),for:f("for"),switch:f("switch"),case:f("case"),default:f("default"),in:se,typeof:se,instanceof:se,true:fe,false:fe,null:fe,undefined:fe,NaN:fe,Infinity:fe,this:f("this"),class:f("class"),super:f("atom"),yield:M,export:f("export"),import:f("import"),extends:M,await:M}}(),a=/[+\-*&%=<>!?|~^@]/,u=/^@(context|id|value|language|type|container|list|set|reverse|index|base|vocab|graph)"/;function c(f){for(var h=!1,x,M=!1;(x=f.next())!=null;){if(!h){if(x=="/"&&!M)return;x=="["?M=!0:M&&x=="]"&&(M=!1)}h=!h&&x=="\\"}}var l,p;function d(f,h,x){return l=f,p=x,h}function y(f,h){var x=f.next();if(x=='"'||x=="'")return h.tokenize=v(x),h.tokenize(f,h);if(x=="."&&f.match(/^\d[\d_]*(?:[eE][+\-]?[\d_]+)?/))return d("number","number");if(x=="."&&f.match(".."))return d("spread","meta");if(/[\[\]{}\(\),;\:\.]/.test(x))return d(x);if(x=="="&&f.eat(">"))return d("=>","operator");if(x=="0"&&f.match(/^(?:x[\dA-Fa-f_]+|o[0-7_]+|b[01_]+)n?/))return d("number","number");if(/\d/.test(x))return f.match(/^[\d_]*(?:n|(?:\.[\d_]*)?(?:[eE][+\-]?[\d_]+)?)?/),d("number","number");if(x=="/")return f.eat("*")?(h.tokenize=b,b(f,h)):f.eat("/")?(f.skipToEnd(),d("comment","comment")):bp(f,h,1)?(c(f),f.match(/^\b(([gimyus])(?![gimyus]*\2))+\b/),d("regexp","string.special")):(f.eat("="),d("operator","operator",f.current()));if(x=="`")return h.tokenize=$,$(f,h);if(x=="#"&&f.peek()=="!")return f.skipToEnd(),d("meta","meta");if(x=="#"&&f.eatWhile(o))return d("variable","property");if(x=="<"&&f.match("!--")||x=="-"&&f.match("->")&&!/\S/.test(f.string.slice(0,f.start)))return f.skipToEnd(),d("comment","comment");if(a.test(x))return(x!=">"||!h.lexical||h.lexical.type!=">")&&(f.eat("=")?(x=="!"||x=="=")&&f.eat("="):/[<>*+\-|&?]/.test(x)&&(f.eat(x),x==">"&&f.eat(x))),x=="?"&&f.eat(".")?d("."):d("operator","operator",f.current());if(o.test(x)){f.eatWhile(o);var M=f.current();if(h.lastType!="."){if(s.propertyIsEnumerable(M)){var L=s[M];return d(L.type,L.style,M)}if(M=="async"&&f.match(/^(\s|\/\*([^*]|\*(?!\/))*?\*\/)*[\[\(\w]/,!1))return d("async","keyword",M)}return d("variable","variable",M)}}function v(f){return function(h,x){var M=!1,L;if(n&&h.peek()=="@"&&h.match(u))return x.tokenize=y,d("jsonld-keyword","meta");for(;(L=h.next())!=null&&!(L==f&&!M);)M=!M&&L=="\\";return M||(x.tokenize=y),d("string","string")}}function b(f,h){for(var x=!1,M;M=f.next();){if(M=="/"&&x){h.tokenize=y;break}x=M=="*"}return d("comment","comment")}function $(f,h){for(var x=!1,M;(M=f.next())!=null;){if(!x&&(M=="`"||M=="$"&&f.eat("{"))){h.tokenize=y;break}x=!x&&M=="\\"}return d("quasi","string.special",f.current())}var w="([{}])";function E(f,h){h.fatArrowAt&&(h.fatArrowAt=null);var x=f.string.indexOf("=>",f.start);if(!(x<0)){if(i){var M=/:\s*(?:\w+(?:<[^>]*>|\[\])?|\{[^}]*\})\s*$/.exec(f.string.slice(f.start,x));M&&(x=M.index)}for(var L=0,se=!1,fe=x-1;fe>=0;--fe){var yt=f.string.charAt(fe),Tt=w.indexOf(yt);if(Tt>=0&&Tt<3){if(!L){++fe;break}if(--L==0){yt=="("&&(se=!0);break}}else if(Tt>=3&&Tt<6)++L;else if(o.test(yt))se=!0;else if(/["'\/`]/.test(yt))for(;;--fe){if(fe==0)return;var Hi=f.string.charAt(fe-1);if(Hi==yt&&f.string.charAt(fe-2)!="\\"){fe--;break}}else if(se&&!L){++fe;break}}se&&!L&&(h.fatArrowAt=fe)}}var N={atom:!0,number:!0,variable:!0,string:!0,regexp:!0,this:!0,import:!0,"jsonld-keyword":!0};function T(f,h,x,M,L,se){this.indented=f,this.column=h,this.type=x,this.prev=L,this.info=se,M!=null&&(this.align=M)}function P(f,h){for(var x=f.localVars;x;x=x.next)if(x.name==h)return!0;for(var M=f.context;M;M=M.prev)for(var x=M.vars;x;x=x.next)if(x.name==h)return!0}function K(f,h,x,M,L){var se=f.cc;for(g.state=f,g.stream=L,g.marked=null,g.cc=se,g.style=h,f.lexical.hasOwnProperty("align")||(f.lexical.align=!0);;){var fe=se.length?se.pop():r?ae:Te;if(fe(x,M)){for(;se.length&&se[se.length-1].lex;)se.pop()();return g.marked?g.marked:x=="variable"&&P(f,M)?"variableName.local":h}}}var g={state:null,column:null,marked:null,cc:null};function A(){for(var f=arguments.length-1;f>=0;f--)g.cc.push(arguments[f])}function _(){return A.apply(null,arguments),!0}function fn(f,h){for(var x=h;x;x=x.next)if(x.name==f)return!0;return!1}function qe(f){var h=g.state;if(g.marked="def",h.context){if(h.lexical.info=="var"&&h.context&&h.context.block){var x=mt(f,h.context);if(x!=null){h.context=x;return}}else if(!fn(f,h.localVars)){h.localVars=new dn(f,h.localVars);return}}t.globalVars&&!fn(f,h.globalVars)&&(h.globalVars=new dn(f,h.globalVars))}function mt(f,h){if(h)if(h.block){var x=mt(f,h.prev);return x?x==h.prev?h:new er(x,h.vars,!0):null}else return fn(f,h.vars)?h:new er(h.prev,new dn(f,h.vars),!1);else return null}function Yt(f){return f=="public"||f=="private"||f=="protected"||f=="abstract"||f=="readonly"}function er(f,h,x){this.prev=f,this.vars=h,this.block=x}function dn(f,h){this.name=f,this.next=h}var Qu=new dn("this",new dn("arguments",null));function pn(){g.state.context=new er(g.state.context,g.state.localVars,!1),g.state.localVars=Qu}function Zr(){g.state.context=new er(g.state.context,g.state.localVars,!0),g.state.localVars=null}pn.lex=Zr.lex=!0;function tt(){g.state.localVars=g.state.context.vars,g.state.context=g.state.context.prev}tt.lex=!0;function G(f,h){var x=function(){var M=g.state,L=M.indented;if(M.lexical.type=="stat")L=M.lexical.indented;else for(var se=M.lexical;se&&se.type==")"&&se.align;se=se.prev)L=se.indented;M.lexical=new T(L,g.stream.column(),f,null,M.lexical,h)};return x.lex=!0,x}function J(){var f=g.state;f.lexical.prev&&(f.lexical.type==")"&&(f.indented=f.lexical.indented),f.lexical=f.lexical.prev)}J.lex=!0;function ne(f){function h(x){return x==f?_():f==";"||x=="}"||x==")"||x=="]"?A():_(h)}return h}function Te(f,h){return f=="var"?_(G("vardef",h),rc,ne(";"),J):f=="keyword a"?_(G("form"),Xu,Te,J):f=="keyword b"?_(G("form"),Te,J):f=="keyword d"?g.stream.match(/^\s*$/,!1)?_():_(G("stat"),Jr,ne(";"),J):f=="debugger"?_(ne(";")):f=="{"?_(G("}"),Zr,Vo,J,tt):f==";"?_():f=="if"?(g.state.lexical.info=="else"&&g.state.cc[g.state.cc.length-1]==J&&g.state.cc.pop()(),_(G("form"),Xu,Te,J,Rl)):f=="function"?_(Rn):f=="for"?_(G("form"),Zr,Nl,Te,tt,J):f=="class"||i&&h=="interface"?(g.marked="keyword",_(G("form",f=="class"?f:h),jl,J)):f=="variable"?i&&h=="declare"?(g.marked="keyword",_(Te)):i&&(h=="module"||h=="enum"||h=="type")&&g.stream.match(/^\s*\w/,!1)?(g.marked="keyword",h=="enum"?_(Bl):h=="type"?_(Ll,ne("operator"),le,ne(";")):_(G("form"),Ut,ne("{"),G("}"),Vo,J,J)):i&&h=="namespace"?(g.marked="keyword",_(G("form"),ae,Te,J)):i&&h=="abstract"?(g.marked="keyword",_(Te)):_(G("stat"),np):f=="switch"?_(G("form"),Xu,ne("{"),G("}","switch"),Zr,Vo,J,J,tt):f=="case"?_(ae,ne(":")):f=="default"?_(ne(":")):f=="catch"?_(G("form"),pn,Zi,Te,J,tt):f=="export"?_(G("stat"),mp,J):f=="import"?_(G("stat"),yp,J):f=="async"?_(Te):h=="@"?_(ae,Te):A(G("stat"),ae,ne(";"),J)}function Zi(f){if(f=="(")return _(rr,ne(")"))}function ae(f,h){return Sl(f,h,!1)}function Pe(f,h){return Sl(f,h,!0)}function Xu(f){return f!="("?A():_(G(")"),Jr,ne(")"),J)}function Sl(f,h,x){if(g.state.fatArrowAt==g.stream.start){var M=x?Cl:Ml;if(f=="(")return _(pn,G(")"),Oe(rr,")"),J,ne("=>"),M,tt);if(f=="variable")return A(pn,Ut,ne("=>"),M,tt)}var L=x?Wr:tr;return N.hasOwnProperty(f)?_(L):f=="function"?_(Rn,L):f=="class"||i&&h=="interface"?(g.marked="keyword",_(G("form"),hp,J)):f=="keyword c"||f=="async"?_(x?Pe:ae):f=="("?_(G(")"),Jr,ne(")"),J,L):f=="operator"||f=="spread"?_(x?Pe:ae):f=="["?_(G("]"),vp,J,L):f=="{"?Ji(qo,"}",null,L):f=="quasi"?A(Uo,L):f=="new"?_(Xd(x)):_()}function Jr(f){return f.match(/[;\}\)\],]/)?A():A(ae)}function tr(f,h){return f==","?_(Jr):Wr(f,h,!1)}function Wr(f,h,x){var M=x==!1?tr:Wr,L=x==!1?ae:Pe;if(f=="=>")return _(pn,x?Cl:Ml,tt);if(f=="operator")return/\+\+|--/.test(h)||i&&h=="!"?_(M):i&&h=="<"&&g.stream.match(/^([^<>]|<[^<>]*>)*>\s*\(/,!1)?_(G(">"),Oe(le,">"),J,M):h=="?"?_(ae,ne(":"),L):_(L);if(f=="quasi")return A(Uo,M);if(f!=";"){if(f=="(")return Ji(Pe,")","call",M);if(f==".")return _(rp,M);if(f=="[")return _(G("]"),Jr,ne("]"),J,M);if(i&&h=="as")return g.marked="keyword",_(le,M);if(f=="regexp")return g.state.lastType=g.marked="operator",g.stream.backUp(g.stream.pos-g.stream.start-1),_(L)}}function Uo(f,h){return f!="quasi"?A():h.slice(h.length-2)!="${"?_(Uo):_(Jr,Qd)}function Qd(f){if(f=="}")return g.marked="string.special",g.state.tokenize=$,_(Uo)}function Ml(f){return E(g.stream,g.state),A(f=="{"?Te:ae)}function Cl(f){return E(g.stream,g.state),A(f=="{"?Te:Pe)}function Xd(f){return function(h){return h=="."?_(f?tp:ep):h=="variable"&&i?_(cp,f?Wr:tr):A(f?Pe:ae)}}function ep(f,h){if(h=="target")return g.marked="keyword",_(tr)}function tp(f,h){if(h=="target")return g.marked="keyword",_(Wr)}function np(f){return f==":"?_(J,Te):A(tr,ne(";"),J)}function rp(f){if(f=="variable")return g.marked="property",_()}function qo(f,h){if(f=="async")return g.marked="property",_(qo);if(f=="variable"||g.style=="keyword"){if(g.marked="property",h=="get"||h=="set")return _(ip);var x;return i&&g.state.fatArrowAt==g.stream.start&&(x=g.stream.match(/^\s*:\s*/,!1))&&(g.state.fatArrowAt=g.stream.pos+x[0].length),_(nr)}else{if(f=="number"||f=="string")return g.marked=n?"property":g.style+" property",_(nr);if(f=="jsonld-keyword")return _(nr);if(i&&Yt(h))return g.marked="keyword",_(qo);if(f=="[")return _(ae,Hr,ne("]"),nr);if(f=="spread")return _(Pe,nr);if(h=="*")return g.marked="keyword",_(qo);if(f==":")return A(nr)}}function ip(f){return f!="variable"?A(nr):(g.marked="property",_(Rn))}function nr(f){if(f==":")return _(Pe);if(f=="(")return A(Rn)}function Oe(f,h,x){function M(L,se){if(x?x.indexOf(L)>-1:L==","){var fe=g.state.lexical;return fe.info=="call"&&(fe.pos=(fe.pos||0)+1),_(function(yt,Tt){return yt==h||Tt==h?A():A(f)},M)}return L==h||se==h?_():x&&x.indexOf(";")>-1?A(f):_(ne(h))}return function(L,se){return L==h||se==h?_():A(f,M)}}function Ji(f,h,x){for(var M=3;M<arguments.length;M++)g.cc.push(arguments[M]);return _(G(h,x),Oe(f,h),J)}function Vo(f){return f=="}"?_():A(Te,Vo)}function Hr(f,h){if(i){if(f==":")return _(le);if(h=="?")return _(Hr)}}function op(f,h){if(i&&(f==":"||h=="in"))return _(le)}function Pl(f){if(i&&f==":")return g.stream.match(/^\s*\w+\s+is\b/,!1)?_(ae,sp,le):_(le)}function sp(f,h){if(h=="is")return g.marked="keyword",_()}function le(f,h){if(h=="keyof"||h=="typeof"||h=="infer"||h=="readonly")return g.marked="keyword",_(h=="typeof"?Pe:le);if(f=="variable"||h=="void")return g.marked="type",_(hn);if(h=="|"||h=="&")return _(le);if(f=="string"||f=="number"||f=="atom")return _(hn);if(f=="[")return _(G("]"),Oe(le,"]",","),J,hn);if(f=="{")return _(G("}"),ec,J,hn);if(f=="(")return _(Oe(nc,")"),ap,hn);if(f=="<")return _(Oe(le,">"),le);if(f=="quasi")return A(tc,hn)}function ap(f){if(f=="=>")return _(le)}function ec(f){return f.match(/[\}\)\]]/)?_():f==","||f==";"?_(ec):A(Wi,ec)}function Wi(f,h){if(f=="variable"||g.style=="keyword")return g.marked="property",_(Wi);if(h=="?"||f=="number"||f=="string")return _(Wi);if(f==":")return _(le);if(f=="[")return _(ne("variable"),op,ne("]"),Wi);if(f=="(")return A(Yr,Wi);if(!f.match(/[;\}\)\],]/))return _()}function tc(f,h){return f!="quasi"?A():h.slice(h.length-2)!="${"?_(tc):_(le,up)}function up(f){if(f=="}")return g.marked="string.special",g.state.tokenize=$,_(tc)}function nc(f,h){return f=="variable"&&g.stream.match(/^\s*[?:]/,!1)||h=="?"?_(nc):f==":"?_(le):f=="spread"?_(nc):A(le)}function hn(f,h){if(h=="<")return _(G(">"),Oe(le,">"),J,hn);if(h=="|"||f=="."||h=="&")return _(le);if(f=="[")return _(le,ne("]"),hn);if(h=="extends"||h=="implements")return g.marked="keyword",_(le);if(h=="?")return _(le,ne(":"),le)}function cp(f,h){if(h=="<")return _(G(">"),Oe(le,">"),J,hn)}function Zo(){return A(le,lp)}function lp(f,h){if(h=="=")return _(le)}function rc(f,h){return h=="enum"?(g.marked="keyword",_(Bl)):A(Ut,Hr,On,dp)}function Ut(f,h){if(i&&Yt(h))return g.marked="keyword",_(Ut);if(f=="variable")return qe(h),_();if(f=="spread")return _(Ut);if(f=="[")return Ji(fp,"]");if(f=="{")return Ji(Ol,"}")}function Ol(f,h){return f=="variable"&&!g.stream.match(/^\s*:/,!1)?(qe(h),_(On)):(f=="variable"&&(g.marked="property"),f=="spread"?_(Ut):f=="}"?A():f=="["?_(ae,ne("]"),ne(":"),Ol):_(ne(":"),Ut,On))}function fp(){return A(Ut,On)}function On(f,h){if(h=="=")return _(Pe)}function dp(f){if(f==",")return _(rc)}function Rl(f,h){if(f=="keyword b"&&h=="else")return _(G("form","else"),Te,J)}function Nl(f,h){if(h=="await")return _(Nl);if(f=="(")return _(G(")"),pp,J)}function pp(f){return f=="var"?_(rc,Gr):f=="variable"?_(Gr):A(Gr)}function Gr(f,h){return f==")"?_():f==";"?_(Gr):h=="in"||h=="of"?(g.marked="keyword",_(ae,Gr)):A(ae,Gr)}function Rn(f,h){if(h=="*")return g.marked="keyword",_(Rn);if(f=="variable")return qe(h),_(Rn);if(f=="(")return _(pn,G(")"),Oe(rr,")"),J,Pl,Te,tt);if(i&&h=="<")return _(G(">"),Oe(Zo,">"),J,Rn)}function Yr(f,h){if(h=="*")return g.marked="keyword",_(Yr);if(f=="variable")return qe(h),_(Yr);if(f=="(")return _(pn,G(")"),Oe(rr,")"),J,Pl,tt);if(i&&h=="<")return _(G(">"),Oe(Zo,">"),J,Yr)}function Ll(f,h){if(f=="keyword"||f=="variable")return g.marked="type",_(Ll);if(h=="<")return _(G(">"),Oe(Zo,">"),J)}function rr(f,h){return h=="@"&&_(ae,rr),f=="spread"?_(rr):i&&Yt(h)?(g.marked="keyword",_(rr)):i&&f=="this"?_(Hr,On):A(Ut,Hr,On)}function hp(f,h){return f=="variable"?jl(f,h):Jo(f,h)}function jl(f,h){if(f=="variable")return qe(h),_(Jo)}function Jo(f,h){if(h=="<")return _(G(">"),Oe(Zo,">"),J,Jo);if(h=="extends"||h=="implements"||i&&f==",")return h=="implements"&&(g.marked="keyword"),_(i?le:ae,Jo);if(f=="{")return _(G("}"),mn,J)}function mn(f,h){if(f=="async"||f=="variable"&&(h=="static"||h=="get"||h=="set"||i&&Yt(h))&&g.stream.match(/^\s+#?[\w$\xa1-\uffff]/,!1))return g.marked="keyword",_(mn);if(f=="variable"||g.style=="keyword")return g.marked="property",_(Wo,mn);if(f=="number"||f=="string")return _(Wo,mn);if(f=="[")return _(ae,Hr,ne("]"),Wo,mn);if(h=="*")return g.marked="keyword",_(mn);if(i&&f=="(")return A(Yr,mn);if(f==";"||f==",")return _(mn);if(f=="}")return _();if(h=="@")return _(ae,mn)}function Wo(f,h){if(h=="!"||h=="?")return _(Wo);if(f==":")return _(le,On);if(h=="=")return _(Pe);var x=g.state.lexical.prev,M=x&&x.info=="interface";return A(M?Yr:Rn)}function mp(f,h){return h=="*"?(g.marked="keyword",_(ic,ne(";"))):h=="default"?(g.marked="keyword",_(ae,ne(";"))):f=="{"?_(Oe(Fl,"}"),ic,ne(";")):A(Te)}function Fl(f,h){if(h=="as")return g.marked="keyword",_(ne("variable"));if(f=="variable")return A(Pe,Fl)}function yp(f){return f=="string"?_():f=="("?A(ae):f=="."?A(tr):A(Ho,Dl,ic)}function Ho(f,h){return f=="{"?Ji(Ho,"}"):(f=="variable"&&qe(h),h=="*"&&(g.marked="keyword"),_(_p))}function Dl(f){if(f==",")return _(Ho,Dl)}function _p(f,h){if(h=="as")return g.marked="keyword",_(Ho)}function ic(f,h){if(h=="from")return g.marked="keyword",_(ae)}function vp(f){return f=="]"?_():A(Oe(Pe,"]"))}function Bl(){return A(G("form"),Ut,ne("{"),G("}"),Oe(gp,"}"),J,J)}function gp(){return A(Ut,On)}function xp(f,h){return f.lastType=="operator"||f.lastType==","||a.test(h.charAt(0))||/[,.]/.test(h.charAt(0))}function bp(f,h,x){return h.tokenize==y&&/^(?:operator|sof|keyword [bcd]|case|new|export|default|spread|[\[{}\(,;:]|=>)$/.test(h.lastType)||h.lastType=="quasi"&&/\{\s*$/.test(f.string.slice(0,f.pos-(x||0)))}return{name:t.name,startState:function(f){var h={tokenize:y,lastType:"sof",cc:[],lexical:new T(-f,0,"block",!1),localVars:t.localVars,context:t.localVars&&new er(null,null,!1),indented:0};return t.globalVars&&typeof t.globalVars=="object"&&(h.globalVars=t.globalVars),h},token:function(f,h){if(f.sol()&&(h.lexical.hasOwnProperty("align")||(h.lexical.align=!1),h.indented=f.indentation(),E(f,h)),h.tokenize!=b&&f.eatSpace())return null;var x=h.tokenize(f,h);return l=="comment"?x:(h.lastType=l=="operator"&&(p=="++"||p=="--")?"incdec":l,K(h,x,l,p,f))},indent:function(f,h,x){if(f.tokenize==b||f.tokenize==$)return null;if(f.tokenize!=y)return 0;var M=h&&h.charAt(0),L=f.lexical,se;if(!/^\s*else\b/.test(h))for(var fe=f.cc.length-1;fe>=0;--fe){var yt=f.cc[fe];if(yt==J)L=L.prev;else if(yt!=Rl&&yt!=tt)break}for(;(L.type=="stat"||L.type=="form")&&(M=="}"||(se=f.cc[f.cc.length-1])&&(se==tr||se==Wr)&&!/^[,\.=+\-*:?[\(]/.test(h));)L=L.prev;e&&L.type==")"&&L.prev.type=="stat"&&(L=L.prev);var Tt=L.type,Hi=M==Tt;return Tt=="vardef"?L.indented+(f.lastType=="operator"||f.lastType==","?L.info.length+1:0):Tt=="form"&&M=="{"?L.indented:Tt=="form"?L.indented+x.unit:Tt=="stat"?L.indented+(xp(f,h)?e||x.unit:0):L.info=="switch"&&!Hi&&t.doubleIndentSwitch!=!1?L.indented+(/^(?:case|default)\b/.test(h)?x.unit:2*x.unit):L.align?L.column+(Hi?0:1):L.indented+(Hi?0:x.unit)},languageData:{indentOnInput:/^\s*(?:case .*?:|default:|\{|\})$/,commentTokens:r?void 0:{line:"//",block:{open:"/*",close:"*/"}},closeBrackets:{brackets:["(","[","{","'",'"',"`"]},wordChars:"$"}}}var Gi=Yo({name:"javascript"}),Gy=Yo({name:"json",json:!0}),Yy=Yo({name:"json",jsonld:!0}),Ky=Yo({name:"typescript",typescript:!0});var Qr=class t{name;id;executionContext;constructor(e,n,r){this.name=e,this.id=n,this.executionContext=r}toString(){return`plugin:js-engine:${this.name}:${this.id}`}static create(e){return new t(e,self.crypto.randomUUID())}};var ql="5";typeof window<"u"&&(window.__svelte||={v:new Set}).v.add(ql);var Xr="[",ir="[!",or="]",yn={};var ze=Symbol(),Re=Symbol("filename"),Vl=Symbol("hmr");var ei="font-weight: bold",ti="font-weight: normal";function Zl(t,e,n){console.warn("hydration_attribute_changed")}function Jl(t){console.warn("hydration_html_changed")}function sr(t){console.warn("hydration_mismatch")}function Wl(){console.warn("lifecycle_double_unmount")}function oc(t,e){console.warn("ownership_invalid_mutation")}function Ko(t){console.warn("state_proxy_equality_mismatch")}var At=Array.isArray,Yi=Array.from,sc=Object.keys,$t=Object.defineProperty,It=Object.getOwnPropertyDescriptor,Qo=Object.getOwnPropertyDescriptors,Xo=Object.prototype,Hl=Array.prototype,Kt=Object.getPrototypeOf;function ac(t){return typeof t=="function"}var nt=()=>{};function es(t){for(var e=0;e<t.length;e++)t[e]()}var St=Symbol("$state"),ar=Symbol("$state metadata"),Gl=Symbol("");function ts(t){return t===this.v}function ns(t,e){return t!=t?e==e:t!==e||t!==null&&typeof t=="object"||typeof t=="function"}function ni(t){return!ns(t,this.v)}function uc(){if(!1){let t=new Error("bind_invalid_checkbox_value\nUsing `bind:value` together with a checkbox input is not allowed. Use `bind:checked` instead");throw t.name="Svelte error",t}else throw new Error("bind_invalid_checkbox_value")}function Yl(){if(!1){let t=new Error(`derived_references_self
A derived value cannot reference itself recursively`);throw t.name="Svelte error",t}else throw new Error("derived_references_self")}function Kl(t){if(!1){let e=new Error(`effect_in_teardown
\`${t}\` cannot be used inside an effect cleanup function`);throw e.name="Svelte error",e}else throw new Error("effect_in_teardown")}function Ql(){if(!1){let t=new Error("effect_in_unowned_derived\nEffect cannot be created inside a `$derived` value that was not itself created inside an effect");throw t.name="Svelte error",t}else throw new Error("effect_in_unowned_derived")}function Xl(t){if(!1){let e=new Error(`effect_orphan
\`${t}\` can only be used inside an effect (e.g. during component initialisation)`);throw e.name="Svelte error",e}else throw new Error("effect_orphan")}function cc(){if(!1){let t=new Error(`effect_update_depth_exceeded
Maximum update depth exceeded. This can happen when a reactive block or effect repeatedly sets a new value. Svelte limits the number of nested updates to prevent infinite loops`);throw t.name="Svelte error",t}else throw new Error("effect_update_depth_exceeded")}function ef(){if(!1){let t=new Error(`hydration_failed
Failed to hydrate the application`);throw t.name="Svelte error",t}else throw new Error("hydration_failed")}function tf(){if(!1){let t=new Error("invalid_snippet\nCould not `{@render}` snippet due to the expression being `null` or `undefined`. Consider using optional chaining `{@render snippet?.()}`");throw t.name="Svelte error",t}else throw new Error("invalid_snippet")}function nf(t){if(!1){let e=new Error(`props_invalid_value
Cannot do \`bind:${t}={undefined}\` when \`${t}\` has a fallback value`);throw e.name="Svelte error",e}else throw new Error("props_invalid_value")}function rf(t){if(!1){let e=new Error(`rune_outside_svelte
The \`${t}\` rune is only available inside \`.svelte\` and \`.svelte.js/ts\` files`);throw e.name="Svelte error",e}else throw new Error("rune_outside_svelte")}function of(){if(!1){let t=new Error("state_descriptors_fixed\nProperty descriptors defined on `$state` objects must contain `value` and always be `enumerable`, `configurable` and `writable`.");throw t.name="Svelte error",t}else throw new Error("state_descriptors_fixed")}function sf(){if(!1){let t=new Error("state_prototype_fixed\nCannot set prototype of `$state` object");throw t.name="Svelte error",t}else throw new Error("state_prototype_fixed")}function af(){if(!1){let t=new Error("state_unsafe_local_read\nReading state that was created inside the same derived is forbidden. Consider using `untrack` to read locally created state");throw t.name="Svelte error",t}else throw new Error("state_unsafe_local_read")}function uf(){if(!1){let t=new Error("state_unsafe_mutation\nUpdating state inside a derived or a template expression is forbidden. If the value should not be reactive, declare it without `$state`");throw t.name="Svelte error",t}else throw new Error("state_unsafe_mutation")}var ur=new Set;function fc(t){ur=t}function Ae(t){return{f:0,v:t,reactions:null,equals:ts,version:0}}function vn(t){return Ip(Ae(t))}function Ln(t,e=!1){let n=Ae(t);return e||(n.equals=ni),ee!==null&&ee.l!==null&&(ee.l.s??=[]).push(n),n}function Ip(t){return re!==null&&re.f&2&&(Vt===null?lf([t]):Vt.push(t)),t}function ue(t,e){return re!==null&&lr()&&re.f&18&&(Vt===null||!Vt.includes(t))&&uf(),Ki(t,e)}function Ki(t,e){if(!t.equals(e)&&(t.v=e,t.version=rs(),cf(t,1024),lr()&&U!==null&&U.f&512&&!(U.f&32)&&(Le!==null&&Le.includes(t)?(rt(U,1024),ii(U)):_n===null?ff([t]):_n.push(t)),!1)){let r=Array.from(ur);var n=gn;ri(!0);try{for(let i of r)i.f&512&&rt(i,2048),jn(i)&&fr(i)}finally{ri(n)}ur.clear()}return e}function cf(t,e){var n=t.reactions;if(n!==null)for(var r=lr(),i=n.length,o=0;o<i;o++){var s=n[o],a=s.f;if(!(a&1024)&&!(!r&&s===U)){if(!1){ur.add(s);continue}rt(s,e),a&640&&(a&2?cf(s,2048):ii(s))}}}function Ot(t){var e=1026;U===null?e|=128:U.f|=524288;let n={children:null,ctx:ee,deps:null,equals:ts,f:e,fn:t,reactions:null,v:null,version:0,parent:U};if(re!==null&&re.f&2){var r=re;(r.children??=[]).push(n)}return n}function mc(t){let e=Ot(t);return e.equals=ni,e}function pc(t){var e=t.children;if(e!==null){t.children=null;for(var n=0;n<e.length;n+=1){var r=e[n];r.f&2?Qi(r):Ve(r)}}}var dc=[];function yc(t){var e,n=U;if(Se(t.parent),!1){let r=ur;fc(new Set);try{dc.includes(t)&&Yl(),dc.push(t),pc(t),e=is(t)}finally{Se(n),fc(r),dc.pop()}}else try{pc(t),e=is(t)}finally{Se(n)}return e}function _c(t){var e=yc(t),n=(Fn||t.f&128)&&t.deps!==null?2048:512;rt(t,n),t.equals(e)||(t.v=e,t.version=rs())}function Qi(t){pc(t),pr(t,0),rt(t,8192),t.v=t.children=t.deps=t.ctx=t.reactions=null}function pf(t){U===null&&re===null&&Xl(t),re!==null&&re.f&128&&Ql(),ss&&Kl(t)}function Sp(t,e){var n=e.last;n===null?e.last=e.first=t:(n.next=t,t.prev=n,e.last=t)}function eo(t,e,n,r=!0){var i=(t&64)!==0,o=U;if(!1)for(;o!==null&&o.f&131072;)o=o.parent;var s={ctx:ee,deps:null,deriveds:null,nodes_start:null,nodes_end:null,f:t|1024,first:null,fn:e,last:null,next:null,parent:i?null:o,prev:null,teardown:null,transitions:null,version:0};if(!1,n){var a=gn;try{ri(!0),fr(s),s.f|=16384}catch(l){throw Ve(s),l}finally{ri(a)}}else e!==null&&ii(s);var u=n&&s.deps===null&&s.first===null&&s.nodes_start===null&&s.teardown===null&&(s.f&524288)===0;if(!u&&!i&&r&&(o!==null&&Sp(s,o),re!==null&&re.f&2)){var c=re;(c.children??=[]).push(s)}return s}function oi(t){pf("$effect");var e=U!==null&&(U.f&32)!==0&&ee!==null&&!ee.m;if(!1,e){var n=ee;(n.e??=[]).push({fn:t,effect:U,reaction:re})}else{var r=ot(t);return r}}function to(t){let e=eo(64,t,!0);return()=>{Ve(e)}}function ot(t){return eo(4,t,!1)}function Je(t){return eo(8,t,!0)}function de(t){return!1,We(t)}function We(t,e=0){return eo(24|e,t,!0)}function je(t,e=!0){return eo(40,t,!0,e)}function bc(t){var e=t.teardown;if(e!==null){let n=ss,r=re;vc(!0),Ze(null);try{e.call(null)}finally{vc(n),Ze(r)}}}function wc(t){var e=t.deriveds;if(e!==null){t.deriveds=null;for(var n=0;n<e.length;n+=1)Qi(e[n])}}function Ec(t,e=!1){var n=t.first;for(t.first=t.last=null;n!==null;){var r=n.next;Ve(n,e),n=r}}function hf(t){for(var e=t.first;e!==null;){var n=e.next;e.f&32||Ve(e),e=n}}function Ve(t,e=!0){var n=!1;if((e||t.f&262144)&&t.nodes_start!==null){for(var r=t.nodes_start,i=t.nodes_end;r!==null;){var o=r===i?null:Fe(r);r.remove(),r=o}n=!0}Ec(t,e&&!n),wc(t),pr(t,0),rt(t,8192);var s=t.transitions;if(s!==null)for(let u of s)u.stop();bc(t);var a=t.parent;a!==null&&a.first!==null&&kc(t),!1,t.next=t.prev=t.teardown=t.ctx=t.deps=t.parent=t.fn=t.nodes_start=t.nodes_end=null}function kc(t){var e=t.parent,n=t.prev,r=t.next;n!==null&&(n.next=r),r!==null&&(r.prev=n),e!==null&&(e.first===t&&(e.first=r),e.last===t&&(e.last=n))}function xn(t,e){var n=[];os(t,n,!0),Tc(n,()=>{Ve(t),e&&e()})}function Tc(t,e){var n=t.length;if(n>0){var r=()=>--n||e();for(var i of t)i.out(r)}else e()}function os(t,e,n){if(!(t.f&4096)){if(t.f^=4096,t.transitions!==null)for(let s of t.transitions)(s.is_global||n)&&e.push(s);for(var r=t.first;r!==null;){var i=r.next,o=(r.f&32768)!==0||(r.f&32)!==0;os(r,e,o?n:!1),r=i}}}function Dn(t){mf(t,!0)}function mf(t,e){if(t.f&4096){jn(t)&&fr(t),t.f^=4096;for(var n=t.first;n!==null;){var r=n.next,i=(n.f&32768)!==0||(n.f&32)!==0;mf(n,i?e:!1),n=r}if(t.transitions!==null)for(let o of t.transitions)(o.is_global||e)&&o.in()}}var Mp=typeof requestIdleCallback>"u"?t=>setTimeout(t,1):requestIdleCallback,as=!1,us=!1,Ac=[],$c=[];function yf(){as=!1;let t=Ac.slice();Ac=[],es(t)}function _f(){us=!1;let t=$c.slice();$c=[],es(t)}function He(t){as||(as=!0,queueMicrotask(yf)),Ac.push(t)}function vf(t){us||(us=!0,Mp(_f)),$c.push(t)}function gf(){as&&yf(),us&&_f()}var Cp={},Pp=/at (?:.+ \()?(.+):(\d+):(\d+)\)?$/,Op=/@(.+):(\d+):(\d+)$/;function Rp(){let t=new Error().stack;if(!t)return null;let e=[];for(let n of t.split(`
`)){let r=Pp.exec(n)??Op.exec(n);r&&e.push({file:r[1],line:+r[2],column:+r[3]})}return e}function xf(){let t=Rp()?.slice(4);if(!t)return null;for(let e=0;e<t.length;e++){let n=t[e],r=Cp[n.file];if(!r){if(e===0)return null;continue}for(let i of r)if(i.start.line<n.line&&i.end.line>n.line)return i.component}return null}var Np=Symbol("ADD_OWNER");function Ic(t,e){if(e.owners!==null)for(;t;){if(t.owners===null){e.owners=null;break}for(let n of t.owners)e.owners.add(n);t=t.parent}}function bf(t,e){return t.owners===null?!0:t.owners.has(e)||t.parent!==null&&bf(t.parent,e)}function wf(t){return t?.owners?.values().next().value??wf(t.parent)}var Lp=!1;function Ef(t){if(Lp)return;let e=xf();if(e&&!bf(t,e)){let n=wf(t);n[Re]!==e[Re]?oc(e[Re],n[Re]):oc()}}function no(t){if(!1){let e=new Error(`lifecycle_outside_component
\`${t}(...)\` can only be used during component initialisation`);throw e.name="Svelte error",e}else throw new Error("lifecycle_outside_component")}var Af=0,Bp=1,kf=new WeakSet,ls=Af,ro=!1,gn=!1,ss=!1;function ri(t){gn=t}function vc(t){ss=t}var mr=[],si=0,io=[],re=null;function Ze(t){re=t}var U=null;function Se(t){U=t}var Vt=null;function lf(t){Vt=t}var Le=null,_t=0,_n=null;function ff(t){_n=t}var $f=0,Fn=!1,Sc=!1,zp=new Set,ee=null;var st=null;function rs(){return++$f}function lr(){return ee!==null&&ee.l===null}function jn(t){var e=t.f;if(e&1024)return!0;if(e&2048){var n=t.deps,r=(e&128)!==0;if(n!==null){var i;if(e&256){for(i=0;i<n.length;i++)(n[i].reactions??=[]).push(t);t.f^=256}for(i=0;i<n.length;i++){var o=n[i];if(jn(o)&&_c(o),r&&U!==null&&!Fn&&!o?.reactions?.includes(t)&&(o.reactions??=[]).push(t),o.version>t.version)return!0}}r||rt(t,512)}return!1}function Up(t,e,n){if(!!1||kf.has(t)||n===null)throw t;let r=[],i=e.fn?.name;i&&r.push(i);let o=n;for(;o!==null;){if(!1){var s=o.function?.[Re];if(s){let c=s.split("/").pop();r.push(c)}}o=o.p}let a=/Firefox/.test(navigator.userAgent)?"  ":"	";$t(t,"message",{value:t.message+`
${r.map(c=>`
${a}in ${c}`).join("")}
`});let u=t.stack;if(u){let c=u.split(`
`),l=[];for(let p=0;p<c.length;p++){let d=c[p];d.includes("svelte/src/internal")||l.push(d)}$t(t,"stack",{value:t.stack+l.join(`
`)})}throw kf.add(t),t}function is(t){var e=Le,n=_t,r=_n,i=re,o=Fn,s=Vt,a=ee,u=t.f;Le=null,_t=0,_n=null,re=u&96?null:t,Fn=!gn&&(u&128)!==0,Vt=null,ee=t.ctx;try{var c=(0,t.fn)(),l=t.deps;if(Le!==null){var p;if(pr(t,_t),l!==null&&_t>0)for(l.length=_t+Le.length,p=0;p<Le.length;p++)l[_t+p]=Le[p];else t.deps=l=Le;if(!Fn)for(p=_t;p<l.length;p++)(l[p].reactions??=[]).push(t)}else l!==null&&_t<l.length&&(pr(t,_t),l.length=_t);return c}finally{Le=e,_t=n,_n=r,re=i,Fn=o,Vt=s,ee=a}}function qp(t,e){let n=e.reactions;if(n!==null){var r=n.indexOf(t);if(r!==-1){var i=n.length-1;i===0?n=e.reactions=null:(n[r]=n[i],n.pop())}}n===null&&e.f&2&&(Le===null||!Le.includes(e))&&(rt(e,2048),e.f&384||(e.f^=256),pr(e,0))}function pr(t,e){var n=t.deps;if(n!==null)for(var r=e;r<n.length;r++)qp(t,n[r])}function fr(t){var e=t.f;if(!(e&8192)){rt(t,512);var n=U,r=ee;if(U=t,!1){var i=st;st=t.component_function}try{e&16?hf(t):Ec(t),wc(t),bc(t);var o=is(t);t.teardown=typeof o=="function"?o:null,t.version=$f,!1}catch(s){Up(s,t,r)}finally{U=n,!1}}}function If(){if(si>1e3)if(si=0,!1)try{cc()}catch(t){throw $t(t,"stack",{value:""}),console.error("Last ten effects were: ",io.slice(-10).map(e=>e.fn)),io=[],t}else cc();si++}function Sf(t){var e=t.length;if(e!==0){If();var n=gn;gn=!0;try{for(var r=0;r<e;r++){var i=t[r];i.f&512||(i.f^=512);var o=[];Mf(i,o),Vp(o)}}finally{gn=n}}}function Vp(t){var e=t.length;if(e!==0)for(var n=0;n<e;n++){var r=t[n];!(r.f&12288)&&jn(r)&&(fr(r),r.deps===null&&r.first===null&&r.nodes_start===null&&(r.teardown===null?kc(r):r.fn=null))}}function Zp(){if(ro=!1,si>1001)return;let t=mr;mr=[],Sf(t),ro||(si=0,!1)}function ii(t){ls===Af&&(ro||(ro=!0,queueMicrotask(Zp)));for(var e=t;e.parent!==null;){e=e.parent;var n=e.f;if(n&96){if(!(n&512))return;e.f^=512}}mr.push(e)}function Mf(t,e){var n=t.first,r=[];e:for(;n!==null;){var i=n.f,o=(i&32)!==0,s=o&&(i&512)!==0;if(!s&&!(i&4096))if(i&8){o?n.f^=512:jn(n)&&fr(n);var a=n.first;if(a!==null){n=a;continue}}else i&4&&r.push(n);var u=n.next;if(u===null){let p=n.parent;for(;p!==null;){if(t===p)break e;var c=p.next;if(c!==null){n=c;continue e}p=p.parent}}n=u}for(var l=0;l<r.length;l++)a=r[l],e.push(a),Mf(a,e)}function ai(t){var e=ls,n=mr;try{If();let i=[];ls=Bp,mr=i,ro=!1,Sf(n);var r=t?.();return gf(),(mr.length>0||i.length>0)&&ai(),si=0,!1,r}finally{ls=e,mr=n}}function j(t){var e=t.f,n=(e&2)!==0;if(n&&e&8192){var r=yc(t);return Qi(t),r}if(Sc&&zp.add(t),re!==null){Vt!==null&&Vt.includes(t)&&af();var i=re.deps;Le===null&&i!==null&&i[_t]===t?_t++:Le===null?Le=[t]:Le.push(t),_n!==null&&U!==null&&U.f&512&&!(U.f&32)&&_n.includes(t)&&(rt(U,1024),ii(U))}else if(n&&t.deps===null){var o=t,s=o.parent;s!==null&&!s.deriveds?.includes(o)&&(s.deriveds??=[]).push(o)}return n&&(o=t,jn(o)&&_c(o)),t.v}function xe(t){let e=re;try{return re=null,t()}finally{re=e}}var Jp=-3585;function rt(t,e){t.f=t.f&Jp|e}function be(t,e=!1,n){ee={p:ee,c:null,e:null,m:!1,s:t,x:null,l:null},e||(ee.l={s:null,u:null,r1:[],r2:Ae(!1)}),!1}function we(t){let e=ee;if(e!==null){t!==void 0&&(e.x=t);let s=e.e;if(s!==null){var n=U,r=re;e.e=null;try{for(var i=0;i<s.length;i++){var o=s[i];Se(o.effect),Ze(o.reaction),ot(o.fn)}}finally{Se(n),Ze(r)}}ee=e.p,!1,e.m=!0}return t||{}}function ps(t){if(!(typeof t!="object"||!t||t instanceof EventTarget)){if(St in t)ds(t);else if(!Array.isArray(t))for(let e in t){let n=t[e];typeof n=="object"&&n&&St in n&&ds(n)}}}function ds(t,e=new Set){if(typeof t=="object"&&t!==null&&!(t instanceof EventTarget)&&!e.has(t)){e.add(t),t instanceof Date&&t.getTime();for(let r in t)try{ds(t[r],e)}catch{}let n=Kt(t);if(n!==Object.prototype&&n!==Array.prototype&&n!==Map.prototype&&n!==Set.prototype&&n!==Date.prototype){let r=Qo(n);for(let i in r){let o=r[i].get;if(o)try{o.call(t)}catch{}}}}}if(!1){let t=function(e){if(!(e in globalThis)){let n;Object.defineProperty(globalThis,e,{configurable:!0,get:()=>{if(n!==void 0)return n;rf(e)},set:r=>{n=r}})}};t("$state"),t("$effect"),t("$derived"),t("$inspect"),t("$props"),t("$bindable")}function Ge(t,e=null,n){if(typeof t!="object"||t===null||St in t)return t;let r=Kt(t);if(r!==Xo&&r!==Hl)return t;var i=new Map,o=At(t),s=Ae(0);o&&i.set("length",Ae(t.length));var a;if(!1)if(a={parent:e,owners:null},n){let u=n.v?.[ar]?.owners;a.owners=u?new Set(u):null}else a.owners=e===null?ee!==null?new Set([ee.function]):null:new Set;return new Proxy(t,{defineProperty(u,c,l){(!("value"in l)||l.configurable===!1||l.enumerable===!1||l.writable===!1)&&of();var p=i.get(c);return p===void 0?(p=Ae(l.value),i.set(c,p)):ue(p,Ge(l.value,a)),!0},deleteProperty(u,c){var l=i.get(c);if(l===void 0)c in u&&i.set(c,Ae(ze));else{if(o&&typeof c=="string"){var p=i.get("length"),d=Number(c);Number.isInteger(d)&&d<p.v&&ue(p,d)}ue(l,ze),Cf(s)}return!0},get(u,c,l){if(!1)return a;if(c===St)return t;var p=i.get(c),d=c in u;if(p===void 0&&(!d||It(u,c)?.writable)&&(p=Ae(Ge(d?u[c]:ze,a)),i.set(c,p)),p!==void 0){var y=j(p);if(!1){var v=y?.[ar];v&&v?.parent!==a&&Ic(a,v)}return y===ze?void 0:y}return Reflect.get(u,c,l)},getOwnPropertyDescriptor(u,c){var l=Reflect.getOwnPropertyDescriptor(u,c);if(l&&"value"in l){var p=i.get(c);p&&(l.value=j(p))}else if(l===void 0){var d=i.get(c),y=d?.v;if(d!==void 0&&y!==ze)return{enumerable:!0,configurable:!0,value:y,writable:!0}}return l},has(u,c){if(c===St)return!0;var l=i.get(c),p=l!==void 0&&l.v!==ze||Reflect.has(u,c);if(l!==void 0||U!==null&&(!p||It(u,c)?.writable)){l===void 0&&(l=Ae(p?Ge(u[c],a):ze),i.set(c,l));var d=j(l);if(d===ze)return!1}return p},set(u,c,l,p){var d=i.get(c),y=c in u;if(o&&c==="length")for(var v=l;v<d.v;v+=1){var b=i.get(v+"");b!==void 0?ue(b,ze):v in u&&(b=Ae(ze),i.set(v+"",b))}if(d===void 0?(!y||It(u,c)?.writable)&&(d=Ae(void 0),ue(d,Ge(l,a)),i.set(c,d)):(y=d.v!==ze,ue(d,Ge(l,a))),!1){var $=l?.[ar];$&&$?.parent!==a&&Ic(a,$),Ef(a)}var w=Reflect.getOwnPropertyDescriptor(u,c);if(w?.set&&w.set.call(p,l),!y){if(o&&typeof c=="string"){var E=i.get("length"),N=Number(c);Number.isInteger(N)&&N>=E.v&&ue(E,N+1)}Cf(s)}return!0},ownKeys(u){j(s);var c=Reflect.ownKeys(u).filter(d=>{var y=i.get(d);return y===void 0||y.v!==ze});for(var[l,p]of i)p.v!==ze&&!(l in u)&&c.push(l);return c},setPrototypeOf(){sf()}})}function Cf(t,e=1){ue(t,t.v+e)}function yr(t){return t!==null&&typeof t=="object"&&St in t?t[St]:t}function Pf(){let t=Array.prototype,e=Array.__svelte_cleanup;e&&e();let{indexOf:n,lastIndexOf:r,includes:i}=t;t.indexOf=function(o,s){let a=n.call(this,o,s);return a===-1&&n.call(yr(this),yr(o),s)!==-1&&Ko("array.indexOf(...)"),a},t.lastIndexOf=function(o,s){let a=r.call(this,o,s??this.length-1);return a===-1&&r.call(yr(this),yr(o),s??this.length-1)!==-1&&Ko("array.lastIndexOf(...)"),a},t.includes=function(o,s){let a=i.call(this,o,s);return a||i.call(yr(this),yr(o),s)&&Ko("array.includes(...)"),a},Array.__svelte_cleanup=()=>{t.indexOf=n,t.lastIndexOf=r,t.includes=i}}var Mc,Of,Rf,Nf;function hs(){if(Mc===void 0){Mc=window,Of=document;var t=Element.prototype,e=Node.prototype;Rf=It(e,"firstChild").get,Nf=It(e,"nextSibling").get,t.__click=void 0,t.__className="",t.__attributes=null,t.__styles=null,t.__e=void 0,Text.prototype.__t=void 0,!1}}function at(t=""){return document.createTextNode(t)}function Ee(t){return Rf.call(t)}function Fe(t){return Nf.call(t)}function Y(t,e){if(!B)return Ee(t);var n=Ee(H);if(n===null)n=H.appendChild(at());else if(e&&n.nodeType!==3){var r=at();return n?.before(r),ge(r),r}return ge(n),n}function Ye(t,e){if(!B){var n=Ee(t);return n instanceof Comment&&n.data===""?Fe(n):n}if(e&&H?.nodeType!==3){var r=at();return H?.before(r),ge(r),r}return H}function te(t,e=1,n=!1){let r=B?H:t;for(;e--;)r=Fe(r);if(!B)return r;var i=r.nodeType;if(n&&i!==3){var o=at();return r?.before(o),ge(o),o}return ge(r),r}function ui(t){t.textContent=""}var B=!1;function ut(t){B=t}var H;function ge(t){if(t===null)throw sr(),yn;return H=t}function De(){return ge(Fe(H))}function q(t){if(B){if(Fe(H)!==null)throw sr(),yn;H=t}}function Nt(t=1){if(B){for(var e=t,n=H;e--;)n=Fe(n);H=n}}function oo(){for(var t=0,e=H;;){if(e.nodeType===8){var n=e.data;if(n===or){if(t===0)return e;t-=1}else(n===Xr||n===ir)&&(t+=1)}var r=Fe(e);e.remove(),e=r}}var Cc=new Set,ms=new Set;function Pc(t,e,n,r){function i(o){if(r.capture||ci.call(e,o),!o.cancelBubble){var s=re,a=U;Ze(null),Se(null);try{return n.call(this,o)}finally{Ze(s),Se(a)}}}return t.startsWith("pointer")||t.startsWith("touch")||t==="wheel"?He(()=>{e.addEventListener(t,i,r)}):e.addEventListener(t,i,r),i}function _r(t){for(var e=0;e<t.length;e++)Cc.add(t[e]);for(var n of ms)n(t)}function ci(t){var e=this,n=e.ownerDocument,r=t.type,i=t.composedPath?.()||[],o=i[0]||t.target,s=0,a=t.__root;if(a){var u=i.indexOf(a);if(u!==-1&&(e===document||e===window)){t.__root=e;return}var c=i.indexOf(e);if(c===-1)return;u<=c&&(s=u)}if(o=i[s]||t.target,o!==e){$t(t,"currentTarget",{configurable:!0,get(){return o||n}});var l=re,p=U;Ze(null),Se(null);try{for(var d,y=[];o!==null;){var v=o.assignedSlot||o.parentNode||o.host||null;try{var b=o["__"+r];if(b!==void 0&&!o.disabled)if(At(b)){var[$,...w]=b;$.apply(o,[t,...w])}else b.call(o,t)}catch(E){d?y.push(E):d=E}if(t.cancelBubble||v===e||v===null)break;o=v}if(d){for(let E of y)queueMicrotask(()=>{throw E});throw d}}finally{t.__root=e,delete t.currentTarget,Ze(l),Se(p)}}}var Wp;function Lf(){Wp=void 0}function so(t){var e=document.createElement("template");return e.innerHTML=t,e.content}function ct(t,e){var n=U;n.nodes_start===null&&(n.nodes_start=t,n.nodes_end=e)}function ie(t,e){var n=(e&1)!==0,r=(e&2)!==0,i,o=!t.startsWith("<!>");return()=>{if(B)return ct(H,null),H;i===void 0&&(i=so(o?t:"<!>"+t),n||(i=Ee(i)));var s=r?document.importNode(i,!0):i.cloneNode(!0);if(n){var a=Ee(s),u=s.lastChild;ct(a,u)}else ct(s,s);return s}}function Lt(t=""){if(!B){var e=at(t+"");return ct(e,e),e}var n=H;return n.nodeType!==3&&(n.before(n=at()),ge(n)),ct(n,n),n}function ao(){if(B)return ct(H,null),H;var t=document.createDocumentFragment(),e=document.createComment(""),n=at();return t.append(e,n),ct(e,n),t}function W(t,e){if(B){U.nodes_end=H,De();return}t!==null&&t.before(e)}var Yp=/\r/g;function jf(t){t=t.replace(Yp,"");let e=5381,n=t.length;for(;n--;)e=(e<<5)-e^t.charCodeAt(n);return(e>>>0).toString(36)}function Ff(t){return t.endsWith("capture")&&t!=="gotpointercapture"&&t!=="lostpointercapture"}var Kp=["beforeinput","click","change","dblclick","contextmenu","focusin","focusout","input","keydown","keyup","mousedown","mousemove","mouseout","mouseover","mouseup","pointerdown","pointermove","pointerout","pointerover","pointerup","touchend","touchmove","touchstart"];function Df(t){return Kp.includes(t)}var Qp=["allowfullscreen","async","autofocus","autoplay","checked","controls","default","disabled","formnovalidate","hidden","indeterminate","ismap","loop","multiple","muted","nomodule","novalidate","open","playsinline","readonly","required","reversed","seamless","selected","webkitdirectory"];var Xp={formnovalidate:"formNoValidate",ismap:"isMap",nomodule:"noModule",playsinline:"playsInline",readonly:"readOnly"};function Bf(t){return t=t.toLowerCase(),Xp[t]??t}var zv=[...Qp,"formNoValidate","isMap","noModule","playsInline","readOnly","value","inert","volume"];var eh=["touchstart","touchmove"];function zf(t){return eh.includes(t)}var ys=!0;function ye(t,e){var n=e==null?"":typeof e=="object"?e+"":e;n!==(t.__t??=t.nodeValue)&&(t.__t=n,t.nodeValue=n==null?"":n+"")}function Be(t,e){return Uf(t,e)}function Rc(t,e){hs(),e.intro=e.intro??!1;let n=e.target,r=B,i=H;try{for(var o=Ee(n);o&&(o.nodeType!==8||o.data!==Xr);)o=Fe(o);if(!o)throw yn;ut(!0),ge(o),De();let s=Uf(t,{...e,anchor:o});if(H===null||H.nodeType!==8||H.data!==or)throw sr(),yn;return ut(!1),s}catch(s){if(s===yn)return e.recover===!1&&ef(),hs(),ui(n),ut(!1),Be(t,e);throw s}finally{ut(r),ge(i),Lf()}}var li=new Map;function Uf(t,{target:e,anchor:n,props:r={},events:i,context:o,intro:s=!0}){hs();var a=new Set,u=p=>{for(var d=0;d<p.length;d++){var y=p[d];if(!a.has(y)){a.add(y);var v=zf(y);e.addEventListener(y,ci,{passive:v});var b=li.get(y);b===void 0?(document.addEventListener(y,ci,{passive:v}),li.set(y,1)):li.set(y,b+1)}}};u(Yi(Cc)),ms.add(u);var c=void 0,l=to(()=>{var p=n??e.appendChild(at());return je(()=>{if(o){be({});var d=ee;d.c=o}i&&(r.$$events=i),B&&ct(p,null),ys=s,c=t(p,r)||{},ys=!0,B&&(U.nodes_end=H),o&&we()}),()=>{for(var d of a){e.removeEventListener(d,ci);var y=li.get(d);--y===0?(document.removeEventListener(d,ci),li.delete(d)):li.set(d,y)}ms.delete(u),Oc.delete(c),p!==n&&p.parentNode?.removeChild(p)}});return Oc.set(c,l),c}var Oc=new WeakMap;function Ke(t){let e=Oc.get(t);e?e():!1}var nh="font-weight: bold",rh="font-weight: normal";function Nc(t){console.warn("state_snapshot_uncloneable")}var ih=[];function co(t,e=!1){if(!1){let n=[],r=uo(t,new Map,"",n);if(n.length===1&&n[0]==="")Nc();else if(n.length>0){let i=n.length>10?n.slice(0,7):n.slice(0,10),o=n.length-i.length,s=i.map(a=>`- <value>${a}`).join(`
`);o>0&&(s+=`
- ...and ${o} more`),Nc(s)}return r}return uo(t,new Map,"",ih)}function uo(t,e,n,r){if(typeof t=="object"&&t!==null){let o=e.get(t);if(o!==void 0)return o;if(t instanceof Map)return new Map(t);if(t instanceof Set)return new Set(t);if(At(t)){let s=[];e.set(t,s);for(let a=0;a<t.length;a+=1)s.push(uo(t[a],e,n,r));return s}if(Kt(t)===Xo){let s={};e.set(t,s);for(var i in t)s[i]=uo(t[i],e,n,r);return s}if(t instanceof Date)return structuredClone(t);if(typeof t.toJSON=="function")return uo(t.toJSON(),e,n,r)}if(t instanceof EventTarget)return t;try{return structuredClone(t)}catch{return!1,t}}function Qe(t,e,n,r=null,i=!1){B&&De();var o=t,s=null,a=null,u=null,c=i?32768:0;We(()=>{if(u===(u=!!e()))return;let l=!1;if(B){let p=o.data===ir;u===p&&(o=oo(),ge(o),ut(!1),l=!0)}u?(s?Dn(s):s=je(()=>n(o)),a&&xn(a,()=>{a=null})):(a?Dn(a):r&&(a=je(()=>r(o))),s&&xn(s,()=>{s=null})),l&&ut(!0)},c),B&&(o=H)}var lo=null;function vr(t,e){return e}function uh(t,e,n,r){for(var i=[],o=e.length,s=0;s<o;s++)os(e[s].e,i,!0);var a=o>0&&i.length===0&&n!==null;if(a){var u=n.parentNode;ui(u),u.append(n),r.clear(),Bn(t,e[0].prev,e[o-1].next)}Tc(i,()=>{for(var c=0;c<o;c++){var l=e[c];a||(r.delete(l.k),Bn(t,l.prev,l.next)),Ve(l.e,!a)}})}function tn(t,e,n,r,i,o=null){var s=t,a={flags:e,items:new Map,first:null},u=(e&4)!==0;if(u){var c=t;s=B?ge(Ee(c)):c.appendChild(at())}B&&De();var l=null,p=!1;We(()=>{var d=n(),y=At(d)?d:d==null?[]:Yi(d),v=y.length;if(p&&v===0)return;p=v===0;let b=!1;if(B){var $=s.data===ir;$!==(v===0)&&(s=oo(),ge(s),ut(!1),b=!0)}if(B){for(var w=null,E,N=0;N<v;N++){if(H.nodeType===8&&H.data===or){s=H,b=!0,ut(!1);break}var T=y[N],P=r(T,N);E=Jf(H,a,w,null,T,P,N,i,e),a.items.set(P,E),w=E}v>0&&ge(oo())}if(!B){var K=re;ch(y,a,s,i,e,(K.f&4096)!==0,r)}o!==null&&(v===0?l?Dn(l):l=je(()=>o(s)):l!==null&&xn(l,()=>{l=null})),b&&ut(!0),n()}),B&&(s=H)}function ch(t,e,n,r,i,o,s){var a=(i&8)!==0,u=(i&3)!==0,c=t.length,l=e.items,p=e.first,d=p,y,v=null,b,$=[],w=[],E,N,T,P;if(a)for(P=0;P<c;P+=1)E=t[P],N=s(E,P),T=l.get(N),T!==void 0&&(T.a?.measure(),(b??=new Set).add(T));for(P=0;P<c;P+=1){if(E=t[P],N=s(E,P),T=l.get(N),T===void 0){var K=d?d.e.nodes_start:n;v=Jf(K,e,v,v===null?e.first:v.next,E,N,P,r,i),l.set(N,v),$=[],w=[],d=v.next;continue}if(u&&lh(T,E,P,i),T.e.f&4096&&(Dn(T.e),a&&(T.a?.unfix(),(b??=new Set).delete(T))),T!==d){if(y!==void 0&&y.has(T)){if($.length<w.length){var g=w[0],A;v=g.prev;var _=$[0],fn=$[$.length-1];for(A=0;A<$.length;A+=1)Vf($[A],g,n);for(A=0;A<w.length;A+=1)y.delete(w[A]);Bn(e,_.prev,fn.next),Bn(e,v,_),Bn(e,fn,g),d=g,v=fn,P-=1,$=[],w=[]}else y.delete(T),Vf(T,d,n),Bn(e,T.prev,T.next),Bn(e,T,v===null?e.first:v.next),Bn(e,v,T),v=T;continue}for($=[],w=[];d!==null&&d.k!==N;)(o||!(d.e.f&4096))&&(y??=new Set).add(d),w.push(d),d=d.next;if(d===null)continue;T=d}$.push(T),v=T,d=T.next}if(d!==null||y!==void 0){for(var qe=y===void 0?[]:Yi(y);d!==null;)(o||!(d.e.f&4096))&&qe.push(d),d=d.next;var mt=qe.length;if(mt>0){var Yt=i&4&&c===0?n:null;if(a){for(P=0;P<mt;P+=1)qe[P].a?.measure();for(P=0;P<mt;P+=1)qe[P].a?.fix()}uh(e,qe,Yt,l)}}a&&He(()=>{if(b!==void 0)for(T of b)T.a?.apply()}),U.first=e.first&&e.first.e,U.last=v&&v.e}function lh(t,e,n,r){r&1&&Ki(t.v,e),r&2?Ki(t.i,n):t.i=n}function Jf(t,e,n,r,i,o,s,a,u){var c=lo;try{var l=(u&1)!==0,p=(u&16)===0,d=l?p?Ln(i):Ae(i):i,y=u&2?Ae(s):s,v={i:y,v:d,k:o,a:null,e:null,prev:n,next:r};return lo=v,v.e=je(()=>a(t,d,y),B),v.e.prev=n&&n.e,v.e.next=r&&r.e,n===null?e.first=v:(n.next=v,n.e.next=v.e),r!==null&&(r.prev=v,r.e.prev=v.e),v}finally{lo=c}}function Vf(t,e,n){for(var r=t.next?t.next.e.nodes_start:n,i=e?e.e.nodes_start:n,o=t.e.nodes_start;o!==r;){var s=Fe(o);i.before(o),o=s}}function Bn(t,e,n){e===null?t.first=n:(e.next=n,e.e.next=n&&n.e),n!==null&&(n.prev=e,n.e.prev=e&&e.e)}function fh(t,e,n){if(!e||e===jf(String(n??"")))return;let r,i=t.__svelte_meta?.loc;i?r=`near ${i.file}:${i.line}:${i.column}`:st?.[Re]&&(r=`in ${st[Re]}`),Jl(r?.replace(/\//g,"/\u200B"))}function Fc(t,e,n,r,i){var o=t,s="",a;We(()=>{if(s===(s=e()??"")){B&&De();return}a!==void 0&&(Ve(a),a=void 0),s!==""&&(a=je(()=>{if(B){for(var u=H.data,c=De(),l=c;c!==null&&(c.nodeType!==8||c.data!=="");)l=c,c=Fe(c);if(c===null)throw sr(),yn;!1,ct(H,l),o=ge(c);return}var p=s+"";n?p=`<svg>${p}</svg>`:r&&(p=`<math>${p}</math>`);var d=so(p);if((n||r)&&(d=Ee(d)),ct(Ee(d),d.lastChild),n||r)for(;Ee(d);)o.before(Ee(d));else o.before(d)}))})}function fo(t,e,...n){var r=t,i=nt,o;We(()=>{i!==(i=e())&&(o&&(Ve(o),o=null),!1,o=je(()=>i(r,...n)))},32768),B&&(r=H)}function po(t,e,n){ot(()=>{var r=xe(()=>e(t,n?.())||{});if(n&&r?.update){var i=!1,o={};Je(()=>{var s=n();ps(s),i&&ns(o,s)&&(o=s,r.update(s))}),i=!0}if(r?.destroy)return()=>r.destroy()})}function Dc(t,e){if(e){let n=document.body;t.autofocus=!0,He(()=>{document.activeElement===n&&t.focus()})}}function Bc(t){B&&Ee(t)!==null&&ui(t)}var Wf=!1;function _s(){Wf||(Wf=!0,document.addEventListener("reset",t=>{Promise.resolve().then(()=>{if(!t.defaultPrevented)for(let e of t.target.elements)e.__on_r?.()})},{capture:!0}))}function vs(t){if(B){var e=!1,n=()=>{if(!e){if(e=!0,t.hasAttribute("value")){var r=t.value;Jt(t,"value",null),t.value=r}if(t.hasAttribute("checked")){var i=t.checked;Jt(t,"checked",null),t.checked=i}}};t.__on_r=n,vf(n),_s()}}function Jt(t,e,n,r){var i=t.__attributes??={};if(B&&(i[e]=t.getAttribute(e),e==="src"||e==="srcset"||e==="href"&&t.nodeName==="LINK")){r||Kf(t,e,n??"");return}i[e]!==(i[e]=n)&&(e==="style"&&"__styles"in t&&(t.__styles={}),e==="loading"&&(t[Gl]=n),n==null?t.removeAttribute(e):typeof n!="string"&&Yf(t).includes(e)?t[e]=n:t.setAttribute(e,n))}function Uc(t,e,n,r,i=!1,o=!1,s=!1){var a=e||{},u=t.tagName==="OPTION";for(var c in e)c in n||(n[c]=null);r!==void 0&&(n.class=n.class?n.class+" "+r:r);var l=Yf(t),p=t.__attributes??={},d=[];for(let w in n){let E=n[w];if(u&&w==="value"&&E==null){t.value=t.__value="",a[w]=E;continue}var y=a[w];if(E!==y){a[w]=E;var v=w[0]+w[1];if(v!=="$$"){if(v==="on"){let N={},T="$$"+w,P=w.slice(2);var b=Df(P);if(Ff(P)&&(P=P.slice(0,-7),N.capture=!0),!b&&y){if(E!=null)continue;t.removeEventListener(P,a[T],N),a[T]=null}if(E!=null)if(b)t[`__${P}`]=E,_r([P]);else{let K=function(g){a[w].call(this,g)};e?a[T]=Pc(P,t,K,N):d.push([w,E,()=>a[T]=Pc(P,t,K,N)])}}else if(w==="style"&&E!=null)t.style.cssText=E+"";else if(w==="autofocus")Dc(t,!!E);else if(w==="__value"||w==="value"&&E!=null)t.value=t[w]=t.__value=E;else{var $=w;i||($=Bf($)),E==null&&!o?(p[w]=null,t.removeAttribute(w)):l.includes($)&&(o||typeof E!="string")?t[$]=E:typeof E!="function"&&(B&&($==="src"||$==="href"||$==="srcset")?s||Kf(t,$,E??""):Jt(t,$,E))}w==="style"&&"__styles"in t&&(t.__styles={})}}}return e||He(()=>{if(t.isConnected)for(let[w,E,N]of d)a[w]===E&&N()}),a}var Hf=new Map;function Yf(t){var e=Hf.get(t.nodeName);if(e)return e;Hf.set(t.nodeName,e=[]);for(var n,r=Kt(t),i=Element.prototype;i!==r;){n=Qo(r);for(var o in n)n[o].set&&e.push(o);r=Kt(r)}return e}function Kf(t,e,n){!1}function zc(t,e){return t===e?!0:new URL(t,document.baseURI).href===new URL(e,document.baseURI).href}function Gf(t){return t.split(",").map(e=>e.trim().split(" ").filter(Boolean))}function ph(t,e){var n=Gf(t.srcset),r=Gf(e);return r.length===n.length&&r.every(([i,o],s)=>o===n[s][1]&&(zc(n[s][0],i)||zc(i,n[s][0])))}function qc(t,e){var n=t.__className,r=hh(e);B&&t.className===r?t.__className=r:(n!==r||B&&t.className!==r)&&(e==null?t.removeAttribute("class"):t.className=r,t.__className=r)}function hh(t){return t??""}function fi(t,e,n){if(n){if(t.classList.contains(e))return;t.classList.add(e)}else{if(!t.classList.contains(e))return;t.classList.remove(e)}}var mh=()=>performance.now(),nn={tick:t=>requestAnimationFrame(t),now:()=>mh(),tasks:new Set};function Xf(t){nn.tasks.forEach(e=>{e.c(t)||(nn.tasks.delete(e),e.f())}),nn.tasks.size!==0&&nn.tick(Xf)}function ed(t){let e;return nn.tasks.size===0&&nn.tick(Xf),{promise:new Promise(n=>{nn.tasks.add(e={c:t,f:n})}),abort(){nn.tasks.delete(e)}}}function gs(t,e){t.dispatchEvent(new CustomEvent(e))}function gh(t){if(t==="float")return"cssFloat";if(t==="offset")return"cssOffset";if(t.startsWith("--"))return t;let e=t.split("-");return e.length===1?e[0]:e[0]+e.slice(1).map(n=>n[0].toUpperCase()+n.slice(1)).join("")}function td(t){let e={},n=t.split(";");for(let r of n){let[i,o]=r.split(":");if(!i||o===void 0)break;let s=gh(i.trim());e[s]=o.trim()}return e}var xh=t=>t;function Zc(t,e,n,r){var i=(t&1)!==0,o=(t&2)!==0,s=i&&o,a=(t&4)!==0,u=s?"both":i?"in":"out",c,l=e.inert,p,d;function y(){var E=re,N=U;Ze(null),Se(null);try{return c??=n()(e,r?.()??{},{direction:u})}finally{Ze(E),Se(N)}}var v={is_global:a,in(){if(e.inert=l,!i){d?.abort(),d?.reset?.();return}o||p?.abort(),gs(e,"introstart"),p=Vc(e,y(),d,1,()=>{gs(e,"introend"),p?.abort(),p=c=void 0})},out(E){if(!o){E?.(),c=void 0;return}e.inert=!0,gs(e,"outrostart"),d=Vc(e,y(),p,0,()=>{gs(e,"outroend"),E?.()})},stop:()=>{p?.abort(),d?.abort()}},b=U;if((b.transitions??=[]).push(v),i&&ys){var $=a;if(!$){for(var w=b.parent;w&&w.f&32768;)for(;(w=w.parent)&&!(w.f&16););$=!w||(w.f&16384)!==0}$&&ot(()=>{xe(()=>v.in())})}}function Vc(t,e,n,r,i){var o=r===1;if(ac(e)){var s,a=!1;return He(()=>{if(!a){var $=e({direction:o?"in":"out"});s=Vc(t,$,n,r,i)}}),{abort:()=>{a=!0,s?.abort()},deactivate:()=>s.deactivate(),reset:()=>s.reset(),t:()=>s.t()}}if(n?.deactivate(),!e?.duration)return i(),{abort:nt,deactivate:nt,reset:nt,t:()=>r};let{delay:u=0,css:c,tick:l,easing:p=xh}=e;var d=[];if(o&&n===void 0&&(l&&l(0,1),c)){var y=td(c(0,1));d.push(y,y)}var v=()=>1-r,b=t.animate(d,{duration:u});return b.onfinish=()=>{var $=n?.t()??1-r;n?.abort();var w=r-$,E=e.duration*Math.abs(w),N=[];if(E>0){if(c)for(var T=Math.ceil(E/16.666666666666668),P=0;P<=T;P+=1){var K=$+w*p(P/T),g=c(K,1-K);N.push(td(g))}v=()=>{var A=b.currentTime;return $+w*p(A/E)},l&&ed(()=>{if(b.playState!=="running")return!1;var A=v();return l(A,1-A),!0})}b=t.animate(N,{duration:E,fill:"forwards"}),b.onfinish=()=>{v=()=>r,l?.(r,1-r),i()}},{abort:()=>{b&&(b.cancel(),b.effect=null,b.onfinish=nt)},deactivate:()=>{i=nt},reset:()=>{r===0&&l?.(1,0)},t:()=>v()}}function Jc(t,e,n,r=n){t.addEventListener(e,n);let i=t.__on_r;i?t.__on_r=()=>{i(),r()}:t.__on_r=r,_s()}function ho(t,e,n=e){var r=lr();Jc(t,"input",()=>{!1;var i=nd(t)?rd(t.value):t.value;n(i),r&&i!==(i=e())&&(t.value=i??"")}),Je(()=>{!1;var i=e();if(B&&t.defaultValue!==t.value){n(t.value);return}nd(t)&&i===rd(t.value)||t.type==="date"&&!i&&!t.value||i!==t.value&&(t.value=i??"")})}function nd(t){var e=t.type;return e==="number"||e==="range"}function rd(t){return t===""?null:+t}function id(t,e){return t===e||t?.[St]===e}function mo(t={},e,n,r){return ot(()=>{var i,o;return Je(()=>{i=o,o=r?.()||[],xe(()=>{t!==n(...o)&&(e(t,...o),i&&id(n(...i),t)&&e(null,...i))})}),()=>{He(()=>{o&&id(n(...o),t)&&e(null,...o)})}}),t}function Wc(t){ee===null&&no("onMount"),ee.l!==null?$h(ee).m.push(t):oi(()=>{let e=xe(t);if(typeof e=="function")return e})}function od(t){ee===null&&no("onDestroy"),Wc(()=>()=>xe(t))}function $h(t){var e=t.l;return e.u??={a:[],b:[],m:[]}}var bs=!1;function Hc(t){var e=bs;try{return bs=!1,[t(),bs]}finally{bs=e}}function sd(t){for(var e=U,n=U;e!==null&&!(e.f&96);)e=e.parent;try{return Se(e),t()}finally{Se(n)}}function jt(t,e,n,r){var i=(n&1)!==0,o=(n&2)!==0,s=(n&8)!==0,a=(n&16)!==0,u=!1,c;s?[c,u]=Hc(()=>t[e]):c=t[e];var l=It(t,e)?.set,p=r,d=!0,y=!1,v=()=>(y=!0,d&&(d=!1,a?p=xe(r):p=r),p);c===void 0&&r!==void 0&&(l&&o&&nf(e),c=v(),l&&l(c));var b;if(o)b=()=>{var K=t[e];return K===void 0?v():(d=!0,y=!1,K)};else{var $=sd(()=>(i?Ot:mc)(()=>t[e]));$.f|=65536,b=()=>{var K=j($);return K!==void 0&&(p=void 0),K===void 0?p:K}}if(!(n&4))return b;if(l){var w=t.$$legacy;return function(K,g){return arguments.length>0?((!o||!g||w||u)&&l(g?b():K),K):b()}}var E=!1,N=!1,T=Ln(c),P=sd(()=>Ot(()=>{var K=b(),g=j(T);return E?(E=!1,N=!0,g):(N=!1,T.v=K)}));return i||(P.equals=ni),function(K,g){if(Sc&&(E=N,b(),j(T)),arguments.length>0){let A=g?j(P):o&&s?Ge(K):K;return P.equals(A)||(E=!0,ue(T,A),y&&p!==void 0&&(p=A),xe(()=>j(P))),K}return j(P)}}function ad(t){return new Gc(t)}var Gc=class{#t;#e;constructor(e){var n=new Map,r=(o,s)=>{var a=Ln(s);return n.set(o,a),a};let i=new Proxy({...e.props||{},$$events:{}},{get(o,s){return j(n.get(s)??r(s,Reflect.get(o,s)))},has(o,s){return j(n.get(s)??r(s,Reflect.get(o,s))),Reflect.has(o,s)},set(o,s,a){return ue(n.get(s)??r(s,a),a),Reflect.set(o,s,a)}});this.#e=(e.hydrate?Rc:Be)(e.component,{target:e.target,props:i,context:e.context,intro:e.intro??!1,recover:e.recover}),(!e?.props?.$$host||e.sync===!1)&&ai(),this.#t=i.$$events;for(let o of Object.keys(this.#e))o==="$set"||o==="$destroy"||o==="$on"||$t(this,o,{get(){return this.#e[o]},set(s){this.#e[o]=s},enumerable:!0});this.#e.$set=o=>{Object.assign(i,o)},this.#e.$destroy=()=>{Ke(this.#e)}}$set(e){this.#e.$set(e)}$on(e,n){this.#t[e]=this.#t[e]||[];let r=(...i)=>n.call(this,...i);return this.#t[e].push(r),()=>{this.#t[e]=this.#t[e].filter(i=>i!==r)}}$destroy(){this.#e.$destroy()}};var Bh;typeof HTMLElement=="function"&&(Bh=class extends HTMLElement{$$ctor;$$s;$$c;$$cn=!1;$$d={};$$r=!1;$$p_d={};$$l={};$$l_u=new Map;$$me;constructor(t,e,n){super(),this.$$ctor=t,this.$$s=e,n&&this.attachShadow({mode:"open"})}addEventListener(t,e,n){if(this.$$l[t]=this.$$l[t]||[],this.$$l[t].push(e),this.$$c){let r=this.$$c.$on(t,e);this.$$l_u.set(e,r)}super.addEventListener(t,e,n)}removeEventListener(t,e,n){if(super.removeEventListener(t,e,n),this.$$c){let r=this.$$l_u.get(e);r&&(r(),this.$$l_u.delete(e))}}async connectedCallback(){if(this.$$cn=!0,!this.$$c){let t=function(r){return i=>{let o=document.createElement("slot");r!=="default"&&(o.name=r),W(i,o)}};if(await Promise.resolve(),!this.$$cn||this.$$c)return;let e={},n=zh(this);for(let r of this.$$s)r in n&&(r==="default"&&!this.$$d.children?(this.$$d.children=t(r),e.default=!0):e[r]=t(r));for(let r of this.attributes){let i=this.$$g_p(r.name);i in this.$$d||(this.$$d[i]=Yc(i,r.value,this.$$p_d,"toProp"))}for(let r in this.$$p_d)!(r in this.$$d)&&this[r]!==void 0&&(this.$$d[r]=this[r],delete this[r]);this.$$c=ad({component:this.$$ctor,target:this.shadowRoot||this,props:{...this.$$d,$$slots:e,$$host:this}}),this.$$me=to(()=>{Je(()=>{this.$$r=!0;for(let r of sc(this.$$c)){if(!this.$$p_d[r]?.reflect)continue;this.$$d[r]=this.$$c[r];let i=Yc(r,this.$$d[r],this.$$p_d,"toAttribute");i==null?this.removeAttribute(this.$$p_d[r].attribute||r):this.setAttribute(this.$$p_d[r].attribute||r,i)}this.$$r=!1})});for(let r in this.$$l)for(let i of this.$$l[r]){let o=this.$$c.$on(r,i);this.$$l_u.set(i,o)}this.$$l={}}}attributeChangedCallback(t,e,n){this.$$r||(t=this.$$g_p(t),this.$$d[t]=Yc(t,n,this.$$p_d,"toProp"),this.$$c?.$set({[t]:this.$$d[t]}))}disconnectedCallback(){this.$$cn=!1,Promise.resolve().then(()=>{!this.$$cn&&this.$$c&&(this.$$c.$destroy(),this.$$me(),this.$$c=void 0)})}$$g_p(t){return sc(this.$$p_d).find(e=>this.$$p_d[e].attribute===t||!this.$$p_d[e].attribute&&e.toLowerCase()===t)||t}});function Yc(t,e,n,r){let i=n[t]?.type;if(e=i==="Boolean"&&typeof e!="boolean"?e!=null:e,!r||!n[t])return e;if(r==="toAttribute")switch(i){case"Object":case"Array":return e==null?null:JSON.stringify(e);case"Boolean":return e?"":null;case"Number":return e??null;default:return e}else switch(i){case"Object":case"Array":return e&&JSON.parse(e);case"Boolean":return e;case"Number":return e!=null?+e:e;default:return e}}function zh(t){let e={};return t.childNodes.forEach(n=>{e[n.slot||"default"]=!0}),e}var Kc=require("obsidian");function ws(t,e){return(0,Kc.setIcon)(t,e),{update(n){(0,Kc.setIcon)(t,n)}}}function qh(t){let e=t-1;return e*e*e+1}function ud(t,{delay:e=0,duration:n=400,easing:r=qh,axis:i="y"}={}){let o=getComputedStyle(t),s=+o.opacity,a=i==="y"?"height":"width",u=parseFloat(o[a]),c=i==="y"?["top","bottom"]:["left","right"],l=c.map(w=>`${w[0].toUpperCase()}${w.slice(1)}`),p=parseFloat(o[`padding${l[0]}`]),d=parseFloat(o[`padding${l[1]}`]),y=parseFloat(o[`margin${l[0]}`]),v=parseFloat(o[`margin${l[1]}`]),b=parseFloat(o[`border${l[0]}Width`]),$=parseFloat(o[`border${l[1]}Width`]);return{delay:e,duration:n,easing:r,css:w=>`overflow: hidden;opacity: ${Math.min(w*20,1)*s};${a}: ${w*u}px;padding-${c[0]}: ${w*p}px;padding-${c[1]}: ${w*d}px;margin-${c[0]}: ${w*y}px;margin-${c[1]}: ${w*v}px;border-${c[0]}-width: ${w*b}px;border-${c[1]}-width: ${w*$}px;`}}var Vh=(t,e)=>e.messageManager.removeMessage(e.messageWrapper.uuid),Zh=(t,e)=>t.key===" "?e.messageManager.removeMessage(e.messageWrapper.uuid):void 0,Jh=ie('<div class="js-engine-message-delete-icon callout-icon" aria-label="remove" role="button" tabindex="0"></div>'),Wh=ie("<p> </p>"),Hh=ie('<pre class="language-none"><code> </code></pre>'),Gh=(t,e)=>ue(e,!j(e)),Yh=(t,e)=>t.key===" "?ue(e,!j(e)):void 0,Kh=ie("<p> </p>"),Qh=ie("<p> </p>"),Xh=ie("<p> </p> <!> <!>",1),em=ie("<p> </p> <p> </p> <!>",1),tm=ie('<div class="js-engine-message-detail-content"><p> </p> <p> </p> <!></div>'),nm=ie('<div><div class="js-engine-message-header callout-title"><div class="js-engine-message-icon callout-icon"></div> <span class="js-engine-message-title"> </span> <!></div> <div class="js-engine-message-content callout-content"><!> <!> <div class="js-engine-message-detail"><div class="js-engine-message-detail-row" role="button" tabindex="0"><span>Details</span> <div class="js-engine-message-icon"></div></div> <!></div></div></div>');function gr(t,e){be(e,!0);let n=jt(e,"showDeleteButton",3,!0),r=jt(e,"showMessageSource",3,!0);console.log(e.messageWrapper.source.executionContext);let i=vn(!1);var o=nm();let s=Ot(()=>`js-engine-message callout ${cd(e.messageWrapper.message.type)??""}`);var a=Y(o),u=Y(a);po(u,(N,T)=>ws(N,T),()=>ld(e.messageWrapper.message.type));var c=te(u,2),l=Y(c,!0);q(c);var p=te(c,2);Qe(p,n,N=>{var T=Jh();T.__click=[Vh,e],T.__keydown=[Zh,e],po(T,(P,K)=>ws(P,K),()=>"x"),W(N,T)}),q(a);var d=te(a,2),y=Y(d);Qe(y,()=>e.messageWrapper.message.content,N=>{var T=Wh(),P=Y(T,!0);q(T),de(()=>ye(P,e.messageWrapper.message.content)),W(N,T)});var v=te(y,2);Qe(v,()=>e.messageWrapper.message.code,N=>{var T=Hh(),P=Y(T),K=Y(P,!0);q(P),q(T),de(()=>ye(K,e.messageWrapper.message.code)),W(N,T)});var b=te(v,2),$=Y(b);$.__click=[Gh,i],$.__keydown=[Yh,i];var w=te(Y($),2);po(w,(N,T)=>ws(N,T),()=>j(i)?"chevron-down":"chevron-right"),q($);var E=te($,2);Qe(E,()=>j(i),N=>{var T=tm(),P=Y(T),K=Y(P);q(P);var g=te(P,2),A=Y(g);de(()=>ye(A,`Time: ${e.messageWrapper.time.toISOString()??""}`)),q(g);var _=te(g,2);Qe(_,r,fn=>{var qe=em();let mt=Ot(()=>e.messageWrapper.source.executionContext);var Yt=Ye(qe),er=Y(Yt);q(Yt);var dn=te(Yt,2),Qu=Y(dn);q(dn);var pn=te(dn,2);Qe(pn,()=>j(mt),Zr=>{var tt=Xh(),G=Ye(tt),J=Y(G);q(G);var ne=te(G,2);Qe(ne,()=>"file"in j(mt),Zi=>{var ae=Kh(),Pe=Y(ae);q(ae),de(()=>ye(Pe,`Execution File: ${j(mt).file?.path??"none"??""}`)),W(Zi,ae)});var Te=te(ne,2);Qe(Te,()=>"jsFile"in j(mt),Zi=>{var ae=Qh(),Pe=Y(ae);q(ae),de(()=>ye(Pe,`Execution JS File: ${j(mt).jsFile?.path??"none"??""}`)),W(Zi,ae)}),de(()=>ye(J,`Execution Type: ${j(mt).executionSource??""}`)),W(Zr,tt)}),de(()=>{ye(er,`Source Name: ${e.messageWrapper.source.name??""}`),ye(Qu,`Source ID: ${e.messageWrapper.source.id??""}`)}),W(fn,qe)}),q(T),de(()=>ye(K,`Type: ${e.messageWrapper.message.type??""}`)),Zc(3,T,()=>ud,()=>({duration:100})),W(N,T)}),q(b),q(d),q(o),de(()=>{qc(o,j(s)),Jt(o,"data-callout",e.messageWrapper.message.type),ye(l,e.messageWrapper.message.title),Jt($,"aria-expanded",j(i)?"true":"false")}),W(t,o),we()}_r(["click","keydown"]);function fd(t){return[...t]}var wn=(i=>(i.DEFAULT="default",i.PRIMARY="primary",i.DESTRUCTIVE="destructive",i.PLAIN="plain",i))(wn||{});function dd(t,e){return(t%e+e)%e}var rm=ie("<button><!></button>");function vt(t,e){be(e,!0);let n=jt(e,"variant",19,()=>"default"),r=jt(e,"disabled",3,!1),i=jt(e,"tooltip",3,""),o=jt(e,"other",19,()=>({})),s=jt(e,"onclick",3,()=>{});var a=rm();let u;var c=Y(a);fo(c,()=>e.children),q(a),de(()=>{u=Uc(a,u,{class:"js-engine-button","aria-label":i(),onclick:s(),disabled:r(),...o()}),fi(a,"mod-cta",n()==="primary"),fi(a,"mod-warning",n()==="destructive"),fi(a,"mod-plain",n()==="plain"),fi(a,"disabled",r())}),W(t,a),we()}var im=ie("<p>None</p>"),om=ie("<h2>Messages</h2> <!> <div></div>",1);function Qc(t,e){be(e,!0);let n=vn(Ge(e.messageManager.messages.get())),r;Wc(()=>{r=e.messageManager.messages.registerListener({callback:a=>{console.log("Messages updated",a),ue(n,Ge(a))}})}),od(()=>{e.messageManager.messages.unregisterListener(r)});var i=om(),o=te(Ye(i),2);vt(o,{get variant(){return"destructive"},onclick:()=>e.messageManager.removeAllMessages(),children:(a,u)=>{Nt();var c=Lt("Clear All Messages");W(a,c)},$$slots:{default:!0}});var s=te(o,2);tn(s,21,()=>j(n),a=>a.uuid,(a,u)=>{gr(a,{get messageWrapper(){return j(u)},get messageManager(){return e.messageManager}})},a=>{var u=im();W(a,u)}),q(s),W(t,i),we()}var pd=require("obsidian");var Es=class extends pd.Modal{plugin;component;constructor(e,n){super(e),this.plugin=n}onOpen(){this.contentEl.empty(),this.component&&Ke(this.component),this.component=Be(Qc,{target:this.contentEl,props:{messageManager:this.plugin.messageManager}})}onClose(){this.contentEl.empty(),this.component&&Ke(this.component)}};var Xc=class{listeners;constructor(){this.listeners=[]}registerListener(e){let n=e;return n.uuid=self.crypto.randomUUID(),this.listeners.push(n),n}unregisterListener(e){this.unregisterListenerById(e.uuid)}unregisterListenerById(e){this.listeners=this.listeners.filter(n=>n.uuid!==e)}unregisterAllListeners(){this.listeners=[]}notifyListeners(e){for(let n of this.listeners)try{n.callback(e)}catch(r){let i=r instanceof Error?r:String(r);console.error(new Error(`Error while notifying listener with UUID ${n.uuid}.`),i)}}},ks=class extends Xc{value;constructor(e){super(),this.value=e}get(){return this.value}set(e){this.value=e,this.notifyListeners(e)}update(e){this.set(e(this.get()))}};var $s=require("obsidian"),yo=(o=>(o.INFO="info",o.TIP="tip",o.SUCCESS="success",o.WANING="warning",o.ERROR="error",o))(yo||{}),sm=["error","warning","success","tip","info"];function cd(t){return`js-engine-message-mod-${t}`}function ld(t){let e=new Map;return e.set("error","zap"),e.set("warning","alert-triangle"),e.set("success","check"),e.set("tip","flame"),e.set("info","info"),e.get(t)??"info"}function am(t){return`js-engine-message-indicator-mod-${t}`}var Ts=class{type;title;content;code;constructor(e,n,r,i){this.type=e,this.title=n,this.content=r,this.code=i}},di=class{uuid;source;message;time;constructor(e,n){this.message=e,this.source=n,this.uuid=self.crypto.randomUUID(),this.time=(0,$s.moment)()}},As=class{app;plugin;messages;statusBarItem;messageDisplay;constructor(e,n){this.app=e,this.plugin=n,this.messages=new ks([])}initStatusBarItem(){this.messageDisplay=new Es(this.app,this.plugin),this.statusBarItem=this.plugin.addStatusBarItem(),this.statusBarItem.addClass("mod-clickable"),this.statusBarItem.addEventListener("click",()=>{this.messageDisplay?.open()}),this.updateStatusBarItem(),this.messages.registerListener({callback:()=>{this.updateStatusBarItem()}})}addMessage(e,n){let r=new di(e,n);return this.messages.update(i=>(i.push(r),i)),r}removeMessage(e){this.messages.update(n=>n.filter(r=>r.uuid!==e))}removeAllMessages(){this.messages.set([])}updateStatusBarItem(){if(!this.statusBarItem)return;this.statusBarItem.empty();let e=this.statusBarItem.createEl("div");(0,$s.setIcon)(e,"message-square");let n=this.statusBarItem.createEl("span");n.addClass("js-engine-message-counter"),n.innerText=this.messages.get().length.toString();let r=new Set(Array.from(this.messages.get().values()).map(i=>i.message.type));for(let i of sm)if(r.has(i)){n.addClass(am(i));break}r.size===0&&n.addClass("js-engine-message-indicator-mod-info")}getMessagesFromSource(e){let n=this.messages.get();return fd(n.values()).filter(r=>r.source.id===e.id)}};var Is=class{app;plugin;context;apiInstance;messages;func;globals;uuid;code;result;functionBuildError;functionRunError;functionBuildTime;functionRunTime;constructor(e){this.app=e.app,this.plugin=e.plugin,this.code=e.code,this.context={...e.context,...e.contextOverrides},this.uuid=self.crypto.randomUUID(),this.apiInstance=new zn(this.app,this.plugin,new Qr("JS_EXECUTION",this.uuid,e.context)),this.messages=[],this.func=void 0,this.globals=this.apiInstance.internal.createExecutionGlobals({component:e.component,context:this.context,container:e.container})}buildFunction(){let e=performance.now();try{this.func=window.eval(`(async function anonymous(${Object.keys(this.globals).join(", ")}) {

${this.code}

})
 //# sourceURL=${encodeURIComponent(this.apiInstance.instanceId.toString())}`)}catch(n){console.warn("failed to parse JS",n),n instanceof Error&&(this.functionBuildError=n,this.result=this.plugin.api?.message.createMessage("error","Failed to parse JS",`Failed to parse JS during execution "${this.uuid}"`,n.stack))}this.functionBuildTime=performance.now()-e}async runFunction(){if(this.functionBuildError)throw new Error("can not run function, function construction failed");if(!this.func)throw new Error("can not run function, function has not been constructed yet");let e=performance.now();try{this.result=await Promise.resolve(this.func(...Object.values(this.globals)))}catch(n){console.warn("failed to execute JS",n),n instanceof Error&&(this.functionRunError=n,this.result=this.apiInstance.message.createMessage("error","Failed to execute JS",`Failed to execute JS during execution "${this.uuid}"`,n.stack))}this.messages=this.apiInstance.message.getMessagesForInstance(),this.functionRunTime=performance.now()-e}isSuccessful(){return!this.functionBuildError&&!this.functionRunError}getMessages(){return this.messages}openStatsModal(){this.plugin.jsEngine.openExecutionStatsModal(this)}};var el=class extends Error{errorLevel;effect;cause;tip;docs;context;positionContext;constructor(e){super(""),this.errorLevel=e.errorLevel,this.effect=e.effect,this.cause=e.cause,this.tip=e.tip,this.docs=e.docs,this.context=e.context,this.positionContext=e.positionContext,this.updateMessage()}updateMessage(){this.cause instanceof Error?this.message=`[${this.getErrorType()}] "${this.effect}" caused by error "${this.cause.message}"`:this.message=`[${this.getErrorType()}] "${this.effect}" caused by "${this.cause}"`}log(){console.log(this.message,this.stack,this.context)}};var Ss=class extends el{getErrorType(){return"JSE_VALIDATION"}};var js=require("obsidian");var oe;(function(t){t.assertEqual=i=>i;function e(i){}t.assertIs=e;function n(i){throw new Error}t.assertNever=n,t.arrayToEnum=i=>{let o={};for(let s of i)o[s]=s;return o},t.getValidEnumValues=i=>{let o=t.objectKeys(i).filter(a=>typeof i[i[a]]!="number"),s={};for(let a of o)s[a]=i[a];return t.objectValues(s)},t.objectValues=i=>t.objectKeys(i).map(function(o){return i[o]}),t.objectKeys=typeof Object.keys=="function"?i=>Object.keys(i):i=>{let o=[];for(let s in i)Object.prototype.hasOwnProperty.call(i,s)&&o.push(s);return o},t.find=(i,o)=>{for(let s of i)if(o(s))return s},t.isInteger=typeof Number.isInteger=="function"?i=>Number.isInteger(i):i=>typeof i=="number"&&isFinite(i)&&Math.floor(i)===i;function r(i,o=" | "){return i.map(s=>typeof s=="string"?`'${s}'`:s).join(o)}t.joinValues=r,t.jsonStringifyReplacer=(i,o)=>typeof o=="bigint"?o.toString():o})(oe||(oe={}));var nl;(function(t){t.mergeShapes=(e,n)=>({...e,...n})})(nl||(nl={}));var O=oe.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Un=t=>{switch(typeof t){case"undefined":return O.undefined;case"string":return O.string;case"number":return isNaN(t)?O.nan:O.number;case"boolean":return O.boolean;case"function":return O.function;case"bigint":return O.bigint;case"symbol":return O.symbol;case"object":return Array.isArray(t)?O.array:t===null?O.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?O.promise:typeof Map<"u"&&t instanceof Map?O.map:typeof Set<"u"&&t instanceof Set?O.set:typeof Date<"u"&&t instanceof Date?O.date:O.object;default:return O.unknown}},k=oe.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),cm=t=>JSON.stringify(t,null,2).replace(/"([^"]+)":/g,"$1:"),gt=class t extends Error{constructor(e){super(),this.issues=[],this.addIssue=r=>{this.issues=[...this.issues,r]},this.addIssues=(r=[])=>{this.issues=[...this.issues,...r]};let n=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,n):this.__proto__=n,this.name="ZodError",this.issues=e}get errors(){return this.issues}format(e){let n=e||function(o){return o.message},r={_errors:[]},i=o=>{for(let s of o.issues)if(s.code==="invalid_union")s.unionErrors.map(i);else if(s.code==="invalid_return_type")i(s.returnTypeError);else if(s.code==="invalid_arguments")i(s.argumentsError);else if(s.path.length===0)r._errors.push(n(s));else{let a=r,u=0;for(;u<s.path.length;){let c=s.path[u];u===s.path.length-1?(a[c]=a[c]||{_errors:[]},a[c]._errors.push(n(s))):a[c]=a[c]||{_errors:[]},a=a[c],u++}}};return i(this),r}static assert(e){if(!(e instanceof t))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,oe.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=n=>n.message){let n={},r=[];for(let i of this.issues)i.path.length>0?(n[i.path[0]]=n[i.path[0]]||[],n[i.path[0]].push(e(i))):r.push(e(i));return{formErrors:r,fieldErrors:n}}get formErrors(){return this.flatten()}};gt.create=t=>new gt(t);var mi=(t,e)=>{let n;switch(t.code){case k.invalid_type:t.received===O.undefined?n="Required":n=`Expected ${t.expected}, received ${t.received}`;break;case k.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(t.expected,oe.jsonStringifyReplacer)}`;break;case k.unrecognized_keys:n=`Unrecognized key(s) in object: ${oe.joinValues(t.keys,", ")}`;break;case k.invalid_union:n="Invalid input";break;case k.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${oe.joinValues(t.options)}`;break;case k.invalid_enum_value:n=`Invalid enum value. Expected ${oe.joinValues(t.options)}, received '${t.received}'`;break;case k.invalid_arguments:n="Invalid function arguments";break;case k.invalid_return_type:n="Invalid function return type";break;case k.invalid_date:n="Invalid date";break;case k.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(n=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(n=`${n} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?n=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?n=`Invalid input: must end with "${t.validation.endsWith}"`:oe.assertNever(t.validation):t.validation!=="regex"?n=`Invalid ${t.validation}`:n="Invalid";break;case k.too_small:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:n="Invalid input";break;case k.too_big:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?n=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:n="Invalid input";break;case k.custom:n="Invalid input";break;case k.invalid_intersection_types:n="Intersection results could not be merged";break;case k.not_multiple_of:n=`Number must be a multiple of ${t.multipleOf}`;break;case k.not_finite:n="Number must be finite";break;default:n=e.defaultError,oe.assertNever(t)}return{message:n}},yd=mi;function lm(t){yd=t}function Ms(){return yd}var Cs=t=>{let{data:e,path:n,errorMaps:r,issueData:i}=t,o=[...n,...i.path||[]],s={...i,path:o};if(i.message!==void 0)return{...i,path:o,message:i.message};let a="",u=r.filter(c=>!!c).slice().reverse();for(let c of u)a=c(s,{data:e,defaultError:a}).message;return{...i,path:o,message:a}},fm=[];function C(t,e){let n=Ms(),r=Cs({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,n,n===mi?void 0:mi].filter(i=>!!i)});t.common.issues.push(r)}var Ue=class t{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,n){let r=[];for(let i of n){if(i.status==="aborted")return Z;i.status==="dirty"&&e.dirty(),r.push(i.value)}return{status:e.value,value:r}}static async mergeObjectAsync(e,n){let r=[];for(let i of n){let o=await i.key,s=await i.value;r.push({key:o,value:s})}return t.mergeObjectSync(e,r)}static mergeObjectSync(e,n){let r={};for(let i of n){let{key:o,value:s}=i;if(o.status==="aborted"||s.status==="aborted")return Z;o.status==="dirty"&&e.dirty(),s.status==="dirty"&&e.dirty(),o.value!=="__proto__"&&(typeof s.value<"u"||i.alwaysSet)&&(r[o.value]=s.value)}return{status:e.value,value:r}}},Z=Object.freeze({status:"aborted"}),hi=t=>({status:"dirty",value:t}),Xe=t=>({status:"valid",value:t}),rl=t=>t.status==="aborted",il=t=>t.status==="dirty",go=t=>t.status==="valid",xo=t=>typeof Promise<"u"&&t instanceof Promise;function Ps(t,e,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(t):r?r.value:e.get(t)}function _d(t,e,n,r,i){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?i.call(t,n):i?i.value=n:e.set(t,n),n}var F;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e?.message})(F||(F={}));var _o,vo,Dt=class{constructor(e,n,r,i){this._cachedPath=[],this.parent=e,this.data=n,this._path=r,this._key=i}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}},hd=(t,e)=>{if(go(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;let n=new gt(t.common.issues);return this._error=n,this._error}}};function Q(t){if(!t)return{};let{errorMap:e,invalid_type_error:n,required_error:r,description:i}=t;if(e&&(n||r))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:i}:{errorMap:(s,a)=>{var u,c;let{message:l}=t;return s.code==="invalid_enum_value"?{message:l??a.defaultError}:typeof a.data>"u"?{message:(u=l??r)!==null&&u!==void 0?u:a.defaultError}:s.code!=="invalid_type"?{message:a.defaultError}:{message:(c=l??n)!==null&&c!==void 0?c:a.defaultError}},description:i}}var X=class{constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this)}get description(){return this._def.description}_getType(e){return Un(e.data)}_getOrReturnCtx(e,n){return n||{common:e.parent.common,data:e.data,parsedType:Un(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new Ue,ctx:{common:e.parent.common,data:e.data,parsedType:Un(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){let n=this._parse(e);if(xo(n))throw new Error("Synchronous parse encountered promise.");return n}_parseAsync(e){let n=this._parse(e);return Promise.resolve(n)}parse(e,n){let r=this.safeParse(e,n);if(r.success)return r.data;throw r.error}safeParse(e,n){var r;let i={common:{issues:[],async:(r=n?.async)!==null&&r!==void 0?r:!1,contextualErrorMap:n?.errorMap},path:n?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Un(e)},o=this._parseSync({data:e,path:i.path,parent:i});return hd(i,o)}async parseAsync(e,n){let r=await this.safeParseAsync(e,n);if(r.success)return r.data;throw r.error}async safeParseAsync(e,n){let r={common:{issues:[],contextualErrorMap:n?.errorMap,async:!0},path:n?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Un(e)},i=this._parse({data:e,path:r.path,parent:r}),o=await(xo(i)?i:Promise.resolve(i));return hd(r,o)}refine(e,n){let r=i=>typeof n=="string"||typeof n>"u"?{message:n}:typeof n=="function"?n(i):n;return this._refinement((i,o)=>{let s=e(i),a=()=>o.addIssue({code:k.custom,...r(i)});return typeof Promise<"u"&&s instanceof Promise?s.then(u=>u?!0:(a(),!1)):s?!0:(a(),!1)})}refinement(e,n){return this._refinement((r,i)=>e(r)?!0:(i.addIssue(typeof n=="function"?n(r,i):n),!1))}_refinement(e){return new xt({schema:this,typeName:V.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}optional(){return Ft.create(this,this._def)}nullable(){return on.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Tn.create(this,this._def)}promise(){return Zn.create(this,this._def)}or(e){return Ar.create([this,e],this._def)}and(e){return $r.create(this,e,this._def)}transform(e){return new xt({...Q(this._def),schema:this,typeName:V.ZodEffects,effect:{type:"transform",transform:e}})}default(e){let n=typeof e=="function"?e:()=>e;return new Pr({...Q(this._def),innerType:this,defaultValue:n,typeName:V.ZodDefault})}brand(){return new bo({typeName:V.ZodBranded,type:this,...Q(this._def)})}catch(e){let n=typeof e=="function"?e:()=>e;return new Or({...Q(this._def),innerType:this,catchValue:n,typeName:V.ZodCatch})}describe(e){let n=this.constructor;return new n({...this._def,description:e})}pipe(e){return wo.create(this,e)}readonly(){return Rr.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}},dm=/^c[^\s-]{8,}$/i,pm=/^[0-9a-z]+$/,hm=/^[0-9A-HJKMNP-TV-Z]{26}$/,mm=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,ym=/^[a-z0-9_-]{21}$/i,_m=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,vm=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,gm="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$",tl,xm=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,bm=/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,wm=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,vd="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",Em=new RegExp(`^${vd}$`);function gd(t){let e="([01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d";return t.precision?e=`${e}\\.\\d{${t.precision}}`:t.precision==null&&(e=`${e}(\\.\\d+)?`),e}function km(t){return new RegExp(`^${gd(t)}$`)}function xd(t){let e=`${vd}T${gd(t)}`,n=[];return n.push(t.local?"Z?":"Z"),t.offset&&n.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${n.join("|")})`,new RegExp(`^${e}$`)}function Tm(t,e){return!!((e==="v4"||!e)&&xm.test(t)||(e==="v6"||!e)&&bm.test(t))}var qn=class t extends X{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==O.string){let o=this._getOrReturnCtx(e);return C(o,{code:k.invalid_type,expected:O.string,received:o.parsedType}),Z}let r=new Ue,i;for(let o of this._def.checks)if(o.kind==="min")e.data.length<o.value&&(i=this._getOrReturnCtx(e,i),C(i,{code:k.too_small,minimum:o.value,type:"string",inclusive:!0,exact:!1,message:o.message}),r.dirty());else if(o.kind==="max")e.data.length>o.value&&(i=this._getOrReturnCtx(e,i),C(i,{code:k.too_big,maximum:o.value,type:"string",inclusive:!0,exact:!1,message:o.message}),r.dirty());else if(o.kind==="length"){let s=e.data.length>o.value,a=e.data.length<o.value;(s||a)&&(i=this._getOrReturnCtx(e,i),s?C(i,{code:k.too_big,maximum:o.value,type:"string",inclusive:!0,exact:!0,message:o.message}):a&&C(i,{code:k.too_small,minimum:o.value,type:"string",inclusive:!0,exact:!0,message:o.message}),r.dirty())}else if(o.kind==="email")vm.test(e.data)||(i=this._getOrReturnCtx(e,i),C(i,{validation:"email",code:k.invalid_string,message:o.message}),r.dirty());else if(o.kind==="emoji")tl||(tl=new RegExp(gm,"u")),tl.test(e.data)||(i=this._getOrReturnCtx(e,i),C(i,{validation:"emoji",code:k.invalid_string,message:o.message}),r.dirty());else if(o.kind==="uuid")mm.test(e.data)||(i=this._getOrReturnCtx(e,i),C(i,{validation:"uuid",code:k.invalid_string,message:o.message}),r.dirty());else if(o.kind==="nanoid")ym.test(e.data)||(i=this._getOrReturnCtx(e,i),C(i,{validation:"nanoid",code:k.invalid_string,message:o.message}),r.dirty());else if(o.kind==="cuid")dm.test(e.data)||(i=this._getOrReturnCtx(e,i),C(i,{validation:"cuid",code:k.invalid_string,message:o.message}),r.dirty());else if(o.kind==="cuid2")pm.test(e.data)||(i=this._getOrReturnCtx(e,i),C(i,{validation:"cuid2",code:k.invalid_string,message:o.message}),r.dirty());else if(o.kind==="ulid")hm.test(e.data)||(i=this._getOrReturnCtx(e,i),C(i,{validation:"ulid",code:k.invalid_string,message:o.message}),r.dirty());else if(o.kind==="url")try{new URL(e.data)}catch{i=this._getOrReturnCtx(e,i),C(i,{validation:"url",code:k.invalid_string,message:o.message}),r.dirty()}else o.kind==="regex"?(o.regex.lastIndex=0,o.regex.test(e.data)||(i=this._getOrReturnCtx(e,i),C(i,{validation:"regex",code:k.invalid_string,message:o.message}),r.dirty())):o.kind==="trim"?e.data=e.data.trim():o.kind==="includes"?e.data.includes(o.value,o.position)||(i=this._getOrReturnCtx(e,i),C(i,{code:k.invalid_string,validation:{includes:o.value,position:o.position},message:o.message}),r.dirty()):o.kind==="toLowerCase"?e.data=e.data.toLowerCase():o.kind==="toUpperCase"?e.data=e.data.toUpperCase():o.kind==="startsWith"?e.data.startsWith(o.value)||(i=this._getOrReturnCtx(e,i),C(i,{code:k.invalid_string,validation:{startsWith:o.value},message:o.message}),r.dirty()):o.kind==="endsWith"?e.data.endsWith(o.value)||(i=this._getOrReturnCtx(e,i),C(i,{code:k.invalid_string,validation:{endsWith:o.value},message:o.message}),r.dirty()):o.kind==="datetime"?xd(o).test(e.data)||(i=this._getOrReturnCtx(e,i),C(i,{code:k.invalid_string,validation:"datetime",message:o.message}),r.dirty()):o.kind==="date"?Em.test(e.data)||(i=this._getOrReturnCtx(e,i),C(i,{code:k.invalid_string,validation:"date",message:o.message}),r.dirty()):o.kind==="time"?km(o).test(e.data)||(i=this._getOrReturnCtx(e,i),C(i,{code:k.invalid_string,validation:"time",message:o.message}),r.dirty()):o.kind==="duration"?_m.test(e.data)||(i=this._getOrReturnCtx(e,i),C(i,{validation:"duration",code:k.invalid_string,message:o.message}),r.dirty()):o.kind==="ip"?Tm(e.data,o.version)||(i=this._getOrReturnCtx(e,i),C(i,{validation:"ip",code:k.invalid_string,message:o.message}),r.dirty()):o.kind==="base64"?wm.test(e.data)||(i=this._getOrReturnCtx(e,i),C(i,{validation:"base64",code:k.invalid_string,message:o.message}),r.dirty()):oe.assertNever(o);return{status:r.value,value:e.data}}_regex(e,n,r){return this.refinement(i=>e.test(i),{validation:n,code:k.invalid_string,...F.errToObj(r)})}_addCheck(e){return new t({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...F.errToObj(e)})}url(e){return this._addCheck({kind:"url",...F.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...F.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...F.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...F.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...F.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...F.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...F.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...F.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...F.errToObj(e)})}datetime(e){var n,r;return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof e?.precision>"u"?null:e?.precision,offset:(n=e?.offset)!==null&&n!==void 0?n:!1,local:(r=e?.local)!==null&&r!==void 0?r:!1,...F.errToObj(e?.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof e?.precision>"u"?null:e?.precision,...F.errToObj(e?.message)})}duration(e){return this._addCheck({kind:"duration",...F.errToObj(e)})}regex(e,n){return this._addCheck({kind:"regex",regex:e,...F.errToObj(n)})}includes(e,n){return this._addCheck({kind:"includes",value:e,position:n?.position,...F.errToObj(n?.message)})}startsWith(e,n){return this._addCheck({kind:"startsWith",value:e,...F.errToObj(n)})}endsWith(e,n){return this._addCheck({kind:"endsWith",value:e,...F.errToObj(n)})}min(e,n){return this._addCheck({kind:"min",value:e,...F.errToObj(n)})}max(e,n){return this._addCheck({kind:"max",value:e,...F.errToObj(n)})}length(e,n){return this._addCheck({kind:"length",value:e,...F.errToObj(n)})}nonempty(e){return this.min(1,F.errToObj(e))}trim(){return new t({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new t({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new t({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get minLength(){let e=null;for(let n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxLength(){let e=null;for(let n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}};qn.create=t=>{var e;return new qn({checks:[],typeName:V.ZodString,coerce:(e=t?.coerce)!==null&&e!==void 0?e:!1,...Q(t)})};function Am(t,e){let n=(t.toString().split(".")[1]||"").length,r=(e.toString().split(".")[1]||"").length,i=n>r?n:r,o=parseInt(t.toFixed(i).replace(".","")),s=parseInt(e.toFixed(i).replace(".",""));return o%s/Math.pow(10,i)}var xr=class t extends X{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==O.number){let o=this._getOrReturnCtx(e);return C(o,{code:k.invalid_type,expected:O.number,received:o.parsedType}),Z}let r,i=new Ue;for(let o of this._def.checks)o.kind==="int"?oe.isInteger(e.data)||(r=this._getOrReturnCtx(e,r),C(r,{code:k.invalid_type,expected:"integer",received:"float",message:o.message}),i.dirty()):o.kind==="min"?(o.inclusive?e.data<o.value:e.data<=o.value)&&(r=this._getOrReturnCtx(e,r),C(r,{code:k.too_small,minimum:o.value,type:"number",inclusive:o.inclusive,exact:!1,message:o.message}),i.dirty()):o.kind==="max"?(o.inclusive?e.data>o.value:e.data>=o.value)&&(r=this._getOrReturnCtx(e,r),C(r,{code:k.too_big,maximum:o.value,type:"number",inclusive:o.inclusive,exact:!1,message:o.message}),i.dirty()):o.kind==="multipleOf"?Am(e.data,o.value)!==0&&(r=this._getOrReturnCtx(e,r),C(r,{code:k.not_multiple_of,multipleOf:o.value,message:o.message}),i.dirty()):o.kind==="finite"?Number.isFinite(e.data)||(r=this._getOrReturnCtx(e,r),C(r,{code:k.not_finite,message:o.message}),i.dirty()):oe.assertNever(o);return{status:i.value,value:e.data}}gte(e,n){return this.setLimit("min",e,!0,F.toString(n))}gt(e,n){return this.setLimit("min",e,!1,F.toString(n))}lte(e,n){return this.setLimit("max",e,!0,F.toString(n))}lt(e,n){return this.setLimit("max",e,!1,F.toString(n))}setLimit(e,n,r,i){return new t({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:F.toString(i)}]})}_addCheck(e){return new t({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:F.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:F.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:F.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:F.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:F.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:F.toString(n)})}finite(e){return this._addCheck({kind:"finite",message:F.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:F.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:F.toString(e)})}get minValue(){let e=null;for(let n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(let n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&oe.isInteger(e.value))}get isFinite(){let e=null,n=null;for(let r of this._def.checks){if(r.kind==="finite"||r.kind==="int"||r.kind==="multipleOf")return!0;r.kind==="min"?(n===null||r.value>n)&&(n=r.value):r.kind==="max"&&(e===null||r.value<e)&&(e=r.value)}return Number.isFinite(n)&&Number.isFinite(e)}};xr.create=t=>new xr({checks:[],typeName:V.ZodNumber,coerce:t?.coerce||!1,...Q(t)});var br=class t extends X{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce&&(e.data=BigInt(e.data)),this._getType(e)!==O.bigint){let o=this._getOrReturnCtx(e);return C(o,{code:k.invalid_type,expected:O.bigint,received:o.parsedType}),Z}let r,i=new Ue;for(let o of this._def.checks)o.kind==="min"?(o.inclusive?e.data<o.value:e.data<=o.value)&&(r=this._getOrReturnCtx(e,r),C(r,{code:k.too_small,type:"bigint",minimum:o.value,inclusive:o.inclusive,message:o.message}),i.dirty()):o.kind==="max"?(o.inclusive?e.data>o.value:e.data>=o.value)&&(r=this._getOrReturnCtx(e,r),C(r,{code:k.too_big,type:"bigint",maximum:o.value,inclusive:o.inclusive,message:o.message}),i.dirty()):o.kind==="multipleOf"?e.data%o.value!==BigInt(0)&&(r=this._getOrReturnCtx(e,r),C(r,{code:k.not_multiple_of,multipleOf:o.value,message:o.message}),i.dirty()):oe.assertNever(o);return{status:i.value,value:e.data}}gte(e,n){return this.setLimit("min",e,!0,F.toString(n))}gt(e,n){return this.setLimit("min",e,!1,F.toString(n))}lte(e,n){return this.setLimit("max",e,!0,F.toString(n))}lt(e,n){return this.setLimit("max",e,!1,F.toString(n))}setLimit(e,n,r,i){return new t({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:F.toString(i)}]})}_addCheck(e){return new t({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:F.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:F.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:F.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:F.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:F.toString(n)})}get minValue(){let e=null;for(let n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(let n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}};br.create=t=>{var e;return new br({checks:[],typeName:V.ZodBigInt,coerce:(e=t?.coerce)!==null&&e!==void 0?e:!1,...Q(t)})};var wr=class extends X{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==O.boolean){let r=this._getOrReturnCtx(e);return C(r,{code:k.invalid_type,expected:O.boolean,received:r.parsedType}),Z}return Xe(e.data)}};wr.create=t=>new wr({typeName:V.ZodBoolean,coerce:t?.coerce||!1,...Q(t)});var Er=class t extends X{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==O.date){let o=this._getOrReturnCtx(e);return C(o,{code:k.invalid_type,expected:O.date,received:o.parsedType}),Z}if(isNaN(e.data.getTime())){let o=this._getOrReturnCtx(e);return C(o,{code:k.invalid_date}),Z}let r=new Ue,i;for(let o of this._def.checks)o.kind==="min"?e.data.getTime()<o.value&&(i=this._getOrReturnCtx(e,i),C(i,{code:k.too_small,message:o.message,inclusive:!0,exact:!1,minimum:o.value,type:"date"}),r.dirty()):o.kind==="max"?e.data.getTime()>o.value&&(i=this._getOrReturnCtx(e,i),C(i,{code:k.too_big,message:o.message,inclusive:!0,exact:!1,maximum:o.value,type:"date"}),r.dirty()):oe.assertNever(o);return{status:r.value,value:new Date(e.data.getTime())}}_addCheck(e){return new t({...this._def,checks:[...this._def.checks,e]})}min(e,n){return this._addCheck({kind:"min",value:e.getTime(),message:F.toString(n)})}max(e,n){return this._addCheck({kind:"max",value:e.getTime(),message:F.toString(n)})}get minDate(){let e=null;for(let n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(let n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e!=null?new Date(e):null}};Er.create=t=>new Er({checks:[],coerce:t?.coerce||!1,typeName:V.ZodDate,...Q(t)});var yi=class extends X{_parse(e){if(this._getType(e)!==O.symbol){let r=this._getOrReturnCtx(e);return C(r,{code:k.invalid_type,expected:O.symbol,received:r.parsedType}),Z}return Xe(e.data)}};yi.create=t=>new yi({typeName:V.ZodSymbol,...Q(t)});var kr=class extends X{_parse(e){if(this._getType(e)!==O.undefined){let r=this._getOrReturnCtx(e);return C(r,{code:k.invalid_type,expected:O.undefined,received:r.parsedType}),Z}return Xe(e.data)}};kr.create=t=>new kr({typeName:V.ZodUndefined,...Q(t)});var Tr=class extends X{_parse(e){if(this._getType(e)!==O.null){let r=this._getOrReturnCtx(e);return C(r,{code:k.invalid_type,expected:O.null,received:r.parsedType}),Z}return Xe(e.data)}};Tr.create=t=>new Tr({typeName:V.ZodNull,...Q(t)});var Vn=class extends X{constructor(){super(...arguments),this._any=!0}_parse(e){return Xe(e.data)}};Vn.create=t=>new Vn({typeName:V.ZodAny,...Q(t)});var kn=class extends X{constructor(){super(...arguments),this._unknown=!0}_parse(e){return Xe(e.data)}};kn.create=t=>new kn({typeName:V.ZodUnknown,...Q(t)});var Wt=class extends X{_parse(e){let n=this._getOrReturnCtx(e);return C(n,{code:k.invalid_type,expected:O.never,received:n.parsedType}),Z}};Wt.create=t=>new Wt({typeName:V.ZodNever,...Q(t)});var _i=class extends X{_parse(e){if(this._getType(e)!==O.undefined){let r=this._getOrReturnCtx(e);return C(r,{code:k.invalid_type,expected:O.void,received:r.parsedType}),Z}return Xe(e.data)}};_i.create=t=>new _i({typeName:V.ZodVoid,...Q(t)});var Tn=class t extends X{_parse(e){let{ctx:n,status:r}=this._processInputParams(e),i=this._def;if(n.parsedType!==O.array)return C(n,{code:k.invalid_type,expected:O.array,received:n.parsedType}),Z;if(i.exactLength!==null){let s=n.data.length>i.exactLength.value,a=n.data.length<i.exactLength.value;(s||a)&&(C(n,{code:s?k.too_big:k.too_small,minimum:a?i.exactLength.value:void 0,maximum:s?i.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:i.exactLength.message}),r.dirty())}if(i.minLength!==null&&n.data.length<i.minLength.value&&(C(n,{code:k.too_small,minimum:i.minLength.value,type:"array",inclusive:!0,exact:!1,message:i.minLength.message}),r.dirty()),i.maxLength!==null&&n.data.length>i.maxLength.value&&(C(n,{code:k.too_big,maximum:i.maxLength.value,type:"array",inclusive:!0,exact:!1,message:i.maxLength.message}),r.dirty()),n.common.async)return Promise.all([...n.data].map((s,a)=>i.type._parseAsync(new Dt(n,s,n.path,a)))).then(s=>Ue.mergeArray(r,s));let o=[...n.data].map((s,a)=>i.type._parseSync(new Dt(n,s,n.path,a)));return Ue.mergeArray(r,o)}get element(){return this._def.type}min(e,n){return new t({...this._def,minLength:{value:e,message:F.toString(n)}})}max(e,n){return new t({...this._def,maxLength:{value:e,message:F.toString(n)}})}length(e,n){return new t({...this._def,exactLength:{value:e,message:F.toString(n)}})}nonempty(e){return this.min(1,e)}};Tn.create=(t,e)=>new Tn({type:t,minLength:null,maxLength:null,exactLength:null,typeName:V.ZodArray,...Q(e)});function pi(t){if(t instanceof lt){let e={};for(let n in t.shape){let r=t.shape[n];e[n]=Ft.create(pi(r))}return new lt({...t._def,shape:()=>e})}else return t instanceof Tn?new Tn({...t._def,type:pi(t.element)}):t instanceof Ft?Ft.create(pi(t.unwrap())):t instanceof on?on.create(pi(t.unwrap())):t instanceof rn?rn.create(t.items.map(e=>pi(e))):t}var lt=class t extends X{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;let e=this._def.shape(),n=oe.objectKeys(e);return this._cached={shape:e,keys:n}}_parse(e){if(this._getType(e)!==O.object){let c=this._getOrReturnCtx(e);return C(c,{code:k.invalid_type,expected:O.object,received:c.parsedType}),Z}let{status:r,ctx:i}=this._processInputParams(e),{shape:o,keys:s}=this._getCached(),a=[];if(!(this._def.catchall instanceof Wt&&this._def.unknownKeys==="strip"))for(let c in i.data)s.includes(c)||a.push(c);let u=[];for(let c of s){let l=o[c],p=i.data[c];u.push({key:{status:"valid",value:c},value:l._parse(new Dt(i,p,i.path,c)),alwaysSet:c in i.data})}if(this._def.catchall instanceof Wt){let c=this._def.unknownKeys;if(c==="passthrough")for(let l of a)u.push({key:{status:"valid",value:l},value:{status:"valid",value:i.data[l]}});else if(c==="strict")a.length>0&&(C(i,{code:k.unrecognized_keys,keys:a}),r.dirty());else if(c!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{let c=this._def.catchall;for(let l of a){let p=i.data[l];u.push({key:{status:"valid",value:l},value:c._parse(new Dt(i,p,i.path,l)),alwaysSet:l in i.data})}}return i.common.async?Promise.resolve().then(async()=>{let c=[];for(let l of u){let p=await l.key,d=await l.value;c.push({key:p,value:d,alwaysSet:l.alwaysSet})}return c}).then(c=>Ue.mergeObjectSync(r,c)):Ue.mergeObjectSync(r,u)}get shape(){return this._def.shape()}strict(e){return F.errToObj,new t({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(n,r)=>{var i,o,s,a;let u=(s=(o=(i=this._def).errorMap)===null||o===void 0?void 0:o.call(i,n,r).message)!==null&&s!==void 0?s:r.defaultError;return n.code==="unrecognized_keys"?{message:(a=F.errToObj(e).message)!==null&&a!==void 0?a:u}:{message:u}}}:{}})}strip(){return new t({...this._def,unknownKeys:"strip"})}passthrough(){return new t({...this._def,unknownKeys:"passthrough"})}extend(e){return new t({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new t({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:V.ZodObject})}setKey(e,n){return this.augment({[e]:n})}catchall(e){return new t({...this._def,catchall:e})}pick(e){let n={};return oe.objectKeys(e).forEach(r=>{e[r]&&this.shape[r]&&(n[r]=this.shape[r])}),new t({...this._def,shape:()=>n})}omit(e){let n={};return oe.objectKeys(this.shape).forEach(r=>{e[r]||(n[r]=this.shape[r])}),new t({...this._def,shape:()=>n})}deepPartial(){return pi(this)}partial(e){let n={};return oe.objectKeys(this.shape).forEach(r=>{let i=this.shape[r];e&&!e[r]?n[r]=i:n[r]=i.optional()}),new t({...this._def,shape:()=>n})}required(e){let n={};return oe.objectKeys(this.shape).forEach(r=>{if(e&&!e[r])n[r]=this.shape[r];else{let o=this.shape[r];for(;o instanceof Ft;)o=o._def.innerType;n[r]=o}}),new t({...this._def,shape:()=>n})}keyof(){return bd(oe.objectKeys(this.shape))}};lt.create=(t,e)=>new lt({shape:()=>t,unknownKeys:"strip",catchall:Wt.create(),typeName:V.ZodObject,...Q(e)});lt.strictCreate=(t,e)=>new lt({shape:()=>t,unknownKeys:"strict",catchall:Wt.create(),typeName:V.ZodObject,...Q(e)});lt.lazycreate=(t,e)=>new lt({shape:t,unknownKeys:"strip",catchall:Wt.create(),typeName:V.ZodObject,...Q(e)});var Ar=class extends X{_parse(e){let{ctx:n}=this._processInputParams(e),r=this._def.options;function i(o){for(let a of o)if(a.result.status==="valid")return a.result;for(let a of o)if(a.result.status==="dirty")return n.common.issues.push(...a.ctx.common.issues),a.result;let s=o.map(a=>new gt(a.ctx.common.issues));return C(n,{code:k.invalid_union,unionErrors:s}),Z}if(n.common.async)return Promise.all(r.map(async o=>{let s={...n,common:{...n.common,issues:[]},parent:null};return{result:await o._parseAsync({data:n.data,path:n.path,parent:s}),ctx:s}})).then(i);{let o,s=[];for(let u of r){let c={...n,common:{...n.common,issues:[]},parent:null},l=u._parseSync({data:n.data,path:n.path,parent:c});if(l.status==="valid")return l;l.status==="dirty"&&!o&&(o={result:l,ctx:c}),c.common.issues.length&&s.push(c.common.issues)}if(o)return n.common.issues.push(...o.ctx.common.issues),o.result;let a=s.map(u=>new gt(u));return C(n,{code:k.invalid_union,unionErrors:a}),Z}}get options(){return this._def.options}};Ar.create=(t,e)=>new Ar({options:t,typeName:V.ZodUnion,...Q(e)});var En=t=>t instanceof Ir?En(t.schema):t instanceof xt?En(t.innerType()):t instanceof Sr?[t.value]:t instanceof Mr?t.options:t instanceof Cr?oe.objectValues(t.enum):t instanceof Pr?En(t._def.innerType):t instanceof kr?[void 0]:t instanceof Tr?[null]:t instanceof Ft?[void 0,...En(t.unwrap())]:t instanceof on?[null,...En(t.unwrap())]:t instanceof bo||t instanceof Rr?En(t.unwrap()):t instanceof Or?En(t._def.innerType):[],Os=class t extends X{_parse(e){let{ctx:n}=this._processInputParams(e);if(n.parsedType!==O.object)return C(n,{code:k.invalid_type,expected:O.object,received:n.parsedType}),Z;let r=this.discriminator,i=n.data[r],o=this.optionsMap.get(i);return o?n.common.async?o._parseAsync({data:n.data,path:n.path,parent:n}):o._parseSync({data:n.data,path:n.path,parent:n}):(C(n,{code:k.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[r]}),Z)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,n,r){let i=new Map;for(let o of n){let s=En(o.shape[e]);if(!s.length)throw new Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(let a of s){if(i.has(a))throw new Error(`Discriminator property ${String(e)} has duplicate value ${String(a)}`);i.set(a,o)}}return new t({typeName:V.ZodDiscriminatedUnion,discriminator:e,options:n,optionsMap:i,...Q(r)})}};function ol(t,e){let n=Un(t),r=Un(e);if(t===e)return{valid:!0,data:t};if(n===O.object&&r===O.object){let i=oe.objectKeys(e),o=oe.objectKeys(t).filter(a=>i.indexOf(a)!==-1),s={...t,...e};for(let a of o){let u=ol(t[a],e[a]);if(!u.valid)return{valid:!1};s[a]=u.data}return{valid:!0,data:s}}else if(n===O.array&&r===O.array){if(t.length!==e.length)return{valid:!1};let i=[];for(let o=0;o<t.length;o++){let s=t[o],a=e[o],u=ol(s,a);if(!u.valid)return{valid:!1};i.push(u.data)}return{valid:!0,data:i}}else return n===O.date&&r===O.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}var $r=class extends X{_parse(e){let{status:n,ctx:r}=this._processInputParams(e),i=(o,s)=>{if(rl(o)||rl(s))return Z;let a=ol(o.value,s.value);return a.valid?((il(o)||il(s))&&n.dirty(),{status:n.value,value:a.data}):(C(r,{code:k.invalid_intersection_types}),Z)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([o,s])=>i(o,s)):i(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}};$r.create=(t,e,n)=>new $r({left:t,right:e,typeName:V.ZodIntersection,...Q(n)});var rn=class t extends X{_parse(e){let{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==O.array)return C(r,{code:k.invalid_type,expected:O.array,received:r.parsedType}),Z;if(r.data.length<this._def.items.length)return C(r,{code:k.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),Z;!this._def.rest&&r.data.length>this._def.items.length&&(C(r,{code:k.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),n.dirty());let o=[...r.data].map((s,a)=>{let u=this._def.items[a]||this._def.rest;return u?u._parse(new Dt(r,s,r.path,a)):null}).filter(s=>!!s);return r.common.async?Promise.all(o).then(s=>Ue.mergeArray(n,s)):Ue.mergeArray(n,o)}get items(){return this._def.items}rest(e){return new t({...this._def,rest:e})}};rn.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new rn({items:t,typeName:V.ZodTuple,rest:null,...Q(e)})};var Rs=class t extends X{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){let{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==O.object)return C(r,{code:k.invalid_type,expected:O.object,received:r.parsedType}),Z;let i=[],o=this._def.keyType,s=this._def.valueType;for(let a in r.data)i.push({key:o._parse(new Dt(r,a,r.path,a)),value:s._parse(new Dt(r,r.data[a],r.path,a)),alwaysSet:a in r.data});return r.common.async?Ue.mergeObjectAsync(n,i):Ue.mergeObjectSync(n,i)}get element(){return this._def.valueType}static create(e,n,r){return n instanceof X?new t({keyType:e,valueType:n,typeName:V.ZodRecord,...Q(r)}):new t({keyType:qn.create(),valueType:e,typeName:V.ZodRecord,...Q(n)})}},vi=class extends X{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){let{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==O.map)return C(r,{code:k.invalid_type,expected:O.map,received:r.parsedType}),Z;let i=this._def.keyType,o=this._def.valueType,s=[...r.data.entries()].map(([a,u],c)=>({key:i._parse(new Dt(r,a,r.path,[c,"key"])),value:o._parse(new Dt(r,u,r.path,[c,"value"]))}));if(r.common.async){let a=new Map;return Promise.resolve().then(async()=>{for(let u of s){let c=await u.key,l=await u.value;if(c.status==="aborted"||l.status==="aborted")return Z;(c.status==="dirty"||l.status==="dirty")&&n.dirty(),a.set(c.value,l.value)}return{status:n.value,value:a}})}else{let a=new Map;for(let u of s){let c=u.key,l=u.value;if(c.status==="aborted"||l.status==="aborted")return Z;(c.status==="dirty"||l.status==="dirty")&&n.dirty(),a.set(c.value,l.value)}return{status:n.value,value:a}}}};vi.create=(t,e,n)=>new vi({valueType:e,keyType:t,typeName:V.ZodMap,...Q(n)});var gi=class t extends X{_parse(e){let{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==O.set)return C(r,{code:k.invalid_type,expected:O.set,received:r.parsedType}),Z;let i=this._def;i.minSize!==null&&r.data.size<i.minSize.value&&(C(r,{code:k.too_small,minimum:i.minSize.value,type:"set",inclusive:!0,exact:!1,message:i.minSize.message}),n.dirty()),i.maxSize!==null&&r.data.size>i.maxSize.value&&(C(r,{code:k.too_big,maximum:i.maxSize.value,type:"set",inclusive:!0,exact:!1,message:i.maxSize.message}),n.dirty());let o=this._def.valueType;function s(u){let c=new Set;for(let l of u){if(l.status==="aborted")return Z;l.status==="dirty"&&n.dirty(),c.add(l.value)}return{status:n.value,value:c}}let a=[...r.data.values()].map((u,c)=>o._parse(new Dt(r,u,r.path,c)));return r.common.async?Promise.all(a).then(u=>s(u)):s(a)}min(e,n){return new t({...this._def,minSize:{value:e,message:F.toString(n)}})}max(e,n){return new t({...this._def,maxSize:{value:e,message:F.toString(n)}})}size(e,n){return this.min(e,n).max(e,n)}nonempty(e){return this.min(1,e)}};gi.create=(t,e)=>new gi({valueType:t,minSize:null,maxSize:null,typeName:V.ZodSet,...Q(e)});var Ns=class t extends X{constructor(){super(...arguments),this.validate=this.implement}_parse(e){let{ctx:n}=this._processInputParams(e);if(n.parsedType!==O.function)return C(n,{code:k.invalid_type,expected:O.function,received:n.parsedType}),Z;function r(a,u){return Cs({data:a,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,Ms(),mi].filter(c=>!!c),issueData:{code:k.invalid_arguments,argumentsError:u}})}function i(a,u){return Cs({data:a,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,Ms(),mi].filter(c=>!!c),issueData:{code:k.invalid_return_type,returnTypeError:u}})}let o={errorMap:n.common.contextualErrorMap},s=n.data;if(this._def.returns instanceof Zn){let a=this;return Xe(async function(...u){let c=new gt([]),l=await a._def.args.parseAsync(u,o).catch(y=>{throw c.addIssue(r(u,y)),c}),p=await Reflect.apply(s,this,l);return await a._def.returns._def.type.parseAsync(p,o).catch(y=>{throw c.addIssue(i(p,y)),c})})}else{let a=this;return Xe(function(...u){let c=a._def.args.safeParse(u,o);if(!c.success)throw new gt([r(u,c.error)]);let l=Reflect.apply(s,this,c.data),p=a._def.returns.safeParse(l,o);if(!p.success)throw new gt([i(l,p.error)]);return p.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new t({...this._def,args:rn.create(e).rest(kn.create())})}returns(e){return new t({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,n,r){return new t({args:e||rn.create([]).rest(kn.create()),returns:n||kn.create(),typeName:V.ZodFunction,...Q(r)})}},Ir=class extends X{get schema(){return this._def.getter()}_parse(e){let{ctx:n}=this._processInputParams(e);return this._def.getter()._parse({data:n.data,path:n.path,parent:n})}};Ir.create=(t,e)=>new Ir({getter:t,typeName:V.ZodLazy,...Q(e)});var Sr=class extends X{_parse(e){if(e.data!==this._def.value){let n=this._getOrReturnCtx(e);return C(n,{received:n.data,code:k.invalid_literal,expected:this._def.value}),Z}return{status:"valid",value:e.data}}get value(){return this._def.value}};Sr.create=(t,e)=>new Sr({value:t,typeName:V.ZodLiteral,...Q(e)});function bd(t,e){return new Mr({values:t,typeName:V.ZodEnum,...Q(e)})}var Mr=class t extends X{constructor(){super(...arguments),_o.set(this,void 0)}_parse(e){if(typeof e.data!="string"){let n=this._getOrReturnCtx(e),r=this._def.values;return C(n,{expected:oe.joinValues(r),received:n.parsedType,code:k.invalid_type}),Z}if(Ps(this,_o,"f")||_d(this,_o,new Set(this._def.values),"f"),!Ps(this,_o,"f").has(e.data)){let n=this._getOrReturnCtx(e),r=this._def.values;return C(n,{received:n.data,code:k.invalid_enum_value,options:r}),Z}return Xe(e.data)}get options(){return this._def.values}get enum(){let e={};for(let n of this._def.values)e[n]=n;return e}get Values(){let e={};for(let n of this._def.values)e[n]=n;return e}get Enum(){let e={};for(let n of this._def.values)e[n]=n;return e}extract(e,n=this._def){return t.create(e,{...this._def,...n})}exclude(e,n=this._def){return t.create(this.options.filter(r=>!e.includes(r)),{...this._def,...n})}};_o=new WeakMap;Mr.create=bd;var Cr=class extends X{constructor(){super(...arguments),vo.set(this,void 0)}_parse(e){let n=oe.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(e);if(r.parsedType!==O.string&&r.parsedType!==O.number){let i=oe.objectValues(n);return C(r,{expected:oe.joinValues(i),received:r.parsedType,code:k.invalid_type}),Z}if(Ps(this,vo,"f")||_d(this,vo,new Set(oe.getValidEnumValues(this._def.values)),"f"),!Ps(this,vo,"f").has(e.data)){let i=oe.objectValues(n);return C(r,{received:r.data,code:k.invalid_enum_value,options:i}),Z}return Xe(e.data)}get enum(){return this._def.values}};vo=new WeakMap;Cr.create=(t,e)=>new Cr({values:t,typeName:V.ZodNativeEnum,...Q(e)});var Zn=class extends X{unwrap(){return this._def.type}_parse(e){let{ctx:n}=this._processInputParams(e);if(n.parsedType!==O.promise&&n.common.async===!1)return C(n,{code:k.invalid_type,expected:O.promise,received:n.parsedType}),Z;let r=n.parsedType===O.promise?n.data:Promise.resolve(n.data);return Xe(r.then(i=>this._def.type.parseAsync(i,{path:n.path,errorMap:n.common.contextualErrorMap})))}};Zn.create=(t,e)=>new Zn({type:t,typeName:V.ZodPromise,...Q(e)});var xt=class extends X{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===V.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){let{status:n,ctx:r}=this._processInputParams(e),i=this._def.effect||null,o={addIssue:s=>{C(r,s),s.fatal?n.abort():n.dirty()},get path(){return r.path}};if(o.addIssue=o.addIssue.bind(o),i.type==="preprocess"){let s=i.transform(r.data,o);if(r.common.async)return Promise.resolve(s).then(async a=>{if(n.value==="aborted")return Z;let u=await this._def.schema._parseAsync({data:a,path:r.path,parent:r});return u.status==="aborted"?Z:u.status==="dirty"||n.value==="dirty"?hi(u.value):u});{if(n.value==="aborted")return Z;let a=this._def.schema._parseSync({data:s,path:r.path,parent:r});return a.status==="aborted"?Z:a.status==="dirty"||n.value==="dirty"?hi(a.value):a}}if(i.type==="refinement"){let s=a=>{let u=i.refinement(a,o);if(r.common.async)return Promise.resolve(u);if(u instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return a};if(r.common.async===!1){let a=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return a.status==="aborted"?Z:(a.status==="dirty"&&n.dirty(),s(a.value),{status:n.value,value:a.value})}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(a=>a.status==="aborted"?Z:(a.status==="dirty"&&n.dirty(),s(a.value).then(()=>({status:n.value,value:a.value}))))}if(i.type==="transform")if(r.common.async===!1){let s=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!go(s))return s;let a=i.transform(s.value,o);if(a instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:n.value,value:a}}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(s=>go(s)?Promise.resolve(i.transform(s.value,o)).then(a=>({status:n.value,value:a})):s);oe.assertNever(i)}};xt.create=(t,e,n)=>new xt({schema:t,typeName:V.ZodEffects,effect:e,...Q(n)});xt.createWithPreprocess=(t,e,n)=>new xt({schema:e,effect:{type:"preprocess",transform:t},typeName:V.ZodEffects,...Q(n)});var Ft=class extends X{_parse(e){return this._getType(e)===O.undefined?Xe(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}};Ft.create=(t,e)=>new Ft({innerType:t,typeName:V.ZodOptional,...Q(e)});var on=class extends X{_parse(e){return this._getType(e)===O.null?Xe(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}};on.create=(t,e)=>new on({innerType:t,typeName:V.ZodNullable,...Q(e)});var Pr=class extends X{_parse(e){let{ctx:n}=this._processInputParams(e),r=n.data;return n.parsedType===O.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:n.path,parent:n})}removeDefault(){return this._def.innerType}};Pr.create=(t,e)=>new Pr({innerType:t,typeName:V.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...Q(e)});var Or=class extends X{_parse(e){let{ctx:n}=this._processInputParams(e),r={...n,common:{...n.common,issues:[]}},i=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return xo(i)?i.then(o=>({status:"valid",value:o.status==="valid"?o.value:this._def.catchValue({get error(){return new gt(r.common.issues)},input:r.data})})):{status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new gt(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}};Or.create=(t,e)=>new Or({innerType:t,typeName:V.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...Q(e)});var xi=class extends X{_parse(e){if(this._getType(e)!==O.nan){let r=this._getOrReturnCtx(e);return C(r,{code:k.invalid_type,expected:O.nan,received:r.parsedType}),Z}return{status:"valid",value:e.data}}};xi.create=t=>new xi({typeName:V.ZodNaN,...Q(t)});var $m=Symbol("zod_brand"),bo=class extends X{_parse(e){let{ctx:n}=this._processInputParams(e),r=n.data;return this._def.type._parse({data:r,path:n.path,parent:n})}unwrap(){return this._def.type}},wo=class t extends X{_parse(e){let{status:n,ctx:r}=this._processInputParams(e);if(r.common.async)return(async()=>{let o=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return o.status==="aborted"?Z:o.status==="dirty"?(n.dirty(),hi(o.value)):this._def.out._parseAsync({data:o.value,path:r.path,parent:r})})();{let i=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return i.status==="aborted"?Z:i.status==="dirty"?(n.dirty(),{status:"dirty",value:i.value}):this._def.out._parseSync({data:i.value,path:r.path,parent:r})}}static create(e,n){return new t({in:e,out:n,typeName:V.ZodPipeline})}},Rr=class extends X{_parse(e){let n=this._def.innerType._parse(e),r=i=>(go(i)&&(i.value=Object.freeze(i.value)),i);return xo(n)?n.then(i=>r(i)):r(n)}unwrap(){return this._def.innerType}};Rr.create=(t,e)=>new Rr({innerType:t,typeName:V.ZodReadonly,...Q(e)});function wd(t,e={},n){return t?Vn.create().superRefine((r,i)=>{var o,s;if(!t(r)){let a=typeof e=="function"?e(r):typeof e=="string"?{message:e}:e,u=(s=(o=a.fatal)!==null&&o!==void 0?o:n)!==null&&s!==void 0?s:!0,c=typeof a=="string"?{message:a}:a;i.addIssue({code:"custom",...c,fatal:u})}}):Vn.create()}var Im={object:lt.lazycreate},V;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(V||(V={}));var Sm=(t,e={message:`Input not instance of ${t.name}`})=>wd(n=>n instanceof t,e),Ed=qn.create,kd=xr.create,Mm=xi.create,Cm=br.create,Td=wr.create,Pm=Er.create,Om=yi.create,Rm=kr.create,Nm=Tr.create,Lm=Vn.create,jm=kn.create,Fm=Wt.create,Dm=_i.create,Bm=Tn.create,zm=lt.create,Um=lt.strictCreate,qm=Ar.create,Vm=Os.create,Zm=$r.create,Jm=rn.create,Wm=Rs.create,Hm=vi.create,Gm=gi.create,Ym=Ns.create,Km=Ir.create,Qm=Sr.create,Xm=Mr.create,ey=Cr.create,ty=Zn.create,md=xt.create,ny=Ft.create,ry=on.create,iy=xt.createWithPreprocess,oy=wo.create,sy=()=>Ed().optional(),ay=()=>kd().optional(),uy=()=>Td().optional(),cy={string:t=>qn.create({...t,coerce:!0}),number:t=>xr.create({...t,coerce:!0}),boolean:t=>wr.create({...t,coerce:!0}),bigint:t=>br.create({...t,coerce:!0}),date:t=>Er.create({...t,coerce:!0})},ly=Z,m=Object.freeze({__proto__:null,defaultErrorMap:mi,setErrorMap:lm,getErrorMap:Ms,makeIssue:Cs,EMPTY_PATH:fm,addIssueToContext:C,ParseStatus:Ue,INVALID:Z,DIRTY:hi,OK:Xe,isAborted:rl,isDirty:il,isValid:go,isAsync:xo,get util(){return oe},get objectUtil(){return nl},ZodParsedType:O,getParsedType:Un,ZodType:X,datetimeRegex:xd,ZodString:qn,ZodNumber:xr,ZodBigInt:br,ZodBoolean:wr,ZodDate:Er,ZodSymbol:yi,ZodUndefined:kr,ZodNull:Tr,ZodAny:Vn,ZodUnknown:kn,ZodNever:Wt,ZodVoid:_i,ZodArray:Tn,ZodObject:lt,ZodUnion:Ar,ZodDiscriminatedUnion:Os,ZodIntersection:$r,ZodTuple:rn,ZodRecord:Rs,ZodMap:vi,ZodSet:gi,ZodFunction:Ns,ZodLazy:Ir,ZodLiteral:Sr,ZodEnum:Mr,ZodNativeEnum:Cr,ZodPromise:Zn,ZodEffects:xt,ZodTransformer:xt,ZodOptional:Ft,ZodNullable:on,ZodDefault:Pr,ZodCatch:Or,ZodNaN:xi,BRAND:$m,ZodBranded:bo,ZodPipeline:wo,ZodReadonly:Rr,custom:wd,Schema:X,ZodSchema:X,late:Im,get ZodFirstPartyTypeKind(){return V},coerce:cy,any:Lm,array:Bm,bigint:Cm,boolean:Td,date:Pm,discriminatedUnion:Vm,effect:md,enum:Xm,function:Ym,instanceof:Sm,intersection:Zm,lazy:Km,literal:Qm,map:Hm,nan:Mm,nativeEnum:ey,never:Fm,null:Nm,nullable:ry,number:kd,object:zm,oboolean:uy,onumber:ay,optional:ny,ostring:sy,pipeline:oy,preprocess:iy,promise:ty,record:Wm,set:Gm,strictObject:Um,string:Ed,symbol:Om,transformer:md,tuple:Jm,undefined:Rm,union:qm,unknown:jm,void:Dm,NEVER:ly,ZodIssueCode:k,quotelessJson:cm,ZodError:gt});function ce(){return function(t){return t}}function R(t,e){let n=t.safeParse(e);if(!n.success)throw new Ss({errorLevel:"CRITICAL",effect:"Failed to run function due to invalid arguments. Check that the arguments that you are passing to the function match the type definition of the function.",cause:n.error})}var Ls=class{htmlElement;voidFunction;component;tFile;cachedMetadata;block;tableElementType;tableElementBody;markdownCodeBlockExecutionContext;markdownCallingJSFileExecutionContext;markdownOtherExecutionContext;jsFileExecutionContext;unknownExecutionContext;executionContext;engineExecutionParams;engineExecutionParamsFile;engineExecutionParamsFileSimple;jsExecutionGlobalsConstructionOptions;abstractMarkdownElement;messageType;buttonStyleType;buttonPromptButtonOptions;buttonModalPromptOptions;confirmPromptOptions;yesNoPromptOptions;suggesterOption;suggesterPromptOptions;inputPromptOptions;numberInputPromptOptions;constructor(){this.htmlElement=ce()(m.instanceof(HTMLElement)),this.voidFunction=ce()(m.function().args().returns(m.void())),this.component=ce()(m.instanceof(js.Component)),this.tFile=ce()(m.instanceof(js.TFile)),this.cachedMetadata=ce()(m.record(m.unknown())),this.block=ce()(m.object({from:m.number(),to:m.number()})),this.tableElementType=ce()(m.union([m.string(),m.number(),m.boolean(),m.null(),m.undefined()])),this.tableElementBody=ce()(m.array(m.array(this.tableElementType))),this.markdownCodeBlockExecutionContext=ce()(m.object({executionSource:m.literal("markdown-code-block"),file:this.tFile.optional(),metadata:this.cachedMetadata.optional(),block:this.block.optional()})),this.markdownCallingJSFileExecutionContext=ce()(m.object({executionSource:m.literal("markdown-calling-js-file"),file:this.tFile.optional(),metadata:this.cachedMetadata.optional(),jsFile:this.tFile})),this.markdownOtherExecutionContext=ce()(m.object({executionSource:m.literal("markdown-other"),file:this.tFile.optional(),metadata:this.cachedMetadata.optional()})),this.jsFileExecutionContext=ce()(m.object({executionSource:m.literal("js-file"),jsFile:this.tFile})),this.unknownExecutionContext=ce()(m.object({executionSource:m.literal("unknown"),file:this.tFile.optional()})),this.executionContext=ce()(m.discriminatedUnion("executionSource",[this.markdownCodeBlockExecutionContext,this.markdownCallingJSFileExecutionContext,this.markdownOtherExecutionContext,this.jsFileExecutionContext,this.unknownExecutionContext])),this.engineExecutionParams=ce()(m.object({code:m.string(),component:this.component,container:this.htmlElement.optional(),context:this.executionContext,contextOverrides:m.record(m.unknown()).optional()})),this.engineExecutionParamsFile=ce()(m.object({component:this.component,container:this.htmlElement.optional(),context:m.union([this.markdownCallingJSFileExecutionContext,this.jsFileExecutionContext]).optional(),contextOverrides:m.record(m.unknown()).optional()})),this.engineExecutionParamsFileSimple=ce()(m.object({container:this.htmlElement.optional(),context:m.union([this.markdownCallingJSFileExecutionContext,this.jsFileExecutionContext]).optional(),contextOverrides:m.record(m.unknown()).optional()})),this.jsExecutionGlobalsConstructionOptions=ce()(m.object({engine:m.instanceof(zn).optional(),component:this.component,context:m.intersection(this.executionContext,m.record(m.unknown())),container:this.htmlElement.optional()})),this.abstractMarkdownElement=ce()(m.instanceof(Jn)),this.messageType=ce()(m.nativeEnum(yo)),this.buttonStyleType=ce()(m.nativeEnum(wn)),this.buttonPromptButtonOptions=ce()(m.object({label:m.string(),value:m.unknown(),variant:this.buttonStyleType.optional()})),this.buttonModalPromptOptions=ce()(m.object({title:m.string(),classes:m.string().array().optional(),content:m.string().optional(),buttons:this.buttonPromptButtonOptions.array()})),this.confirmPromptOptions=ce()(m.object({title:m.string(),classes:m.string().array().optional(),content:m.string().optional()})),this.yesNoPromptOptions=ce()(m.object({title:m.string(),classes:m.string().array().optional(),content:m.string().optional()})),this.suggesterOption=ce()(m.object({value:m.unknown(),label:m.string()})),this.suggesterPromptOptions=ce()(m.object({placeholder:m.string().optional(),options:this.suggesterOption.array()})),this.inputPromptOptions=ce()(m.object({title:m.string(),classes:m.string().array().optional(),content:m.string().optional(),placeholder:m.string().optional(),initialValue:m.string().optional()})),this.numberInputPromptOptions=ce()(m.object({title:m.string(),classes:m.string().array().optional(),content:m.string().optional(),placeholder:m.string().optional(),initialValue:m.number().optional()}))}};var $d=require("obsidian");var An=class{content;apiInstance;constructor(e,n){this.apiInstance=e,this.content=n}async render(e,n,r,i){R(m.object({app:m.object({}),element:this.apiInstance.validators.htmlElement,sourcePath:m.string(),component:this.apiInstance.validators.component}),{app:e,element:n,sourcePath:r,component:i}),await $d.MarkdownRenderer.render(e,this.content,n,r,i)}};var Jn=class{apiInstance;constructor(e){this.apiInstance=e}toMarkdown(){return new An(this.apiInstance,this.toString())}};var bi=class extends Jn{getType(){return"LITERAL"}};var sn=class extends Jn{markdownElements;constructor(e){super(e),this.markdownElements=[]}getType(){return"NON_LITERAL"}addElement(e){if(R(m.object({element:this.apiInstance.validators.abstractMarkdownElement}),{element:e}),this.allowElement(e))this.markdownElements.push(e);else throw new Error("Element not allowed in container.")}addText(e){R(m.object({text:m.string()}),{text:e});let n=new bt(this.apiInstance,e,!1,!1,!1,!1);return this.addElement(n),this}addBoldText(e){R(m.object({text:m.string()}),{text:e});let n=new bt(this.apiInstance,e,!0,!1,!1,!1);return this.addElement(n),this}addCursiveText(e){R(m.object({text:m.string()}),{text:e});let n=new bt(this.apiInstance,e,!1,!0,!1,!1);return this.addElement(n),this}addUnderlinedText(e){R(m.object({text:m.string()}),{text:e});let n=new bt(this.apiInstance,e,!1,!1,!0,!1);return this.addElement(n),this}addHighlightedText(e){R(m.object({text:m.string()}),{text:e});let n=new bt(this.apiInstance,e,!1,!1,!1,!0);return this.addElement(n),this}addCode(e){R(m.object({text:m.string()}),{text:e});let n=new Eo(this.apiInstance,e);return this.addElement(n),this}createParagraph(e){R(m.object({content:m.string()}),{content:e});let n=new Ao(this.apiInstance,e);return this.addElement(n),n}createHeading(e,n){R(m.object({level:m.number(),content:m.string()}),{level:e,content:n});let r=new To(this.apiInstance,e,n);return this.addElement(r),r}createBlockQuote(){let e=new Io(this.apiInstance);return this.addElement(e),e}createCallout(e,n,r=""){R(m.object({title:m.string(),type:m.string(),args:m.string()}),{title:e,type:n,args:r});let i=new Nr(this.apiInstance,e,n,r,!1,!1);return this.addElement(i),i}createCollapsibleCallout(e,n,r="",i=!1){R(m.object({title:m.string(),type:m.string(),args:m.string(),collapsed:m.boolean()}),{title:e,type:n,args:r,collapsed:i});let o=new Nr(this.apiInstance,e,n,r,!0,i);return this.addElement(o),o}createCodeBlock(e,n){R(m.object({language:m.string(),content:m.string()}),{language:e,content:n});let r=new $o(this.apiInstance,e,n);return this.addElement(r),r}createTable(e,n){R(m.object({header:m.array(m.string()),body:this.apiInstance.validators.tableElementBody}),{header:e,body:n});let r=new ko(this.apiInstance,e,n);return this.addElement(r),r}createList(e=!1){R(m.object({ordered:m.boolean()}),{ordered:e});let n=new Lr(this.apiInstance,e);return this.addElement(n),n}createOrderedList(){let e=new Lr(this.apiInstance,!0);return this.addElement(e),e}},bt=class extends bi{content;bold;cursive;underline;highlight;constructor(e,n,r,i,o,s){super(e),this.content=n,this.bold=r,this.cursive=i,this.underline=o,this.highlight=s}toString(){let e="",n="";return this.underline&&(e+="<u>",n="</u>"+n),this.bold&&(e+="**",n="**"+n),this.cursive&&(e+="*",n="*"+n),this.highlight&&(e+="==",n="=="+n),e+this.content+n}},Eo=class extends bi{content;constructor(e,n){super(e),this.content=n}toString(){return`\`${this.content}\``}},ko=class extends bi{header;body;constructor(e,n,r){super(e),this.header=n,this.body=r.map(i=>i.map(o=>o==null?"":o.toString()))}toString(){let e=this.body.length;if(e===0)return"";let n=this.header.length;if(n===0)return"";for(let o of this.body)if(o.length!==n)throw new Error("Table rows are do not contain the same number of columns.");let r=[];for(let o=0;o<n;o++){let s=0;this.header[o].length>s&&(s=this.header[o].length);for(let a of this.body)a[o].length>s&&(s=a[o].length);r.push(s)}let i="";i+="|";for(let o=0;o<n;o++){let s=this.header[o];s+=" ".repeat(r[o]-s.length),i+=" "+s+" |"}i+=`
`,i+="|";for(let o=0;o<n;o++)i+=" "+"-".repeat(r[o])+" |";i+=`
`;for(let o=0;o<e;o++){i+="|";for(let s=0;s<n;s++){let a=this.body[o][s];a+=" ".repeat(r[s]-a.length),i+=" "+a+" |"}i+=`
`}return i}},To=class extends sn{level;constructor(e,n,r){super(e),this.level=n,this.addText(r)}toString(){return`${"#".repeat(this.level)} ${this.markdownElements.map(e=>e.toString()).join("")}`}allowElement(e){return e.getType()==="LITERAL"}},Ao=class extends sn{constructor(e,n){super(e),this.addText(n)}toString(){return this.markdownElements.map(e=>e.toString()).join("")}allowElement(e){return e.getType()==="LITERAL"}},$o=class extends sn{language;constructor(e,n,r){super(e),this.language=n,this.addText(r)}toString(){return`\`\`\`${this.language}
${this.markdownElements.map(e=>e.toString()).join("")}
\`\`\``}allowElement(e){return e.getType()==="LITERAL"}},Io=class extends sn{toString(){return"> "+this.markdownElements.map(e=>e.toString().replaceAll(`
`,`
> `)).join(`
> 
> `)}allowElement(e){return!0}},Nr=class extends sn{title;type;args;collapsible;collapsed;constructor(e,n,r,i,o=!1,s=!1){super(e),this.title=n,this.type=r,this.args=i,this.collapsible=o,this.collapsed=s}toString(){return`> [!${this.type}|${this.args}]${this.collapseChar()} ${this.title}
> `+this.markdownElements.map(e=>e.toString().replaceAll(`
`,`
> `)).join(`
> 
> `)}collapseChar(){return this.collapsible?this.collapsed?"-":"+":""}allowElement(e){return!0}},Lr=class t extends sn{ordered;constructor(e,n){super(e),this.ordered=n}getPrefix(e){return this.ordered?`${e+1}. `:"- "}toString(){return this.markdownElements.map((e,n)=>e instanceof t?`	${e.toString().replaceAll(`
`,`
	`)}`:`${this.getPrefix(n)}${e.toString().replaceAll(`
`,`
	`)}`).join(`
`)}allowElement(e){return!0}};var jr=class extends sn{constructor(e){super(e)}toString(){return this.markdownElements.map(e=>e.toString()).join(`

`)}allowElement(e){return!0}};var wi=class{apiInstance;_render;initialArgs;renderer;constructor(e,n,r){this.apiInstance=e,this._render=n,this.initialArgs=r}async refresh(...e){let n;try{n=await this._render(...e)}catch(r){console.warn("failed to execute JS",r),r instanceof Error&&(n=this.apiInstance.message.createMessage("error","Failed to execute JS",`Failed to execute JS during reactive execution in execution "${this.apiInstance.instanceId.id}"`,r.stack))}this.renderer?.render(n)}initialRender(){this.refresh(...this.initialArgs)}setRenderer(e){this.renderer=e}};var Ei=class{plugin;container;sourcePath;component;constructor(e,n,r,i){this.plugin=e,this.container=n,this.sourcePath=r,this.component=i}async render(e){if(e!=null){if(this.container.empty(),typeof e=="string"){this.container.innerText=e;return}if(e instanceof jr&&(e=e.toMarkdown()),e instanceof An){await e.render(this.plugin.app,this.container,this.sourcePath,this.component);return}if(e instanceof HTMLElement){this.container.append(e);return}if(e instanceof di){let n=Be(gr,{target:this.container,props:{messageWrapper:e,messageManager:this.plugin.messageManager,showDeleteButton:!1,showMessageSource:!1}});this.component.register(()=>{Ke(n)});return}if(e instanceof wi){e.setRenderer(this),e.initialRender();return}this.container.innerText=JSON.stringify(e)}}convertToSimpleObject(e){return e instanceof jr?e.toMarkdown().content:e instanceof An?e.content:e instanceof HTMLElement?e.outerHTML:e instanceof di?e.message:e}};var Wn=require("obsidian"),dy=Nn(require("obsidian"));var Fs=class{apiInstance;constructor(e){this.apiInstance=e}async execute(e){return R(m.object({params:this.apiInstance.validators.engineExecutionParams}),{params:e}),await this.apiInstance.plugin.jsEngine.execute(e)}createRenderer(e,n,r){return R(m.object({container:this.apiInstance.validators.htmlElement,sourcePath:m.string(),component:this.apiInstance.validators.component}),{container:e,sourcePath:n,component:r}),new Ei(this.apiInstance.plugin,e,n,r)}async executeFile(e,n){R(m.object({path:m.string(),params:this.apiInstance.validators.engineExecutionParamsFile}),{path:e,params:n});let r=this.apiInstance.app.vault.getAbstractFileByPath(e);if(!r||!(r instanceof Wn.TFile))throw new Error(`File ${e} not found.`);return await this.execute({context:{executionSource:"js-file",jsFile:r},...n,code:await this.apiInstance.app.vault.read(r)})}async executeFileSimple(e,n){R(m.object({path:m.string(),params:this.apiInstance.validators.engineExecutionParamsFileSimple.optional()}),{path:e,params:n});let r=new Wn.Component;r.load();try{return await this.executeFile(e,{component:r,...n})}finally{r.unload()}}async getContextForFile(e){R(m.object({path:m.string()}),{path:e});let n=this.apiInstance.app.vault.getAbstractFileByPath(e);if(!n||!(n instanceof Wn.TFile))throw new Error(`File ${e} not found.`);let r=this.apiInstance.app.metadataCache.getFileCache(n);return{executionSource:"markdown-code-block",file:n,metadata:r??void 0,block:void 0}}async getContextForMarkdownCodeBlock(e){R(m.object({path:m.string()}),{path:e});let n=this.tryGetFileWithExtension(e,"md"),r=n?this.apiInstance.app.metadataCache.getFileCache(n):void 0;return{executionSource:"markdown-code-block",file:n,metadata:r??void 0,block:void 0}}async getContextForMarkdownCallingJSFile(e,n){R(m.object({markdownPath:m.string(),jsPath:m.string()}),{markdownPath:e,jsPath:n});let r=this.tryGetFileWithExtension(e,"md"),i=r?this.apiInstance.app.metadataCache.getFileCache(r):void 0,o=this.getFileWithExtension(n,"js");return{executionSource:"markdown-calling-js-file",file:r,metadata:i??void 0,jsFile:o}}async getContextForMarkdownOther(e){R(m.object({path:m.string()}),{path:e});let n=this.tryGetFileWithExtension(e,"md"),r=n?this.apiInstance.app.metadataCache.getFileCache(n):void 0;return{executionSource:"markdown-other",file:n,metadata:r??void 0}}async getContextForJSFile(e){R(m.object({path:m.string()}),{path:e});let n=this.getFileWithExtension(e,"js");return{executionSource:"js-file",jsFile:n}}async getContextForUnknown(e){if(R(m.object({path:m.string().optional()}),{path:e}),e){let n=this.apiInstance.app.vault.getAbstractFileByPath(e);if(!n||!(n instanceof Wn.TFile))throw new Error(`File ${e} not found.`);return{executionSource:"unknown",file:n}}else return{executionSource:"unknown"}}createExecutionGlobals(e){return R(m.object({options:this.apiInstance.validators.jsExecutionGlobalsConstructionOptions}),{options:e}),{app:this.apiInstance.app,engine:e.engine??this.apiInstance,component:e.component,context:e.context,container:e.container,obsidian:dy}}async executeStartupScripts(){for(let e of this.apiInstance.plugin.settings.startupScripts??[])await this.executeFileSimple(e)}getFileWithExtension(e,n){let r=this.apiInstance.app.vault.getAbstractFileByPath(e);if(!r||!(r instanceof Wn.TFile))throw new Error(`File ${e} not found.`);if(r.extension!==n&&r.extension!==`.${n}`)throw new Error(`File ${e} is not of the expected file type. Expected file extension to be ".${n}".`);return r}tryGetFileWithExtension(e,n){let r=this.apiInstance.app.vault.getAbstractFileByPath(e);if(!(!r||!(r instanceof Wn.TFile))&&!(r.extension!==n&&r.extension!==`.${n}`))return r}};var Bd=Nn(So()),zd=Nn(cl()),ju=Nn(hl()),Ud=Nn(dl()),qd=Nn(Mo());var wl={};zl(wl,{AsyncStream:()=>Nu,InvalidArgumentError:()=>he,LengthError:()=>dt,Stream:()=>Hn,infinite:()=>Pn,math:()=>Ey,multi:()=>ky,reduce:()=>Gs,set:()=>Ty,single:()=>Ai,summary:()=>Ay,transform:()=>$y});var he=class extends Error{},dt=class extends Error{};var Fr=function(t,e,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(l){try{c(r.next(l))}catch(p){s(p)}}function u(l){try{c(r.throw(l))}catch(p){s(p)}}function c(l){l.done?o(l.value):i(l.value).then(a,u)}c((r=r.apply(t,e||[])).next())})},an=function(t){return this instanceof an?(this.v=t,this):new an(t)},Sd=function(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,o=[];return i={},s("next"),s("throw"),s("return"),i[Symbol.asyncIterator]=function(){return this},i;function s(d){r[d]&&(i[d]=function(y){return new Promise(function(v,b){o.push([d,y,v,b])>1||a(d,y)})})}function a(d,y){try{u(r[d](y))}catch(v){p(o[0][3],v)}}function u(d){d.value instanceof an?Promise.resolve(d.value.v).then(c,l):p(o[0][2],d)}function c(d){a("next",d)}function l(d){a("throw",d)}function p(d,y){d(y),o.shift(),o.length&&a(o[0][0],o[0][1])}},$e;(function(t){t[t.SHORTEST=0]="SHORTEST",t[t.LONGEST=1]="LONGEST",t[t.STRICT_EQUAL=2]="STRICT_EQUAL"})($e||($e={}));function*Gn(t,e,...n){if(n.length===0)return;let r=[];for(let i of n)r.push(Co(i));e:for(;;){let i=Ai.map(r,u=>u.next()),o=[],s=!0,a=!1;for(let u of i){let c;u.done?(s=!1,c=e):(a=!0,c=u.value),o.push(c)}if(!s&&a)switch(t){case $e.SHORTEST:break e;case $e.STRICT_EQUAL:throw new dt("Iterators must have equal lengths")}if(!a)break;yield o}}function Yn(t,e,...n){return Sd(this,arguments,function*(){if(n.length===0)return yield an(void 0);let i=[];for(let o of n)i.push(Po(o));e:for(;;){let o=[];for(let c of i){let l=yield an(c.next());o.push(l)}let s=[],a=!0,u=!1;for(let c of o){let l;c.done?(a=!1,l=e):(u=!0,l=c.value),s.push(l)}if(!a&&u)switch(t){case $e.SHORTEST:break e;case $e.STRICT_EQUAL:throw new dt("Iterators must have equal lengths")}if(!u)break;yield yield an(s)}})}var Dr=class{constructor(){this.addedMap=new Map,this.deletedMap=new Map}addUsage(e,n){this.addedMap.has(e)||this.addedMap.set(e,new Map);let r=this.addedMap.get(e);r.has(n)||r.set(n,0),r.set(n,r.get(n)+1)}deleteUsage(e){this.deletedMap.has(e)?this.deletedMap.set(e,this.deletedMap.get(e)+1):this.deletedMap.set(e,1)}getOwnersCount(e){var n,r;let i=(n=this.deletedMap.get(e))!==null&&n!==void 0?n:0;return Hn.of((r=this.addedMap.get(e))!==null&&r!==void 0?r:new Map).map(o=>o[1]).filter(o=>o>i).toValue(o=>o+1,0)}getUsagesCount(e,n=1){var r,i;let o=(r=this.deletedMap.get(e))!==null&&r!==void 0?r:0,s=Hn.of((i=this.addedMap.get(e))!==null&&i!==void 0?i:new Map).map(a=>a[1]).map(a=>a-o).filter(a=>a>0).toArray();for(;s.length>n;){let a=Gs.toMin(s);s=Hn.of(s).map(u=>u-a).filter(u=>u>0).toArray()}return Gs.toSum(s)}},Ie=class{},Ws=class{constructor(e,n){this.related=[],this.positions=[],this.cache=new Map,this.lastCacheIndex=0,this.isValid=!0,this.iterator=e;for(let r=0;r<n;++r)this.related.push(new _l(this,r)),this.positions.push(0);this.cacheNextValue()}current(e){let n=this.getPosition(e);return this.cache.get(n)}next(e){let[n,r,i]=[this.getPosition(e),Math.min(...this.positions),Math.max(...this.positions)];n===i&&this.cacheNextValue(),this.positions[e.getId()]++,r<Math.min(...this.positions)&&this.cache.delete(r)}valid(e){return this.getPosition(e)<this.lastCacheIndex||this.isValid}getRelatedIterables(){return this.related}cacheNextValue(){let e=this.iterator.next();e.done||this.cache.set(this.lastCacheIndex++,e.value),this.isValid=!e.done}getPosition(e){return this.positions[e.getId()]}},_l=class{constructor(e,n){this.parent=e,this.id=n}getId(){return this.id}valid(){return this.parent.valid(this)}next(){let e={value:this.current(),done:!this.valid()};return e.done||this.parent.next(this),e}current(){return this.parent.valid(this)?this.parent.current(this):void 0}*[Symbol.iterator](){for(;this.parent.valid(this);)yield this.parent.current(this),this.parent.next(this)}},Hs=class{constructor(e,n){this.related=[],this.positions=[],this.cache=new Map,this.lastCacheIndex=0,this.isValid=!0,this.isFirstIteration=!0,this.iterator=e;for(let r=0;r<n;++r)this.related.push(new vl(this,r)),this.positions.push(0)}current(e){return Fr(this,void 0,void 0,function*(){this.isFirstIteration&&(yield this.cacheNextValue());let n=this.getPosition(e);return this.cache.get(n)})}next(e){return Fr(this,void 0,void 0,function*(){let[n,r,i]=[this.getPosition(e),Math.min(...this.positions),Math.max(...this.positions)];n===i&&(yield this.cacheNextValue()),this.positions[e.getId()]++,r<Math.min(...this.positions)&&this.cache.delete(r)})}valid(e){return Fr(this,void 0,void 0,function*(){return this.isFirstIteration&&(yield this.cacheNextValue()),this.getPosition(e)<this.lastCacheIndex||this.isValid})}getRelatedIterables(){return this.related}cacheNextValue(){return Fr(this,void 0,void 0,function*(){let e=yield this.iterator.next();e.done||this.cache.set(this.lastCacheIndex++,e.value),this.isFirstIteration=!1,this.isValid=!e.done})}getPosition(e){return this.positions[e.getId()]}},vl=class{constructor(e,n){this.parent=e,this.id=n}getId(){return this.id}valid(){return Fr(this,void 0,void 0,function*(){return yield this.parent.valid(this)})}next(){return Fr(this,void 0,void 0,function*(){let e={value:yield this.current(),done:!(yield this.valid())};return e.done||(yield this.parent.next(this)),e})}current(){return Fr(this,void 0,void 0,function*(){return(yield this.parent.valid(this))?yield this.parent.current(this):void 0})}[Symbol.asyncIterator](){return Sd(this,arguments,function*(){for(;yield an(this.parent.valid(this));)yield yield an(yield an(this.parent.current(this))),yield an(this.parent.next(this))})}};var Oo=function(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof __values=="function"?__values(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=t[o]&&function(s){return new Promise(function(a,u){s=t[o](s),i(a,u,s.done,s.value)})}}function i(o,s,a,u){Promise.resolve(u).then(function(c){o({value:c,done:a})},s)}},Ce=function(t){return this instanceof Ce?(this.v=t,this):new Ce(t)},Ro=function(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,o=[];return i={},s("next"),s("throw"),s("return"),i[Symbol.asyncIterator]=function(){return this},i;function s(d){r[d]&&(i[d]=function(y){return new Promise(function(v,b){o.push([d,y,v,b])>1||a(d,y)})})}function a(d,y){try{u(r[d](y))}catch(v){p(o[0][3],v)}}function u(d){d.value instanceof Ce?Promise.resolve(d.value.v).then(c,l):p(o[0][2],d)}function c(d){a("next",d)}function l(d){a("throw",d)}function p(d,y){d(y),o.shift(),o.length&&a(o[0][0],o[0][1])}};function*$i(...t){for(let e of Gn($e.SHORTEST,void 0,...t))yield e}function Ii(...t){return Ro(this,arguments,function*(){var n,r,i,o;try{for(var s=!0,a=Oo(Yn($e.SHORTEST,void 0,...t)),u;u=yield Ce(a.next()),n=u.done,!n;){o=u.value,s=!1;try{yield yield Ce(o)}finally{s=!0}}}catch(c){r={error:c}}finally{try{!s&&!n&&(i=a.return)&&(yield Ce(i.call(a)))}finally{if(r)throw r.error}}})}function*Ys(t,...e){for(let n of Gn($e.LONGEST,t,...e))yield n}function Ks(t,...e){return Ro(this,arguments,function*(){var r,i,o,s;try{for(var a=!0,u=Oo(Yn($e.LONGEST,t,...e)),c;c=yield Ce(u.next()),r=c.done,!r;){s=c.value,a=!1;try{yield yield Ce(s)}finally{a=!0}}}catch(l){i={error:l}}finally{try{!a&&!r&&(o=u.return)&&(yield Ce(o.call(u)))}finally{if(i)throw i.error}}})}function*Qs(...t){for(let e of Gn($e.LONGEST,void 0,...t))yield e}function Xs(...t){return Ro(this,arguments,function*(){var n,r,i,o;try{for(var s=!0,a=Oo(Yn($e.LONGEST,void 0,...t)),u;u=yield Ce(a.next()),n=u.done,!n;){o=u.value,s=!1;try{yield yield Ce(o)}finally{s=!0}}}catch(c){r={error:c}}finally{try{!s&&!n&&(i=a.return)&&(yield Ce(i.call(a)))}finally{if(r)throw r.error}}})}function*Si(...t){for(let e of Gn($e.STRICT_EQUAL,void 0,...t))yield e}function Mi(...t){return Ro(this,arguments,function*(){var n,r,i,o;try{for(var s=!0,a=Oo(Yn($e.STRICT_EQUAL,void 0,...t)),u;u=yield Ce(a.next()),n=u.done,!n;){o=u.value,s=!1;try{yield yield Ce(o)}finally{s=!0}}}catch(c){r={error:c}}finally{try{!s&&!n&&(i=a.return)&&(yield Ce(i.call(a)))}finally{if(r)throw r.error}}})}function*ea(...t){for(let e of t)for(let n of z(e))yield n}function ta(...t){return Ro(this,arguments,function*(){var n,r,i,o;for(let c of t)try{for(var s=!0,a=(r=void 0,Oo(D(c))),u;u=yield Ce(a.next()),n=u.done,!n;){o=u.value,s=!1;try{yield yield Ce(o)}finally{s=!0}}}catch(l){r={error:l}}finally{try{!s&&!n&&(i=a.return)&&(yield Ce(i.call(a)))}finally{if(r)throw r.error}}})}var et=function(t,e,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(l){try{c(r.next(l))}catch(p){s(p)}}function u(l){try{c(r.throw(l))}catch(p){s(p)}}function c(l){l.done?o(l.value):i(l.value).then(a,u)}c((r=r.apply(t,e||[])).next())})},na=function(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof __values=="function"?__values(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=t[o]&&function(s){return new Promise(function(a,u){s=t[o](s),i(a,u,s.done,s.value)})}}function i(o,s,a,u){Promise.resolve(u).then(function(c){o({value:c,done:a})},s)}};function Et(t,e,n){let r=n;for(let i of z(t))r=e(r,i);return r}function kt(t,e,n){var r,i,o,s;return et(this,void 0,void 0,function*(){let a=n;try{for(var u=!0,c=na(D(t)),l;l=yield c.next(),r=l.done,!r;){s=l.value,u=!1;try{a=yield e(a,s)}finally{u=!0}}}catch(p){i={error:p}}finally{try{!u&&!r&&(o=c.return)&&(yield o.call(c))}finally{if(i)throw i.error}}return a})}function ra(t){let[e,n]=Et(t,(r,i)=>{let[o,s]=r;return[o+1,s+Number(i)]},[0,0]);return e?n/e:void 0}function ia(t){return et(this,void 0,void 0,function*(){let[e,n]=yield kt(t,(r,i)=>{let[o,s]=r;return[o+1,s+Number(i)]},[0,0]);return e?n/e:void 0})}function oa(t,e){return e!==void 0?Et(t,(n,r)=>e(r)>e(n??r)?r:n??r):Et(t,(n,r)=>{let i=n??r,o=r;return i>=o?i:o})}function sa(t,e){return et(this,void 0,void 0,function*(){return e!==void 0?yield kt(t,(n,r)=>et(this,void 0,void 0,function*(){return(yield e(r))>(yield e(n??r))?r:n??r})):yield kt(t,(n,r)=>{let i=n??r,o=r;return i>=o?i:o})})}function aa(t,e){return e!==void 0?Et(t,(n,r)=>e(r)<e(n??r)?r:n??r):Et(t,(n,r)=>{let i=n??r,o=r;return i<=o?i:o})}function ua(t,e){return et(this,void 0,void 0,function*(){return e!==void 0?yield kt(t,(n,r)=>et(this,void 0,void 0,function*(){return(yield e(r))<(yield e(n??r))?r:n??r})):yield kt(t,(n,r)=>{let i=n??r,o=r;return i<=o?i:o})})}function No(t,e){let n=e!==void 0?e:r=>r;return Et(t,(r,i)=>{var o,s,a,u;return r=r,[n(i)<=n((o=r[0])!==null&&o!==void 0?o:i)?i:(s=r[0])!==null&&s!==void 0?s:i,n(i)>=n((a=r[1])!==null&&a!==void 0?a:i)?i:(u=r[1])!==null&&u!==void 0?u:i]},[void 0,void 0])}function Lo(t,e){return et(this,void 0,void 0,function*(){let n=e!==void 0?e:r=>r;return yield kt(t,(r,i)=>et(this,void 0,void 0,function*(){var o,s,a,u;return r=r,[(yield n(i))<=(yield n((o=r[0])!==null&&o!==void 0?o:i))?i:(s=r[0])!==null&&s!==void 0?s:i,(yield n(i))>=(yield n((a=r[1])!==null&&a!==void 0?a:i))?i:(u=r[1])!==null&&u!==void 0?u:i]}),[void 0,void 0])})}function ca(t){let[e,n]=No(Kn(t,r=>Number(r)));return(n??0)-(e??0)}function la(t){return et(this,void 0,void 0,function*(){let[e,n]=yield Lo(cn(t,r=>Number(r)));return(n??0)-(e??0)})}function fa(t){return Et(t,(e,n)=>e+Number(n),0)}function da(t){return et(this,void 0,void 0,function*(){return yield kt(t,(e,n)=>e+Number(n),0)})}function pa(t){return Et(t,(e,n)=>(e??1)*n)}function ha(t){return et(this,void 0,void 0,function*(){return yield kt(t,(e,n)=>(e??1)*n)})}function Br(t){switch(!0){case t instanceof Array:return t.length;case un(t):return t.length;case t instanceof Set:return t.size;case t instanceof Map:return t.size}return Et(t,e=>e+1,0)}function Ci(t){return et(this,void 0,void 0,function*(){switch(!0){case t instanceof Array:case un(t):case t instanceof Set:case t instanceof Map:return Br(t)}return yield kt(t,e=>e+1,0)})}function ma(t){for(let e of z(t))return e;throw new dt("Collection is empty")}function ya(t){var e,n,r,i;return et(this,void 0,void 0,function*(){try{for(var o=!0,s=na(D(t)),a;a=yield s.next(),e=a.done,!e;){i=a.value,o=!1;try{return i}finally{o=!0}}}catch(u){n={error:u}}finally{try{!o&&!e&&(r=s.return)&&(yield r.call(s))}finally{if(n)throw n.error}}throw new dt("Collection is empty")})}function _a(t){let e=!0,n;for(let r of z(t))n=r,e=!1;if(e)throw new dt("Collection is empty");return n}function va(t){var e,n,r,i;return et(this,void 0,void 0,function*(){let o=!0,s;try{for(var a=!0,u=na(D(t)),c;c=yield u.next(),e=c.done,!e;){i=c.value,a=!1;try{s=i,o=!1}finally{a=!0}}}catch(l){n={error:l}}finally{try{!a&&!e&&(r=u.return)&&(yield r.call(u))}finally{if(n)throw n.error}}if(o)throw new dt("Collection is empty");return s})}function ga(t){let e=Ie,n=Ie;for(let r of z(t))e===Ie&&(e=r),n=r;if(e===Ie)throw new dt("Collection is empty");return[e,n]}function xa(t){var e,n,r,i;return et(this,void 0,void 0,function*(){let o=Ie,s=Ie;try{for(var a=!0,u=na(D(t)),c;c=yield u.next(),e=c.done,!e;){i=c.value,a=!1;try{let l=i;o===Ie&&(o=l),s=l}finally{a=!0}}}catch(l){n={error:l}}finally{try{!a&&!e&&(r=u.return)&&(yield r.call(u))}finally{if(n)throw n.error}}if(o===Ie)throw new dt("Collection is empty");return[o,s]})}var Ht=function(t,e,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(l){try{c(r.next(l))}catch(p){s(p)}}function u(l){try{c(r.throw(l))}catch(p){s(p)}}function c(l){l.done?o(l.value):i(l.value).then(a,u)}c((r=r.apply(t,e||[])).next())})},$n=function(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof __values=="function"?__values(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=t[o]&&function(s){return new Promise(function(a,u){s=t[o](s),i(a,u,s.done,s.value)})}}function i(o,s,a,u){Promise.resolve(u).then(function(c){o({value:c,done:a})},s)}};function ba(t,e){for(let n of z(t))if(!e(n))return!1;return!0}function wa(t,e){var n,r,i,o;return Ht(this,void 0,void 0,function*(){try{for(var s=!0,a=$n(D(t)),u;u=yield a.next(),n=u.done,!n;){o=u.value,s=!1;try{if(!(yield e(o)))return!1}finally{s=!0}}}catch(c){r={error:c}}finally{try{!s&&!n&&(i=a.return)&&(yield i.call(a))}finally{if(r)throw r.error}}return!0})}function Ea(t){let e=new Set;for(let n of z(t)){if(e.has(n))return!1;e.add(n)}return!0}function ka(t){var e,n,r,i;return Ht(this,void 0,void 0,function*(){let o=new Set;try{for(var s=!0,a=$n(D(t)),u;u=yield a.next(),e=u.done,!e;){i=u.value,s=!1;try{let c=i;if(o.has(c))return!1;o.add(c)}finally{s=!0}}}catch(c){n={error:c}}finally{try{!s&&!e&&(r=a.return)&&(yield r.call(a))}finally{if(n)throw n.error}}return!0})}function Ta(t,e){for(let n of z(t))if(e(n))return!0;return!1}function Aa(t,e){var n,r,i,o;return Ht(this,void 0,void 0,function*(){try{for(var s=!0,a=$n(D(t)),u;u=yield a.next(),n=u.done,!n;){o=u.value,s=!1;try{if(yield e(o))return!0}finally{s=!0}}}catch(c){r={error:c}}finally{try{!s&&!n&&(i=a.return)&&(yield i.call(a))}finally{if(r)throw r.error}}return!1})}function $a(t,e,n){if(e<0)return!1;n===void 0&&(n=i=>!!i);let r=0;for(let i of z(t))if(n(i)&&(r++,r>e))return!1;return r===e}function Ia(t,e,n){var r,i,o,s;return Ht(this,void 0,void 0,function*(){if(e<0)return!1;n===void 0&&(n=p=>!!p);let a=0;try{for(var u=!0,c=$n(D(t)),l;l=yield c.next(),r=l.done,!r;){s=l.value,u=!1;try{if((yield n(s))&&(a++,a>e))return!1}finally{u=!0}}}catch(p){i={error:p}}finally{try{!u&&!r&&(o=c.return)&&(yield o.call(c))}finally{if(i)throw i.error}}return a===e})}function Md(t){for(let e of z(t))return!1;return!0}function Cd(t){var e,n,r,i;return Ht(this,void 0,void 0,function*(){try{for(var o=!0,s=$n(D(t)),a;a=yield s.next(),e=a.done,!e;){i=a.value,o=!1;try{let u=i;return!1}finally{o=!0}}}catch(u){n={error:u}}finally{try{!o&&!e&&(r=s.return)&&(yield r.call(s))}finally{if(n)throw n.error}}return!0})}function pt(t){return t==null?!1:typeof t[Symbol.iterator]=="function"}function In(t){return t==null?!1:typeof t[Symbol.asyncIterator]=="function"}function zt(t){return t==null?!1:t.next!==void 0&&typeof t.next=="function"}function Sa(t){for(let[e,n]of Sn(z(t)))if(e<n)return!1;return!0}function Ma(t){var e,n,r,i;return Ht(this,void 0,void 0,function*(){try{for(var o=!0,s=$n(zr(D(t))),a;a=yield s.next(),e=a.done,!e;){i=a.value,o=!1;try{let[u,c]=i;if(u<c)return!1}finally{o=!0}}}catch(u){n={error:u}}finally{try{!o&&!e&&(r=s.return)&&(yield r.call(s))}finally{if(n)throw n.error}}return!0})}function Ca(t){for(let[e,n]of Sn(z(t)))if(e>n)return!1;return!0}function Pa(t){var e,n,r,i;return Ht(this,void 0,void 0,function*(){try{for(var o=!0,s=$n(zr(D(t))),a;a=yield s.next(),e=a.done,!e;){i=a.value,o=!1;try{let[u,c]=i;if(u>c)return!1}finally{o=!0}}}catch(u){n={error:u}}finally{try{!o&&!e&&(r=s.return)&&(yield r.call(s))}finally{if(n)throw n.error}}return!0})}function un(t){return typeof t=="string"||t instanceof String}function Oa(t,e){for(let n of z(t))if(e(n))return!1;return!0}function Ra(t,e){var n,r,i,o;return Ht(this,void 0,void 0,function*(){try{for(var s=!0,a=$n(D(t)),u;u=yield a.next(),n=u.done,!n;){o=u.value,s=!1;try{if(yield e(o))return!1}finally{s=!0}}}catch(c){r={error:c}}finally{try{!s&&!n&&(i=a.return)&&(yield i.call(a))}finally{if(r)throw r.error}}return!0})}function Na(...t){try{for(let e of Si(...t))for(let[n,r]of Sn(e))if(n!==r)return!1}catch{return!1}return!0}function La(...t){var e,n,r,i;return Ht(this,void 0,void 0,function*(){try{try{for(var o=!0,s=$n(Mi(...t)),a;a=yield s.next(),e=a.done,!e;){i=a.value,o=!1;try{let u=i;for(let[c,l]of Sn(u))if(c!==l)return!1}finally{o=!0}}}catch(u){n={error:u}}finally{try{!o&&!e&&(r=s.return)&&(yield r.call(s))}finally{if(n)throw n.error}}}catch{return!1}return!0})}function ja(...t){if(t.length<=1)return!0;let e=t.map(n=>Br(n));return new Set(e).size===1}function Fa(...t){return Ht(this,void 0,void 0,function*(){if(t.length<=1)return!0;let e=yield cn(t,n=>Ht(this,void 0,void 0,function*(){return yield Ci(n)}));return new Set(yield Gt(e)).size===1})}var xl=function(t,e,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(l){try{c(r.next(l))}catch(p){s(p)}}function u(l){try{c(r.throw(l))}catch(p){s(p)}}function c(l){l.done?o(l.value):i(l.value).then(a,u)}c((r=r.apply(t,e||[])).next())})},ln=function(t){return this instanceof ln?(this.v=t,this):new ln(t)},gl=function(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,o=[];return i={},s("next"),s("throw"),s("return"),i[Symbol.asyncIterator]=function(){return this},i;function s(d){r[d]&&(i[d]=function(y){return new Promise(function(v,b){o.push([d,y,v,b])>1||a(d,y)})})}function a(d,y){try{u(r[d](y))}catch(v){p(o[0][3],v)}}function u(d){d.value instanceof ln?Promise.resolve(d.value.v).then(c,l):p(o[0][2],d)}function c(d){a("next",d)}function l(d){a("throw",d)}function p(d,y){d(y),o.shift(),o.length&&a(o[0][0],o[0][1])}},Da=function(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof __values=="function"?__values(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=t[o]&&function(s){return new Promise(function(a,u){s=t[o](s),i(a,u,s.done,s.value)})}}function i(o,s,a,u){Promise.resolve(u).then(function(c){o({value:c,done:a})},s)}};function z(t){if(pt(t))return t;if(zt(t))return{[Symbol.iterator](){return t}};if(typeof t=="object"&&t!==null)return function*(){for(let e in t)Object.prototype.hasOwnProperty.call(t,e)&&(yield[e,t[e]])}();throw new he("Given collection is not iterable or iterator.")}function D(t){if(In(t))return t;if(zt(t))return{[Symbol.asyncIterator](){return gl(this,arguments,function*(){for(;;){let n=yield ln(t.next());if(n.done)return yield ln(void 0);yield yield ln(n.value)}})}};if(typeof t=="object"&&t!==null&&(t=z(t)),pt(t))return{[Symbol.asyncIterator](){return gl(this,arguments,function*(){for(let n of t)yield yield ln(n)})}};throw new he("Given collection is not async iterable or iterator.")}function Co(t){if(zt(t))return t;if(pt(t))return function*(){for(let e of t)yield e}();throw new he("Given collection is not iterable or iterator.")}function Po(t){if((zt(t)||pt(t))&&(t=D(t)),In(t))return function(){return gl(this,arguments,function*(){var e,n,r,i;try{for(var o=!0,s=Da(t),a;a=yield ln(s.next()),e=a.done,!e;){i=a.value,o=!1;try{yield yield ln(i)}finally{o=!0}}}catch(u){n={error:u}}finally{try{!o&&!e&&(r=s.return)&&(yield ln(r.call(s)))}finally{if(n)throw n.error}}})}();throw new he("Given collection is not iterable or iterator.")}function Mn(t){let e=[];for(let n of z(t))e.push(n);return e}function Gt(t){var e,n,r,i;return xl(this,void 0,void 0,function*(){let o=[];try{for(var s=!0,a=Da(D(t)),u;u=yield a.next(),e=u.done,!e;){i=u.value,s=!1;try{let c=i;o.push(c)}finally{s=!0}}}catch(c){n={error:c}}finally{try{!s&&!e&&(r=a.return)&&(yield r.call(a))}finally{if(n)throw n.error}}return o})}function Ba(t){let e=new Map;for(let[n,r]of z(t))e.set(n,r);return e}function za(t){var e,n,r,i;return xl(this,void 0,void 0,function*(){let o=new Map;try{for(var s=!0,a=Da(D(t)),u;u=yield a.next(),e=u.done,!e;){i=u.value,s=!1;try{let[c,l]=i;o.set(c,l)}finally{s=!0}}}catch(c){n={error:c}}finally{try{!s&&!e&&(r=a.return)&&(yield r.call(a))}finally{if(n)throw n.error}}return o})}function Ua(t){let e=new Set;for(let n of z(t))e.add(n);return e}function qa(t){var e,n,r,i;return xl(this,void 0,void 0,function*(){let o=new Set;try{for(var s=!0,a=Da(D(t)),u;u=yield a.next(),e=u.done,!e;){i=u.value,s=!1;try{let c=i;o.add(c)}finally{s=!0}}}catch(c){n={error:c}}finally{try{!s&&!e&&(r=a.return)&&(yield r.call(a))}finally{if(n)throw n.error}}return o})}function Pi(t,e){return new Ws(Co(t),e).getRelatedIterables()}function Oi(t,e){return new Hs(Po(t),e).getRelatedIterables()}var gy=function(t,e,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(l){try{c(r.next(l))}catch(p){s(p)}}function u(l){try{c(r.throw(l))}catch(p){s(p)}}function c(l){l.done?o(l.value):i(l.value).then(a,u)}c((r=r.apply(t,e||[])).next())})},ve=function(t){return this instanceof ve?(this.v=t,this):new ve(t)},Ri=function(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof __values=="function"?__values(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=t[o]&&function(s){return new Promise(function(a,u){s=t[o](s),i(a,u,s.done,s.value)})}}function i(o,s,a,u){Promise.resolve(u).then(function(c){o({value:c,done:a})},s)}},Ni=function(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,o=[];return i={},s("next"),s("throw"),s("return"),i[Symbol.asyncIterator]=function(){return this},i;function s(d){r[d]&&(i[d]=function(y){return new Promise(function(v,b){o.push([d,y,v,b])>1||a(d,y)})})}function a(d,y){try{u(r[d](y))}catch(v){p(o[0][3],v)}}function u(d){d.value instanceof ve?Promise.resolve(d.value.v).then(c,l):p(o[0][2],d)}function c(d){a("next",d)}function l(d){a("throw",d)}function p(d,y){d(y),o.shift(),o.length&&a(o[0][0],o[0][1])}},Pd=function(t){var e,n;return e={},r("next"),r("throw",function(i){throw i}),r("return"),e[Symbol.iterator]=function(){return this},e;function r(i,o){e[i]=t[i]?function(s){return(n=!n)?{value:ve(t[i](s)),done:i==="return"}:o?o(s):s}:o}};function*Ur(t,e){let n=new Set;if(t instanceof Map){e===void 0&&(e=r=>r[1]);for(let r of t){let i=e(r);n.has(i)||(yield r,n.add(i))}}else{e===void 0&&(e=r=>r);for(let r of z(t)){let i=e(r);n.has(i)||(yield r,n.add(i))}}}function Li(t,e){return Ni(this,arguments,function*(){var r,i,o,s;let a=new Set;if(t instanceof Map)for(let p of Ur(t,e))yield yield ve(yield ve(p));else{e===void 0&&(e=p=>p);try{for(var u=!0,c=Ri(D(t)),l;l=yield ve(c.next()),r=l.done,!r;){s=l.value,u=!1;try{let p=s,d=e(p);a.has(d)||(yield yield ve(p),a.add(d))}finally{u=!0}}}catch(p){i={error:p}}finally{try{!u&&!r&&(o=c.return)&&(yield ve(o.call(c)))}finally{if(i)throw i.error}}}})}function*Va(...t){yield*ji(t.length,...t)}function Za(...t){return Ni(this,arguments,function*(){yield ve(yield*Pd(Ri(Fi(t.length,...t))))})}function*ji(t,...e){let n=new Dr,r=Gn($e.LONGEST,Ie,...e);for(let i of r)for(let[o,s]of Cn(i))s!==Ie&&(n.addUsage(s,`${o}`),n.getOwnersCount(s)===t&&(yield s,n.deleteUsage(s)))}function Fi(t,...e){return Ni(this,arguments,function*(){var r,i,o,s;let a=new Dr,u=Yn($e.LONGEST,Ie,...e);try{for(var c=!0,l=Ri(u),p;p=yield ve(l.next()),r=p.done,!r;){s=p.value,c=!1;try{let d=s;for(let[y,v]of Cn(d))v!==Ie&&(a.addUsage(v,`${y}`),a.getOwnersCount(v)===t&&(yield yield ve(v),a.deleteUsage(v)))}finally{c=!0}}}catch(d){i={error:d}}finally{try{!c&&!r&&(o=l.return)&&(yield ve(o.call(l)))}finally{if(i)throw i.error}}})}function*Ja(...t){let e=new Dr,n=new Set,r=Gn($e.LONGEST,Ie,...t);for(let i of r)for(let[o,s]of Cn(i))s!==Ie&&(e.addUsage(s,`${o}`),n.add(s),e.getOwnersCount(s)===t.length&&e.deleteUsage(s));for(let i of n)for(let o of Ai.repeat(i,e.getUsagesCount(i)))yield o}function Wa(...t){return Ni(this,arguments,function*(){var n,r,i,o;let s=new Dr,a=new Set,u=Yn($e.LONGEST,Ie,...t);try{for(var c=!0,l=Ri(u),p;p=yield ve(l.next()),n=p.done,!n;){o=p.value,c=!1;try{let d=o;for(let[y,v]of Cn(d))v!==Ie&&(s.addUsage(v,`${y}`),a.add(v),s.getOwnersCount(v)===t.length&&s.deleteUsage(v))}finally{c=!0}}}catch(d){r={error:d}}finally{try{!c&&!n&&(i=l.return)&&(yield ve(i.call(l)))}finally{if(r)throw r.error}}for(let d of a)for(let y of Ai.repeat(d,s.getUsagesCount(d)))yield yield ve(y)})}function*Ha(...t){yield*ji(1,...t)}function Ga(...t){return Ni(this,arguments,function*(){yield ve(yield*Pd(Ri(Fi(1,...t))))})}function*Ya(...t){if(t.length===0)return;if(t.length===1){for(let r of z(t[0]))yield[r];return}let n=Mn(Kn(t,r=>Mn(r))).reduce((r,i)=>r.flatMap(o=>i.map(s=>[...o,s])),[[]]);for(let r of n)yield r}function Ka(...t){return Ni(this,arguments,function*(){var n,r,i,o;if(t.length===0)return yield ve(void 0);if(t.length===1){try{for(var s=!0,a=Ri(D(t[0])),u;u=yield ve(a.next()),n=u.done,!n;){o=u.value,s=!1;try{yield yield ve([o])}finally{s=!0}}}catch(p){r={error:p}}finally{try{!s&&!n&&(i=a.return)&&(yield ve(i.call(a)))}finally{if(r)throw r.error}}return yield ve(void 0)}let l=(yield ve(Gt(cn(t,p=>gy(this,void 0,void 0,function*(){return yield Gt(p)}))))).reduce((p,d)=>p.flatMap(y=>d.map(v=>[...y,v])),[[]]);for(let p of l)yield yield ve(p)})}var ke=function(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof __values=="function"?__values(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=t[o]&&function(s){return new Promise(function(a,u){s=t[o](s),i(a,u,s.done,s.value)})}}function i(o,s,a,u){Promise.resolve(u).then(function(c){o({value:c,done:a})},s)}},I=function(t){return this instanceof I?(this.v=t,this):new I(t)},Me=function(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,o=[];return i={},s("next"),s("throw"),s("return"),i[Symbol.asyncIterator]=function(){return this},i;function s(d){r[d]&&(i[d]=function(y){return new Promise(function(v,b){o.push([d,y,v,b])>1||a(d,y)})})}function a(d,y){try{u(r[d](y))}catch(v){p(o[0][3],v)}}function u(d){d.value instanceof I?Promise.resolve(d.value.v).then(c,l):p(o[0][2],d)}function c(d){a("next",d)}function l(d){a("throw",d)}function p(d,y){d(y),o.shift(),o.length&&a(o[0][0],o[0][1])}};function*Kn(t,e){for(let n of z(t))yield e(n)}function cn(t,e){return Me(this,arguments,function*(){var r,i,o,s;try{for(var a=!0,u=ke(D(t)),c;c=yield I(u.next()),r=c.done,!r;){s=c.value,a=!1;try{yield yield I(yield I(e(s)))}finally{a=!0}}}catch(l){i={error:l}}finally{try{!a&&!r&&(o=u.return)&&(yield I(o.call(u)))}finally{if(i)throw i.error}}})}function*Qa(t,e){for(let[n,r]of $i(t,e))r&&(yield n)}function Xa(t,e){return Me(this,arguments,function*(){var r,i,o,s;try{for(var a=!0,u=ke(Ii(t,e)),c;c=yield I(u.next()),r=c.done,!r;){s=c.value,a=!1;try{let[l,p]=s;p&&(yield yield I(l))}finally{a=!0}}}catch(l){i={error:l}}finally{try{!a&&!r&&(o=u.return)&&(yield I(o.call(u)))}finally{if(i)throw i.error}}})}function*eu(t,e){let n=!0;for(let r of z(t)){if(n){if(!e(r)){n=!1,yield r;continue}continue}yield r}}function tu(t,e){return Me(this,arguments,function*(){var r,i,o,s;let a=!0;try{for(var u=!0,c=ke(D(t)),l;l=yield I(c.next()),r=l.done,!r;){s=l.value,u=!1;try{let p=s;if(a){if(!(yield I(e(p)))){a=!1,yield yield I(p);continue}continue}yield yield I(p)}finally{u=!0}}}catch(p){i={error:p}}finally{try{!u&&!r&&(o=c.return)&&(yield I(o.call(c)))}finally{if(i)throw i.error}}})}function*nu(t,e){for(let n of z(t))if(e(n))yield n;else break}function ru(t,e){return Me(this,arguments,function*(){var r,i,o,s;try{for(var a=!0,u=ke(D(t)),c;c=yield I(u.next()),r=c.done,!r;){s=c.value,a=!1;try{let l=s;if(yield I(e(l)))yield yield I(l);else break}finally{a=!0}}}catch(l){i={error:l}}finally{try{!a&&!r&&(o=u.return)&&(yield I(o.call(u)))}finally{if(i)throw i.error}}})}function*Od(t,e){if(e<0)throw new he(`Number of repetitions cannot be negative: ${e}`);for(let n=e;n>0;--n)yield t}function Rd(t,e){return Me(this,arguments,function*(){if(e<0)throw new he(`Number of repetitions cannot be negative: ${e}`);let r=yield I(t);for(let i=e;i>0;--i)yield yield I(r)})}function*iu(t,e){for(let n of z(t)){let r=e(n,e);if(pt(r))for(let i of z(r))yield i;else yield r}}function ou(t,e){return Me(this,arguments,function*(){var r,i,o,s,a,u,c,l;try{for(var p=!0,d=ke(D(t)),y;y=yield I(d.next()),r=y.done,!r;){s=y.value,p=!1;try{let E=yield I(e(s,e));if(pt(E)||In(E))try{for(var v=!0,b=(u=void 0,ke(D(E))),$;$=yield I(b.next()),a=$.done,!a;){l=$.value,v=!1;try{yield yield I(l)}finally{v=!0}}}catch(N){u={error:N}}finally{try{!v&&!a&&(c=b.return)&&(yield I(c.call(b)))}finally{if(u)throw u.error}}else yield yield I(E)}finally{p=!0}}}catch(w){i={error:w}}finally{try{!p&&!r&&(o=d.return)&&(yield I(o.call(d)))}finally{if(i)throw i.error}}})}function*jo(t,e=1/0){if(e<1){for(let n of z(t))t instanceof Map&&(n=n[1]),yield n;return}for(let n of z(t))if(t instanceof Map&&(n=n[1]),(pt(n)||zt(n))&&!un(n))for(let r of jo(n,e-1))yield r;else yield n}function Fo(t,e=1/0){return Me(this,arguments,function*(){var r,i,o,s,a,u,c,l,p,d,y,v;if(e<1){try{for(var b=!0,$=ke(D(t)),w;w=yield I($.next()),r=w.done,!r;){s=w.value,b=!1;try{let A=s;t instanceof Map&&(A=A[1]),yield yield I(A)}finally{b=!0}}}catch(A){i={error:A}}finally{try{!b&&!r&&(o=$.return)&&(yield I(o.call($)))}finally{if(i)throw i.error}}return yield I(void 0)}try{for(var E=!0,N=ke(D(t)),T;T=yield I(N.next()),a=T.done,!a;){l=T.value,E=!1;try{let A=l;if(t instanceof Map&&(A=A[1]),(In(A)||pt(A)||zt(A))&&!un(A))try{for(var P=!0,K=(d=void 0,ke(Fo(A,e-1))),g;g=yield I(K.next()),p=g.done,!p;){v=g.value,P=!1;try{yield yield I(v)}finally{P=!0}}}catch(_){d={error:_}}finally{try{!P&&!p&&(y=K.return)&&(yield I(y.call(K)))}finally{if(d)throw d.error}}else yield yield I(A)}finally{E=!0}}}catch(A){u={error:A}}finally{try{!E&&!a&&(c=N.return)&&(yield I(c.call(N)))}finally{if(u)throw u.error}}})}function*su(t,e){for(let n of z(t))e(n)&&(yield n)}function au(t,e){return Me(this,arguments,function*(){var r,i,o,s;try{for(var a=!0,u=ke(D(t)),c;c=yield I(u.next()),r=c.done,!r;){s=c.value,a=!1;try{let l=s;(yield I(e(l)))&&(yield yield I(l))}finally{a=!0}}}catch(l){i={error:l}}finally{try{!a&&!r&&(o=u.return)&&(yield I(o.call(u)))}finally{if(i)throw i.error}}})}function*Di(t,e,n,r=!0){if(e<1)throw new he(`Chunk size must be \u2265 1. Got ${e}`);if(n>=e)throw new he("Overlap size must be less than chunk size");let i=[],o=!1;for(let s of z(t))o=!1,i.push(s),i.length===e&&(yield i,i=i.slice(e-n),o=!0);!o&&i.length>0&&r&&(yield i)}function Bi(t,e,n,r=!0){return Me(this,arguments,function*(){var o,s,a,u;if(e<1)throw new he(`Chunk size must be \u2265 1. Got ${e}`);if(n>=e)throw new he("Overlap size must be less than chunk size");let c=[],l=!1;try{for(var p=!0,d=ke(D(t)),y;y=yield I(d.next()),o=y.done,!o;){u=y.value,p=!1;try{let v=u;l=!1,c.push(v),c.length===e&&(yield yield I(c),c=c.slice(e-n),l=!0)}finally{p=!0}}}catch(v){s={error:v}}finally{try{!p&&!o&&(a=d.return)&&(yield I(a.call(d)))}finally{if(s)throw s.error}}!l&&c.length>0&&r&&(yield yield I(c))})}function*uu(t,e){for(let n of Di(t,e,0))yield n}function cu(t,e){return Me(this,arguments,function*(){var r,i,o,s;try{for(var a=!0,u=ke(Bi(t,e,0)),c;c=yield I(u.next()),r=c.done,!r;){s=c.value,a=!1;try{yield yield I(s)}finally{a=!0}}}catch(l){i={error:l}}finally{try{!a&&!r&&(o=u.return)&&(yield I(o.call(u)))}finally{if(i)throw i.error}}})}function*Sn(t){let e=Di(t,2,1,!1);for(let n of e)yield n}function zr(t){return Me(this,arguments,function*(){var n,r,i,o;let s=Bi(t,2,1,!1);try{for(var a=!0,u=ke(s),c;c=yield I(u.next()),n=c.done,!n;){o=c.value,a=!1;try{yield yield I(o)}finally{a=!0}}}catch(l){r={error:l}}finally{try{!a&&!n&&(i=u.return)&&(yield I(i.call(u)))}finally{if(r)throw r.error}}})}function*lu(t,e){if(e<0)throw new he(`Limit must be \u2265 0. Got ${e}`);let n=0;for(let r of z(t)){if(n>=e)return;yield r,++n}}function fu(t,e){return Me(this,arguments,function*(){var r,i,o,s;if(e<0)throw new he(`Limit must be \u2265 0. Got ${e}`);let a=0;try{for(var u=!0,c=ke(D(t)),l;l=yield I(c.next()),r=l.done,!r;){s=l.value,u=!1;try{let p=s;if(a>=e)return yield I(void 0);yield yield I(p),++a}finally{u=!0}}}catch(p){i={error:p}}finally{try{!u&&!r&&(o=c.return)&&(yield I(o.call(c)))}finally{if(i)throw i.error}}})}function*Cn(t){let e=0;for(let n of z(t))yield[e++,n]}function du(t){return Me(this,arguments,function*(){var n,r,i,o;let s=0;try{for(var a=!0,u=ke(D(t)),c;c=yield I(u.next()),n=c.done,!n;){o=c.value,a=!1;try{let l=o;yield yield I([s++,l])}finally{a=!0}}}catch(l){r={error:l}}finally{try{!a&&!n&&(i=u.return)&&(yield I(i.call(u)))}finally{if(r)throw r.error}}})}function*pu(t,e=0,n,r=1){if(e<0)throw new he("Parameter 'start' cannot be negative");if(n!==void 0&&n<0)throw new he("Parameter 'count' cannot be negative");if(r<=0)throw new he("Parameter 'step' must be positive");let i=0,o=0;for(let s of z(t))if(!(i++<e||(i-e-1)%r!==0)){if(o++===n&&n!==void 0)break;yield s}}function hu(t,e=0,n,r=1){return Me(this,arguments,function*(){var o,s,a,u;if(e<0)throw new he("Parameter 'start' cannot be negative");if(n!==void 0&&n<0)throw new he("Parameter 'count' cannot be negative");if(r<=0)throw new he("Parameter 'step' must be positive");let c=0,l=0;try{for(var p=!0,d=ke(D(t)),y;y=yield I(d.next()),o=y.done,!o;){u=y.value,p=!1;try{let v=u;if(c++<e||(c-e-1)%r!==0)continue;if(l++===n&&n!==void 0)break;yield yield I(v)}finally{p=!0}}}catch(v){s={error:v}}finally{try{!p&&!o&&(a=d.return)&&(yield I(a.call(d)))}finally{if(s)throw s.error}}})}function*mu(t){for(let[e]of z(t))yield e}function yu(t){return Me(this,arguments,function*(){var n,r,i,o;try{for(var s=!0,a=ke(D(t)),u;u=yield I(a.next()),n=u.done,!n;){o=u.value,s=!1;try{let[c]=o;yield yield I(c)}finally{s=!0}}}catch(c){r={error:c}}finally{try{!s&&!n&&(i=a.return)&&(yield I(i.call(a)))}finally{if(r)throw r.error}}})}function*_u(t,e,n=0){if(e<0||n<0)throw new he;let r=-n;for(let i of z(t))(r<0||r>=e)&&(yield i),++r}function vu(t,e,n=0){return Me(this,arguments,function*(){var i,o,s,a;if(e<0||n<0)throw new he;let u=-n;try{for(var c=!0,l=ke(D(t)),p;p=yield I(l.next()),i=p.done,!i;){a=p.value,c=!1;try{let d=a;(u<0||u>=e)&&(yield yield I(d)),++u}finally{c=!0}}}catch(d){o={error:d}}finally{try{!c&&!i&&(s=l.return)&&(yield I(s.call(l)))}finally{if(o)throw o.error}}})}function*gu(t){for(let[,e]of z(t))yield e}function xu(t){return Me(this,arguments,function*(){var n,r,i,o;try{for(var s=!0,a=ke(D(t)),u;u=yield I(a.next()),n=u.done,!n;){o=u.value,s=!1;try{let[,c]=o;yield yield I(c)}finally{s=!0}}}catch(c){r={error:c}}finally{try{!s&&!n&&(i=a.return)&&(yield I(i.call(a)))}finally{if(r)throw r.error}}})}function*bu(t,e,n){let r=new Map,i=o=>{r.has(o)||(n!==void 0?r.set(o,{}):r.set(o,[]))};for(let o of z(t)){let s=e(o),a=n!==void 0?n(o):void 0,u=(pt(s)||zt(s))&&!un(s)?s:[s];for(let c of Ur(u))i(c),a===void 0?r.get(c).push(o):r.get(c)[a]=o}for(let o of r)yield o}function wu(t,e,n){return Me(this,arguments,function*(){var i,o,s,a,u,c,l,p;let d=new Map,y=T=>{d.has(T)||(n!==void 0?d.set(T,{}):d.set(T,[]))};try{for(var v=!0,b=ke(D(t)),$;$=yield I(b.next()),i=$.done,!i;){a=$.value,v=!1;try{let T=a,P=yield I(e(T)),K=n!==void 0?yield I(n(T)):void 0,g=(In(P)||pt(P)||zt(P))&&!un(P)?P:[P];try{for(var w=!0,E=(c=void 0,ke(Li(g))),N;N=yield I(E.next()),u=N.done,!u;){p=N.value,w=!1;try{let A=p;y(A),K===void 0?d.get(A).push(T):d.get(A)[K]=T}finally{w=!0}}}catch(A){c={error:A}}finally{try{!w&&!u&&(l=E.return)&&(yield I(l.call(E)))}finally{if(c)throw c.error}}}finally{v=!0}}}catch(T){o={error:T}}finally{try{!v&&!i&&(s=b.return)&&(yield I(s.call(b)))}finally{if(o)throw o.error}}for(let T of d)yield yield I(T)})}function*Eu(t,e){let n=Mn(t);e!==void 0?n.sort(e):n.sort();for(let r of n)yield r}function ku(t,e){return Me(this,arguments,function*(){let r=yield I(Gt(t));e!==void 0?r.sort(e):r.sort();for(let i of r)yield yield I(i)})}var Nd=function(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof __values=="function"?__values(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=t[o]&&function(s){return new Promise(function(a,u){s=t[o](s),i(a,u,s.done,s.value)})}}function i(o,s,a,u){Promise.resolve(u).then(function(c){o({value:c,done:a})},s)}},Qn=function(t){return this instanceof Qn?(this.v=t,this):new Qn(t)},xy=function(t){var e,n;return e={},r("next"),r("throw",function(i){throw i}),r("return"),e[Symbol.iterator]=function(){return this},e;function r(i,o){e[i]=t[i]?function(s){return(n=!n)?{value:Qn(t[i](s)),done:i==="return"}:o?o(s):s}:o}},by=function(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,o=[];return i={},s("next"),s("throw"),s("return"),i[Symbol.asyncIterator]=function(){return this},i;function s(d){r[d]&&(i[d]=function(y){return new Promise(function(v,b){o.push([d,y,v,b])>1||a(d,y)})})}function a(d,y){try{u(r[d](y))}catch(v){p(o[0][3],v)}}function u(d){d.value instanceof Qn?Promise.resolve(d.value.v).then(c,l):p(o[0][2],d)}function c(d){a("next",d)}function l(d){a("throw",d)}function p(d,y){d(y),o.shift(),o.length&&a(o[0][0],o[0][1])}};function*Ld(t=1,e=1){for(let n=t;;n+=e)yield n}function*bl(t){let e=[...z(t)];if(e.length!==0)for(;;)for(let n of e)yield n}function jd(t){return by(this,arguments,function*(){var n,r,i,o;let s=[];try{for(var a=!0,u=Nd(D(t)),c;c=yield Qn(u.next()),n=c.done,!n;){o=c.value,a=!1;try{let l=o;s.push(l),yield yield Qn(l)}finally{a=!0}}}catch(l){r={error:l}}finally{try{!a&&!n&&(i=u.return)&&(yield Qn(i.call(u)))}finally{if(r)throw r.error}}yield Qn(yield*xy(Nd(bl(s))))})}function*Fd(t){for(;;)yield t}var zi=function(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof __values=="function"?__values(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=t[o]&&function(s){return new Promise(function(a,u){s=t[o](s),i(a,u,s.done,s.value)})}}function i(o,s,a,u){Promise.resolve(u).then(function(c){o({value:c,done:a})},s)}},me=function(t){return this instanceof me?(this.v=t,this):new me(t)},Ui=function(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,o=[];return i={},s("next"),s("throw"),s("return"),i[Symbol.asyncIterator]=function(){return this},i;function s(d){r[d]&&(i[d]=function(y){return new Promise(function(v,b){o.push([d,y,v,b])>1||a(d,y)})})}function a(d,y){try{u(r[d](y))}catch(v){p(o[0][3],v)}}function u(d){d.value instanceof me?Promise.resolve(d.value.v).then(c,l):p(o[0][2],d)}function c(d){a("next",d)}function l(d){a("throw",d)}function p(d,y){d(y),o.shift(),o.length&&a(o[0][0],o[0][1])}};function*Tu(t,e){let n=0;for(let r of Do(z(t),e))n++,yield r/n}function Au(t,e){return Ui(this,arguments,function*(){var r,i,o,s;let a=0;try{for(var u=!0,c=zi(Bo(D(t),e)),l;l=yield me(c.next()),r=l.done,!r;){s=l.value,u=!1;try{let p=s;a++,yield yield me(p/a)}finally{u=!0}}}catch(p){i={error:p}}finally{try{!u&&!r&&(o=c.return)&&(yield me(o.call(c)))}finally{if(i)throw i.error}}})}function*$u(t,e){e!==void 0&&(yield e);let n=e??0;for(let r of z(t))n-=Number(r),yield n}function Iu(t,e){return Ui(this,arguments,function*(){var r,i,o,s;e!==void 0&&(yield yield me(e));let a=e??0;try{for(var u=!0,c=zi(D(t)),l;l=yield me(c.next()),r=l.done,!r;){s=l.value,u=!1;try{a-=Number(s),yield yield me(a)}finally{u=!0}}}catch(p){i={error:p}}finally{try{!u&&!r&&(o=c.return)&&(yield me(o.call(c)))}finally{if(i)throw i.error}}})}function*Su(t,e){e!==void 0&&(yield e);let n=e??-1/0;for(let r of z(t))n=Math.max(n,r),yield n}function Mu(t,e){return Ui(this,arguments,function*(){var r,i,o,s;e!==void 0&&(yield yield me(e));let a=e??-1/0;try{for(var u=!0,c=zi(D(t)),l;l=yield me(c.next()),r=l.done,!r;){s=l.value,u=!1;try{a=Math.max(a,s),yield yield me(a)}finally{u=!0}}}catch(p){i={error:p}}finally{try{!u&&!r&&(o=c.return)&&(yield me(o.call(c)))}finally{if(i)throw i.error}}})}function*Cu(t,e){e!==void 0&&(yield e);let n=e??1/0;for(let r of z(t))n=Math.min(n,r),yield n}function Pu(t,e){return Ui(this,arguments,function*(){var r,i,o,s;e!==void 0&&(yield yield me(e));let a=e??1/0;try{for(var u=!0,c=zi(D(t)),l;l=yield me(c.next()),r=l.done,!r;){s=l.value,u=!1;try{a=Math.min(a,s),yield yield me(a)}finally{u=!0}}}catch(p){i={error:p}}finally{try{!u&&!r&&(o=c.return)&&(yield me(o.call(c)))}finally{if(i)throw i.error}}})}function*Ou(t,e){e!==void 0&&(yield e);let n=e??1;for(let r of z(t))n*=Number(r),yield n}function Ru(t,e){return Ui(this,arguments,function*(){var r,i,o,s;e!==void 0&&(yield yield me(e));let a=e??1;try{for(var u=!0,c=zi(D(t)),l;l=yield me(c.next()),r=l.done,!r;){s=l.value,u=!1;try{a*=Number(s),yield yield me(a)}finally{u=!0}}}catch(p){i={error:p}}finally{try{!u&&!r&&(o=c.return)&&(yield me(o.call(c)))}finally{if(i)throw i.error}}})}function*Do(t,e){e!==void 0&&(yield e);let n=e??0;for(let r of z(t))n+=Number(r),yield n}function Bo(t,e){return Ui(this,arguments,function*(){var r,i,o,s;e!==void 0&&(yield yield me(e));let a=e??0;try{for(var u=!0,c=zi(D(t)),l;l=yield me(c.next()),r=l.done,!r;){s=l.value,u=!1;try{a+=Number(s),yield yield me(a)}finally{u=!0}}}catch(p){i={error:p}}finally{try{!u&&!r&&(o=c.return)&&(yield me(o.call(c)))}finally{if(i)throw i.error}}})}var Hn=class t{static of(e){return new t(z(e))}static ofEmpty(){return new t([])}static ofCount(e=1,n=1){return new t(Pn.count(e,n))}static ofCycle(e){return new t(Pn.cycle(e))}static ofRepeat(e){return new t(Pn.repeat(e))}zipWith(...e){return this.data=$i(this.data,...e),this}zipFilledWith(e,...n){return this.data=Ys(e,this.data,...n),this}zipLongestWith(...e){return this.data=Qs(this.data,...e),this}zipEqualWith(...e){return this.data=Si(this.data,...e),this}chainWith(...e){return this.data=ea(this.data,...e),this}chunkwiseOverlap(e,n,r=!0){return this.data=Di(this.data,e,n,r),this}chunkwise(e){return this.data=uu(this.data,e),this}compress(e){return this.data=Qa(this.data,e),this}dropWhile(e){return this.data=eu(this.data,e),this}filter(e){return this.data=su(this.data,e),this}enumerate(){return this.data=Cn(this.data),this}keys(){return this.data=mu(this.data),this}limit(e){return this.data=lu(this.data,e),this}map(e){return this.data=Kn(this.data,e),this}flatMap(e){return this.data=iu(this.data,e),this}flatten(e=1/0){return this.data=jo(this.data,e),this}groupBy(e,n){return this.data=bu(this.data,e,n),this}pairwise(){return this.data=Sn(this.data),this}runningAverage(e){return this.data=Tu(this.data,e),this}runningDifference(e){return this.data=$u(this.data,e),this}runningMax(e){return this.data=Su(this.data,e),this}runningMin(e){return this.data=Cu(this.data,e),this}runningProduct(e){return this.data=Ou(this.data,e),this}runningTotal(e){return this.data=Do(this.data,e),this}skip(e,n=0){return this.data=_u(this.data,e,n),this}slice(e=0,n,r=1){return this.data=pu(this.data,e,n,r),this}takeWhile(e){return this.data=nu(this.data,e),this}values(){return this.data=gu(this.data),this}sort(e){return this.data=Eu(this.data,e),this}distinct(e){return this.data=Ur(this.data,e),this}intersectionWith(...e){return this.data=Va(this.data,...e),this}partialIntersectionWith(e,...n){return this.data=ji(e,this.data,...n),this}symmetricDifferenceWith(...e){return this.data=Ja(this.data,...e),this}unionWith(...e){return this.data=Ha(this.data,...e),this}cartesianProductWith(...e){return this.data=Ya(this.data,...e),this}peek(e){let[n,r]=Pi(this.data,2);this.data=n;for(let i of r)e(i);return this}peekStream(e){let[n,r]=Pi(this.data,2);return this.data=n,e(t.of(r)),this}toValue(e,n){return Et(this,e,n)}toAverage(){return ra(this)}toCount(){return Br(this)}toMax(e){return oa(this,e)}toMin(e){return aa(this,e)}toMinMax(e){return No(this,e)}toFirst(){return ma(this)}toFirstAndLast(){return ga(this)}toLast(){return _a(this)}toSum(){return fa(this)}toProduct(){return pa(this)}toRange(){return ca(this)}allMatch(e){return ba(this,e)}allUnique(){return Ea(this)}anyMatch(e){return Ta(this,e)}exactlyN(e,n){return $a(this,e,n)}isSorted(){return Ca(this)}isReversed(){return Sa(this)}noneMatch(e){return Oa(this,e)}sameWith(...e){return Na(this.data,...e)}sameCountWith(...e){return ja(this.data,...e)}tee(e){return Pi(this.data,e).map(n=>new t(n))}toArray(){return Mn(this)}toMap(){return Ba(this)}toSet(){return Ua(this)}*[Symbol.iterator](){for(let e of this.data)yield e}constructor(e){this.data=e}};var _e=function(t,e,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(l){try{c(r.next(l))}catch(p){s(p)}}function u(l){try{c(r.throw(l))}catch(p){s(p)}}function c(l){l.done?o(l.value):i(l.value).then(a,u)}c((r=r.apply(t,e||[])).next())})},Dd=function(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof __values=="function"?__values(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=t[o]&&function(s){return new Promise(function(a,u){s=t[o](s),i(a,u,s.done,s.value)})}}function i(o,s,a,u){Promise.resolve(u).then(function(c){o({value:c,done:a})},s)}},qi=function(t){return this instanceof qi?(this.v=t,this):new qi(t)},wy=function(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,o=[];return i={},s("next"),s("throw"),s("return"),i[Symbol.asyncIterator]=function(){return this},i;function s(d){r[d]&&(i[d]=function(y){return new Promise(function(v,b){o.push([d,y,v,b])>1||a(d,y)})})}function a(d,y){try{u(r[d](y))}catch(v){p(o[0][3],v)}}function u(d){d.value instanceof qi?Promise.resolve(d.value.v).then(c,l):p(o[0][2],d)}function c(d){a("next",d)}function l(d){a("throw",d)}function p(d,y){d(y),o.shift(),o.length&&a(o[0][0],o[0][1])}},Nu=class t{static of(e){return new t(D(e))}static ofEmpty(){return new t(D([]))}static ofCount(e=1,n=1){return new t(D(Pn.count(e,n)))}static ofCycle(e){return new t(Pn.cycleAsync(e))}static ofRepeat(e){return new t(D(Pn.repeat(e)))}zipWith(...e){return this.data=Ii(this.data,...e),this}zipFilledWith(e,...n){return this.data=Ks(e,this.data,...n),this}zipLongestWith(...e){return this.data=Xs(this.data,...e),this}zipEqualWith(...e){return this.data=Mi(this.data,...e),this}chainWith(...e){return this.data=ta(this.data,...e),this}chunkwiseOverlap(e,n,r=!0){return this.data=Bi(this.data,e,n,r),this}chunkwise(e){return this.data=cu(this.data,e),this}compress(e){return this.data=Xa(this.data,e),this}dropWhile(e){return this.data=tu(this.data,e),this}filter(e){return this.data=au(this.data,e),this}enumerate(){return this.data=du(this.data),this}keys(){return this.data=yu(this.data),this}limit(e){return this.data=fu(this.data,e),this}map(e){return this.data=cn(this.data,e),this}flatMap(e){return this.data=ou(this.data,e),this}flatten(e=1/0){return this.data=Fo(this.data,e),this}groupBy(e,n){return this.data=wu(this.data,e,n),this}pairwise(){return this.data=zr(this.data),this}runningAverage(e){return this.data=Au(this.data,e),this}runningDifference(e){return this.data=Iu(this.data,e),this}runningMax(e){return this.data=Mu(this.data,e),this}runningMin(e){return this.data=Pu(this.data,e),this}runningProduct(e){return this.data=Ru(this.data,e),this}runningTotal(e){return this.data=Bo(this.data,e),this}skip(e,n=0){return this.data=vu(this.data,e,n),this}slice(e=0,n,r=1){return this.data=hu(this.data,e,n,r),this}takeWhile(e){return this.data=ru(this.data,e),this}values(){return this.data=xu(this.data),this}sort(e){return this.data=ku(this.data,e),this}distinct(e){return this.data=Li(this.data,e),this}intersectionWith(...e){return this.data=Za(this.data,...e),this}partialIntersectionWith(e,...n){return this.data=Fi(e,this.data,...n),this}symmetricDifferenceWith(...e){return this.data=Wa(this.data,...e),this}unionWith(...e){return this.data=Ga(this.data,...e),this}cartesianProductWith(...e){return this.data=Ka(this.data,...e),this}peek(e){let[n,r]=Oi(this.data,2);return this.data=n,_e(this,void 0,void 0,function*(){var i,o,s,a;try{for(var u=!0,c=Dd(r),l;l=yield c.next(),i=l.done,!i;){a=l.value,u=!1;try{e(a)}finally{u=!0}}}catch(p){o={error:p}}finally{try{!u&&!i&&(s=c.return)&&(yield s.call(c))}finally{if(o)throw o.error}}}),this}peekStream(e){let[n,r]=Oi(this.data,2);return this.data=n,e(t.of(r)),this}toValue(e,n){return _e(this,void 0,void 0,function*(){return yield kt(this,e,n)})}toAverage(){return _e(this,void 0,void 0,function*(){return yield ia(this)})}toCount(){return _e(this,void 0,void 0,function*(){return yield Ci(this)})}toMax(e){return _e(this,void 0,void 0,function*(){return yield sa(this,e)})}toMin(e){return _e(this,void 0,void 0,function*(){return yield ua(this,e)})}toMinMax(e){return _e(this,void 0,void 0,function*(){return yield Lo(this,e)})}toFirst(){return _e(this,void 0,void 0,function*(){return yield ya(this)})}toFirstAndLast(){return _e(this,void 0,void 0,function*(){return yield xa(this)})}toLast(){return _e(this,void 0,void 0,function*(){return yield va(this)})}toSum(){return _e(this,void 0,void 0,function*(){return yield da(this)})}toProduct(){return _e(this,void 0,void 0,function*(){return yield ha(this)})}toRange(){return _e(this,void 0,void 0,function*(){return yield la(this)})}allMatch(e){return _e(this,void 0,void 0,function*(){return yield wa(this,e)})}allUnique(){return _e(this,void 0,void 0,function*(){return yield ka(this)})}anyMatch(e){return _e(this,void 0,void 0,function*(){return yield Aa(this,e)})}exactlyN(e,n){return _e(this,void 0,void 0,function*(){return Ia(this,e,n)})}isSorted(){return _e(this,void 0,void 0,function*(){return yield Pa(this)})}isReversed(){return _e(this,void 0,void 0,function*(){return yield Ma(this)})}noneMatch(e){return _e(this,void 0,void 0,function*(){return yield Ra(this,e)})}sameWith(...e){return _e(this,void 0,void 0,function*(){return yield La(this.data,...e)})}sameCountWith(...e){return _e(this,void 0,void 0,function*(){return yield Fa(this.data,...e)})}tee(e){return Oi(this.data,e).map(n=>new t(n))}toArray(){return _e(this,void 0,void 0,function*(){return yield Gt(this)})}toMap(){return _e(this,void 0,void 0,function*(){return yield za(this)})}toSet(){return _e(this,void 0,void 0,function*(){return yield qa(this)})}[Symbol.asyncIterator](){return wy(this,arguments,function*(){var n,r,i,o;try{for(var s=!0,a=Dd(this.data),u;u=yield qi(a.next()),n=u.done,!n;){o=u.value,s=!1;try{yield yield qi(o)}finally{s=!0}}}catch(c){r={error:c}}finally{try{!s&&!n&&(i=a.return)&&(yield qi(i.call(a)))}finally{if(r)throw r.error}}})}constructor(e){this.data=e}};var Ai={chunkwise:uu,chunkwiseOverlap:Di,compress:Qa,dropWhile:eu,enumerate:Cn,filter:su,flatMap:iu,flatten:jo,groupBy:bu,keys:mu,limit:lu,map:Kn,pairwise:Sn,repeat:Od,skip:_u,slice:pu,sort:Eu,takeWhile:nu,values:gu,chunkwiseAsync:cu,chunkwiseOverlapAsync:Bi,compressAsync:Xa,dropWhileAsync:tu,enumerateAsync:du,filterAsync:au,flatMapAsync:ou,flattenAsync:Fo,groupByAsync:wu,keysAsync:yu,limitAsync:fu,mapAsync:cn,pairwiseAsync:zr,repeatAsync:Rd,skipAsync:vu,sliceAsync:hu,sortAsync:ku,takeWhileAsync:ru,valuesAsync:xu},Pn={count:Ld,cycle:bl,cycleAsync:jd,repeat:Fd},Ey={runningAverage:Tu,runningDifference:$u,runningMax:Su,runningMin:Cu,runningProduct:Ou,runningTotal:Do,runningAverageAsync:Au,runningDifferenceAsync:Iu,runningMaxAsync:Mu,runningMinAsync:Pu,runningProductAsync:Ru,runningTotalAsync:Bo},ky={chain:ea,zip:$i,zipFilled:Ys,zipLongest:Qs,zipEqual:Si,chainAsync:ta,zipAsync:Ii,zipFilledAsync:Ks,zipLongestAsync:Xs,zipEqualAsync:Mi},Ty={distinct:Ur,intersection:Va,partialIntersection:ji,symmetricDifference:Ja,union:Ha,cartesianProduct:Ya,distinctAsync:Li,intersectionAsync:Za,partialIntersectionAsync:Fi,symmetricDifferenceAsync:Wa,unionAsync:Ga,cartesianProductAsync:Ka},Gs={toAverage:ra,toCount:Br,toFirst:ma,toFirstAndLast:ga,toLast:_a,toMax:oa,toMin:aa,toMinMax:No,toProduct:pa,toRange:ca,toSum:fa,toValue:Et,toAverageAsync:ia,toCountAsync:Ci,toFirstAsync:ya,toFirstAndLastAsync:xa,toLastAsync:va,toMaxAsync:sa,toMinAsync:ua,toMinMaxAsync:Lo,toProductAsync:ha,toRangeAsync:la,toSumAsync:da,toValueAsync:kt},Ay={allMatch:ba,allUnique:Ea,anyMatch:Ta,exactlyN:$a,isEmpty:Md,isAsyncIterable:In,isIterable:pt,isIterator:zt,isReversed:Sa,isSorted:Ca,isString:un,noneMatch:Oa,same:Na,sameCount:ja,allMatchAsync:wa,allUniqueAsync:ka,anyMatchAsync:Aa,exactlyNAsync:Ia,isEmptyAsync:Cd,isReversedAsync:Ma,isSortedAsync:Pa,noneMatchAsync:Ra,sameAsync:La,sameCountAsync:Fa},$y={tee:Pi,toArray:Mn,toAsyncIterable:D,toAsyncIterator:Po,toIterable:z,toIterator:Co,toMap:Ba,toSet:Ua,teeAsync:Oi,toArrayAsync:Gt,toMapAsync:za,toSetAsync:qa};var Lu=class{apiInstance;constructor(e){this.apiInstance=e}parsinom(){return{P:qd.P,P_UTILS:Ud.P_UTILS,Parser:Bd.Parser,createParsingErrorMessage:ju.createParsingErrorMessage,ParsingError:ju.ParsingError,ParserContext:zd.ParserContext}}itertools(){return wl}};var Fu=class{apiInstance;constructor(e){this.apiInstance=e}createBuilder(){return new jr(this.apiInstance)}create(e){return R(m.object({markdown:m.string()}),{markdown:e}),new An(this.apiInstance,e)}createText(e){return R(m.object({text:m.string()}),{text:e}),new bt(this.apiInstance,e,!1,!1,!1,!1)}createBoldText(e){return R(m.object({text:m.string()}),{text:e}),new bt(this.apiInstance,e,!0,!1,!1,!1)}createCursiveText(e){return R(m.object({text:m.string()}),{text:e}),new bt(this.apiInstance,e,!1,!0,!1,!1)}createUnderlinedText(e){return R(m.object({text:m.string()}),{text:e}),new bt(this.apiInstance,e,!1,!1,!0,!1)}createHighlightedText(e){return R(m.object({text:m.string()}),{text:e}),new bt(this.apiInstance,e,!1,!1,!1,!0)}createCode(e){return R(m.object({text:m.string()}),{text:e}),new Eo(this.apiInstance,e)}createParagraph(e){return R(m.object({content:m.string()}),{content:e}),new Ao(this.apiInstance,e)}createHeading(e,n){return R(m.object({level:m.number(),content:m.string()}),{level:e,content:n}),new To(this.apiInstance,e,n)}createBlockQuote(){return new Io(this.apiInstance)}createCallout(e,n,r=""){return R(m.object({title:m.string(),type:m.string(),args:m.string()}),{title:e,type:n,args:r}),new Nr(this.apiInstance,e,n,r)}createCollapsibleCallout(e,n,r="",i=!1){return R(m.object({title:m.string(),type:m.string(),args:m.string(),collapsed:m.boolean()}),{title:e,type:n,args:r,collapsed:i}),new Nr(this.apiInstance,e,n,r,!0,i)}createCodeBlock(e,n){return R(m.object({language:m.string(),content:m.string()}),{language:e,content:n}),new $o(this.apiInstance,e,n)}createTable(e,n){return R(m.object({header:m.array(m.string()),body:this.apiInstance.validators.tableElementBody}),{header:e,body:n}),new ko(this.apiInstance,e,n)}createList(e=!1){return R(m.object({ordered:m.boolean()}),{ordered:e}),new Lr(this.apiInstance,e)}createOrderedList(){return new Lr(this.apiInstance,!0)}};var Du=class{apiInstance;messageManager;constructor(e){this.apiInstance=e,this.messageManager=e.plugin.messageManager}createMessage(e,n,r,i=""){return R(m.object({type:this.apiInstance.validators.messageType,title:m.string(),content:m.string(),code:m.string()}),{type:e,title:n,content:r,code:i}),this.messageManager.addMessage(new Ts(e,n,r,i),this.apiInstance.instanceId)}getMessageById(e){return R(m.object({id:m.string()}),{id:e}),this.messageManager.messages.get().find(n=>n.uuid===e)}getMessagesForInstance(){return this.messageManager.getMessagesFromSource(this.apiInstance.instanceId)}};var Iy=ie('<p> </p> <div class="modal-button-container"></div>',1);function El(t,e){be(e,!0);let n;function r(c){let l=n.querySelector("button:focus");if(l){let p=parseInt(l.getAttribute("data-index")??"0",10),d=dd(p+(c?1:-1),e.options.buttons.length),y=n.querySelector(`button[data-index="${d}"]`);y&&y instanceof HTMLElement&&y.focus()}}function i(c){c.key==="ArrowRight"&&(c.preventDefault(),r(!0)),c.key==="ArrowLeft"&&(c.preventDefault(),r(!0))}var o=Iy(),s=Ye(o),a=Y(s,!0);q(s);var u=te(s,2);tn(u,21,()=>e.options.buttons,vr,(c,l,p)=>{var d=Ot(()=>j(l).variant??"default"),y=Ot(()=>({"data-index":p,onkeydown:v=>i(v)}));vt(c,{get variant(){return j(d)},onclick:()=>e.modal.submit(j(l).value),get other(){return j(y)},children:(v,b)=>{Nt();var $=Lt();de(()=>ye($,j(l).label)),W(v,$)},$$slots:{default:!0}})}),q(u),mo(u,c=>n=c,()=>n),de(()=>ye(a,e.options.content)),W(t,o),we()}function kl(t,e,n){t.key==="Enter"&&e.inputType!=="textarea"&&(t.stopPropagation(),t.preventDefault(),e.modal.submit(j(n))),t.key==="Enter"&&t.ctrlKey&&e.inputType==="textarea"&&(t.stopPropagation(),t.preventDefault(),e.modal.submit(j(n))),t.key==="Escape"&&(t.stopPropagation(),t.preventDefault(),e.modal.submit(void 0))}var Sy=ie('<textarea style="width: 100%; resize: vertical; height: 200px"></textarea>'),My=ie('<input style="width: 100%;" type="text">'),Cy=ie('<input style="width: 100%;" type="number">'),Py=ie('<p> </p> <!> <div class="modal-button-container"><!> <!></div>',1);function zo(t,e){be(e,!0);let n=vn(Ge(e.options.initialValue));var r=Py(),i=Ye(r),o=Y(i,!0);q(i);var s=te(i,2);Qe(s,()=>e.inputType==="textarea",l=>{var p=Sy();Bc(p),p.__keydown=[kl,e,n],de(()=>Jt(p,"placeholder",e.options.placeholder??"Text here...")),ho(p,()=>j(n),d=>ue(n,d)),W(l,p)},l=>{var p=ao(),d=Ye(p);Qe(d,()=>e.inputType==="text",y=>{var v=My();vs(v),v.__keydown=[kl,e,n],de(()=>Jt(v,"placeholder",e.options.placeholder??"Text here...")),ho(v,()=>j(n),b=>ue(n,b)),W(y,v)},y=>{var v=Cy();vs(v),v.__keydown=[kl,e,n],de(()=>Jt(v,"placeholder",e.options.placeholder??"Number here...")),ho(v,()=>j(n),b=>ue(n,b)),W(y,v)},!0),W(l,p)});var a=te(s,2),u=Y(a);vt(u,{get variant(){return"primary"},onclick:()=>e.modal.submit(j(n)),children:(l,p)=>{Nt();var d=Lt("Submit");W(l,d)},$$slots:{default:!0}});var c=te(u,2);vt(c,{get variant(){return"default"},onclick:()=>e.modal.submit(void 0),children:(l,p)=>{Nt();var d=Lt("Cancel");W(l,d)},$$slots:{default:!0}}),q(a),de(()=>ye(o,e.options.content)),W(t,r),we()}_r(["keydown"]);var Vd=require("obsidian"),Bu=class extends Vd.FuzzySuggestModal{options;onSubmit;selectedValue;constructor(e,n,r){super(e),this.options=n,this.onSubmit=r,n.placeholder&&this.setPlaceholder(n.placeholder)}getItems(){return this.options.options}getItemText(e){return e.label}onChooseItem(e,n){this.selectedValue=e.value}onOpen(){super.onOpen(),this.selectedValue=void 0}onClose(){super.onClose(),queueMicrotask(()=>{this.onSubmit(this.selectedValue)})}};var Zd=require("obsidian");var qr=class extends Zd.Modal{component;options;createComponent;onSubmit;submitted;constructor(e,n,r,i){super(e),this.options=n,this.createComponent=r,this.onSubmit=i,this.submitted=!1}onOpen(){this.submitted=!1,this.setTitle(this.options.title),this.containerEl.addClasses(this.options.classes??[]),this.createComponent(this,this.contentEl)}onClose(){this.submitted||(this.submitted=!0,this.onSubmit(void 0)),this.component&&Ke(this.component),this.contentEl.empty()}submit(e){this.submitted=!0,this.onSubmit(e),this.close()}};var zu=class{apiInstance;constructor(e){this.apiInstance=e}button(e){return R(m.object({options:this.apiInstance.validators.buttonModalPromptOptions}),{options:e}),new Promise((n,r)=>{try{new qr(this.apiInstance.app,e,(i,o)=>Be(El,{target:o,props:{options:e,modal:i}}),n).open()}catch(i){r(i)}})}async confirm(e){return R(m.object({options:this.apiInstance.validators.confirmPromptOptions}),{options:e}),await this.button({...e,buttons:[{label:"Confirm",value:!0,variant:"primary"},{label:"Cancel",value:!1,variant:"default"}]})??!1}async yesNo(e){return R(m.object({options:this.apiInstance.validators.yesNoPromptOptions}),{options:e}),await this.button({...e,buttons:[{label:"Yes",value:!0,variant:"primary"},{label:"No",value:!1,variant:"default"}]})}suggester(e){return R(m.object({options:this.apiInstance.validators.suggesterPromptOptions}),{options:e}),new Promise((n,r)=>{try{new Bu(this.apiInstance.app,e,n).open()}catch(i){r(i)}})}text(e){return R(m.object({options:this.apiInstance.validators.inputPromptOptions}),{options:e}),e.initialValue=e.initialValue??"",new Promise((n,r)=>{try{new qr(this.apiInstance.app,e,(i,o)=>Be(zo,{target:o,props:{options:e,modal:i,inputType:"text"}}),n).open()}catch(i){r(i)}})}textarea(e){return R(m.object({options:this.apiInstance.validators.inputPromptOptions}),{options:e}),e.initialValue=e.initialValue??"",new Promise((n,r)=>{try{new qr(this.apiInstance.app,e,(i,o)=>Be(zo,{target:o,props:{options:e,modal:i,inputType:"textarea"}}),n).open()}catch(i){r(i)}})}number(e){return R(m.object({options:this.apiInstance.validators.numberInputPromptOptions}),{options:e}),e.initialValue=e.initialValue??0,new Promise((n,r)=>{try{new qr(this.apiInstance.app,e,(i,o)=>Be(zo,{target:o,props:{options:e,modal:i,inputType:"number"}}),n).open()}catch(i){r(i)}})}};var Uu=require("obsidian");var qu=class{apiInstance;constructor(e){this.apiInstance=e}files(e){return R(m.object({query:m.function().args(this.apiInstance.validators.tFile).returns(m.unknown())}),{query:e}),this.apiInstance.app.vault.getMarkdownFiles().map(n=>e(n)).filter(n=>n!==void 0)}filesWithMetadata(e){return R(m.object({query:m.function().args(this.apiInstance.validators.tFile,this.apiInstance.validators.cachedMetadata.optional(),m.string().array(),m.string().array()).returns(m.unknown())}),{query:e}),this.apiInstance.app.vault.getMarkdownFiles().map(n=>{let r=this.apiInstance.app.metadataCache.getFileCache(n),i=r?(0,Uu.getAllTags)(r)??[]:[],o=r?.frontmatter?.tags??[];return e(n,r??void 0,i,o)}).filter(n=>n!==void 0)}outgoingLinks(e){R(m.object({file:this.apiInstance.validators.tFile}),{file:e});let n=this.apiInstance.app.metadataCache.getFileCache(e);if(!n)return[];let i=(n.links??[]).map(s=>this.apiInstance.app.metadataCache.getFirstLinkpathDest(s.link,e.path)).filter(s=>s!=null);return Array.from(new Set(i)).map(s=>{let a=this.apiInstance.app.metadataCache.getFileCache(s);return{file:s,metadata:a??void 0,tags:a?(0,Uu.getAllTags)(a)??[]:[],frontmatterTags:a?.frontmatter?.tags??[]}})}incomingLinks(e){return R(m.object({file:this.apiInstance.validators.tFile}),{file:e}),this.apiInstance.app.vault.getMarkdownFiles().map(r=>{let i=this.apiInstance.app.metadataCache.getFileCache(r);if(!i)return;if((i.links??[]).some(s=>this.apiInstance.app.metadataCache.getFirstLinkpathDest(s.link,r.path)?.path===e.path))return{file:r,metadata:i,tags:(0,Uu.getAllTags)(i)??[],frontmatterTags:i?.frontmatter?.tags??[]}}).filter(r=>r!==void 0)}};var ht=Nn(Mo()),Oy=ht.P.manyNotOf("{}[]#^|:?").box("file path"),Ry=ht.P.sequence(Oy,ht.P.string("#").then(ht.P.manyNotOf("[]#|^:")).optional(),ht.P.string("|").then(ht.P.manyNotOf("[]")).optional()),Ny=ht.P.or(ht.P.sequenceMap((t,e)=>new Vr(t!==void 0,e[0],e[1],e[2],!0),ht.P.string("!").optional(),Ry.wrapString("[[","]]")),ht.P.sequenceMap((t,e,n)=>{let r=!Ly(n);return new Vr(t!==void 0,n,void 0,e,r)},ht.P.string("!").optional(),ht.P.manyNotOf("[]").wrapString("[","]"),ht.P.manyNotOf("()").wrapString("(",")")));function Ly(t){try{return new URL(t),!0}catch{return!1}}var Vr=class t{isEmbed;target;block;alias;internal;constructor(e,n,r,i,o){this.isEmbed=e,this.target=n,this.block=r,this.alias=i,this.internal=o??!0}static fromUrl(e){return new t(!1,e.href,void 0,e.hostname,!1)}static fromString(e){return Ny.thenEof().tryParse(e).value}fullTarget(){return this.block?`${this.target}#${this.block}`:this.target}toTFile(e,n){if(this.internal)return e.metadataCache.getFirstLinkpathDest(this.target,n)??void 0}toString(){let e=this.isEmbed?"!":"";if(this.internal){let n=this.alias?`|${this.alias}`:"";return`${e}[[${this.fullTarget()}${n}]]`}else{let n=this.alias??this.fullTarget();return`${e}[${n}](${this.fullTarget()})`}}};var jy=Nn(require("obsidian"));var zn=class{app;plugin;instanceId;validators;markdown;message;lib;query;prompt;internal;constructor(e,n,r){this.app=e,this.plugin=n,this.instanceId=r,this.validators=n.validators,this.markdown=new Fu(this),this.message=new Du(this),this.lib=new Lu(this),this.query=new qu(this),this.prompt=new zu(this),this.internal=new Fs(this)}async importJs(e){R(m.object({path:m.string()}),{path:e});let n=this.app.vault.adapter.getResourcePath(e);return n=n.split("?")[0],import(n)}getPlugin(e){return R(m.object({pluginId:m.string()}),{pluginId:e}),this.app.plugins.getPlugin(e)??void 0}getObsidianModule(){return jy}reactive(e,...n){return R(m.object({fn:m.function(),initialArgs:m.array(m.unknown())}),{fn:e,initialArgs:n}),new wi(this,e,n)}resolveLinkToTFile(e,n){return R(m.object({link:m.string()}),{link:e}),Vr.fromString(e)?.toTFile(this.app,n)}parseLink(e){return R(m.object({link:m.string()}),{link:e}),Vr.fromString(e)}};var Fy=ie("<tr><td> </td><td> </td></tr>"),Dy=ie("<tr><td>none</td><td>-</td></tr>"),By=ie("<p>None</p>"),zy=ie('<div><h2>JS Execution Stats</h2> <p> </p> <h3>Code</h3> <pre class="language-js"><code class="language-js"><!></code></pre> <h3>Time</h3> <p> </p> <p> </p> <h3>Arguments</h3> <div class="markdown-rendered"><table><thead><tr><th>Argument Name</th><th>Value Type</th></tr></thead><tbody></tbody></table></div> <h3>Messages</h3> <div></div></div>');function Tl(t,e){be(e,!0);function n(w){let E=window.Prism;try{return E.highlight(w,E.languages.javascript,"javascript")}catch(N){return console.warn("js-engine | failed to highlight code",N),w}}var r=zy(),i=te(Y(r),2),o=Y(i);q(i);var s=te(i,4),a=Y(s),u=Y(a);Fc(u,()=>n(e.execution.code),!1,!1),q(a),q(s);var c=te(s,4),l=Y(c);de(()=>ye(l,`Build Time: ${Math.round(e.execution.functionBuildTime??0)??""} ms`)),q(c);var p=te(c,2),d=Y(p);de(()=>ye(d,`Execution Time: ${Math.round(e.execution.functionRunTime??0)??""} ms`)),q(p);var y=te(p,4),v=Y(y),b=te(Y(v));tn(b,21,()=>Object.entries(e.execution.globals),w=>w[0],(w,E)=>{var N=Fy(),T=Y(N),P=Y(T,!0);q(T);var K=te(T),g=Y(K,!0);q(K),q(N),de(()=>{ye(P,j(E)[0]),ye(g,typeof j(E)[1])}),W(w,N)},w=>{var E=Dy();W(w,E)}),q(b),q(v),q(y);var $=te(y,4);tn($,21,()=>e.execution.getMessages(),vr,(w,E)=>{gr(w,{get messageWrapper(){return j(E)},get messageManager(){return e.execution.plugin.messageManager},showDeleteButton:!1,showMessageSource:!1})},w=>{var E=By();W(w,E)}),q($),q(r),de(()=>ye(o,`Execution ID: ${e.execution.uuid??""}`)),W(t,r),we()}var Jd=require("obsidian");var Vu=class extends Jd.Modal{plugin;component;execution;constructor(e,n){super(e),this.plugin=n}setExecution(e){this.execution=e}onOpen(){if(this.contentEl.empty(),this.component&&Ke(this.component),this.contentEl.hasClass("js-engine-execution-stats-modal")||this.contentEl.addClass("js-engine-execution-stats-modal"),this.execution===void 0){this.contentEl.createEl("p",{cls:"mod-warning",text:"No execution data available."});return}this.component=Be(Tl,{target:this.contentEl,props:{execution:this.execution}})}onClose(){this.contentEl.empty(),this.component&&Ke(this.component)}};var Zu=class{app;plugin;executionStatsModal;activeExecutions;constructor(e,n){this.app=e,this.plugin=n,this.executionStatsModal=new Vu(this.app,this.plugin),this.activeExecutions=new Map}async execute(e){let n=new Is({app:this.app,plugin:this.plugin,...e});return this.activeExecutions.set(n.uuid,n),n.buildFunction(),n.functionBuildError||await n.runFunction(),this.activeExecutions.delete(n.uuid),n}openExecutionStatsModal(e){this.executionStatsModal.setExecution(e),this.executionStatsModal.open()}};var Ju=require("obsidian"),Vi=class extends Ju.FuzzySuggestModal{plugin;selectCallback;constructor(e,n){super(e.app),this.plugin=e,this.selectCallback=n}getItems(){return this.app.vault.getAllLoadedFiles().filter(n=>n instanceof Ju.TFile).filter(n=>n.extension==="js")}getItemText(e){return e.path}onChooseItem(e,n){this.selectCallback(e)}};var Xn=require("obsidian"),Wu=class extends Xn.MarkdownRenderChild{plugin;content;ctx;jsExecution;constructor(e,n,r,i){super(e),this.plugin=n,this.content=r,this.ctx=i}getExecutionFile(){if(!this.ctx.sourcePath)return;let e=this.plugin.app.vault.getAbstractFileByPath(this.ctx.sourcePath);if(e&&e instanceof Xn.TFile)return e}buildExecutionContext(){let e=this.getExecutionFile(),n=e?this.plugin.app.metadataCache.getFileCache(e)??void 0:void 0;return{executionSource:"markdown-code-block",file:e,metadata:n,block:void 0}}async tryRun(e){return this.plugin.jsEngine.execute({code:this.content,context:e,contextOverrides:{},component:this,container:this.containerEl})}async renderResults(e){let n=this.buildExecutionContext();this.jsExecution=await this.tryRun(n);let r=this.jsExecution.result;await new Ei(this.plugin,e,this.ctx.sourcePath,this).render(r)}renderExecutionStats(e){let n=new Xn.Menu;n.addItem(i=>{i.setTitle("Info"),i.setIcon("info"),i.onClick(()=>{this.jsExecution?.openStatsModal()})}),n.addItem(i=>{i.setTitle("Rerun"),i.setIcon("rotate-ccw"),i.onClick(()=>{this.render()})});let r=e.createDiv();r.addClass("js-engine-execution-stats-button"),r.addEventListener("click",i=>{n.showAtMouseEvent(i)}),(0,Xn.setIcon)(r,"info")}async render(){this.containerEl.empty(),this.containerEl.hasClass("js-engine-execution-render-child")||this.containerEl.addClass("js-engine-execution-render-child");try{await this.renderResults(this.containerEl),this.renderExecutionStats(this.containerEl)}catch(e){this.containerEl.innerText=e instanceof Error?e.stack?.toString()??"":e,this.containerEl.addClass("mod-warning")}}onload(){this.render()}onunload(){}};var Uy=ie('<div class="modal-button-container"><!></div>');function Al(t,e){be(e,!0);var n=Uy(),r=Y(n);fo(r,()=>e.children),q(n),W(t,n),we()}var Hd=require("obsidian");var Wd=require("obsidian"),qy=ie('<div class="js-engine-icon-wrapper"></div>');function $l(t,e){be(e,!0);let n=jt(e,"iconName",3,""),r=vn(void 0);oi(()=>j(r)?(0,Wd.setIcon)(j(r),n()):void 0);var i=ao(),o=Ye(i);Qe(o,()=>n().length>0,s=>{var a=qy();mo(a,u=>ue(r,u),()=>j(r)),W(s,a)}),W(t,i),we()}var Vy=ie('<div class="js-engine-list-item"><span> </span> <!></div>'),Zy=ie("<!> <!>",1),Jy=ie('<div><div class="js-engine-list"></div> <!> <!></div>');function Il(t,e){be(e,!0);let n=Ge(e.startupScripts);function r(){new Vi(e.modal.plugin,async p=>{n.push(p.path)}).open()}function i(){e.modal.save(co(n)),e.modal.close()}function o(){e.modal.close()}function s(p,d){let y=new Hd.Menu;d>0&&y.addItem(v=>{v.setTitle("Move up"),v.setIcon("arrow-up"),v.onClick(()=>{let b=n[d-1];n[d-1]=n[d],n[d]=b})}),d<n.length-1&&y.addItem(v=>{v.setTitle("Move down"),v.setIcon("arrow-down"),v.onClick(()=>{let b=n[d+1];n[d+1]=n[d],n[d]=b})}),y.addItem(v=>{v.setTitle("Remove"),v.setIcon("x"),v.setWarning(!0),v.onClick(()=>{n.splice(d,1)})}),y.showAtMouseEvent(p)}var a=Jy(),u=Y(a);tn(u,21,()=>n,vr,(p,d,y)=>{var v=Vy(),b=Y(v),$=Y(b,!0);q(b);var w=te(b,2);vt(w,{onclick:E=>s(E,y),get variant(){return"plain"},tooltip:"Edit",children:(E,N)=>{$l(E,{iconName:"ellipsis-vertical"})},$$slots:{default:!0}}),q(v),de(()=>ye($,j(d))),W(p,v)}),q(u);var c=te(u,2);vt(c,{onclick:()=>r(),children:(p,d)=>{Nt();var y=Lt("Add startup script");W(p,y)},$$slots:{default:!0}});var l=te(c,2);Al(l,{children:(p,d)=>{var y=Zy(),v=Ye(y);vt(v,{onclick:()=>i(),get variant(){return"primary"},tooltip:"Save changes",children:($,w)=>{Nt();var E=Lt("Save");W($,E)},$$slots:{default:!0}});var b=te(v,2);vt(b,{onclick:()=>o(),tooltip:"Revert changes",children:($,w)=>{Nt();var E=Lt("Cancel");W($,E)},$$slots:{default:!0}}),W(p,y)},$$slots:{default:!0}}),q(a),W(t,a),we()}var Gd=require("obsidian");var Hu=class extends Gd.Modal{plugin;component;constructor(e){super(e.app),this.plugin=e}onOpen(){this.contentEl.empty(),this.component=Be(Il,{target:this.contentEl,props:{modal:this,startupScripts:this.plugin.settings.startupScripts??[]}})}onClose(){this.component&&Ke(this.component)}save(e){this.plugin.settings.startupScripts=e,this.plugin.saveSettings()}};var Yu=require("obsidian"),Yd={startupScripts:[]},Gu=class extends Yu.PluginSettingTab{plugin;constructor(e,n){super(e,n),this.plugin=n}display(){this.containerEl.empty(),this.plugin.settings&&new Yu.Setting(this.containerEl).setName("Startup scripts").addButton(e=>{e.setButtonText("Manage").onClick(()=>{new Hu(this.plugin).open()})})}};var Kd=require("obsidian"),Ku=class extends Kd.Plugin{settings;messageManager;jsEngine;api;validators;constructor(e,n){super(e,n),this.validators=new Ls,this.messageManager=new As(this.app,this),this.jsEngine=new Zu(this.app,this),this.api=new zn(this.app,this,Qr.create("PLUGIN"))}async onload(){await this.loadSettings(),this.addSettingTab(new Gu(this.app,this)),this.messageManager.initStatusBarItem(),this.registerMarkdownCodeBlockProcessor("js-engine",(e,n,r)=>{r.addChild(new Wu(n,this,e,r))}),this.addCommand({id:"execute-js-file",name:"Execute JS File",callback:()=>{new Vi(this,async e=>{await this.api.internal.executeFileSimple(e.path)}).open()}}),this.app.workspace.onLayoutReady(()=>{this.api.internal.executeStartupScripts()}),await this.registerCodeMirrorMode()}onunload(){}async loadSettings(){let e=await this.loadData();this.settings=Object.assign({},Yd,e)}async saveSettings(){await this.saveData(this.settings)}async registerCodeMirrorMode(){window.CodeMirror.defineMode("js-engine",e=>({startState:()=>Gi.startState?.(4),blankLine:r=>Gi.blankLine?.(r,4),copyState:r=>Gi.startState?.(4),token:(r,i)=>`line-HyperMD-codeblock ${Gi.token?.(r,i)}`}))}};
